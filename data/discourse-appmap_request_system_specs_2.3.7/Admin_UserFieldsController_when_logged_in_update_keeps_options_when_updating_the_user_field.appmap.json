{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::UserFieldsController when logged in #update keeps options when updating the user field","app":"Discourse","feature":"Admin::UserFieldsController when logged in","feature_group":"Admin user fields","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/models","type":"package","children":[{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"UserFieldsController","type":"class","children":[{"name":"update","type":"function","location":"app/controllers/admin/user_fields_controller.rb:26","static":false},{"name":"columns","type":"function","location":"app/controllers/admin/user_fields_controller.rb:5","static":true}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"UserFieldSerializer","type":"class","children":[{"name":"include_options?","type":"function","location":"app/serializers/user_field_serializer.rb:19","static":false},{"name":"options","type":"function","location":"app/serializers/user_field_serializer.rb:15","static":false}]}]}],"events":[{"id":13989,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" WHERE \"user_fields\".\"id\" = 4 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":13990,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":13989,"elapsed":0.000911},{"id":13991,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733082880,"value":"#<TestCurrentUserProvider:0x00007f81ccf5be00>"}},{"id":13992,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097733078140,"value":"eaf10fadbb776d5423679568699069fd","kind":"req"},{"name":"opts","class":"Hash","object_id":70097733077760,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":13993,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097733078140,"value":"eaf10fadbb776d5423679568699069fd","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":13994,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":13995,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":13994,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":13996,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":13993,"elapsed":0.000127,"return_value":{"class":"String","value":"JXgEdQCgF7u6tedOKGGfbW8AQMo=","object_id":70097733114280}},{"id":13997,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'JXgEdQCgF7u6tedOKGGfbW8AQMo=' OR\n                          prev_auth_token = 'JXgEdQCgF7u6tedOKGGfbW8AQMo=') AND rotated_at > '2020-03-29 18:49:45.461734') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":13998,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":13997,"elapsed":0.001062},{"id":13999,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:49:45.465974' WHERE \"user_auth_tokens\".\"id\" = 259 AND \"user_auth_tokens\".\"auth_token\" = 'JXgEdQCgF7u6tedOKGGfbW8AQMo='","database_type":"postgres","server_version":110006}},{"id":14000,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":13999,"elapsed":0.001097},{"id":14001,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097612230080,"value":"{:action=>\"seen token\", :user_auth_token_id=>259, :user_id=>32, :auth_token=>\"JXgEdQCgF7u6tedOKGGfbW","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":14002,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":14003,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14002,"elapsed":0.00084},{"id":14004,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 259, 32, '127.0.0.1/32', 'JXgEdQCgF7u6tedOKGGfbW8AQMo=', '2020-05-28 18:49:45.469938') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":14005,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14004,"elapsed":0.001077},{"id":14006,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":14007,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14006,"elapsed":0.000745},{"id":14008,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":14001,"elapsed":0.011414,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81be8d8f50>","object_id":70097612228520}},{"id":14009,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":13992,"elapsed":0.01976,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be04a8c0>","object_id":70097607742560}},{"id":14010,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 32 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14011,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14010,"elapsed":0.000981},{"id":14012,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14013,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":14012,"elapsed":1.5e-05},{"id":14014,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733082880,"value":"#<TestCurrentUserProvider:0x00007f81ccf5be00>"}},{"id":14015,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":14014,"elapsed":0.000868,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14016,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14017,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":14016,"elapsed":0.000904},{"id":14018,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097827880340,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14019,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 32","database_type":"postgres","server_version":110006}},{"id":14020,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14019,"elapsed":0.001145},{"id":14021,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":14018,"elapsed":0.003633,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14022,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":13991,"elapsed":0.029924,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14023,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733082880,"value":"#<TestCurrentUserProvider:0x00007f81ccf5be00>"}},{"id":14024,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14023,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14025,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14026,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":14025,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14027,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608299660,"value":"#<TestCurrentUserProvider:0x00007f81be15a918>"}},{"id":14028,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14027,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14029,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608299660,"value":"#<TestCurrentUserProvider:0x00007f81be15a918>"}},{"id":14030,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14029,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14031,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14032,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":14031,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14033,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608294440,"value":"#<TestCurrentUserProvider:0x00007f81be158050>"}},{"id":14034,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14033,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14035,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608294440,"value":"#<TestCurrentUserProvider:0x00007f81be158050>"}},{"id":14036,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14035,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14037,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14038,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":14037,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14039,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14040,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14039,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":14041,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14042,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14041,"elapsed":1.0e-05},{"id":14043,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/admin/customize/user_fields/4.json"},"message":[{"name":"user_field","class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"name\"=>\"fraggle\", \"field_type\"=>\"dropdown\", \"description\"=>\"muppet\", \"options\"=>[\"hello\", \"hello\",","object_id":70097608330780},{"name":"controller","class":"String","value":"admin/user_fields","object_id":70097795196260},{"name":"action","class":"String","value":"update","object_id":70097708598720},{"name":"id","class":"String","value":"4","object_id":70097733058640},{"name":"format","class":"String","value":"json","object_id":70097733058620}]},{"id":14044,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14045,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14046,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14047,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14048,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14047,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14049,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":14046,"elapsed":0.000114,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81be171a00>","object_id":70097608346880}},{"id":14050,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097608346880,"value":"#<Guardian:0x00007f81be171a00>"}},{"id":14051,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":14050,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14052,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":14045,"elapsed":0.000332},{"id":14053,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14054,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14053,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14055,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 32 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14056,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14055,"elapsed":0.000977},{"id":14057,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14058,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":14057,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81be171a00>","object_id":70097608346880}},{"id":14059,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097587819640,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097608346880,"value":"#<Guardian:0x00007f81be171a00>"}},{"id":14060,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":14059,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14061,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":14044,"elapsed":0.004904,"return_value":{"class":"Array","value":"[2]","object_id":70097587819640}},{"id":14062,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14063,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14064,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14063,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14065,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14066,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14065,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14067,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14068,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14067,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14069,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":14062,"elapsed":0.000349,"return_value":{"class":"String","value":"user_fields/update","object_id":70097799377100}},{"id":14070,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14071,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14072,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14071,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14073,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":14070,"elapsed":0.0001},{"id":14074,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14075,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14076,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14075,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14077,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14078,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14077,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14079,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14080,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":14079,"elapsed":1.0e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":14081,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14082,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14081,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":14083,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14084,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14083,"elapsed":8.0e-06},{"id":14085,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14086,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14085,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":14087,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14088,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14087,"elapsed":6.0e-06},{"id":14089,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":14074,"elapsed":0.000649,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097799411020}},{"id":14090,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14091,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":14090,"elapsed":7.0e-06},{"id":14092,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14093,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14094,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14093,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14095,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":14092,"elapsed":8.9e-05},{"id":14096,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14097,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14096,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14098,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14099,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14098,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14100,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14101,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14100,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14102,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779592920,"value":"Admin::UserFieldsController"}},{"id":14103,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":14102,"elapsed":3.0e-06},{"id":14104,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14105,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":14104,"elapsed":7.0e-06},{"id":14106,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14107,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14108,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14107,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14109,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":14106,"elapsed":8.9e-05},{"id":14110,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14111,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14112,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14111,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14113,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":14110,"elapsed":8.7e-05},{"id":14114,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14115,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14114,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14116,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14117,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14116,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14118,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>"}},{"id":14119,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":14118,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14120,"event":"call","defined_class":"Admin::UserFieldsController","method_id":"update","path":"app/controllers/admin/user_fields_controller.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14121,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" WHERE \"user_fields\".\"id\" = 4 ORDER BY \"user_fields\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14122,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14121,"elapsed":0.000929},{"id":14123,"event":"call","defined_class":"Admin::UserFieldsController","method_id":"columns","path":"app/controllers/admin/user_fields_controller.rb","lineno":5,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779592920,"value":"Admin::UserFieldsController"}},{"id":14124,"event":"return","defined_class":"Admin::UserFieldsController","method_id":"columns","path":"app/controllers/admin/user_fields_controller.rb","lineno":5,"static":true,"thread_id":70097708498960,"parent_id":14123,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[:name, :field_type, :editable, :description, :required, :show_on_profile, :show_on_user_card, :posi","object_id":70097587848680}},{"id":14125,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14126,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14125,"elapsed":0.000961},{"id":14127,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":14128,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14127,"elapsed":0.000813},{"id":14129,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_fields\" SET \"name\" = 'fraggle', \"field_type\" = 'dropdown', \"description\" = 'muppet', \"position\" = 1, \"updated_at\" = '2020-05-28 18:49:45.509478' WHERE \"user_fields\".\"id\" = 4","database_type":"postgres","server_version":110006}},{"id":14130,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14129,"elapsed":0.000928},{"id":14131,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_field_options\" (\"user_field_id\", \"value\", \"created_at\", \"updated_at\") VALUES (4, 'hello', '2020-05-28 18:49:45.517612', '2020-05-28 18:49:45.517612') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":14132,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14131,"elapsed":0.000932},{"id":14133,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_field_options\" (\"user_field_id\", \"value\", \"created_at\", \"updated_at\") VALUES (4, 'world', '2020-05-28 18:49:45.522204', '2020-05-28 18:49:45.522204') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":14134,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14133,"elapsed":0.000938},{"id":14135,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":14136,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":14135,"elapsed":6.4e-05,"return_value":{"class":"Integer","value":"466","object_id":933}},{"id":14137,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":14138,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14137,"elapsed":0.000814},{"id":14139,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"UserField","object_id":70097587849600,"value":"#<UserField:0x00007f81bba59300>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568675420,"value":"UserFieldSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568672000,"value":"{:root=>\"user_field\"}","kind":"opt"}],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14140,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"UserField","object_id":70097587849600,"value":"#<UserField:0x00007f81bba59300>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568675420,"value":"UserFieldSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568672000,"value":"{:root=>\"user_field\"}","kind":"opt"}],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14141,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14142,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":14141,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81be171a00>","object_id":70097608346880}},{"id":14143,"event":"call","defined_class":"UserFieldSerializer","method_id":"include_options?","path":"app/serializers/user_field_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserFieldSerializer","object_id":70097568690620,"value":"#<UserFieldSerializer:0x00007f81b95ce378>"}},{"id":14144,"event":"call","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserFieldSerializer","object_id":70097568690620,"value":"#<UserFieldSerializer:0x00007f81b95ce378>"}},{"id":14145,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_field_options\".\"value\" FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14146,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14145,"elapsed":0.00092},{"id":14147,"event":"return","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":14144,"elapsed":0.0037,"return_value":{"class":"Array","value":"[\"hello\", \"world\"]","object_id":70097800229420}},{"id":14148,"event":"return","defined_class":"UserFieldSerializer","method_id":"include_options?","path":"app/serializers/user_field_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":14143,"elapsed":0.003819,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14149,"event":"call","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserFieldSerializer","object_id":70097568690620,"value":"#<UserFieldSerializer:0x00007f81b95ce378>"}},{"id":14150,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_field_options\".\"value\" FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14151,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14150,"elapsed":0.000871},{"id":14152,"event":"return","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":14149,"elapsed":0.00339,"return_value":{"class":"Array","value":"[\"hello\", \"world\"]","object_id":70097594542540}},{"id":14153,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":14140,"elapsed":0.007603,"return_value":{"class":"Hash","value":"{\"user_field\"=>{:id=>4, :name=>\"fraggle\", :description=>\"muppet\", :field_type=>\"dropdown\", :editable","object_id":70097568690360}},{"id":14154,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097568690360,"value":"{\"user_field\"=>{:id=>4, :name=>\"fraggle\", :description=>\"muppet\", :field_type=>\"dropdown\", :editable","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568672000,"value":"{:root=>\"user_field\"}","kind":"opt"}],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14155,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":14154,"elapsed":0.000129,"return_value":{"class":"String","value":"{\"user_field\":{\"id\":4,\"name\":\"fraggle\",\"description\":\"muppet\",\"field_type\":\"dropdown\",\"editable\":tru","object_id":70097594554460}},{"id":14156,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":14139,"elapsed":0.007976,"return_value":{"class":"String","value":"{\"user_field\":{\"id\":4,\"name\":\"fraggle\",\"description\":\"muppet\",\"field_type\":\"dropdown\",\"editable\":tru","object_id":70097594554460}},{"id":14157,"event":"return","defined_class":"Admin::UserFieldsController","method_id":"update","path":"app/controllers/admin/user_fields_controller.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":14120,"elapsed":0.037403,"return_value":{"class":"String","value":"{\"user_field\":{\"id\":4,\"name\":\"fraggle\",\"description\":\"muppet\",\"field_type\":\"dropdown\",\"editable\":tru","object_id":70097594554460}},{"id":14158,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14159,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":14158,"elapsed":7.0e-06},{"id":14160,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14161,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":14160,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097588615680}},{"id":14162,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097608312980,"value":"#<Admin::UserFieldsController:0x00007f81be161128>"}},{"id":14163,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14164,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14163,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14165,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097827860160,"value":"#<User:0x00007f81d8421d80>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097798855240,"value":"#<ActionDispatch::Request::Session:0x00007f81d4ccf490>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097587819800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bba4aa30>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14166,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14167,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14168,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14167,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14169,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":14166,"elapsed":8.8e-05},{"id":14170,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14171,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097608348720,"value":"#<TestCurrentUserProvider:0x00007f81be172860>"}},{"id":14172,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14171,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8421d80>","object_id":70097827860160}},{"id":14173,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":14170,"elapsed":8.7e-05},{"id":14174,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":14165,"elapsed":0.000336},{"id":14175,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":14162,"elapsed":0.000534},{"id":14176,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":14043,"elapsed":0.047055,"http_server_response":{"status":200}},{"id":14177,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097588648640,"value":"#<TestCurrentUserProvider:0x00007f81bbbdf580>"}},{"id":14178,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":14177,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14179,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":14180,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":14179,"elapsed":5.0e-06},{"id":14181,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":14182,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":14181,"elapsed":3.0e-06},{"id":14183,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" WHERE \"user_fields\".\"id\" = 4 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14184,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14183,"elapsed":0.000886},{"id":14185,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14186,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14185,"elapsed":0.0009},{"id":14187,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614248060,"value":"#<TestCurrentUserProvider:0x00007f81becb30f8>"}},{"id":14188,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097614244100,"value":"eaf10fadbb776d5423679568699069fd","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614243640,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":14189,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097614244100,"value":"eaf10fadbb776d5423679568699069fd","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":14190,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":14191,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":14190,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":14192,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":14189,"elapsed":0.000106,"return_value":{"class":"String","value":"JXgEdQCgF7u6tedOKGGfbW8AQMo=","object_id":70097614262980}},{"id":14193,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'JXgEdQCgF7u6tedOKGGfbW8AQMo=' OR\n                          prev_auth_token = 'JXgEdQCgF7u6tedOKGGfbW8AQMo=') AND rotated_at > '2020-03-29 18:49:45.548797') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14194,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14193,"elapsed":0.000937},{"id":14195,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":14188,"elapsed":0.003849,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81b970f868>","object_id":70097569348660}},{"id":14196,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 32 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14197,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14196,"elapsed":0.001034},{"id":14198,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14199,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":14198,"elapsed":1.7e-05},{"id":14200,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614248060,"value":"#<TestCurrentUserProvider:0x00007f81becb30f8>"}},{"id":14201,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":14200,"elapsed":0.000884,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14202,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14203,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":14202,"elapsed":0.000752},{"id":14204,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097829390920,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14205,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":14204,"elapsed":3.3e-05},{"id":14206,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14187,"elapsed":0.010187,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14207,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614248060,"value":"#<TestCurrentUserProvider:0x00007f81becb30f8>"}},{"id":14208,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14207,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14209,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14210,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":14209,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14211,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829407900,"value":"#<TestCurrentUserProvider:0x00007f81d8715938>"}},{"id":14212,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14211,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14213,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829407900,"value":"#<TestCurrentUserProvider:0x00007f81d8715938>"}},{"id":14214,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14213,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14215,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14216,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":14215,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14217,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829428140,"value":"#<TestCurrentUserProvider:0x00007f81d871f758>"}},{"id":14218,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14217,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14219,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829428140,"value":"#<TestCurrentUserProvider:0x00007f81d871f758>"}},{"id":14220,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14219,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14221,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14222,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":14221,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14223,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14224,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14223,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":14225,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14226,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14225,"elapsed":9.0e-06},{"id":14227,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/admin/customize/user_fields/4.json"},"message":[{"name":"user_field","class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"name\"=>\"fraggle\", \"field_type\"=>\"dropdown\", \"description\"=>\"muppet\", \"position\"=>\"2\"}","object_id":70097829442440},{"name":"controller","class":"String","value":"admin/user_fields","object_id":70097795196260},{"name":"action","class":"String","value":"update","object_id":70097708598720},{"name":"id","class":"String","value":"4","object_id":70097614248360},{"name":"format","class":"String","value":"json","object_id":70097614248320}]},{"id":14228,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14229,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14230,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14231,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14232,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14231,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14233,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":14230,"elapsed":0.000104,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d872f428>","object_id":70097829460500}},{"id":14234,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097829460500,"value":"#<Guardian:0x00007f81d872f428>"}},{"id":14235,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":14234,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14236,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":14229,"elapsed":0.000311},{"id":14237,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14238,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14237,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14239,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 32 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14240,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14239,"elapsed":0.001434},{"id":14241,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14242,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":14241,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d872f428>","object_id":70097829460500}},{"id":14243,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097588974960,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097829460500,"value":"#<Guardian:0x00007f81d872f428>"}},{"id":14244,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":14243,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14245,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":14228,"elapsed":0.005474,"return_value":{"class":"Array","value":"[2]","object_id":70097588974960}},{"id":14246,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14247,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14248,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14247,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14249,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14250,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14249,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14251,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14252,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14251,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14253,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":14246,"elapsed":0.000325,"return_value":{"class":"String","value":"user_fields/update","object_id":70097767008260}},{"id":14254,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14255,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14256,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14255,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14257,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":14254,"elapsed":0.000101},{"id":14258,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14259,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14260,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14259,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14261,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14262,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14261,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14263,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14264,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":14263,"elapsed":6.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":14265,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14266,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14265,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":14267,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14268,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14267,"elapsed":9.0e-06},{"id":14269,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14270,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14269,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":14271,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":14272,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":14271,"elapsed":6.0e-06},{"id":14273,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":14258,"elapsed":0.00065,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097589005100}},{"id":14274,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14275,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":14274,"elapsed":7.0e-06},{"id":14276,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14277,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14278,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14277,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14279,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":14276,"elapsed":9.1e-05},{"id":14280,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14281,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14280,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14282,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14283,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14282,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14284,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14285,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14284,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14286,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779592920,"value":"Admin::UserFieldsController"}},{"id":14287,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":14286,"elapsed":3.0e-06},{"id":14288,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14289,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":14288,"elapsed":6.0e-06},{"id":14290,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14291,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14292,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14291,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14293,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":14290,"elapsed":9.0e-05},{"id":14294,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14295,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14296,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14295,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14297,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":14294,"elapsed":8.8e-05},{"id":14298,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14299,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14298,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14300,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14301,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14300,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14302,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>"}},{"id":14303,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":14302,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14304,"event":"call","defined_class":"Admin::UserFieldsController","method_id":"update","path":"app/controllers/admin/user_fields_controller.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14305,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" WHERE \"user_fields\".\"id\" = 4 ORDER BY \"user_fields\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14306,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14305,"elapsed":0.001168},{"id":14307,"event":"call","defined_class":"Admin::UserFieldsController","method_id":"columns","path":"app/controllers/admin/user_fields_controller.rb","lineno":5,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779592920,"value":"Admin::UserFieldsController"}},{"id":14308,"event":"return","defined_class":"Admin::UserFieldsController","method_id":"columns","path":"app/controllers/admin/user_fields_controller.rb","lineno":5,"static":true,"thread_id":70097708498960,"parent_id":14307,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[:name, :field_type, :editable, :description, :required, :show_on_profile, :show_on_user_card, :posi","object_id":70097614542680}},{"id":14309,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":14310,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14309,"elapsed":0.000911},{"id":14311,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_fields\" SET \"position\" = 2, \"updated_at\" = '2020-05-28 18:49:45.573719' WHERE \"user_fields\".\"id\" = 4","database_type":"postgres","server_version":110006}},{"id":14312,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14311,"elapsed":0.000982},{"id":14313,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":14314,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":14313,"elapsed":6.4e-05,"return_value":{"class":"Integer","value":"467","object_id":935}},{"id":14315,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":14316,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14315,"elapsed":0.000802},{"id":14317,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"UserField","object_id":70097614543900,"value":"#<UserField:0x00007f81bed43838>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568675420,"value":"UserFieldSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097615647620,"value":"{:root=>\"user_field\"}","kind":"opt"}],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14318,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"UserField","object_id":70097614543900,"value":"#<UserField:0x00007f81bed43838>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568675420,"value":"UserFieldSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097615647620,"value":"{:root=>\"user_field\"}","kind":"opt"}],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14319,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14320,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":14319,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d872f428>","object_id":70097829460500}},{"id":14321,"event":"call","defined_class":"UserFieldSerializer","method_id":"include_options?","path":"app/serializers/user_field_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserFieldSerializer","object_id":70097615666260,"value":"#<UserFieldSerializer:0x00007f81bef678a8>"}},{"id":14322,"event":"call","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserFieldSerializer","object_id":70097615666260,"value":"#<UserFieldSerializer:0x00007f81bef678a8>"}},{"id":14323,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_field_options\".\"value\" FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14324,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14323,"elapsed":0.001014},{"id":14325,"event":"return","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":14322,"elapsed":0.003874,"return_value":{"class":"Array","value":"[\"hello\", \"world\"]","object_id":70097624656400}},{"id":14326,"event":"return","defined_class":"UserFieldSerializer","method_id":"include_options?","path":"app/serializers/user_field_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":14321,"elapsed":0.004007,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14327,"event":"call","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserFieldSerializer","object_id":70097615666260,"value":"#<UserFieldSerializer:0x00007f81bef678a8>"}},{"id":14328,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_field_options\".\"value\" FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14329,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14328,"elapsed":0.000949},{"id":14330,"event":"return","defined_class":"UserFieldSerializer","method_id":"options","path":"app/serializers/user_field_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":14327,"elapsed":0.003508,"return_value":{"class":"Array","value":"[\"hello\", \"world\"]","object_id":70097829775620}},{"id":14331,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":14318,"elapsed":0.007907,"return_value":{"class":"Hash","value":"{\"user_field\"=>{:id=>4, :name=>\"fraggle\", :description=>\"muppet\", :field_type=>\"dropdown\", :editable","object_id":70097615666000}},{"id":14332,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097615666000,"value":"{\"user_field\"=>{:id=>4, :name=>\"fraggle\", :description=>\"muppet\", :field_type=>\"dropdown\", :editable","kind":"req"},{"name":"opts","class":"Hash","object_id":70097615647620,"value":"{:root=>\"user_field\"}","kind":"opt"}],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14333,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":14332,"elapsed":0.000118,"return_value":{"class":"String","value":"{\"user_field\":{\"id\":4,\"name\":\"fraggle\",\"description\":\"muppet\",\"field_type\":\"dropdown\",\"editable\":tru","object_id":70097829796320}},{"id":14334,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":14317,"elapsed":0.008279,"return_value":{"class":"String","value":"{\"user_field\":{\"id\":4,\"name\":\"fraggle\",\"description\":\"muppet\",\"field_type\":\"dropdown\",\"editable\":tru","object_id":70097829796320}},{"id":14335,"event":"return","defined_class":"Admin::UserFieldsController","method_id":"update","path":"app/controllers/admin/user_fields_controller.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":14304,"elapsed":0.024618,"return_value":{"class":"String","value":"{\"user_field\":{\"id\":4,\"name\":\"fraggle\",\"description\":\"muppet\",\"field_type\":\"dropdown\",\"editable\":tru","object_id":70097829796320}},{"id":14336,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14337,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":14336,"elapsed":7.0e-06},{"id":14338,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14339,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":14338,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097829791760}},{"id":14340,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UserFieldsController","object_id":70097829423320,"value":"#<Admin::UserFieldsController:0x00007f81d871d1b0>"}},{"id":14341,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14342,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14341,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14343,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097829394460,"value":"#<User:0x00007f81d870f038>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097614179000,"value":"#<ActionDispatch::Request::Session:0x00007f81bec91570>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097588975220,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bbc7ece8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14344,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14345,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14346,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14345,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14347,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":14344,"elapsed":8.7e-05},{"id":14348,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14349,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829437460,"value":"#<TestCurrentUserProvider:0x00007f81d8724028>"}},{"id":14350,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":14349,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d870f038>","object_id":70097829394460}},{"id":14351,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":14348,"elapsed":8.6e-05},{"id":14352,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":14343,"elapsed":0.00033},{"id":14353,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":14340,"elapsed":0.000517},{"id":14354,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":14227,"elapsed":0.034754,"http_server_response":{"status":200}},{"id":14355,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829829060,"value":"#<TestCurrentUserProvider:0x00007f81d87e3388>"}},{"id":14356,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":14355,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":14357,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":14358,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":14357,"elapsed":5.0e-06},{"id":14359,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":14360,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":14359,"elapsed":4.0e-06},{"id":14361,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" WHERE \"user_fields\".\"id\" = 4 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":14362,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14361,"elapsed":0.001039},{"id":14363,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_field_options\" WHERE \"user_field_options\".\"user_field_id\" = 4","database_type":"postgres","server_version":110006}},{"id":14364,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":14363,"elapsed":0.000895}]}