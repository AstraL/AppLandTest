{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::EmailController #test with SiteSetting.disable_emails bypasses disable when setting is \"yes\"","app":"Discourse","feature":"Admin::EmailController #test","feature_group":"Admin email","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/validators","type":"package","children":[{"name":"RegexSettingValidation","type":"class","children":[{"name":"initialize_regex_opts","type":"function","location":"lib/validators/regex_setting_validation.rb:5","static":false},{"name":"regex_match?","type":"function","location":"lib/validators/regex_setting_validation.rb:10","static":false}]},{"name":"StringSettingValidator","type":"class","children":[{"name":"valid_value?","type":"function","location":"lib/validators/string_setting_validator.rb:12","static":false}]}]},{"name":"app/models","type":"package","children":[{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"User","type":"class","children":[{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"values","type":"function","location":"app/models/locale_site_setting.rb:9","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"Upload","type":"class","children":[{"name":"to_s","type":"function","location":"app/models/upload.rb:50","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"available_locales","type":"function","location":"app/models/site_setting.rb:32","static":true},{"name":"require_invite_code","type":"function","location":"app/models/site_setting.rb:176","static":true},{"name":"site_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"site_logo_small_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_mobile_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_favicon_url","type":"function","location":"app/models/site_setting.rb:201","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"s3_cdn_url","type":"function","location":"app/models/site_setting.rb:130","static":true},{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"EmailStyle","type":"class","children":[{"name":"html","type":"function","location":"app/models/email_style.rb:12","static":false},{"name":"default_html","type":"function","location":"app/models/email_style.rb:24","static":false},{"name":"default_template","type":"function","location":"app/models/email_style.rb:32","static":true},{"name":"compiled_css","type":"function","location":"app/models/email_style.rb:20","static":false},{"name":"css","type":"function","location":"app/models/email_style.rb:16","static":false}]},{"name":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","type":"class","children":[{"name":"secure_media_url?","type":"function","location":"app/models/upload.rb:150","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"EmailController","type":"class","children":[{"name":"test","type":"function","location":"app/controllers/admin/email_controller.rb:10","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"Sender","type":"class","children":[{"name":"send","type":"function","location":"lib/email/sender.rb:26","static":false},{"name":"to_address","type":"function","location":"lib/email/sender.rb:222","static":false},{"name":"host_for","type":"function","location":"lib/email/sender.rb:230","static":true},{"name":"bounceable_reply_address?","type":"function","location":"lib/email/sender.rb:366","static":true}]},{"name":"BuildEmailHelper","type":"class","children":[{"name":"build_email","type":"function","location":"lib/email/build_email_helper.rb:5","static":false}]},{"name":"MessageBuilder","type":"class","children":[{"name":"header_args","type":"function","location":"lib/email/message_builder.rb:139","static":false},{"name":"custom_headers","type":"function","location":"lib/email/message_builder.rb:162","static":true},{"name":"build_args","type":"function","location":"lib/email/message_builder.rb:129","static":false},{"name":"subject","type":"function","location":"lib/email/message_builder.rb:53","static":false},{"name":"body","type":"function","location":"lib/email/message_builder.rb:112","static":false},{"name":"html_part","type":"function","location":"lib/email/message_builder.rb:76","static":false}]},{"name":"site_title","type":"function","location":"lib/email.rb:38","static":true},{"name":"cleanup_alias","type":"function","location":"lib/email.rb:17","static":true},{"name":"Renderer","type":"class","children":[{"name":"html","type":"function","location":"lib/email/renderer.rb:17","static":false},{"name":"text","type":"function","location":"lib/email/renderer.rb:11","static":false}]},{"name":"Styles","type":"class","children":[{"name":"format_basic","type":"function","location":"lib/email/styles.rb:58","static":false},{"name":"format_html","type":"function","location":"lib/email/styles.rb:172","static":false},{"name":"add_styles","type":"function","location":"lib/email/styles.rb:26","static":false},{"name":"onebox_styles","type":"function","location":"lib/email/styles.rb:112","static":false},{"name":"plugin_styles","type":"function","location":"lib/email/styles.rb:237","static":false},{"name":"format_custom","type":"function","location":"lib/email/styles.rb:230","static":false},{"name":"custom_styles","type":"function","location":"lib/email/styles.rb:36","static":false},{"name":"to_html","type":"function","location":"lib/email/styles.rb:241","static":false},{"name":"include_body?","type":"function","location":"lib/email/styles.rb:248","static":false}]}]}]},{"name":"app/mailers","type":"package","children":[{"name":"TestMailer","type":"class","children":[{"name":"send_test","type":"function","location":"app/mailers/test_mailer.rb:6","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"UserNotificationRenderer","type":"class","children":[{"name":"render","type":"function","location":"app/services/user_notification_renderer.rb:10","static":true}]}]},{"name":"app/helpers","type":"package","children":[{"name":"EmailHelper","type":"class","children":[{"name":"email_html_template","type":"function","location":"app/helpers/email_helper.rb:28","static":false}]}]}],"events":[{"id":1009439,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097703038880,"value":"{:name=>:disable_emails}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70097589118580,"value":"#<StringSettingValidator:0x00007f81bbcc4ce8>"}},{"id":1009440,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009439,"elapsed":8.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70097724330800}},{"id":1009441,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097701114420,"value":"yes","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097589118580,"value":"#<StringSettingValidator:0x00007f81bbcc4ce8>"}},{"id":1009442,"event":"call","defined_class":"RegexSettingValidation","method_id":"regex_match?","path":"lib/validators/regex_setting_validation.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097701114420,"value":"yes","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097589118580,"value":"#<StringSettingValidator:0x00007f81bbcc4ce8>"}},{"id":1009443,"event":"return","defined_class":"RegexSettingValidation","method_id":"regex_match?","path":"lib/validators/regex_setting_validation.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1009442,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009444,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1009441,"elapsed":0.000198,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009445,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1009446,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1009445,"elapsed":0.000126,"return_value":{"class":"Integer","value":"13505","object_id":27011}},{"id":1009447,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829494700,"value":"#<User:0x00007f81d873ff58>"}},{"id":1009448,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1353 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009449,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009448,"elapsed":0.00153},{"id":1009450,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009447,"elapsed":0.0046,"return_value":{"class":"String","value":"anne1213@discourse.org","object_id":70097614527000}},{"id":1009451,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614590340,"value":"#<TestCurrentUserProvider:0x00007f81bed5a308>"}},{"id":1009452,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097614587580,"value":"b8befe4961ebbd449a6f9269e63826b2","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614587060,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1009453,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097614587580,"value":"b8befe4961ebbd449a6f9269e63826b2","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1009454,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009455,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1009454,"elapsed":1.0e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1009456,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1009453,"elapsed":0.000118,"return_value":{"class":"String","value":"7Qlo+MPqlTy5iHJ8vMNuiVOXay8=","object_id":70097614605300}},{"id":1009457,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = '7Qlo+MPqlTy5iHJ8vMNuiVOXay8=' OR\n                          prev_auth_token = '7Qlo+MPqlTy5iHJ8vMNuiVOXay8=') AND rotated_at > '2020-03-29 19:01:41.236182') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009458,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009457,"elapsed":0.001553},{"id":1009459,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:41.241863' WHERE \"user_auth_tokens\".\"id\" = 1164 AND \"user_auth_tokens\".\"auth_token\" = '7Qlo+MPqlTy5iHJ8vMNuiVOXay8='","database_type":"postgres","server_version":110006}},{"id":1009460,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009459,"elapsed":0.001874},{"id":1009461,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097615420560,"value":"{:action=>\"seen token\", :user_auth_token_id=>1164, :user_id=>1353, :auth_token=>\"7Qlo+MPqlTy5iHJ8vMN","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1009462,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009463,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009462,"elapsed":0.001195},{"id":1009464,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1164, 1353, '127.0.0.1/32', '7Qlo+MPqlTy5iHJ8vMNuiVOXay8=', '2020-05-28 19:01:41.247690') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009465,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009464,"elapsed":0.001326},{"id":1009466,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009467,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009466,"elapsed":0.001046},{"id":1009468,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009461,"elapsed":0.062767,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81beeee688>","object_id":70097615418180}},{"id":1009469,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1009452,"elapsed":0.074392,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bbe233c8>","object_id":70097589836260}},{"id":1009470,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009471,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009470,"elapsed":0.001706},{"id":1009472,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009473,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1009472,"elapsed":2.3e-05},{"id":1009474,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614590340,"value":"#<TestCurrentUserProvider:0x00007f81bed5a308>"}},{"id":1009475,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1009474,"elapsed":0.001209,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009476,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009477,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1009476,"elapsed":0.001159},{"id":1009478,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097795283380,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009479,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1353","database_type":"postgres","server_version":110006}},{"id":1009480,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009479,"elapsed":0.001459},{"id":1009481,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1009478,"elapsed":0.005768,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009482,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009451,"elapsed":0.090523,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009483,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614590340,"value":"#<TestCurrentUserProvider:0x00007f81bed5a308>"}},{"id":1009484,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009483,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009485,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009486,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1009485,"elapsed":2.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009487,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097802990140,"value":"#<TestCurrentUserProvider:0x00007f81d54b2478>"}},{"id":1009488,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009487,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009489,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097802990140,"value":"#<TestCurrentUserProvider:0x00007f81d54b2478>"}},{"id":1009490,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009489,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009491,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009492,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1009491,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009493,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009494,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009493,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009495,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009496,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009495,"elapsed":1.6e-05},{"id":1009497,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/admin/email/test.json"},"message":[{"name":"email_address","class":"String","value":"anne1213@discourse.org","object_id":70097614544040},{"name":"controller","class":"String","value":"admin/email","object_id":70097794312700},{"name":"action","class":"String","value":"test","object_id":70097712530580},{"name":"format","class":"String","value":"json","object_id":70097614590680}]},{"id":1009498,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009499,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009500,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009501,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009502,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009501,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009503,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1009500,"elapsed":0.000192,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d5549c60>","object_id":70097803300400}},{"id":1009504,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097803300400,"value":"#<Guardian:0x00007f81d5549c60>"}},{"id":1009505,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1009504,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009506,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1009499,"elapsed":0.000524},{"id":1009507,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009508,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009507,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009509,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009510,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009509,"elapsed":0.001419},{"id":1009511,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009512,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1009511,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d5549c60>","object_id":70097803300400}},{"id":1009513,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097732471160,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097803300400,"value":"#<Guardian:0x00007f81d5549c60>"}},{"id":1009514,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1009513,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009515,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1009498,"elapsed":0.007243,"return_value":{"class":"Array","value":"[2]","object_id":70097732471160}},{"id":1009516,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009517,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009518,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009517,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009519,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009520,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009519,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009521,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009522,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009521,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009523,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1009516,"elapsed":0.000439,"return_value":{"class":"String","value":"email/test","object_id":70097732607420}},{"id":1009524,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009525,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009526,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009525,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009527,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1009524,"elapsed":0.000137},{"id":1009528,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009529,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009530,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009529,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009531,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009532,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009531,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009533,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009534,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1009533,"elapsed":1.5e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1009535,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009536,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009535,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009537,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009538,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009537,"elapsed":1.2e-05},{"id":1009539,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009540,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009539,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009541,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009542,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009541,"elapsed":8.0e-06},{"id":1009543,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1009528,"elapsed":0.000878,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097720745200}},{"id":1009544,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009545,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1009544,"elapsed":9.0e-06},{"id":1009546,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009547,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009548,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009547,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009549,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009546,"elapsed":0.000121},{"id":1009550,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009551,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009550,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009552,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009553,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009552,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009554,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009555,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009554,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009556,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1009557,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1009556,"elapsed":1.0e-05},{"id":1009558,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009559,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1009558,"elapsed":1.2e-05},{"id":1009560,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009561,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009562,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009561,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009563,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009560,"elapsed":0.000127},{"id":1009564,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009565,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009566,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009565,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009567,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1009564,"elapsed":0.000201},{"id":1009568,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009569,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009568,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009570,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009571,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009570,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009572,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>"}},{"id":1009573,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1009572,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009574,"event":"call","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009575,"event":"call","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097795499260,"value":"#<Email::Sender:0x00007f81d46689f8>"}},{"id":1009576,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009577,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009576,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009578,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009579,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009578,"elapsed":1.0e-05},{"id":1009580,"event":"call","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"to_address","class":"String","object_id":70097614544040,"value":"anne1213@discourse.org","kind":"req"}],"receiver":{"class":"TestMailer","object_id":70097795573260,"value":"#<TestMailer:0x00007f81d468cc18>"}},{"id":1009581,"event":"call","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"builder_args","class":"String","object_id":70097614544040,"value":"anne1213@discourse.org","kind":"rest"}],"receiver":{"class":"TestMailer","object_id":70097795573260,"value":"#<TestMailer:0x00007f81d468cc18>"}},{"id":1009582,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097826278140,"value":"#<Email::MessageBuilder:0x00007f81d811d5f8>"}},{"id":1009583,"event":"call","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1009584,"event":"return","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parent_id":1009583,"elapsed":6.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097723392500}},{"id":1009585,"event":"call","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097723392500,"value":"Discourse","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1009586,"event":"return","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1009585,"elapsed":7.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097795623620}},{"id":1009587,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1009588,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1009587,"elapsed":8.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097813345740}},{"id":1009589,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1009582,"elapsed":0.000406,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097813352040}},{"id":1009590,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097826278140,"value":"#<Email::MessageBuilder:0x00007f81d811d5f8>"}},{"id":1009591,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1009592,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1009591,"elapsed":7.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097813538460}},{"id":1009593,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1009590,"elapsed":0.00014,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097813547920}},{"id":1009594,"event":"call","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097826278140,"value":"#<Email::MessageBuilder:0x00007f81d811d5f8>"}},{"id":1009595,"event":"call","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097826278140,"value":"#<Email::MessageBuilder:0x00007f81d811d5f8>"}},{"id":1009596,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'test_mailer.subject_template' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009597,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009596,"elapsed":0.001878},{"id":1009598,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009599,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009598,"elapsed":7.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009600,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009601,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009600,"elapsed":1.3e-05},{"id":1009602,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009603,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009602,"elapsed":4.0e-06},{"id":1009604,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009605,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009604,"elapsed":4.0e-06},{"id":1009606,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009607,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009606,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009608,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009609,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009608,"elapsed":9.0e-06},{"id":1009610,"event":"return","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":1009595,"elapsed":0.007893,"return_value":{"class":"String","value":"[Discourse] Email Deliverability Test","object_id":70097796139980}},{"id":1009611,"event":"call","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097826278140,"value":"#<Email::MessageBuilder:0x00007f81d811d5f8>"}},{"id":1009612,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009613,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009612,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009614,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009615,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009614,"elapsed":9.0e-06},{"id":1009616,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009617,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009616,"elapsed":4.0e-06},{"id":1009618,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009619,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009618,"elapsed":4.0e-06},{"id":1009620,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009621,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009620,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009622,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009623,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009622,"elapsed":8.0e-06},{"id":1009624,"event":"return","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1009611,"elapsed":0.000833,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097730552000}},{"id":1009625,"event":"return","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parent_id":1009594,"elapsed":0.008986,"return_value":{"class":"Hash","value":"{:to=>\"anne1213@discourse.org\", :subject=>\"[Discourse] Email Deliverability Test\", :body=>\"This is a","object_id":70097731378000}},{"id":1009626,"event":"call","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097826278140,"value":"#<Email::MessageBuilder:0x00007f81d811d5f8>"}},{"id":1009627,"event":"return","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1009626,"elapsed":5.0e-06},{"id":1009628,"event":"return","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009581,"elapsed":0.010608,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:41 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097795572860}},{"id":1009629,"event":"return","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1009580,"elapsed":0.011665,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:41 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097795572860}},{"id":1009630,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097795499260,"value":"#<Email::Sender:0x00007f81d46689f8>"}},{"id":1009631,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1009630,"elapsed":2.7e-05,"return_value":{"class":"String","value":"anne1213@discourse.org","object_id":70097730747160}},{"id":1009632,"event":"call","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097730744860,"value":"#<Email::Renderer:0x00007f81ccae6438>"}},{"id":1009633,"event":"call","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097730744860,"value":"#<Email::Renderer:0x00007f81ccae6438>"}},{"id":1009634,"event":"return","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1009633,"elapsed":4.0e-05,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097732510540}},{"id":1009635,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1009636,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1009637,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":1009636,"elapsed":8.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097732531420}},{"id":1009638,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1009635,"elapsed":0.001345,"return_value":{"class":"Array","value":"[]","object_id":70097732528500}},{"id":1009639,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097829280380,"value":"/images/discourse-logo-sketch.png"}},{"id":1009640,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1009639,"elapsed":1.1e-05,"return_value":{"class":"String","value":"/images/discourse-logo-sketch.png","object_id":70097829280080}},{"id":1009641,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097829297820,"value":"/images/discourse-logo-sketch-small.png"}},{"id":1009642,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1009641,"elapsed":6.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch-small.png","object_id":70097829297360}},{"id":1009643,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009644,"event":"call","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009645,"event":"return","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1009644,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[{:name=>\" \", :value=>\"ar\"}, {:name=>\" \", :value=>\"be\"}, {:name=>\"","object_id":70097567928580}},{"id":1009646,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1009643,"elapsed":0.000333,"return_value":{"class":"String","value":"[{\"name\":\" \",\"value\":\"ar\"},{\"name\":\" \",\"value\":\"be\"},{\"name\":\" ","object_id":70097732785840}},{"id":1009647,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009648,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parent_id":1009647,"elapsed":8.0e-06},{"id":1009649,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009650,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009651,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1009650,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1009652,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1009653,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1009652,"elapsed":9.0e-06},{"id":1009654,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009649,"elapsed":0.00034,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097732818320}},{"id":1009655,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009656,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009657,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1009656,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1009658,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1009659,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1009658,"elapsed":8.0e-06},{"id":1009660,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009655,"elapsed":0.00031,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch-small.png","object_id":70097732834620}},{"id":1009661,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009662,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009661,"elapsed":1.8e-05,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097800175960}},{"id":1009663,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009664,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009663,"elapsed":1.4e-05,"return_value":{"class":"String","value":"http://test.localhost/uploads/default/test_0/optimized/1X/_129430568242d1b7f853bb13ebea28b3f6af4e7_2","object_id":70097800212220}},{"id":1009665,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009666,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1009665,"elapsed":9.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1009667,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1009668,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009669,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1009668,"elapsed":4.0e-06},{"id":1009670,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":1009667,"elapsed":0.000131},{"id":1009671,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1009672,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1009673,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1009674,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":1009673,"elapsed":6.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097731765080}},{"id":1009675,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1009672,"elapsed":0.001214},{"id":1009676,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009671,"elapsed":0.001381},{"id":1009677,"event":"call","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097586952140,"value":"{:template=>\"layouts/email_template\", :format=>:html, :locals=>{:html_body=>\"<p>This is a test email","kind":"rest"}],"receiver":{"class":"Class","object_id":70097797777140,"value":"UserNotificationRenderer"}},{"id":1009678,"event":"call","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserNotificationRenderer","object_id":70097566174800,"value":"#<UserNotificationRenderer:0x00007f81b9101ca0>"}},{"id":1009679,"event":"call","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097586964200,"value":"#<EmailStyle:0x00007f81bb8a8dd0>"}},{"id":1009680,"event":"call","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097586964200,"value":"#<EmailStyle:0x00007f81bb8a8dd0>"}},{"id":1009681,"event":"call","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097566750080,"value":"EmailStyle"}},{"id":1009682,"event":"return","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1009681,"elapsed":6.0e-06,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1009683,"event":"return","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1009680,"elapsed":0.000146,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1009684,"event":"return","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1009679,"elapsed":0.000281,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1009685,"event":"return","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1009678,"elapsed":0.000473,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097826830220}},{"id":1009686,"event":"return","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":1009677,"elapsed":0.00091,"return_value":{"class":"ActionView::OutputBuffer","value":"  <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xh","object_id":70097586968060}},{"id":1009687,"event":"call","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009688,"event":"return","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1009687,"elapsed":0.000754,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097826688460}},{"id":1009689,"event":"call","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009690,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826694100,"value":"<body>\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th, h1, h2, h3 {font-family: Helvetic","kind":"req"},{"name":"new_styles","class":"String","object_id":70097826697120,"value":"text-align:left;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009691,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009690,"elapsed":1.2e-05,"return_value":{"class":"String","value":"text-align:left;","object_id":70097826697120}},{"id":1009692,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826751520,"value":"<a href=\"http://test.localhost\"><strong>http://test.localhost</strong></a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009693,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009692,"elapsed":1.6e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009694,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097825807620,"value":"<a href=\"https://mxtoolbox.com/ReverseLookup.aspx\" rel=\"nofollow noopener\">Test your Reverse PTR rec","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009695,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009694,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009696,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097825818200,"value":"<a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\">SPF record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009697,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009696,"elapsed":7.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009698,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097825836300,"value":"<a href=\"https://www.kitterman.com/spf/validate.html\" rel=\"nofollow noopener\">Test your SPF record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009699,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009698,"elapsed":6.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009700,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826041260,"value":"<a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\">DKIM record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009701,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009700,"elapsed":6.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009702,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826058560,"value":"<a href=\"https://www.mail-tester.com/spf-dkim-check\" rel=\"nofollow noopener\">Test your DKIM record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009703,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009702,"elapsed":7.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009704,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826869240,"value":"<a href=\"https://whatismyipaddress.com/blacklist-check\" rel=\"nofollow noopener\">not on any email bla","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009705,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009704,"elapsed":6.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009706,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826922120,"value":"<a href=\"https://www.mail-tester.com/\" rel=\"nofollow noopener\">mail-tester.com</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009707,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009706,"elapsed":6.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009708,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826954580,"value":"<a href=\"https://goo.gl/r1WMF6\" rel=\"nofollow noopener\">SendGrid</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009709,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009708,"elapsed":6.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009710,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826947540,"value":"<a href=\"https://www.sparkpost.com/\" rel=\"nofollow noopener\">SparkPost</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009711,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009710,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009712,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826967460,"value":"<a href=\"https://www.mailgun.com/\" rel=\"nofollow noopener\">Mailgun</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009713,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009712,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009714,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826987400,"value":"<a href=\"https://www.mailjet.com/pricing/\" rel=\"nofollow noopener\">Mailjet</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009715,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009714,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009716,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097827003680,"value":"<a href=\"https://www.discourse.org\" rel=\"nofollow noopener\">Discourse</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097827054020,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009717,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009716,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097827054020}},{"id":1009718,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826786960,"value":"<ul>\n<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443600,"value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009719,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009718,"elapsed":1.0e-05,"return_value":{"class":"String","value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","object_id":70097566443600}},{"id":1009720,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826784100,"value":"<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in your ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009721,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009720,"elapsed":1.0e-05,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009722,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097825799840,"value":"<li>\n<p>Know how to view the raw source of the email in your mail client, so you can examine email h","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009723,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009722,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009724,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826223940,"value":"<li>\n<p><strong>IMPORTANT:</strong> Does your ISP have a reverse DNS record entered to associate the","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009725,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009724,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009726,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097825822780,"value":"<li>\n<p>Is your domains <a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009727,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009726,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009728,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826023840,"value":"<li>\n<p>Is your domains <a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\" style=\"text-decorati","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009729,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009728,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009730,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826073120,"value":"<li>\n<p>If you run your own mail server, check to make sure the IPs of your mail server are <a href=","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009731,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009730,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009732,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826882760,"value":"<li>\n<p>We highly recommend you <strong>send a test email to <a href=\"https://www.mail-tester.com/\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009733,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009732,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009734,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097826198700,"value":"<code>notification email</code>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566442920,"value":"background-color: #f1f1ff; padding: 2px 5px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009735,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009734,"elapsed":1.0e-05,"return_value":{"class":"String","value":"background-color: #f1f1ff; padding: 2px 5px;","object_id":70097566442920}},{"id":1009736,"event":"call","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009737,"event":"return","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1009736,"elapsed":0.002007,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097815084560}},{"id":1009738,"event":"call","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009739,"event":"return","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parent_id":1009738,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097566593840}},{"id":1009740,"event":"call","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009741,"event":"call","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009742,"event":"call","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097815094680,"value":"#<EmailStyle:0x00007f81d6bc8b30>"}},{"id":1009743,"event":"call","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097815094680,"value":"#<EmailStyle:0x00007f81d6bc8b30>"}},{"id":1009744,"event":"return","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1009743,"elapsed":9.0e-06,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1009745,"event":"return","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1009742,"elapsed":0.000171,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1009746,"event":"return","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":1009741,"elapsed":0.000304,"return_value":{"class":"Hash","value":"{}","object_id":70097815132240}},{"id":1009747,"event":"return","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parent_id":1009740,"elapsed":0.00044,"return_value":{"class":"Hash","value":"{}","object_id":70097815132240}},{"id":1009748,"event":"return","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1009689,"elapsed":0.015165,"return_value":{"class":"Hash","value":"{}","object_id":70097815132240}},{"id":1009749,"event":"call","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009750,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815181560,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009751,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009750,"elapsed":7.0e-06},{"id":1009752,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815177620,"value":"https://mxtoolbox.com/ReverseLookup.aspx","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009753,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009752,"elapsed":5.0e-06},{"id":1009754,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815198780,"value":"http://www.openspf.org/SPF_Record_Syntax","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009755,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009754,"elapsed":5.0e-06},{"id":1009756,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815193600,"value":"https://www.kitterman.com/spf/validate.html","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009757,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009756,"elapsed":5.0e-06},{"id":1009758,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815213300,"value":"http://www.dkim.org/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009759,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009758,"elapsed":4.0e-06},{"id":1009760,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815232160,"value":"https://www.mail-tester.com/spf-dkim-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009761,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009760,"elapsed":4.0e-06},{"id":1009762,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815247180,"value":"https://whatismyipaddress.com/blacklist-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009763,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009762,"elapsed":4.0e-06},{"id":1009764,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815243880,"value":"https://www.mail-tester.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009765,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009764,"elapsed":5.0e-06},{"id":1009766,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815263780,"value":"https://goo.gl/r1WMF6","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009767,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009766,"elapsed":4.0e-06},{"id":1009768,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815259300,"value":"https://www.sparkpost.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009769,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009768,"elapsed":4.0e-06},{"id":1009770,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815278400,"value":"https://www.mailgun.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009771,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009770,"elapsed":4.0e-06},{"id":1009772,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815295380,"value":"https://www.mailjet.com/pricing/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009773,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009772,"elapsed":5.0e-06},{"id":1009774,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097815312100,"value":"https://www.discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009775,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009774,"elapsed":4.0e-06},{"id":1009776,"event":"call","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097826826600,"value":"#<Email::Styles:0x00007f81d82292d0>"}},{"id":1009777,"event":"return","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parent_id":1009776,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"483","object_id":967}},{"id":1009778,"event":"return","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parent_id":1009749,"elapsed":0.003303,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097815345320}},{"id":1009779,"event":"return","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1009632,"elapsed":0.044971,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097815345320}},{"id":1009780,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097795499260,"value":"#<Email::Sender:0x00007f81d46689f8>"}},{"id":1009781,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1009780,"elapsed":6.0e-06,"return_value":{"class":"String","value":"anne1213@discourse.org","object_id":70097730747160}},{"id":1009782,"event":"call","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parameters":[{"name":"base_url","class":"String","object_id":70097816044100,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1009783,"event":"return","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parent_id":1009782,"elapsed":3.1e-05,"return_value":{"class":"String","value":"test.localhost","object_id":70097816065480}},{"id":1009784,"event":"call","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1009785,"event":"return","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parent_id":1009784,"elapsed":8.0e-06},{"id":1009786,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009787,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009786,"elapsed":0.001353},{"id":1009788,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_logs\" (\"to_address\", \"email_type\", \"created_at\", \"updated_at\", \"message_id\") VALUES ('anne1213@discourse.org', 'test_message', '2020-05-28 19:01:41.404567', '2020-05-28 19:01:41.404567', 'd8dd2c6a-279e-477d-867c-fafe4ac44e5f@test.localhost') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009789,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009788,"elapsed":0.001736},{"id":1009790,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009791,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009790,"elapsed":0.001272},{"id":1009792,"event":"return","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009575,"elapsed":0.08065,"return_value":{"class":"EmailLog","value":"#<EmailLog:0x00007f81d6d996a8>","object_id":70097816046420}},{"id":1009793,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009794,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009793,"elapsed":3.2e-05,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009795,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009796,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009795,"elapsed":1.5e-05},{"id":1009797,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009798,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009797,"elapsed":4.0e-06},{"id":1009799,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009800,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009799,"elapsed":4.0e-06},{"id":1009801,"event":"return","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1009574,"elapsed":0.081771,"return_value":{"class":"String","value":"{\"sent_test_email_message\":\"sent!\"}","object_id":70097587491660}},{"id":1009802,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009803,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1009802,"elapsed":1.0e-05},{"id":1009804,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009805,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1009804,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097587510660}},{"id":1009806,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097803105520,"value":"#<Admin::EmailController:0x00007f81d54ea9e0>"}},{"id":1009807,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009808,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009807,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009809,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097795149780,"value":"#<User:0x00007f81d45bdfa8>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097614543320,"value":"#<ActionDispatch::Request::Session:0x00007f81bed433b0>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097732472060,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81cce319f8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009810,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009811,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009812,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009811,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009813,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009810,"elapsed":0.000123},{"id":1009814,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009815,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097803267180,"value":"#<TestCurrentUserProvider:0x00007f81d55398d8>"}},{"id":1009816,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009815,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d45bdfa8>","object_id":70097795149780}},{"id":1009817,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1009814,"elapsed":0.000119},{"id":1009818,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1009809,"elapsed":0.000467},{"id":1009819,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1009806,"elapsed":0.000759},{"id":1009820,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1009497,"elapsed":0.096285,"http_server_response":{"status":200}},{"id":1009821,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587542440,"value":"#<TestCurrentUserProvider:0x00007f81bb9c3350>"}},{"id":1009822,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1009821,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009823,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1009824,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009823,"elapsed":8.0e-06},{"id":1009825,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1009826,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009825,"elapsed":4.0e-06},{"id":1009827,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829494700,"value":"#<User:0x00007f81d873ff58>"}},{"id":1009828,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009827,"elapsed":3.1e-05,"return_value":{"class":"String","value":"anne1213@discourse.org","object_id":70097614527000}},{"id":1009829,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009830,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009829,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009831,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009832,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009831,"elapsed":1.5e-05},{"id":1009833,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009834,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009833,"elapsed":4.0e-06},{"id":1009835,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009836,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009835,"elapsed":3.0e-06}]}