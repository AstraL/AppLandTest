{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::EmailController #test with an email address enqueues a test email job","app":"Discourse","feature":"Admin::EmailController #test","feature_group":"Admin email","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/models","type":"package","children":[{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"EmailStyle","type":"class","children":[{"name":"html","type":"function","location":"app/models/email_style.rb:12","static":false},{"name":"default_html","type":"function","location":"app/models/email_style.rb:24","static":false},{"name":"default_template","type":"function","location":"app/models/email_style.rb:32","static":true},{"name":"compiled_css","type":"function","location":"app/models/email_style.rb:20","static":false},{"name":"css","type":"function","location":"app/models/email_style.rb:16","static":false}]},{"name":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","type":"class","children":[{"name":"secure_media_url?","type":"function","location":"app/models/upload.rb:150","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"EmailController","type":"class","children":[{"name":"test","type":"function","location":"app/controllers/admin/email_controller.rb:10","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"Sender","type":"class","children":[{"name":"send","type":"function","location":"lib/email/sender.rb:26","static":false},{"name":"to_address","type":"function","location":"lib/email/sender.rb:222","static":false},{"name":"host_for","type":"function","location":"lib/email/sender.rb:230","static":true},{"name":"bounceable_reply_address?","type":"function","location":"lib/email/sender.rb:366","static":true}]},{"name":"BuildEmailHelper","type":"class","children":[{"name":"build_email","type":"function","location":"lib/email/build_email_helper.rb:5","static":false}]},{"name":"MessageBuilder","type":"class","children":[{"name":"header_args","type":"function","location":"lib/email/message_builder.rb:139","static":false},{"name":"custom_headers","type":"function","location":"lib/email/message_builder.rb:162","static":true},{"name":"build_args","type":"function","location":"lib/email/message_builder.rb:129","static":false},{"name":"subject","type":"function","location":"lib/email/message_builder.rb:53","static":false},{"name":"body","type":"function","location":"lib/email/message_builder.rb:112","static":false},{"name":"html_part","type":"function","location":"lib/email/message_builder.rb:76","static":false}]},{"name":"site_title","type":"function","location":"lib/email.rb:38","static":true},{"name":"cleanup_alias","type":"function","location":"lib/email.rb:17","static":true},{"name":"Renderer","type":"class","children":[{"name":"html","type":"function","location":"lib/email/renderer.rb:17","static":false},{"name":"text","type":"function","location":"lib/email/renderer.rb:11","static":false}]},{"name":"Styles","type":"class","children":[{"name":"format_basic","type":"function","location":"lib/email/styles.rb:58","static":false},{"name":"format_html","type":"function","location":"lib/email/styles.rb:172","static":false},{"name":"add_styles","type":"function","location":"lib/email/styles.rb:26","static":false},{"name":"onebox_styles","type":"function","location":"lib/email/styles.rb:112","static":false},{"name":"plugin_styles","type":"function","location":"lib/email/styles.rb:237","static":false},{"name":"format_custom","type":"function","location":"lib/email/styles.rb:230","static":false},{"name":"custom_styles","type":"function","location":"lib/email/styles.rb:36","static":false},{"name":"to_html","type":"function","location":"lib/email/styles.rb:241","static":false},{"name":"include_body?","type":"function","location":"lib/email/styles.rb:248","static":false}]}]}]},{"name":"app/mailers","type":"package","children":[{"name":"TestMailer","type":"class","children":[{"name":"send_test","type":"function","location":"app/mailers/test_mailer.rb:6","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"UserNotificationRenderer","type":"class","children":[{"name":"render","type":"function","location":"app/services/user_notification_renderer.rb:10","static":true}]}]},{"name":"app/helpers","type":"package","children":[{"name":"EmailHelper","type":"class","children":[{"name":"email_html_template","type":"function","location":"app/helpers/email_helper.rb:28","static":false}]}]}],"events":[{"id":1008255,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097621090420,"value":"#<TestCurrentUserProvider:0x00007f81bf9c00e8>"}},{"id":1008256,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097621111840,"value":"dc92de3786dbc61fdc7cf16b2550917a","kind":"req"},{"name":"opts","class":"Hash","object_id":70097621111220,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1008257,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097621111840,"value":"dc92de3786dbc61fdc7cf16b2550917a","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1008258,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008259,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1008258,"elapsed":1.1e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1008260,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1008257,"elapsed":0.000155,"return_value":{"class":"String","value":"QBFP2omFd95RlR5cH8RIaCpevGI=","object_id":70097621129320}},{"id":1008261,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'QBFP2omFd95RlR5cH8RIaCpevGI=' OR\n                          prev_auth_token = 'QBFP2omFd95RlR5cH8RIaCpevGI=') AND rotated_at > '2020-03-29 19:01:40.265956') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008262,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008261,"elapsed":0.001334},{"id":1008263,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:40.316887' WHERE \"user_auth_tokens\".\"id\" = 1161 AND \"user_auth_tokens\".\"auth_token\" = 'QBFP2omFd95RlR5cH8RIaCpevGI='","database_type":"postgres","server_version":110006}},{"id":1008264,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008263,"elapsed":0.001641},{"id":1008265,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097796856180,"value":"{:action=>\"seen token\", :user_auth_token_id=>1161, :user_id=>1349, :auth_token=>\"QBFP2omFd95RlR5cH8R","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1008266,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1008267,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008266,"elapsed":0.001582},{"id":1008268,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1161, 1349, '127.0.0.1/32', 'QBFP2omFd95RlR5cH8RIaCpevGI=', '2020-05-28 19:01:40.322761') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1008269,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008268,"elapsed":0.001653},{"id":1008270,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1008271,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008270,"elapsed":0.001326},{"id":1008272,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1008265,"elapsed":0.018918,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d490fe18>","object_id":70097796890380}},{"id":1008273,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1008256,"elapsed":0.075871,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d2e212a0>","object_id":70097782770000}},{"id":1008274,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008275,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008274,"elapsed":0.001845},{"id":1008276,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008277,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1008276,"elapsed":2.2e-05},{"id":1008278,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097621090420,"value":"#<TestCurrentUserProvider:0x00007f81bf9c00e8>"}},{"id":1008279,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1008278,"elapsed":0.001235,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008280,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008281,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1008280,"elapsed":0.001173},{"id":1008282,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097731371660,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008283,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1349","database_type":"postgres","server_version":110006}},{"id":1008284,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008283,"elapsed":0.001605},{"id":1008285,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1008282,"elapsed":0.004892,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008286,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008255,"elapsed":0.090423,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008287,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097621090420,"value":"#<TestCurrentUserProvider:0x00007f81bf9c00e8>"}},{"id":1008288,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008287,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008289,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008290,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1008289,"elapsed":2.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008291,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586618580,"value":"#<TestCurrentUserProvider:0x00007f81bb8001a8>"}},{"id":1008292,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008291,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008293,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586618580,"value":"#<TestCurrentUserProvider:0x00007f81bb8001a8>"}},{"id":1008294,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008293,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008295,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008296,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1008295,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008297,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008298,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008297,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008299,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008300,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008299,"elapsed":1.3e-05},{"id":1008301,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/admin/email/test.json"},"message":[{"name":"email_address","class":"String","value":"eviltrout@test.domain","object_id":70097621009080},{"name":"controller","class":"String","value":"admin/email","object_id":70097794312700},{"name":"action","class":"String","value":"test","object_id":70097712530580},{"name":"format","class":"String","value":"json","object_id":70097621090700}]},{"id":1008302,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008303,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008304,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008305,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008306,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008305,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008307,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1008304,"elapsed":0.000153,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bb830b00>","object_id":70097586718080}},{"id":1008308,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097586718080,"value":"#<Guardian:0x00007f81bb830b00>"}},{"id":1008309,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1008308,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008310,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1008303,"elapsed":0.00043},{"id":1008311,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008312,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008311,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008313,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008314,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008313,"elapsed":0.001568},{"id":1008315,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008316,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1008315,"elapsed":6.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bb830b00>","object_id":70097586718080}},{"id":1008317,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097814388840,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097586718080,"value":"#<Guardian:0x00007f81bb830b00>"}},{"id":1008318,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1008317,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008319,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1008302,"elapsed":0.006867,"return_value":{"class":"Array","value":"[2]","object_id":70097814388840}},{"id":1008320,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008321,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008322,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008321,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008323,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008324,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008323,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008325,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008326,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008325,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008327,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1008320,"elapsed":0.000349,"return_value":{"class":"String","value":"email/test","object_id":70097814446040}},{"id":1008328,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008329,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008330,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008329,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008331,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1008328,"elapsed":0.000109},{"id":1008332,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008333,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008334,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008333,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008335,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008336,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008335,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008337,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008338,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1008337,"elapsed":1.5e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1008339,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008340,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008339,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008341,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008342,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008341,"elapsed":1.1e-05},{"id":1008343,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008344,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008343,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008345,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008346,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008345,"elapsed":8.0e-06},{"id":1008347,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1008332,"elapsed":0.000791,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097814519200}},{"id":1008348,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008349,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1008348,"elapsed":9.0e-06},{"id":1008350,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008351,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008352,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008351,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008353,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1008350,"elapsed":0.000115},{"id":1008354,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008355,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008354,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008356,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008357,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008356,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008358,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008359,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008358,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008360,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1008361,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1008360,"elapsed":4.0e-06},{"id":1008362,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008363,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1008362,"elapsed":1.0e-05},{"id":1008364,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008365,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008366,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008365,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008367,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1008364,"elapsed":0.000114},{"id":1008368,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008369,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008370,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008369,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008371,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1008368,"elapsed":0.000135},{"id":1008372,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008373,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008372,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008374,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008375,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008374,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008376,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>"}},{"id":1008377,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1008376,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008378,"event":"call","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008379,"event":"call","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097815128940,"value":"#<Email::Sender:0x00007f81d6bd96d8>"}},{"id":1008380,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008381,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008380,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008382,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008383,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008382,"elapsed":1.1e-05},{"id":1008384,"event":"call","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"to_address","class":"String","object_id":70097621009080,"value":"eviltrout@test.domain","kind":"req"}],"receiver":{"class":"TestMailer","object_id":70097815149700,"value":"#<TestMailer:0x00007f81d6be3908>"}},{"id":1008385,"event":"call","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"builder_args","class":"String","object_id":70097621009080,"value":"eviltrout@test.domain","kind":"rest"}],"receiver":{"class":"TestMailer","object_id":70097815149700,"value":"#<TestMailer:0x00007f81d6be3908>"}},{"id":1008386,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097815176540,"value":"#<Email::MessageBuilder:0x00007f81d6bf0ab8>"}},{"id":1008387,"event":"call","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1008388,"event":"return","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parent_id":1008387,"elapsed":8.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097723392500}},{"id":1008389,"event":"call","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097723392500,"value":"Discourse","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1008390,"event":"return","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1008389,"elapsed":7.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097815214580}},{"id":1008391,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1008392,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1008391,"elapsed":1.1e-05,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097815207980}},{"id":1008393,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1008386,"elapsed":0.000406,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097815228020}},{"id":1008394,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097815176540,"value":"#<Email::MessageBuilder:0x00007f81d6bf0ab8>"}},{"id":1008395,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1008396,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1008395,"elapsed":9.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097815242560}},{"id":1008397,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1008394,"elapsed":0.000207,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097815264020}},{"id":1008398,"event":"call","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097815176540,"value":"#<Email::MessageBuilder:0x00007f81d6bf0ab8>"}},{"id":1008399,"event":"call","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097815176540,"value":"#<Email::MessageBuilder:0x00007f81d6bf0ab8>"}},{"id":1008400,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'test_mailer.subject_template' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008401,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008400,"elapsed":0.001621},{"id":1008402,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008403,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008402,"elapsed":7.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008404,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008405,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008404,"elapsed":1.4e-05},{"id":1008406,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008407,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008406,"elapsed":4.0e-06},{"id":1008408,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008409,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008408,"elapsed":4.0e-06},{"id":1008410,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008411,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008410,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008412,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008413,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008412,"elapsed":9.0e-06},{"id":1008414,"event":"return","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":1008399,"elapsed":0.007533,"return_value":{"class":"String","value":"[Discourse] Email Deliverability Test","object_id":70097817212800}},{"id":1008415,"event":"call","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097815176540,"value":"#<Email::MessageBuilder:0x00007f81d6bf0ab8>"}},{"id":1008416,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008417,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008416,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008418,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008419,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008418,"elapsed":1.0e-05},{"id":1008420,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008421,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008420,"elapsed":3.0e-06},{"id":1008422,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008423,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008422,"elapsed":3.0e-06},{"id":1008424,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008425,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008424,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008426,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008427,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008426,"elapsed":9.0e-06},{"id":1008428,"event":"return","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1008415,"elapsed":0.000883,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097590817720}},{"id":1008429,"event":"return","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parent_id":1008398,"elapsed":0.008736,"return_value":{"class":"Hash","value":"{:to=>\"eviltrout@test.domain\", :subject=>\"[Discourse] Email Deliverability Test\", :body=>\"This is a ","object_id":70097590816380}},{"id":1008430,"event":"call","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097815176540,"value":"#<Email::MessageBuilder:0x00007f81d6bf0ab8>"}},{"id":1008431,"event":"return","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1008430,"elapsed":6.0e-06},{"id":1008432,"event":"return","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1008385,"elapsed":0.01061,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:40 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097815149480}},{"id":1008433,"event":"return","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1008384,"elapsed":0.012009,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:40 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097815149480}},{"id":1008434,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097815128940,"value":"#<Email::Sender:0x00007f81d6bd96d8>"}},{"id":1008435,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1008434,"elapsed":3.2e-05,"return_value":{"class":"String","value":"eviltrout@test.domain","object_id":70097591026300}},{"id":1008436,"event":"call","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097591046820,"value":"#<Email::Renderer:0x00007f81bc072548>"}},{"id":1008437,"event":"call","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097591046820,"value":"#<Email::Renderer:0x00007f81bc072548>"}},{"id":1008438,"event":"return","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1008437,"elapsed":4.0e-05,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097591099120}},{"id":1008439,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1008440,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1008441,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":1008440,"elapsed":9.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097591093000}},{"id":1008442,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1008439,"elapsed":0.001237,"return_value":{"class":"Array","value":"[]","object_id":70097591114460}},{"id":1008443,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008444,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1008443,"elapsed":1.2e-05,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1008445,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1008446,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008447,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1008446,"elapsed":4.0e-06},{"id":1008448,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":1008445,"elapsed":0.000122},{"id":1008449,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1008450,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1008451,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1008452,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":1008451,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097591164240}},{"id":1008453,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1008450,"elapsed":0.001005},{"id":1008454,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1008449,"elapsed":0.001155},{"id":1008455,"event":"call","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097592113940,"value":"{:template=>\"layouts/email_template\", :format=>:html, :locals=>{:html_body=>\"<p>This is a test email","kind":"rest"}],"receiver":{"class":"Class","object_id":70097797777140,"value":"UserNotificationRenderer"}},{"id":1008456,"event":"call","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserNotificationRenderer","object_id":70097566174800,"value":"#<UserNotificationRenderer:0x00007f81b9101ca0>"}},{"id":1008457,"event":"call","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097592127260,"value":"#<EmailStyle:0x00007f81bc281e38>"}},{"id":1008458,"event":"call","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097592127260,"value":"#<EmailStyle:0x00007f81bc281e38>"}},{"id":1008459,"event":"call","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097566750080,"value":"EmailStyle"}},{"id":1008460,"event":"return","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1008459,"elapsed":5.0e-06,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1008461,"event":"return","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1008458,"elapsed":0.000132,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1008462,"event":"return","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1008457,"elapsed":0.000258,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1008463,"event":"return","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1008456,"elapsed":0.000447,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097592162220}},{"id":1008464,"event":"return","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":1008455,"elapsed":0.000793,"return_value":{"class":"ActionView::OutputBuffer","value":"  <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xh","object_id":70097592131120}},{"id":1008465,"event":"call","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008466,"event":"return","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1008465,"elapsed":0.000533,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097592193340}},{"id":1008467,"event":"call","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008468,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592205780,"value":"<body>\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th, h1, h2, h3 {font-family: Helvetic","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592207620,"value":"text-align:left;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008469,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008468,"elapsed":1.5e-05,"return_value":{"class":"String","value":"text-align:left;","object_id":70097592207620}},{"id":1008470,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592243660,"value":"<a href=\"http://test.localhost\"><strong>http://test.localhost</strong></a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008471,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008470,"elapsed":1.3e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008472,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592358300,"value":"<a href=\"https://mxtoolbox.com/ReverseLookup.aspx\" rel=\"nofollow noopener\">Test your Reverse PTR rec","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008473,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008472,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008474,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592388100,"value":"<a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\">SPF record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008475,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008474,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008476,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592403860,"value":"<a href=\"https://www.kitterman.com/spf/validate.html\" rel=\"nofollow noopener\">Test your SPF record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008477,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008476,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008478,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592456260,"value":"<a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\">DKIM record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008479,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008478,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008480,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592472860,"value":"<a href=\"https://www.mail-tester.com/spf-dkim-check\" rel=\"nofollow noopener\">Test your DKIM record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008481,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008480,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008482,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592504860,"value":"<a href=\"https://whatismyipaddress.com/blacklist-check\" rel=\"nofollow noopener\">not on any email bla","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008483,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008482,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008484,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592557120,"value":"<a href=\"https://www.mail-tester.com/\" rel=\"nofollow noopener\">mail-tester.com</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008485,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008484,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008486,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592582900,"value":"<a href=\"https://goo.gl/r1WMF6\" rel=\"nofollow noopener\">SendGrid</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008487,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008486,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008488,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592600180,"value":"<a href=\"https://www.sparkpost.com/\" rel=\"nofollow noopener\">SparkPost</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008489,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008488,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008490,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592618200,"value":"<a href=\"https://www.mailgun.com/\" rel=\"nofollow noopener\">Mailgun</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008491,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008490,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008492,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592637340,"value":"<a href=\"https://www.mailjet.com/pricing/\" rel=\"nofollow noopener\">Mailjet</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008493,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008492,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008494,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592685420,"value":"<a href=\"https://www.discourse.org\" rel=\"nofollow noopener\">Discourse</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097592753400,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008495,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008494,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097592753400}},{"id":1008496,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592256760,"value":"<ul>\n<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443600,"value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008497,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008496,"elapsed":1.0e-05,"return_value":{"class":"String","value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","object_id":70097566443600}},{"id":1008498,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592278560,"value":"<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in your ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008499,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008498,"elapsed":6.3e-05,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008500,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592304680,"value":"<li>\n<p>Know how to view the raw source of the email in your mail client, so you can examine email h","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008501,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008500,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008502,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592320200,"value":"<li>\n<p><strong>IMPORTANT:</strong> Does your ISP have a reverse DNS record entered to associate the","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008503,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008502,"elapsed":1.0e-05,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008504,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592371800,"value":"<li>\n<p>Is your domains <a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008505,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008504,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008506,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592441120,"value":"<li>\n<p>Is your domains <a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\" style=\"text-decorati","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008507,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008506,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008508,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592486680,"value":"<li>\n<p>If you run your own mail server, check to make sure the IPs of your mail server are <a href=","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008509,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008508,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008510,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592518780,"value":"<li>\n<p>We highly recommend you <strong>send a test email to <a href=\"https://www.mail-tester.com/\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008511,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008510,"elapsed":1.0e-05,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008512,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097592292880,"value":"<code>notification email</code>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566442920,"value":"background-color: #f1f1ff; padding: 2px 5px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008513,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008512,"elapsed":1.0e-05,"return_value":{"class":"String","value":"background-color: #f1f1ff; padding: 2px 5px;","object_id":70097566442920}},{"id":1008514,"event":"call","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008515,"event":"return","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1008514,"elapsed":0.002003,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097594259320}},{"id":1008516,"event":"call","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008517,"event":"return","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parent_id":1008516,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097566593840}},{"id":1008518,"event":"call","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008519,"event":"call","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008520,"event":"call","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097594269760,"value":"#<EmailStyle:0x00007f81bc698080>"}},{"id":1008521,"event":"call","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097594269760,"value":"#<EmailStyle:0x00007f81bc698080>"}},{"id":1008522,"event":"return","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1008521,"elapsed":6.0e-06,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1008523,"event":"return","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1008520,"elapsed":0.000132,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1008524,"event":"return","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":1008519,"elapsed":0.000291,"return_value":{"class":"Hash","value":"{}","object_id":70097594287620}},{"id":1008525,"event":"return","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parent_id":1008518,"elapsed":0.000431,"return_value":{"class":"Hash","value":"{}","object_id":70097594287620}},{"id":1008526,"event":"return","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1008467,"elapsed":0.015715,"return_value":{"class":"Hash","value":"{}","object_id":70097594287620}},{"id":1008527,"event":"call","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008528,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594340880,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008529,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008528,"elapsed":1.2e-05},{"id":1008530,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594336880,"value":"https://mxtoolbox.com/ReverseLookup.aspx","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008531,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008530,"elapsed":3.0e-06},{"id":1008532,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594357660,"value":"http://www.openspf.org/SPF_Record_Syntax","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008533,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008532,"elapsed":3.0e-06},{"id":1008534,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594353580,"value":"https://www.kitterman.com/spf/validate.html","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008535,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008534,"elapsed":3.0e-06},{"id":1008536,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594371560,"value":"http://www.dkim.org/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008537,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008536,"elapsed":3.0e-06},{"id":1008538,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594391180,"value":"https://www.mail-tester.com/spf-dkim-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008539,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008538,"elapsed":3.0e-06},{"id":1008540,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594385440,"value":"https://whatismyipaddress.com/blacklist-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008541,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008540,"elapsed":3.0e-06},{"id":1008542,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594405180,"value":"https://www.mail-tester.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008543,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008542,"elapsed":3.0e-06},{"id":1008544,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594401580,"value":"https://goo.gl/r1WMF6","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008545,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008544,"elapsed":4.0e-06},{"id":1008546,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594423180,"value":"https://www.sparkpost.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008547,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008546,"elapsed":2.0e-06},{"id":1008548,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594419840,"value":"https://www.mailgun.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008549,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008548,"elapsed":4.0e-06},{"id":1008550,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594440740,"value":"https://www.mailjet.com/pricing/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008551,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008550,"elapsed":5.0e-06},{"id":1008552,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097594436420,"value":"https://www.discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008553,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008552,"elapsed":6.0e-06},{"id":1008554,"event":"call","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097592158660,"value":"#<Email::Styles:0x00007f81bc291388>"}},{"id":1008555,"event":"return","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parent_id":1008554,"elapsed":1.6e-05,"return_value":{"class":"Integer","value":"483","object_id":967}},{"id":1008556,"event":"return","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parent_id":1008527,"elapsed":0.003196,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097594474380}},{"id":1008557,"event":"return","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1008436,"elapsed":0.038924,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097594474380}},{"id":1008558,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097815128940,"value":"#<Email::Sender:0x00007f81d6bd96d8>"}},{"id":1008559,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1008558,"elapsed":6.0e-06,"return_value":{"class":"String","value":"eviltrout@test.domain","object_id":70097591026300}},{"id":1008560,"event":"call","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parameters":[{"name":"base_url","class":"String","object_id":70097587470700,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1008561,"event":"return","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parent_id":1008560,"elapsed":4.1e-05,"return_value":{"class":"String","value":"test.localhost","object_id":70097587493460}},{"id":1008562,"event":"call","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1008563,"event":"return","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parent_id":1008562,"elapsed":1.4e-05},{"id":1008564,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1008565,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008564,"elapsed":0.001295},{"id":1008566,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_logs\" (\"to_address\", \"email_type\", \"created_at\", \"updated_at\", \"message_id\") VALUES ('eviltrout@test.domain', 'test_message', '2020-05-28 19:01:40.441820', '2020-05-28 19:01:40.441820', '31fc8e0a-0660-48d7-bda8-4f846b06a75d@test.localhost') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1008567,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008566,"elapsed":0.001223},{"id":1008568,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1008569,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008568,"elapsed":0.001007},{"id":1008570,"event":"return","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008379,"elapsed":0.075064,"return_value":{"class":"EmailLog","value":"#<EmailLog:0x00007f81bb9a0c38>","object_id":70097587471900}},{"id":1008571,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008572,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008571,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008573,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008574,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008573,"elapsed":1.6e-05},{"id":1008575,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008576,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008575,"elapsed":4.0e-06},{"id":1008577,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008578,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008577,"elapsed":4.0e-06},{"id":1008579,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008580,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008579,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008581,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008582,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008581,"elapsed":1.1e-05},{"id":1008583,"event":"return","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1008378,"elapsed":0.09116,"return_value":{"class":"String","value":"{\"sent_test_email_message\":\"sent!\"}","object_id":70097611901120}},{"id":1008584,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008585,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1008584,"elapsed":1.6e-05},{"id":1008586,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008587,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1008586,"elapsed":1.0e-05,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097611920860}},{"id":1008588,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097586654060,"value":"#<Admin::EmailController:0x00007f81bb8116d8>"}},{"id":1008589,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008590,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008589,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008591,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097731379080,"value":"#<User:0x00007f81ccc1bf10>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097621032520,"value":"#<ActionDispatch::Request::Session:0x00007f81bf9a3c90>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097814389000,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d6a70210>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008592,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008593,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008594,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008593,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008595,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1008592,"elapsed":0.00012},{"id":1008596,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008597,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097586720560,"value":"#<TestCurrentUserProvider:0x00007f81bb831e60>"}},{"id":1008598,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008597,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccc1bf10>","object_id":70097731379080}},{"id":1008599,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1008596,"elapsed":0.000123},{"id":1008600,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1008591,"elapsed":0.00046},{"id":1008601,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1008588,"elapsed":0.000753},{"id":1008602,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1008301,"elapsed":0.104412,"http_server_response":{"status":200}},{"id":1008603,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097611948600,"value":"#<TestCurrentUserProvider:0x00007f81be850470>"}},{"id":1008604,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1008603,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008605,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1008606,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1008605,"elapsed":7.0e-06},{"id":1008607,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1008608,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1008607,"elapsed":5.0e-06}]}