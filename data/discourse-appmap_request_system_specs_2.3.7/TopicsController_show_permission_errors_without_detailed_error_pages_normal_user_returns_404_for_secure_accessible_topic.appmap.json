{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"TopicsController #show permission errors without detailed error pages normal user returns 404 for secure_accessible_topic","app":"Discourse","feature":"TopicsController #show","feature_group":"Topics","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"new_user?","type":"function","location":"app/models/user.rb:661","static":false},{"name":"new_user_posting_on_first_day?","type":"function","location":"app/models/user.rb:655","static":false},{"name":"first_post_created_at","type":"function","location":"app/models/user.rb:1067","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"secure_category_ids","type":"function","location":"app/models/user.rb:999","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"username_exists?","type":"function","location":"app/models/user.rb:1393","static":true},{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false},{"name":"custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:173","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"Category","type":"class","children":[{"name":"parent_category_validator","type":"function","location":"app/models/category.rb:444","static":false},{"name":"email_in_validator","type":"function","location":"app/models/category.rb:628","static":false},{"name":"ensure_slug","type":"function","location":"app/models/category.rb:337","static":false},{"name":"duplicate_slug?","type":"function","location":"app/models/category.rb:333","static":false},{"name":"permissions_compatibility_validator","type":"function","location":"app/models/category.rb:813","static":false},{"name":"apply_permissions","type":"function","location":"app/models/category.rb:494","static":false},{"name":"downcase_email","type":"function","location":"app/models/category.rb:624","static":false},{"name":"downcase_name","type":"function","location":"app/models/category.rb:643","static":false},{"name":"create_category_definition","type":"function","location":"app/models/category.rb:279","static":false},{"name":"delete_category_permalink","type":"function","location":"app/models/category.rb:754","static":false},{"name":"slug_path","type":"function","location":"app/models/category.rb:867","static":false},{"name":"slug_for_url","type":"function","location":"app/models/category.rb:366","static":false},{"name":"publish_discourse_stylesheet","type":"function","location":"app/models/category.rb:759","static":false},{"name":"publish_category","type":"function","location":"app/models/category.rb:370","static":false},{"name":"uncategorized?","type":"function","location":"app/models/category.rb:699","static":false},{"name":"description_text","type":"function","location":"app/models/category.rb:305","static":false},{"name":"description_excerpt","type":"function","location":"app/models/category.rb:315","static":false},{"name":"topic_url","type":"function","location":"app/models/category.rb:297","static":false},{"name":"reset_topic_ids_cache","type":"function","location":"app/models/category.rb:154","static":false},{"name":"clear_subcategory_ids","type":"function","location":"app/models/category.rb:186","static":false},{"name":"clear_url_cache","type":"function","location":"app/models/category.rb:719","static":false},{"name":"index_search","type":"function","location":"app/models/category.rb:763","static":false},{"name":"update_reviewables","type":"function","location":"app/models/category.rb:767","static":false},{"name":"trigger_category_created_event","type":"function","location":"app/models/category.rb:807","static":false},{"name":"set_permissions","type":"function","location":"app/models/category.rb:473","static":false},{"name":"trigger_category_updated_event","type":"function","location":"app/models/category.rb:807","static":false}]},{"name":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","type":"class","children":[{"name":"find_by_url","type":"function","location":"app/models/permalink.rb:71","static":true}]},{"name":"Permalink","type":"class","children":[{"name":"Normalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/models/permalink.rb:48","static":false}]}]},{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"default_notification_level","type":"function","location":"app/models/category_user.rb:200","static":true},{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true}]},{"name":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","type":"class","children":[{"name":"permission_types","type":"function","location":"app/models/category_group.rb:9","static":true}]},{"name":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","type":"class","children":[{"name":"[]","type":"function","location":"app/models/group.rb:515","static":true},{"name":"lookup_group","type":"function","location":"app/models/group.rb:525","static":true},{"name":"group_id_from_param","type":"function","location":"app/models/group.rb:576","static":true}]},{"name":"Group","type":"class","children":[{"name":"incoming_email_validator","type":"function","location":"app/models/group.rb:290","static":false},{"name":"downcase_incoming_email","type":"function","location":"app/models/group.rb:278","static":false},{"name":"cook_bio","type":"function","location":"app/models/group.rb:282","static":false},{"name":"expire_cache","type":"function","location":"app/models/group.rb:53","static":false},{"name":"trigger_group_created_event","type":"function","location":"app/models/group.rb:741","static":false}]},{"name":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","type":"class","children":[{"name":"resolve_permissions","type":"function","location":"app/models/category.rb:504","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false},{"name":"with_deleted","type":"function","location":"app/models/concerns/trashable.rb:14","static":false}]}]},{"name":"Topic","type":"class","children":[{"name":"title=","type":"function","location":"app/models/topic.rb:1124","static":false},{"name":"private_message?","type":"function","location":"app/models/topic.rb:551","static":false},{"name":"ensure_topic_has_a_category","type":"function","location":"app/models/topic.rb:375","static":false},{"name":"inherit_auto_close_from_category","type":"function","location":"app/models/topic.rb:348","static":false},{"name":"initialize_default_values","type":"function","location":"app/models/topic.rb:343","static":false},{"name":"limit_topics_per_day","type":"function","location":"app/models/topic.rb:419","static":false},{"name":"limit_private_messages_per_day","type":"function","location":"app/models/topic.rb:427","static":false},{"name":"changed_to_category","type":"function","location":"app/models/topic.rb:784","static":false},{"name":"advance_draft_sequence","type":"function","location":"app/models/topic.rb:367","static":false},{"name":"slug","type":"function","location":"app/models/topic.rb:1101","static":false},{"name":"access_topic_via_group","type":"function","location":"app/models/topic.rb:1553","static":false},{"name":"relative_url","type":"function","location":"app/models/topic.rb:1159","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"topic_title_length","type":"function","location":"app/models/site_setting.rb:36","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true}]},{"name":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"actions","type":"function","location":"app/models/watched_word.rb:5","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"unicode_unescape","type":"function","location":"app/models/emoji.rb:185","static":true},{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"GlobalSetting","type":"class","children":[{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true},{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","type":"class","children":[{"name":"max_fancy_title_length","type":"function","location":"app/models/topic.rb:27","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","type":"class","children":[{"name":"next!","type":"function","location":"app/models/draft_sequence.rb:4","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","type":"class","children":[{"name":"remove_for","type":"function","location":"app/models/notification.rb:181","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]},{"name":"TopicTitleLengthValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/topic_title_length_validator.rb:5","static":false}]},{"name":"CensoredWordsValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/censored_words_validator.rb:4","static":false}]},{"name":"WatchedWordsValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/watched_words_validator.rb:4","static":false}]},{"name":"QualityTitleValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/quality_title_validator.rb:7","static":false}]},{"name":"MaxEmojisValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/max_emojis_validator.rb:5","static":false}]},{"name":"UniqueAmongValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/unique_among_validator.rb:4","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true},{"name":"queue_post_reindex","type":"function","location":"app/services/search_indexer.rb:114","static":true}]},{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true},{"name":"words_for_action","type":"function","location":"app/services/word_watcher.rb:9","static":true},{"name":"should_block?","type":"function","location":"app/services/word_watcher.rb:73","static":false},{"name":"word_matches_for_action?","type":"function","location":"app/services/word_watcher.rb:77","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicCategorySerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/basic_category_serializer.rb:42","static":false},{"name":"description","type":"function","location":"app/serializers/basic_category_serializer.rb:50","static":false},{"name":"description_text","type":"function","location":"app/serializers/basic_category_serializer.rb:46","static":false},{"name":"description_excerpt","type":"function","location":"app/serializers/basic_category_serializer.rb:54","static":false},{"name":"include_parent_category_id?","type":"function","location":"app/serializers/basic_category_serializer.rb:38","static":false},{"name":"include_can_edit?","type":"function","location":"app/serializers/basic_category_serializer.rb:62","static":false}]},{"name":"CategorySerializer","type":"class","children":[{"name":"notification_level","type":"function","location":"app/serializers/category_serializer.rb:84","static":false},{"name":"include_custom_fields?","type":"function","location":"app/serializers/category_serializer.rb:95","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/category_serializer.rb:91","static":false},{"name":"available_groups","type":"function","location":"app/serializers/category_serializer.rb:47","static":false},{"name":"group_permissions","type":"function","location":"app/serializers/category_serializer.rb:32","static":false},{"name":"include_email_in?","type":"function","location":"app/serializers/category_serializer.rb:76","static":false},{"name":"include_email_in_allow_strangers?","type":"function","location":"app/serializers/category_serializer.rb:80","static":false},{"name":"include_can_delete?","type":"function","location":"app/serializers/category_serializer.rb:64","static":false},{"name":"cannot_delete_reason","type":"function","location":"app/serializers/category_serializer.rb:68","static":false},{"name":"include_is_special?","type":"function","location":"app/serializers/category_serializer.rb:55","static":false},{"name":"include_reviewable_by_group_name?","type":"function","location":"app/serializers/category_serializer.rb:28","static":false}]},{"name":"SiteCategorySerializer","type":"class","children":[{"name":"include_allowed_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:12","static":false},{"name":"include_allowed_tag_groups?","type":"function","location":"app/serializers/site_category_serializer.rb:20","static":false},{"name":"include_allow_global_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:28","static":false},{"name":"required_tag_group_name","type":"function","location":"app/serializers/site_category_serializer.rb:32","static":false}]},{"name":"ApplicationSerializer","type":"class","children":[{"name":"expire_cache_fragment!","type":"function","location":"app/serializers/application_serializer.rb:17","static":true},{"name":"fragment_cache","type":"function","location":"app/serializers/application_serializer.rb:21","static":true}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"rescue_discourse_actions","type":"function","location":"app/controllers/application_controller.rb:229","static":false}]},{"name":"TopicsController","type":"class","children":[{"name":"show","type":"function","location":"app/controllers/topics_controller.rb:45","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"can_see?","type":"function","location":"lib/guardian.rb:122","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"is_staged?","type":"function","location":"lib/guardian.rb:113","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_see_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:146","static":false}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"can_see_category?","type":"function","location":"lib/guardian/category_guardian.rb:49","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:57","static":false}]}]},{"name":"app/helpers","type":"package","children":[{"name":"ApplicationHelper","type":"class","children":[{"name":"build_plugin_html","type":"function","location":"app/helpers/application_helper.rb:415","static":false},{"name":"allow_plugins?","type":"function","location":"app/helpers/application_helper.rb:340","static":false},{"name":"preload_script","type":"function","location":"app/helpers/application_helper.rb:94","static":false},{"name":"script_asset_path","type":"function","location":"app/helpers/application_helper.rb:57","static":false},{"name":"preload_script_url","type":"function","location":"app/helpers/application_helper.rb:99","static":false}]}]}],"events":[{"id":400355,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400356,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":400355,"elapsed":6.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":400357,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097828057540,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400358,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":400357,"elapsed":0.00014,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81d8489e08>","object_id":70097828073220}},{"id":400359,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400360,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400359,"elapsed":0.000604},{"id":400361,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400362,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":400361,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400363,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400364,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400365,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097566509880,"value":"#<UsernameValidator:0x00007f81b91a5670>"}},{"id":400366,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400367,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":400366,"elapsed":8.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097568134800}},{"id":400368,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400369,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":400368,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097568131880}},{"id":400370,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400371,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":400370,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":400372,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400373,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":400372,"elapsed":3.0e-06},{"id":400374,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":400365,"elapsed":0.000389,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400375,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":400364,"elapsed":0.00049},{"id":400376,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":400363,"elapsed":0.000589},{"id":400377,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568124920,"value":"bruce447","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400378,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":400377,"elapsed":8.0e-06,"return_value":{"class":"String","value":"bruce447","object_id":70097828173200}},{"id":400379,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097568124920,"value":"bruce447","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400380,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400379,"elapsed":8.0e-06},{"id":400381,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097828168340,"value":"bruce447","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400382,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400381,"elapsed":5.0e-06},{"id":400383,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400384,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097587070280,"value":"#<PasswordValidator:0x00007f81bb8dca90>"}},{"id":400385,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400386,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400387,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":400386,"elapsed":3.0e-06},{"id":400388,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":400385,"elapsed":8.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400389,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400390,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":400389,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce447@wayne.com","object_id":70097587083020}},{"id":400391,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400392,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":400391,"elapsed":5.0e-06,"return_value":{"class":"String","value":"bruce447@wayne.com","object_id":70097587083020}},{"id":400393,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400394,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400393,"elapsed":4.0e-06},{"id":400395,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400384,"elapsed":0.0018},{"id":400396,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":400383,"elapsed":0.001923},{"id":400397,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400398,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":400397,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":400399,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097587816900,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400400,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400399,"elapsed":5.0e-06},{"id":400401,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097799380200,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400402,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400401,"elapsed":4.0e-06},{"id":400403,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097587084780,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":400404,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400403,"elapsed":5.0e-06},{"id":400405,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097799396280,"value":"99.232.23.229","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":400406,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097799396280,"value":"99.232.23.229","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":400407,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097799396280,"value":"99.232.23.229","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":400408,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097799396280,"value":"99.232.23.229","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":400409,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.229' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400410,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400409,"elapsed":0.000903},{"id":400411,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":400408,"elapsed":0.00428},{"id":400412,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":400407,"elapsed":0.004401},{"id":400413,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":400406,"elapsed":0.004503},{"id":400414,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400405,"elapsed":0.004612},{"id":400415,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097828073220,"value":"#<UserEmail:0x00007f81d8489e08>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097588104880,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":400416,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588104880,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400417,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097588104880,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400418,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":400417,"elapsed":2.7e-05},{"id":400419,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":400416,"elapsed":0.000125,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400420,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588104880,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400421,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588104880,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400422,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":400421,"elapsed":8.0e-06,"return_value":{"class":"String","value":"bruce447@wayne.com","object_id":70097568244300}},{"id":400423,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":400424,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400423,"elapsed":0.000964},{"id":400425,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":400420,"elapsed":0.004619},{"id":400426,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400415,"elapsed":0.004975},{"id":400427,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce447@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400428,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400427,"elapsed":0.001119},{"id":400429,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400430,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":400429,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":400431,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce447', '2020-05-28 18:53:47.664882', '2020-05-28 18:53:47.664882', 'Bruce Wayne', 'dfa3940bd8fd2c99e5be0c565e5e079dc52c11741cd88ff7fcc982dc383b05dc', '16a4857ab994afcec39d9fd0f3d3cfdf', TRUE, 'bruce447', 1, '99.232.23.229/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400432,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400431,"elapsed":0.00121},{"id":400433,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097828073220,"value":"#<UserEmail:0x00007f81d8489e08>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097800036140,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":400434,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097800036140,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400435,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097800036140,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400436,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":400435,"elapsed":2.8e-05},{"id":400437,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":400434,"elapsed":0.000132,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400438,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097800036140,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400439,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097800036140,"value":"bruce447@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400440,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":400439,"elapsed":8.0e-06,"return_value":{"class":"String","value":"bruce447@wayne.com","object_id":70097800080000}},{"id":400441,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":400442,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400441,"elapsed":0.001135},{"id":400443,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":400438,"elapsed":0.00479},{"id":400444,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400433,"elapsed":0.005148},{"id":400445,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 488 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400446,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400445,"elapsed":0.001023},{"id":400447,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce447@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400448,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400447,"elapsed":0.000941},{"id":400449,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (488, 'bruce447@wayne.com', TRUE, '2020-05-28 18:53:47.683712', '2020-05-28 18:53:47.683712') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400450,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400449,"elapsed":0.001017},{"id":400451,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400452,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":400451,"elapsed":1.9e-05,"return_value":{"class":"String","value":"bruce447@wayne.com","object_id":70097609010600}},{"id":400453,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":400454,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":400455,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":400454,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":400456,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":400453,"elapsed":0.000126,"return_value":{"class":"String","value":"dd2f64effdd9d8b78873b26031f79be8","object_id":70097609045240}},{"id":400457,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (488, 'bruce447@wayne.com', 'dd2f64effdd9d8b78873b26031f79be8', '2020-05-28 18:53:47.689250', '2020-05-28 18:53:47.689250') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400458,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400457,"elapsed":0.001058},{"id":400459,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 488 AND (id != 684)","database_type":"postgres","server_version":110006}},{"id":400460,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400459,"elapsed":0.000983},{"id":400461,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (488, '2020-05-28 18:53:47.698355') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":400462,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400461,"elapsed":0.001025},{"id":400463,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 488 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400464,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400463,"elapsed":0.001408},{"id":400465,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097719979680,"value":"{:user=>#<User id: 488, username: \"bruce447\", created_at: \"2020-05-28 18:53:47\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":400466,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400465,"elapsed":1.0e-05},{"id":400467,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097720124420,"value":"#<UserOption:0x00007f81cb6a4808>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":400468,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":400467,"elapsed":4.0e-06},{"id":400469,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097720124420,"value":"#<UserOption:0x00007f81cb6a4808>"}},{"id":400470,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097720124420,"value":"#<UserOption:0x00007f81cb6a4808>"}},{"id":400471,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":400472,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":400471,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":400473,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":400470,"elapsed":0.000122,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":400474,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097720124420,"value":"#<UserOption:0x00007f81cb6a4808>"}},{"id":400475,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":400476,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":400475,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":400477,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":400474,"elapsed":0.000112,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":400478,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":400469,"elapsed":0.0005,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400479,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (488, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":400480,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400479,"elapsed":0.001206},{"id":400481,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097800646360,"value":"#<TrackedTopicsUpdater:0x00007f81d5039db0>"}},{"id":400482,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":400483,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":400482,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":400484,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":400485,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":400484,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":400486,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 488","database_type":"postgres","server_version":110006}},{"id":400487,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400486,"elapsed":0.001088},{"id":400488,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":400481,"elapsed":0.005046,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":400489,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400490,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 488 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400491,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400490,"elapsed":0.001127},{"id":400492,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (488) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":400493,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400492,"elapsed":0.000908},{"id":400494,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097731704020,"value":"{:user=>#<UserProfile user_id: 488, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":400495,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400494,"elapsed":9.0e-06},{"id":400496,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":400489,"elapsed":0.010292,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81ccc81b30>","object_id":70097731587480}},{"id":400497,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400498,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":400497,"elapsed":6.0e-06},{"id":400499,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":400500,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400499,"elapsed":0.000964},{"id":400501,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":400502,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400501,"elapsed":0.000847},{"id":400503,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":400504,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400503,"elapsed":0.000814},{"id":400505,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":400506,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400505,"elapsed":0.0008},{"id":400507,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400508,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400509,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":400508,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400510,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":400507,"elapsed":0.000106},{"id":400511,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 488","database_type":"postgres","server_version":110006}},{"id":400512,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400511,"elapsed":0.001067},{"id":400513,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>"}},{"id":400514,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 488 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400515,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400514,"elapsed":0.000972},{"id":400516,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (488, '2020-05-28 18:53:47.790235', '2020-05-28 18:53:47.790235') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400517,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400516,"elapsed":0.000977},{"id":400518,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":400513,"elapsed":0.008827},{"id":400519,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097804627200,"value":"{:user=>#<User id: 488, username: \"bruce447\", created_at: \"2020-05-28 18:53:47\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":400520,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400519,"elapsed":7.0e-06},{"id":400521,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":400522,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400521,"elapsed":4.0e-06},{"id":400523,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400524,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400523,"elapsed":0.000895},{"id":400525,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097828056820,"value":"#<User:0x00007f81d8481de8>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400526,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400527,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":400526,"elapsed":0.000207,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81b937a1a8>","object_id":70097567469780}},{"id":400528,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400529,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400528,"elapsed":0.001154},{"id":400530,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":400525,"elapsed":0.004648},{"id":400531,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400532,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400531,"elapsed":0.000904},{"id":400533,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE LOWER(\"categories\".\"name\") = LOWER('Amazing Category 87') AND \"categories\".\"parent_category_id\" IS NULL LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400534,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400533,"elapsed":0.001019},{"id":400535,"event":"call","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400536,"event":"return","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70097708498960,"parent_id":400535,"elapsed":8.0e-06},{"id":400537,"event":"call","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400538,"event":"return","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70097708498960,"parent_id":400537,"elapsed":7.0e-06},{"id":400539,"event":"call","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400540,"event":"call","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400541,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE \"categories\".\"slug\" = 'amazing-category-87' AND \"categories\".\"parent_category_id\" IS NULL AND \"categories\".\"id\" IS NOT NULL LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400542,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400541,"elapsed":0.001099},{"id":400543,"event":"return","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70097708498960,"parent_id":400540,"elapsed":0.003957},{"id":400544,"event":"return","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70097708498960,"parent_id":400539,"elapsed":0.004162},{"id":400545,"event":"call","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400546,"event":"return","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70097708498960,"parent_id":400545,"elapsed":4.0e-06},{"id":400547,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"categories\"","database_type":"postgres","server_version":110006}},{"id":400548,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400547,"elapsed":0.001014},{"id":400549,"event":"call","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400550,"event":"return","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70097708498960,"parent_id":400549,"elapsed":5.0e-06},{"id":400551,"event":"call","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400552,"event":"return","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70097708498960,"parent_id":400551,"elapsed":1.5e-05},{"id":400553,"event":"call","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400554,"event":"return","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70097708498960,"parent_id":400553,"elapsed":1.1e-05,"return_value":{"class":"String","value":"amazing category 87","object_id":70097827404060}},{"id":400555,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"categories\" (\"name\", \"created_at\", \"updated_at\", \"user_id\", \"slug\", \"position\", \"name_lower\") VALUES ('Amazing Category 87', '2020-05-28 18:53:47.819555', '2020-05-28 18:53:47.819555', 488, 'amazing-category-87', 1, 'amazing category 87') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400556,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400555,"elapsed":0.001114},{"id":400557,"event":"call","defined_class":"Category","method_id":"create_category_definition","path":"app/models/category.rb","lineno":279,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400558,"event":"return","defined_class":"Category","method_id":"create_category_definition","path":"app/models/category.rb","lineno":279,"static":false,"thread_id":70097708498960,"parent_id":400557,"elapsed":4.0e-06},{"id":400559,"event":"call","defined_class":"Category","method_id":"delete_category_permalink","path":"app/models/category.rb","lineno":754,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400560,"event":"call","defined_class":"Category","method_id":"slug_path","path":"app/models/category.rb","lineno":867,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400561,"event":"call","defined_class":"Category","method_id":"slug_for_url","path":"app/models/category.rb","lineno":366,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400562,"event":"return","defined_class":"Category","method_id":"slug_for_url","path":"app/models/category.rb","lineno":366,"static":false,"thread_id":70097708498960,"parent_id":400561,"elapsed":9.0e-06,"return_value":{"class":"String","value":"amazing-category-87","object_id":70097612456460}},{"id":400563,"event":"return","defined_class":"Category","method_id":"slug_path","path":"app/models/category.rb","lineno":867,"static":false,"thread_id":70097708498960,"parent_id":400560,"elapsed":0.000106,"return_value":{"class":"Array","value":"[\"amazing-category-87\"]","object_id":70097612479880}},{"id":400564,"event":"call","defined_class":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","method_id":"find_by_url","path":"app/models/permalink.rb","lineno":71,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097612478660,"value":"c/amazing-category-87","kind":"req"}],"receiver":{"class":"Class","object_id":70097795942780,"value":"Permalink"}},{"id":400565,"event":"call","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097612476660,"value":"c/amazing-category-87","kind":"req"}],"receiver":{"class":"Permalink::Normalizer","object_id":70097796075480,"value":"#<Permalink::Normalizer:0x00007f81d4781fb0>"}},{"id":400566,"event":"return","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":400565,"elapsed":3.0e-06,"return_value":{"class":"String","value":"c/amazing-category-87","object_id":70097612476660}},{"id":400567,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"permalinks\".* FROM \"permalinks\" WHERE \"permalinks\".\"url\" = 'c/amazing-category-87' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400568,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400567,"elapsed":0.000922},{"id":400569,"event":"return","defined_class":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","method_id":"find_by_url","path":"app/models/permalink.rb","lineno":71,"static":true,"thread_id":70097708498960,"parent_id":400564,"elapsed":0.003663},{"id":400570,"event":"return","defined_class":"Category","method_id":"delete_category_permalink","path":"app/models/category.rb","lineno":754,"static":false,"thread_id":70097708498960,"parent_id":400559,"elapsed":0.003986},{"id":400571,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400572,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400573,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":400572,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400574,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":400571,"elapsed":9.7e-05},{"id":400575,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":400576,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":400575,"elapsed":0.000114,"return_value":{"class":"Integer","value":"4004","object_id":8009}},{"id":400577,"event":"call","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400578,"event":"return","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70097708498960,"parent_id":400577,"elapsed":8.0e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097733017680}},{"id":400579,"event":"call","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400580,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400581,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400582,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400581,"elapsed":7.0e-06},{"id":400583,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":400580,"elapsed":0.000103,"return_value":{"class":"String","value":"Amazing Category 87","object_id":70097608381940}},{"id":400584,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400585,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400586,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400585,"elapsed":5.0e-06},{"id":400587,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":400584,"elapsed":9.4e-05},{"id":400588,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400589,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400590,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400589,"elapsed":5.0e-06},{"id":400591,"event":"call","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400592,"event":"return","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70097708498960,"parent_id":400591,"elapsed":4.0e-06},{"id":400593,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":400588,"elapsed":0.000173},{"id":400594,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400595,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400596,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400595,"elapsed":5.0e-06},{"id":400597,"event":"call","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400598,"event":"return","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70097708498960,"parent_id":400597,"elapsed":4.0e-06},{"id":400599,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":400594,"elapsed":0.000167},{"id":400600,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400601,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parent_id":400600,"elapsed":2.8e-05},{"id":400602,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400603,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":400602,"elapsed":6.0e-06},{"id":400604,"event":"call","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400605,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":400606,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":400607,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":400606,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":400608,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":400605,"elapsed":9.8e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":400609,"event":"return","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":400604,"elapsed":0.000189,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":400610,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400611,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":400610,"elapsed":3.0e-06},{"id":400612,"event":"call","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400613,"event":"return","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70097708498960,"parent_id":400612,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400614,"event":"call","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400615,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400616,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_custom_fields\".\"name\", \"category_custom_fields\".\"value\" FROM \"category_custom_fields\" WHERE \"category_custom_fields\".\"category_id\" = 101 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":400617,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400616,"elapsed":0.001004},{"id":400618,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":400615,"elapsed":0.004153,"return_value":{"class":"Hash","value":"{}","object_id":70097612705660}},{"id":400619,"event":"return","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":400614,"elapsed":0.004287,"return_value":{"class":"Hash","value":"{}","object_id":70097612705660}},{"id":400620,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400621,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":400620,"elapsed":8.0e-06},{"id":400622,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400623,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":400622,"elapsed":4.0e-06},{"id":400624,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400625,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":400624,"elapsed":4.0e-06},{"id":400626,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400627,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":400626,"elapsed":2.9e-05},{"id":400628,"event":"call","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400629,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"name\" FROM \"groups\" ORDER BY \"groups\".\"name\" ASC","database_type":"postgres","server_version":110006}},{"id":400630,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400629,"elapsed":0.000985},{"id":400631,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400632,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_groups\".\"id\" AS t0_r0, \"category_groups\".\"category_id\" AS t0_r1, \"category_groups\".\"group_id\" AS t0_r2, \"category_groups\".\"created_at\" AS t0_r3, \"category_groups\".\"updated_at\" AS t0_r4, \"category_groups\".\"permission_type\" AS t0_r5, \"groups\".\"id\" AS t1_r0, \"groups\".\"name\" AS t1_r1, \"groups\".\"created_at\" AS t1_r2, \"groups\".\"updated_at\" AS t1_r3, \"groups\".\"automatic\" AS t1_r4, \"groups\".\"user_count\" AS t1_r5, \"groups\".\"automatic_membership_email_domains\" AS t1_r6, \"groups\".\"primary_group\" AS t1_r7, \"groups\".\"title\" AS t1_r8, \"groups\".\"grant_trust_level\" AS t1_r9, \"groups\".\"incoming_email\" AS t1_r10, \"groups\".\"has_messages\" AS t1_r11, \"groups\".\"flair_bg_color\" AS t1_r12, \"groups\".\"flair_color\" AS t1_r13, \"groups\".\"bio_raw\" AS t1_r14, \"groups\".\"bio_cooked\" AS t1_r15, \"groups\".\"allow_membership_requests\" AS t1_r16, \"groups\".\"full_name\" AS t1_r17, \"groups\".\"default_notification_level\" AS t1_r18, \"groups\".\"visibility_level\" AS t1_r19, \"groups\".\"public_exit\" AS t1_r20, \"groups\".\"public_admission\" AS t1_r21, \"groups\".\"membership_request_template\" AS t1_r22, \"groups\".\"messageable_level\" AS t1_r23, \"groups\".\"mentionable_level\" AS t1_r24, \"groups\".\"publish_read_state\" AS t1_r25, \"groups\".\"members_visibility_level\" AS t1_r26, \"groups\".\"flair_icon\" AS t1_r27, \"groups\".\"flair_upload_id\" AS t1_r28 FROM \"category_groups\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"category_groups\".\"group_id\" WHERE \"category_groups\".\"category_id\" = 101 ORDER BY groups.name","database_type":"postgres","server_version":110006}},{"id":400633,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400632,"elapsed":0.001174},{"id":400634,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":400635,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":400634,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":400636,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":400637,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":400638,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 0 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400639,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400638,"elapsed":0.001028},{"id":400640,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parent_id":400637,"elapsed":0.003862,"return_value":{"class":"Group","value":"#<Group:0x00007f81bbb06208>","object_id":70097588203780}},{"id":400641,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parent_id":400636,"elapsed":0.003985,"return_value":{"class":"Group","value":"#<Group:0x00007f81bbb06208>","object_id":70097588203780}},{"id":400642,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":400631,"elapsed":0.00903,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"everyone\"}]","object_id":70097828544540}},{"id":400643,"event":"return","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":400628,"elapsed":0.013057,"return_value":{"class":"Array","value":"[\"admins\", \"moderators\", \"staff\", \"trust_level_0\", \"trust_level_1\", \"trust_level_2\", \"trust_level_3\"","object_id":70097588200960}},{"id":400644,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400645,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":400644,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"everyone\"}]","object_id":70097828544540}},{"id":400646,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400647,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":400646,"elapsed":3.0e-06},{"id":400648,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400649,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":400648,"elapsed":2.0e-06},{"id":400650,"event":"call","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400651,"event":"return","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":400650,"elapsed":3.0e-06},{"id":400652,"event":"call","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400653,"event":"return","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":400652,"elapsed":3.0e-06},{"id":400654,"event":"call","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400655,"event":"return","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70097708498960,"parent_id":400654,"elapsed":1.2e-05},{"id":400656,"event":"call","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097608361640,"value":"#<CategorySerializer:0x00007f81be178d50>"}},{"id":400657,"event":"return","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":400656,"elapsed":7.0e-06},{"id":400658,"event":"return","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70097708498960,"parent_id":400579,"elapsed":0.020376,"return_value":{"class":"Integer","value":"4006","object_id":8013}},{"id":400659,"event":"call","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400660,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"topic_id\" FROM \"categories\"","database_type":"postgres","server_version":110006}},{"id":400661,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400660,"elapsed":0.00093},{"id":400662,"event":"return","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":400659,"elapsed":0.003487,"return_value":{"class":"Set","value":"#<Set: {}>","object_id":70097568692240}},{"id":400663,"event":"call","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400664,"event":"return","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":400663,"elapsed":6.9e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097586635020}},{"id":400665,"event":"call","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400666,"event":"return","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70097708498960,"parent_id":400665,"elapsed":6.1e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097586658820}},{"id":400667,"event":"call","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400668,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":400669,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400668,"elapsed":4.0e-06},{"id":400670,"event":"return","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70097708498960,"parent_id":400667,"elapsed":0.000103},{"id":400671,"event":"call","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400672,"event":"return","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70097708498960,"parent_id":400671,"elapsed":9.0e-06},{"id":400673,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400674,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400673,"elapsed":0.000884},{"id":400675,"event":"call","defined_class":"Category","method_id":"trigger_category_created_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400676,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":11024988,"value":"category","kind":"req"},{"name":"object","class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>","kind":"req"},{"name":"event","class":"Symbol","object_id":12691868,"value":"category_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400677,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":11024988,"value":"category","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400678,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":400677,"elapsed":0.000203,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bc70fc48>","object_id":70097594514980}},{"id":400679,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'category') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400680,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400679,"elapsed":0.00116},{"id":400681,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":400676,"elapsed":0.004466},{"id":400682,"event":"return","defined_class":"Category","method_id":"trigger_category_created_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70097708498960,"parent_id":400675,"elapsed":0.004617,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400683,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400684,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400683,"elapsed":0.000791},{"id":400685,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>","kind":"req"},{"name":"field_name","class":"String","object_id":70097712601200,"value":"name","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400686,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097829438860,"value":"#<UsernameValidator:0x00007f81d8724b18>"}},{"id":400687,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400688,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":400687,"elapsed":8.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097829459440}},{"id":400689,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400690,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":400689,"elapsed":4.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097829457060}},{"id":400691,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400692,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":400691,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":400693,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400694,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":400693,"elapsed":5.0e-06},{"id":400695,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":400686,"elapsed":0.000442,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400696,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":400685,"elapsed":0.000549},{"id":400697,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097829445020,"value":"my_group_24","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400698,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":400697,"elapsed":9.0e-06,"return_value":{"class":"String","value":"my_group_24","object_id":70097829471740}},{"id":400699,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400700,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":400699,"elapsed":4.0e-06},{"id":400701,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097829445020,"value":"my_group_24","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400702,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097829445020,"value":"my_group_24","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400703,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":400702,"elapsed":8.0e-06,"return_value":{"class":"String","value":"my_group_24","object_id":70097829488700}},{"id":400704,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parent_id":400701,"elapsed":0.001155},{"id":400705,"event":"call","defined_class":"Group","method_id":"incoming_email_validator","path":"app/models/group.rb","lineno":290,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400706,"event":"return","defined_class":"Group","method_id":"incoming_email_validator","path":"app/models/group.rb","lineno":290,"static":false,"thread_id":70097708498960,"parent_id":400705,"elapsed":1.3e-05},{"id":400707,"event":"call","defined_class":"Group","method_id":"downcase_incoming_email","path":"app/models/group.rb","lineno":278,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400708,"event":"return","defined_class":"Group","method_id":"downcase_incoming_email","path":"app/models/group.rb","lineno":278,"static":false,"thread_id":70097708498960,"parent_id":400707,"elapsed":1.4e-05},{"id":400709,"event":"call","defined_class":"Group","method_id":"cook_bio","path":"app/models/group.rb","lineno":282,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400710,"event":"return","defined_class":"Group","method_id":"cook_bio","path":"app/models/group.rb","lineno":282,"static":false,"thread_id":70097708498960,"parent_id":400709,"elapsed":1.1e-05},{"id":400711,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"groups\" (\"name\", \"created_at\", \"updated_at\", \"public_admission\") VALUES ('my_group_24', '2020-05-28 18:53:47.866990', '2020-05-28 18:53:47.866990', TRUE) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400712,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400711,"elapsed":0.001006},{"id":400713,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400714,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400715,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":400714,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400716,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":400713,"elapsed":0.000102},{"id":400717,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":400718,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":400717,"elapsed":0.000117,"return_value":{"class":"Integer","value":"4010","object_id":8021}},{"id":400719,"event":"call","defined_class":"Group","method_id":"expire_cache","path":"app/models/group.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400720,"event":"call","defined_class":"ApplicationSerializer","method_id":"expire_cache_fragment!","path":"app/serializers/application_serializer.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097792693900,"value":"group_names","kind":"req"}],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":400721,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":400722,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":400721,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":400723,"event":"return","defined_class":"ApplicationSerializer","method_id":"expire_cache_fragment!","path":"app/serializers/application_serializer.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":400720,"elapsed":0.000159,"return_value":{"class":"Array","value":"[]","object_id":70097800357460}},{"id":400724,"event":"return","defined_class":"Group","method_id":"expire_cache","path":"app/models/group.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":400719,"elapsed":0.000318,"return_value":{"class":"Hash","value":"{}","object_id":70097802447280}},{"id":400725,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400726,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400725,"elapsed":0.000871},{"id":400727,"event":"call","defined_class":"Group","method_id":"trigger_group_created_event","path":"app/models/group.rb","lineno":741,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>"}},{"id":400728,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":472668,"value":"group","kind":"req"},{"name":"object","class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>","kind":"req"},{"name":"event","class":"Symbol","object_id":12691228,"value":"group_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400729,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":472668,"value":"group","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400730,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":400729,"elapsed":0.000195,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bbe1bba0>","object_id":70097589820880}},{"id":400731,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'group') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400732,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400731,"elapsed":0.001106},{"id":400733,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":400728,"elapsed":0.004491},{"id":400734,"event":"return","defined_class":"Group","method_id":"trigger_group_created_event","path":"app/models/group.rb","lineno":741,"static":false,"thread_id":70097708498960,"parent_id":400727,"elapsed":0.004635,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400735,"event":"call","defined_class":"Category","method_id":"set_permissions","path":"app/models/category.rb","lineno":473,"static":false,"thread_id":70097708498960,"parameters":[{"name":"permissions","class":"Hash","object_id":70097615335600,"value":"{#<Group id: 71, name: \"my_group_24\", created_at: \"2020-05-28 18:53:47\", updated_at: \"2020-05-28 18:","kind":"req"}],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400736,"event":"call","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"resolve_permissions","path":"app/models/category.rb","lineno":504,"static":true,"thread_id":70097708498960,"parameters":[{"name":"permissions","class":"Hash","object_id":70097615335600,"value":"{#<Group id: 71, name: \"my_group_24\", created_at: \"2020-05-28 18:53:47\", updated_at: \"2020-05-28 18:","kind":"req"}],"receiver":{"class":"Class","object_id":70097781459620,"value":"Category"}},{"id":400737,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":400738,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":400737,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":400739,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"group_id_from_param","path":"app/models/group.rb","lineno":576,"static":true,"thread_id":70097708498960,"parameters":[{"name":"group_param","class":"Group","object_id":70097614478760,"value":"#<Group:0x00007f81bed23b50>","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":400740,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"group_id_from_param","path":"app/models/group.rb","lineno":576,"static":true,"thread_id":70097708498960,"parent_id":400739,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"71","object_id":143}},{"id":400741,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":400742,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":400741,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":400743,"event":"return","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"resolve_permissions","path":"app/models/category.rb","lineno":504,"static":true,"thread_id":70097708498960,"parent_id":400736,"elapsed":0.000309,"return_value":{"class":"Array","value":"[true, [[71, 1]]]","object_id":70097615370480}},{"id":400744,"event":"return","defined_class":"Category","method_id":"set_permissions","path":"app/models/category.rb","lineno":473,"static":false,"thread_id":70097708498960,"parent_id":400735,"elapsed":0.000496,"return_value":{"class":"Array","value":"[true, [[71, 1]]]","object_id":70097615370480}},{"id":400745,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400746,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400745,"elapsed":0.00077},{"id":400747,"event":"call","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400748,"event":"return","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70097708498960,"parent_id":400747,"elapsed":6.0e-06},{"id":400749,"event":"call","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400750,"event":"return","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70097708498960,"parent_id":400749,"elapsed":6.0e-06},{"id":400751,"event":"call","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400752,"event":"call","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400753,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE \"categories\".\"slug\" = 'amazing-category-87' AND \"categories\".\"parent_category_id\" IS NULL AND \"categories\".\"id\" != 101 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400754,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400753,"elapsed":0.000939},{"id":400755,"event":"return","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70097708498960,"parent_id":400752,"elapsed":0.003688},{"id":400756,"event":"return","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70097708498960,"parent_id":400751,"elapsed":0.003846},{"id":400757,"event":"call","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400758,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"parent_category_id\" = 101","database_type":"postgres","server_version":110006}},{"id":400759,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400758,"elapsed":0.001298},{"id":400760,"event":"return","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70097708498960,"parent_id":400757,"elapsed":0.004208},{"id":400761,"event":"call","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400762,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_groups\".* FROM \"category_groups\" WHERE \"category_groups\".\"category_id\" = 101","database_type":"postgres","server_version":110006}},{"id":400763,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400762,"elapsed":0.000912},{"id":400764,"event":"return","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70097708498960,"parent_id":400761,"elapsed":0.035528},{"id":400765,"event":"call","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400766,"event":"return","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70097708498960,"parent_id":400765,"elapsed":1.3e-05},{"id":400767,"event":"call","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400768,"event":"return","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70097708498960,"parent_id":400767,"elapsed":1.1e-05,"return_value":{"class":"String","value":"amazing category 87","object_id":70097783081760}},{"id":400769,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"categories\" SET \"updated_at\" = '2020-05-28 18:53:47.928294', \"read_restricted\" = TRUE WHERE \"categories\".\"id\" = 101","database_type":"postgres","server_version":110006}},{"id":400770,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400769,"elapsed":0.001792},{"id":400771,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"category_groups\" (\"category_id\", \"group_id\", \"created_at\", \"updated_at\") VALUES (101, 71, '2020-05-28 18:53:47.933649', '2020-05-28 18:53:47.933649') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400772,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400771,"elapsed":0.00127},{"id":400773,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400774,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400775,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":400774,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400776,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":400773,"elapsed":0.000112},{"id":400777,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":400778,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":400777,"elapsed":0.000116,"return_value":{"class":"Integer","value":"4013","object_id":8027}},{"id":400779,"event":"call","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400780,"event":"return","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70097708498960,"parent_id":400779,"elapsed":7.1e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097733017680}},{"id":400781,"event":"call","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400782,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\" FROM \"groups\" INNER JOIN \"category_groups\" ON \"groups\".\"id\" = \"category_groups\".\"group_id\" WHERE \"category_groups\".\"category_id\" = 101","database_type":"postgres","server_version":110006}},{"id":400783,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400782,"elapsed":0.001163},{"id":400784,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400785,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400786,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400785,"elapsed":1.0e-05},{"id":400787,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":400784,"elapsed":0.000117,"return_value":{"class":"String","value":"Amazing Category 87","object_id":70097731504860}},{"id":400788,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400789,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400790,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400789,"elapsed":5.0e-06},{"id":400791,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":400788,"elapsed":9.5e-05},{"id":400792,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400793,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400794,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400793,"elapsed":5.0e-06},{"id":400795,"event":"call","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400796,"event":"return","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70097708498960,"parent_id":400795,"elapsed":4.0e-06},{"id":400797,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":400792,"elapsed":0.000188},{"id":400798,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400799,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400800,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":400799,"elapsed":5.0e-06},{"id":400801,"event":"call","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400802,"event":"return","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70097708498960,"parent_id":400801,"elapsed":4.0e-06},{"id":400803,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":400798,"elapsed":0.000174},{"id":400804,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400805,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parent_id":400804,"elapsed":1.5e-05},{"id":400806,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400807,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":400806,"elapsed":7.0e-06},{"id":400808,"event":"call","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400809,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":400810,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":400811,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":400810,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":400812,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":400809,"elapsed":0.000104,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":400813,"event":"return","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":400808,"elapsed":0.000198,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":400814,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400815,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":400814,"elapsed":3.0e-06},{"id":400816,"event":"call","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400817,"event":"return","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70097708498960,"parent_id":400816,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400818,"event":"call","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400819,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400820,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":400819,"elapsed":4.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70097612705660}},{"id":400821,"event":"return","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":400818,"elapsed":9.6e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097612705660}},{"id":400822,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400823,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":400822,"elapsed":5.0e-06},{"id":400824,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400825,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":400824,"elapsed":4.0e-06},{"id":400826,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400827,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":400826,"elapsed":3.0e-06},{"id":400828,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400829,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":400828,"elapsed":9.0e-06},{"id":400830,"event":"call","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400831,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"name\" FROM \"groups\" ORDER BY \"groups\".\"name\" ASC","database_type":"postgres","server_version":110006}},{"id":400832,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400831,"elapsed":0.000979},{"id":400833,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400834,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_groups\".\"id\" AS t0_r0, \"category_groups\".\"category_id\" AS t0_r1, \"category_groups\".\"group_id\" AS t0_r2, \"category_groups\".\"created_at\" AS t0_r3, \"category_groups\".\"updated_at\" AS t0_r4, \"category_groups\".\"permission_type\" AS t0_r5, \"groups\".\"id\" AS t1_r0, \"groups\".\"name\" AS t1_r1, \"groups\".\"created_at\" AS t1_r2, \"groups\".\"updated_at\" AS t1_r3, \"groups\".\"automatic\" AS t1_r4, \"groups\".\"user_count\" AS t1_r5, \"groups\".\"automatic_membership_email_domains\" AS t1_r6, \"groups\".\"primary_group\" AS t1_r7, \"groups\".\"title\" AS t1_r8, \"groups\".\"grant_trust_level\" AS t1_r9, \"groups\".\"incoming_email\" AS t1_r10, \"groups\".\"has_messages\" AS t1_r11, \"groups\".\"flair_bg_color\" AS t1_r12, \"groups\".\"flair_color\" AS t1_r13, \"groups\".\"bio_raw\" AS t1_r14, \"groups\".\"bio_cooked\" AS t1_r15, \"groups\".\"allow_membership_requests\" AS t1_r16, \"groups\".\"full_name\" AS t1_r17, \"groups\".\"default_notification_level\" AS t1_r18, \"groups\".\"visibility_level\" AS t1_r19, \"groups\".\"public_exit\" AS t1_r20, \"groups\".\"public_admission\" AS t1_r21, \"groups\".\"membership_request_template\" AS t1_r22, \"groups\".\"messageable_level\" AS t1_r23, \"groups\".\"mentionable_level\" AS t1_r24, \"groups\".\"publish_read_state\" AS t1_r25, \"groups\".\"members_visibility_level\" AS t1_r26, \"groups\".\"flair_icon\" AS t1_r27, \"groups\".\"flair_upload_id\" AS t1_r28 FROM \"category_groups\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"category_groups\".\"group_id\" WHERE \"category_groups\".\"category_id\" = 101 ORDER BY groups.name","database_type":"postgres","server_version":110006}},{"id":400835,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400834,"elapsed":0.001264},{"id":400836,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":400833,"elapsed":0.005113,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"my_group_24\"}]","object_id":70097813772080}},{"id":400837,"event":"return","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":400830,"elapsed":0.009045,"return_value":{"class":"Array","value":"[\"admins\", \"everyone\", \"moderators\", \"staff\", \"trust_level_0\", \"trust_level_1\", \"trust_level_2\", \"tr","object_id":70097730210420}},{"id":400838,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400839,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":400838,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"my_group_24\"}]","object_id":70097813772080}},{"id":400840,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400841,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":400840,"elapsed":3.0e-06},{"id":400842,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400843,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":400842,"elapsed":3.0e-06},{"id":400844,"event":"call","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400845,"event":"return","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":400844,"elapsed":3.0e-06},{"id":400846,"event":"call","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400847,"event":"return","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":400846,"elapsed":3.0e-06},{"id":400848,"event":"call","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400849,"event":"return","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70097708498960,"parent_id":400848,"elapsed":1.0e-05},{"id":400850,"event":"call","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097731486420,"value":"#<CategorySerializer:0x00007f81ccc505a8>"}},{"id":400851,"event":"return","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":400850,"elapsed":5.0e-06},{"id":400852,"event":"return","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70097708498960,"parent_id":400781,"elapsed":0.016383,"return_value":{"class":"Integer","value":"4015","object_id":8031}},{"id":400853,"event":"call","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400854,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"topic_id\" FROM \"categories\"","database_type":"postgres","server_version":110006}},{"id":400855,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400854,"elapsed":0.000959},{"id":400856,"event":"return","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":400853,"elapsed":0.003373,"return_value":{"class":"Set","value":"#<Set: {}>","object_id":70097586803140}},{"id":400857,"event":"call","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400858,"event":"return","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":400857,"elapsed":7.0e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097586635020}},{"id":400859,"event":"call","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400860,"event":"return","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70097708498960,"parent_id":400859,"elapsed":6.2e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097586658820}},{"id":400861,"event":"call","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400862,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":400863,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400862,"elapsed":4.0e-06},{"id":400864,"event":"return","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70097708498960,"parent_id":400861,"elapsed":0.0001},{"id":400865,"event":"call","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400866,"event":"return","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70097708498960,"parent_id":400865,"elapsed":7.0e-06},{"id":400867,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400868,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400867,"elapsed":0.000992},{"id":400869,"event":"call","defined_class":"Category","method_id":"trigger_category_updated_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>"}},{"id":400870,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":11024988,"value":"category","kind":"req"},{"name":"object","class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>","kind":"req"},{"name":"event","class":"Symbol","object_id":11008668,"value":"category_updated","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400871,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":11024988,"value":"category","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":400872,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":400871,"elapsed":0.000226,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d6a2b610>","object_id":70097814248200}},{"id":400873,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'category') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400874,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400873,"elapsed":0.001127},{"id":400875,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":400870,"elapsed":0.004672},{"id":400876,"event":"return","defined_class":"Category","method_id":"trigger_category_updated_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70097708498960,"parent_id":400869,"elapsed":0.004839,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400877,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400878,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":400877,"elapsed":6.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":400879,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097815606200,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400880,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":400879,"elapsed":0.00016,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81d6cdbe00>","object_id":70097815658240}},{"id":400881,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":400882,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400881,"elapsed":0.000856},{"id":400883,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400884,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":400883,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400885,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400886,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400887,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097816966820,"value":"#<UsernameValidator:0x00007f81d6f5ad48>"}},{"id":400888,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400889,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":400888,"elapsed":9.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097816985180}},{"id":400890,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400891,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":400890,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097816981540}},{"id":400892,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400893,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":400892,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":400894,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":400895,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":400894,"elapsed":4.0e-06},{"id":400896,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":400887,"elapsed":0.000404,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400897,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":400886,"elapsed":0.000534},{"id":400898,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":400885,"elapsed":0.000669},{"id":400899,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097816949100,"value":"bruce448","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400900,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":400899,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce448","object_id":70097817016940}},{"id":400901,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097816949100,"value":"bruce448","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400902,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400901,"elapsed":8.0e-06},{"id":400903,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097817010620,"value":"bruce448","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400904,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400903,"elapsed":4.0e-06},{"id":400905,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400906,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097817028440,"value":"#<PasswordValidator:0x00007f81d6f78eb0>"}},{"id":400907,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400908,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400909,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":400908,"elapsed":4.0e-06},{"id":400910,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":400907,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400911,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400912,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":400911,"elapsed":1.0e-05,"return_value":{"class":"String","value":"bruce448@wayne.com","object_id":70097817078840}},{"id":400913,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400914,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":400913,"elapsed":6.0e-06,"return_value":{"class":"String","value":"bruce448@wayne.com","object_id":70097817078840}},{"id":400915,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400916,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400915,"elapsed":5.0e-06},{"id":400917,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400906,"elapsed":0.001703},{"id":400918,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":400905,"elapsed":0.001827},{"id":400919,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400920,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":400919,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":400921,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097817110420,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400922,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400921,"elapsed":4.0e-06},{"id":400923,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097817128200,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400924,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":400923,"elapsed":4.0e-06},{"id":400925,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097817082880,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":400926,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400925,"elapsed":4.0e-06},{"id":400927,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097817165100,"value":"99.232.23.230","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":400928,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097817165100,"value":"99.232.23.230","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":400929,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097817165100,"value":"99.232.23.230","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":400930,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097817165100,"value":"99.232.23.230","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":400931,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.230' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400932,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400931,"elapsed":0.000836},{"id":400933,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":400930,"elapsed":0.004135},{"id":400934,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":400929,"elapsed":0.004257},{"id":400935,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":400928,"elapsed":0.004359},{"id":400936,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400927,"elapsed":0.004468},{"id":400937,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097815658240,"value":"#<UserEmail:0x00007f81d6cdbe00>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097592586340,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":400938,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097592586340,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400939,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097592586340,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400940,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":400939,"elapsed":2.8e-05},{"id":400941,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":400938,"elapsed":0.000125,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400942,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097592586340,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400943,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097592586340,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400944,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":400943,"elapsed":8.0e-06,"return_value":{"class":"String","value":"bruce448@wayne.com","object_id":70097592654920}},{"id":400945,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":400946,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400945,"elapsed":0.000988},{"id":400947,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":400942,"elapsed":0.004544},{"id":400948,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400937,"elapsed":0.004881},{"id":400949,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce448@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400950,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400949,"elapsed":0.000963},{"id":400951,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":400952,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":400951,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":400953,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce448', '2020-05-28 18:53:47.991913', '2020-05-28 18:53:47.991913', 'Bruce Wayne', 'c5cf0130b3550e7cc1b249f1242cefb8f5f8d8be52f76e946e7aa4d3ca9e0f70', 'b4119218fa58afe8f27cc0b49d557763', TRUE, 'bruce448', 1, '99.232.23.230/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400954,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400953,"elapsed":0.001169},{"id":400955,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097815658240,"value":"#<UserEmail:0x00007f81d6cdbe00>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097567222480,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":400956,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097567222480,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400957,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097567222480,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":400958,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":400957,"elapsed":2.7e-05},{"id":400959,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":400956,"elapsed":0.000131,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":400960,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097567222480,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400961,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097567222480,"value":"bruce448@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":400962,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":400961,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce448@wayne.com","object_id":70097567255740}},{"id":400963,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":400964,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400963,"elapsed":0.001014},{"id":400965,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":400960,"elapsed":0.004572},{"id":400966,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":400955,"elapsed":0.004929},{"id":400967,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 489 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400968,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400967,"elapsed":0.00094},{"id":400969,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce448@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400970,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400969,"elapsed":0.00091},{"id":400971,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (489, 'bruce448@wayne.com', TRUE, '2020-05-28 18:53:48.009874', '2020-05-28 18:53:48.009874') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400972,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400971,"elapsed":0.000932},{"id":400973,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":400974,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":400973,"elapsed":2.6e-05,"return_value":{"class":"String","value":"bruce448@wayne.com","object_id":70097799230560}},{"id":400975,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":400976,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":400977,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":400976,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":400978,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":400975,"elapsed":0.000133,"return_value":{"class":"String","value":"7ef2ce534bcee21c9f2e533d466bc147","object_id":70097799245260}},{"id":400979,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (489, 'bruce448@wayne.com', '7ef2ce534bcee21c9f2e533d466bc147', '2020-05-28 18:53:48.015539', '2020-05-28 18:53:48.015539') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":400980,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400979,"elapsed":0.001282},{"id":400981,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 489 AND (id != 685)","database_type":"postgres","server_version":110006}},{"id":400982,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400981,"elapsed":0.001113},{"id":400983,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (489, '2020-05-28 18:53:48.025298') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":400984,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400983,"elapsed":0.001127},{"id":400985,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 489 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":400986,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":400985,"elapsed":0.001181},{"id":400987,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097828781100,"value":"{:user=>#<User id: 489, username: \"bruce448\", created_at: \"2020-05-28 18:53:47\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":400988,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":400987,"elapsed":1.0e-05},{"id":400989,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097828795420,"value":"#<UserOption:0x00007f81d85ea838>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":400990,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":400989,"elapsed":3.0e-06},{"id":400991,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097828795420,"value":"#<UserOption:0x00007f81d85ea838>"}},{"id":400992,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097828795420,"value":"#<UserOption:0x00007f81d85ea838>"}},{"id":400993,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":400994,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":400993,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":400995,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":400992,"elapsed":0.000112,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":400996,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097828795420,"value":"#<UserOption:0x00007f81d85ea838>"}},{"id":400997,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":400998,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":400997,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":400999,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":400996,"elapsed":0.0001,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":401000,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":400991,"elapsed":0.000449,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401001,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (489, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":401002,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401001,"elapsed":0.001251},{"id":401003,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097613689060,"value":"#<TrackedTopicsUpdater:0x00007f81beba21c8>"}},{"id":401004,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":401005,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":401004,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":401006,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":401007,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":401006,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":401008,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 489","database_type":"postgres","server_version":110006}},{"id":401009,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401008,"elapsed":0.001118},{"id":401010,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":401003,"elapsed":0.004548,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":401011,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401012,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 489 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401013,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401012,"elapsed":0.001227},{"id":401014,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (489) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":401015,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401014,"elapsed":0.001026},{"id":401016,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097614394920,"value":"{:user=>#<UserProfile user_id: 489, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":401017,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":401016,"elapsed":1.0e-05},{"id":401018,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":401011,"elapsed":0.009966,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81be1ccb30>","object_id":70097608533400}},{"id":401019,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401020,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":401019,"elapsed":7.0e-06},{"id":401021,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":401022,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401021,"elapsed":0.001003},{"id":401023,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":401024,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401023,"elapsed":0.000924},{"id":401025,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":401026,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401025,"elapsed":0.001227},{"id":401027,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":401028,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401027,"elapsed":0.000978},{"id":401029,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401030,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401031,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":401030,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401032,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":401029,"elapsed":0.000106},{"id":401033,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 489","database_type":"postgres","server_version":110006}},{"id":401034,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401033,"elapsed":0.00103},{"id":401035,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401036,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 489 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401037,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401036,"elapsed":0.001571},{"id":401038,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (489, '2020-05-28 18:53:48.079927', '2020-05-28 18:53:48.079927') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":401039,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401038,"elapsed":0.00105},{"id":401040,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":401035,"elapsed":0.009035},{"id":401041,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097621430560,"value":"{:user=>#<User id: 489, username: \"bruce448\", created_at: \"2020-05-28 18:53:47\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":401042,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":401041,"elapsed":7.0e-06},{"id":401043,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":401044,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":401043,"elapsed":4.0e-06},{"id":401045,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":401046,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401045,"elapsed":0.000753},{"id":401047,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":401048,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":401049,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":401048,"elapsed":0.00024,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d2c39348>","object_id":70097781770660}},{"id":401050,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401051,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401050,"elapsed":0.00156},{"id":401052,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":401047,"elapsed":0.005869},{"id":401053,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":401054,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":401053,"elapsed":5.7e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097797163520}},{"id":401055,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097797136140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401056,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":401055,"elapsed":8.3e-05,"return_value":{"class":"String","value":"This is a test topic 383","object_id":70097797136140}},{"id":401057,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":401058,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401057,"elapsed":0.001086},{"id":401059,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097758056020,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401060,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":401059,"elapsed":7.4e-05,"return_value":{"class":"String","value":"This is a test topic 383","object_id":70097758056020}},{"id":401061,"event":"call","defined_class":"TopicTitleLengthValidator","method_id":"validate_each","path":"lib/validators/topic_title_length_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097758142140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"TopicTitleLengthValidator","object_id":70097778412020,"value":"#<TopicTitleLengthValidator:0x00007f81d25d13e8>"}},{"id":401062,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401063,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401062,"elapsed":7.0e-06},{"id":401064,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401065,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401064,"elapsed":8.0e-06},{"id":401066,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"topic_title_length","path":"app/models/site_setting.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":401067,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"topic_title_length","path":"app/models/site_setting.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":401066,"elapsed":6.0e-06,"return_value":{"class":"Range","value":"15..255","object_id":70097758254760}},{"id":401068,"event":"return","defined_class":"TopicTitleLengthValidator","method_id":"validate_each","path":"lib/validators/topic_title_length_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":401061,"elapsed":0.000358,"return_value":{"class":"Hash","value":"{:is=>:==, :minimum=>:>=, :maximum=>:<=}","object_id":70097718258080}},{"id":401069,"event":"call","defined_class":"CensoredWordsValidator","method_id":"validate_each","path":"lib/validators/censored_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097758142140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"CensoredWordsValidator","object_id":70097778515220,"value":"#<CensoredWordsValidator:0x00007f81d2603a28>"}},{"id":401070,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401071,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401072,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401073,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":401072,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097758348080}},{"id":401074,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":401071,"elapsed":0.000956},{"id":401075,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":401070,"elapsed":0.001073},{"id":401076,"event":"call","defined_class":"WordWatcher","method_id":"words_for_action","path":"app/services/word_watcher.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401077,"event":"call","defined_class":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","method_id":"actions","path":"app/models/watched_word.rb","lineno":5,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587074820,"value":"WatchedWord"}},{"id":401078,"event":"return","defined_class":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","method_id":"actions","path":"app/models/watched_word.rb","lineno":5,"static":true,"thread_id":70097708498960,"parent_id":401077,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:block=>1, :censor=>2, :require_approval=>3, :flag=>4}","object_id":70097568148260}},{"id":401079,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"watched_words\".\"word\" FROM \"watched_words\" WHERE \"watched_words\".\"action\" = 2 LIMIT 1000","database_type":"postgres","server_version":110006}},{"id":401080,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401079,"elapsed":0.000914},{"id":401081,"event":"return","defined_class":"WordWatcher","method_id":"words_for_action","path":"app/services/word_watcher.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":401076,"elapsed":0.004298,"return_value":{"class":"Array","value":"[]","object_id":70097730847340}},{"id":401082,"event":"return","defined_class":"CensoredWordsValidator","method_id":"validate_each","path":"lib/validators/censored_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":401069,"elapsed":0.005618},{"id":401083,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097758142140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097778596560,"value":"#<WatchedWordsValidator:0x00007f81d262b5a0>"}},{"id":401084,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097730899860,"value":"#<WordWatcher:0x00007f81ccb31f28>"}},{"id":401085,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097730917760,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097730899860,"value":"#<WordWatcher:0x00007f81ccb31f28>"}},{"id":401086,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401087,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401088,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":401089,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":401088,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097730966500}},{"id":401090,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":401087,"elapsed":0.000737},{"id":401091,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":401086,"elapsed":0.000849},{"id":401092,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":401085,"elapsed":0.000944},{"id":401093,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":401084,"elapsed":0.001045},{"id":401094,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":401083,"elapsed":0.00114},{"id":401095,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401096,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401095,"elapsed":8.0e-06},{"id":401097,"event":"call","defined_class":"QualityTitleValidator","method_id":"validate_each","path":"lib/validators/quality_title_validator.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097758142140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"QualityTitleValidator","object_id":70097778757840,"value":"#<QualityTitleValidator:0x00007f81d267a1a0>"}},{"id":401098,"event":"return","defined_class":"QualityTitleValidator","method_id":"validate_each","path":"lib/validators/quality_title_validator.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":401097,"elapsed":7.2e-05},{"id":401099,"event":"call","defined_class":"MaxEmojisValidator","method_id":"validate_each","path":"lib/validators/max_emojis_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097758142140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"MaxEmojisValidator","object_id":70097778857220,"value":"#<MaxEmojisValidator:0x00007f81d26aaa08>"}},{"id":401100,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097731111260,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":401101,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":401100,"elapsed":0.000197,"return_value":{"class":"String","value":"This is a test topic 383","object_id":70097731146520}},{"id":401102,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":401103,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":401104,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":401103,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097731177300}},{"id":401105,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":401102,"elapsed":0.000757,"return_value":{"class":"Array","value":"[]","object_id":70097731192820}},{"id":401106,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":401107,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":401106,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":401108,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":401109,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401110,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":401109,"elapsed":4.0e-06},{"id":401111,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":401108,"elapsed":9.6e-05},{"id":401112,"event":"return","defined_class":"MaxEmojisValidator","method_id":"validate_each","path":"lib/validators/max_emojis_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":401099,"elapsed":0.001673},{"id":401113,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401114,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401113,"elapsed":8.0e-06},{"id":401115,"event":"call","defined_class":"UniqueAmongValidator","method_id":"validate_each","path":"lib/validators/unique_among_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097758142140,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"UniqueAmongValidator","object_id":70097778966840,"value":"#<UniqueAmongValidator:0x00007f81d26e0270>"}},{"id":401116,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topics\" WHERE LOWER(\"topics\".\"title\") = LOWER('This is a test topic 383') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401117,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401116,"elapsed":0.001088},{"id":401118,"event":"return","defined_class":"UniqueAmongValidator","method_id":"validate_each","path":"lib/validators/unique_among_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":401115,"elapsed":0.00427},{"id":401119,"event":"call","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401120,"event":"return","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parent_id":401119,"elapsed":6.0e-06},{"id":401121,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097795693240,"value":"This is a test topic 383","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":401122,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":401121,"elapsed":0.000174,"return_value":{"class":"String","value":"This is a test topic 383","object_id":70097795745500}},{"id":401123,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":401124,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parent_id":401123,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"400","object_id":801}},{"id":401125,"event":"call","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401126,"event":"return","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parent_id":401125,"elapsed":1.8e-05},{"id":401127,"event":"call","defined_class":"Topic","method_id":"initialize_default_values","path":"app/models/topic.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401128,"event":"return","defined_class":"Topic","method_id":"initialize_default_values","path":"app/models/topic.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":401127,"elapsed":1.7e-05,"return_value":{"class":"Integer","value":"489","object_id":979}},{"id":401129,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topics\" (\"title\", \"created_at\", \"updated_at\", \"user_id\", \"last_post_user_id\", \"category_id\", \"bumped_at\", \"slug\", \"fancy_title\") VALUES ('This is a test topic 383', '2020-05-28 18:53:48.147556', '2020-05-28 18:53:48.147556', 489, 489, 101, '2020-05-28 18:53:48.147652', 'this-is-a-test-topic-383', 'This is a test topic 383') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":401130,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401129,"elapsed":0.001342},{"id":401131,"event":"call","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401132,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401133,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":401132,"elapsed":8.0e-06},{"id":401134,"event":"return","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parent_id":401131,"elapsed":0.000164,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401135,"event":"call","defined_class":"Topic","method_id":"limit_topics_per_day","path":"app/models/topic.rb","lineno":419,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401136,"event":"call","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401137,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401138,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":401137,"elapsed":6.0e-06},{"id":401139,"event":"call","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>"}},{"id":401140,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 489 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401141,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401140,"elapsed":0.001158},{"id":401142,"event":"return","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parent_id":401139,"elapsed":0.004533},{"id":401143,"event":"return","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parent_id":401136,"elapsed":0.004751,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401144,"event":"return","defined_class":"Topic","method_id":"limit_topics_per_day","path":"app/models/topic.rb","lineno":419,"static":false,"thread_id":70097708498960,"parent_id":401135,"elapsed":0.004894,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81d47cb2a0>","object_id":70097796225360}},{"id":401145,"event":"call","defined_class":"Topic","method_id":"limit_private_messages_per_day","path":"app/models/topic.rb","lineno":427,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401146,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401147,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401146,"elapsed":1.6e-05},{"id":401148,"event":"return","defined_class":"Topic","method_id":"limit_private_messages_per_day","path":"app/models/topic.rb","lineno":427,"static":false,"thread_id":70097708498960,"parent_id":401145,"elapsed":0.000176},{"id":401149,"event":"call","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_category","class":"Category","object_id":70097798012940,"value":"#<Category:0x00007f81d4b34018>","kind":"req"}],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401150,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE \"categories\".\"topic_id\" = 569 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401151,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401150,"elapsed":0.000974},{"id":401152,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"categories\" SET topic_count = topic_count + 1 WHERE \"categories\".\"id\" = 101","database_type":"postgres","server_version":110006}},{"id":401153,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401152,"elapsed":0.000959},{"id":401154,"event":"return","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parent_id":401149,"elapsed":0.007674,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401155,"event":"call","defined_class":"Topic","method_id":"advance_draft_sequence","path":"app/models/topic.rb","lineno":367,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401156,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401157,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401156,"elapsed":9.0e-06},{"id":401158,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097815602780,"value":"#<User:0x00007f81d6cc0cb8>","kind":"req"},{"name":"key","class":"String","object_id":70097796284180,"value":"new_topic","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":401159,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":979,"value":"489","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":401160,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":401159,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401161,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 489 AND \"draft_sequences\".\"draft_key\" = 'new_topic' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401162,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401161,"elapsed":0.001059},{"id":401163,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"draft_sequences\" (\"user_id\", \"draft_key\", \"sequence\") VALUES (489, 'new_topic', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":401164,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401163,"elapsed":0.001023},{"id":401165,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":401158,"elapsed":0.009384,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":401166,"event":"return","defined_class":"Topic","method_id":"advance_draft_sequence","path":"app/models/topic.rb","lineno":367,"static":false,"thread_id":70097708498960,"parent_id":401155,"elapsed":0.009674,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":401167,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401168,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401169,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":401168,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401170,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":401167,"elapsed":0.000102},{"id":401171,"event":"call","defined_class":"SearchIndexer","method_id":"queue_post_reindex","path":"app/services/search_indexer.rb","lineno":114,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":1139,"value":"569","kind":"req"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":401172,"event":"return","defined_class":"SearchIndexer","method_id":"queue_post_reindex","path":"app/services/search_indexer.rb","lineno":114,"static":true,"thread_id":70097708498960,"parent_id":401171,"elapsed":3.0e-06},{"id":401173,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":401174,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":401173,"elapsed":3.0e-06},{"id":401175,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":401176,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401175,"elapsed":0.000826},{"id":401177,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13678428,"value":"update_topic_upload_security","kind":"req"},{"name":"opts","class":"Hash","object_id":70097593258080,"value":"{:topic_id=>569}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":401178,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":401179,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":401178,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401180,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":401177,"elapsed":0.000212,"return_value":{"class":"String","value":"7bc619eb432297759cf6f21a","object_id":70097593271840}},{"id":401181,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797134440,"value":"#<Topic:0x00007f81d49870d0>"}},{"id":401182,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":401181,"elapsed":1.2e-05,"return_value":{"class":"String","value":"this-is-a-test-topic-383","object_id":70097593287660}},{"id":401183,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401184,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401183,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401185,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401186,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401185,"elapsed":1.0e-05},{"id":401187,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/t/this-is-a-test-topic-383/569.json"},"message":[{"name":"controller","class":"String","value":"topics","object_id":70097780658460},{"name":"action","class":"String","value":"show","object_id":70097780658440},{"name":"slug","class":"String","value":"this-is-a-test-topic-383","object_id":70097593618520},{"name":"topic_id","class":"String","value":"569","object_id":70097593618460},{"name":"format","class":"String","value":"json","object_id":70097593618360}]},{"id":401188,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401189,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401190,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401191,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401192,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097593717980,"value":"c2fcff0ddc04ee31a405e1b9542e79df","kind":"req"},{"name":"opts","class":"Hash","object_id":70097593716240,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":401193,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097593717980,"value":"c2fcff0ddc04ee31a405e1b9542e79df","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":401194,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401195,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":401194,"elapsed":1.1e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":401196,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":401193,"elapsed":0.000152,"return_value":{"class":"String","value":"9W7IHn9od2yEhQy11qXTJzmJ72c=","object_id":70097593766860}},{"id":401197,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = '9W7IHn9od2yEhQy11qXTJzmJ72c=' OR\n                          prev_auth_token = '9W7IHn9od2yEhQy11qXTJzmJ72c=') AND rotated_at > '2020-03-29 18:53:48.184287') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401198,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401197,"elapsed":0.001161},{"id":401199,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:53:48.189355' WHERE \"user_auth_tokens\".\"id\" = 605 AND \"user_auth_tokens\".\"auth_token\" = '9W7IHn9od2yEhQy11qXTJzmJ72c='","database_type":"postgres","server_version":110006}},{"id":401200,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401199,"elapsed":0.001018},{"id":401201,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097565826180,"value":"{:action=>\"seen token\", :user_auth_token_id=>605, :user_id=>186, :auth_token=>\"9W7IHn9od2yEhQy11qXTJ","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":401202,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":401203,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401202,"elapsed":0.000887},{"id":401204,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 605, 186, '127.0.0.1/32', '9W7IHn9od2yEhQy11qXTJzmJ72c=', '2020-05-28 18:53:48.197861') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":401205,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401204,"elapsed":0.001215},{"id":401206,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":401207,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401206,"elapsed":0.000994},{"id":401208,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":401201,"elapsed":0.013391,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81b90561e8>","object_id":70097565823220}},{"id":401209,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":401192,"elapsed":0.023088,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d4a8a298>","object_id":70097797665100}},{"id":401210,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 186 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401211,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401210,"elapsed":0.001233},{"id":401212,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401213,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":401212,"elapsed":1.6e-05},{"id":401214,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401215,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":401214,"elapsed":0.000946,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401216,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401217,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":401216,"elapsed":0.000796},{"id":401218,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097612196580,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401219,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 186","database_type":"postgres","server_version":110006}},{"id":401220,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401219,"elapsed":0.001114},{"id":401221,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":401218,"elapsed":0.00403,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401222,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401191,"elapsed":0.034409,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401223,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":401190,"elapsed":0.034535,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d82d6d18>","object_id":70097827182220}},{"id":401224,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401225,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":401224,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401226,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":401189,"elapsed":0.03477},{"id":401227,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401228,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401227,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401229,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 186 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401230,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401229,"elapsed":0.001162},{"id":401231,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401232,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":401231,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d82d6d18>","object_id":70097827182220}},{"id":401233,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097612407640,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401234,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":401233,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401235,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":401188,"elapsed":0.039818,"return_value":{"class":"Array","value":"[2]","object_id":70097612407640}},{"id":401236,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401237,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401238,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401237,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401239,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401240,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401239,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401241,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401242,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401241,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401243,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":401236,"elapsed":0.00034,"return_value":{"class":"String","value":"topics/show","object_id":70097612463820}},{"id":401244,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401245,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401246,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401245,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401247,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":401244,"elapsed":0.000106},{"id":401248,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401249,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401250,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401249,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401251,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401252,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401251,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401253,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401254,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":401253,"elapsed":1.1e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":401255,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401256,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401255,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401257,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401258,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401257,"elapsed":9.0e-06},{"id":401259,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401260,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401259,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401261,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401262,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401261,"elapsed":6.0e-06},{"id":401263,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":401248,"elapsed":0.000681,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097612506100}},{"id":401264,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401265,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":401264,"elapsed":7.0e-06},{"id":401266,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401267,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401268,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401267,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401269,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":401266,"elapsed":9.3e-05},{"id":401270,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401271,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401270,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401272,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401273,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401272,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401274,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401275,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401274,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401276,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097776516660,"value":"TopicsController"}},{"id":401277,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":401276,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:timings, :destroy_timings, :update, :update_shared_draft, :destroy, :recover, :status, :in","object_id":70097776871500}},{"id":401278,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401279,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":401278,"elapsed":7.0e-06},{"id":401280,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401281,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401280,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401282,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401283,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401282,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401284,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 186 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401285,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401284,"elapsed":0.001154},{"id":401286,"event":"call","defined_class":"TopicsController","method_id":"show","path":"app/controllers/topics_controller.rb","lineno":45,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401287,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401288,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401287,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401289,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":401290,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":401291,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":401290,"elapsed":4.6e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097612674100}},{"id":401292,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":401293,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":401294,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":401293,"elapsed":2.7e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097612670560}},{"id":401295,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":401292,"elapsed":0.000173,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097612669140}},{"id":401296,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":401289,"elapsed":0.000478,"return_value":{"class":"ActiveRecord::Relation","value":"#<Topic::ActiveRecord_Relation:0x00007f81be9b2390>","object_id":70097612673480}},{"id":401297,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 569 ORDER BY \"topics\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401298,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401297,"elapsed":0.001247},{"id":401299,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 101","database_type":"postgres","server_version":110006}},{"id":401300,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401299,"elapsed":0.001219},{"id":401301,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401302,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401301,"elapsed":1.6e-05},{"id":401303,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401304,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>","kind":"req"},{"name":"hide_deleted","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401305,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401306,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401307,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401306,"elapsed":1.3e-05},{"id":401308,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":401305,"elapsed":0.000105},{"id":401309,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401310,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401309,"elapsed":5.0e-06},{"id":401311,"event":"call","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category","class":"Category","object_id":70097612899760,"value":"#<Category:0x00007f81bea20b60>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401312,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401313,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401314,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401313,"elapsed":5.0e-06},{"id":401315,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":401312,"elapsed":8.7e-05},{"id":401316,"event":"call","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401317,"event":"return","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":401316,"elapsed":1.4e-05},{"id":401318,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097612899500,"value":"#<Guardian:0x00007f81bea20958>"}},{"id":401319,"event":"call","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401320,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401321,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401320,"elapsed":4.0e-06},{"id":401322,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.id FROM \"categories\" INNER JOIN \"category_groups\" ON \"categories\".\"id\" = \"category_groups\".\"category_id\" INNER JOIN \"groups\" ON \"category_groups\".\"group_id\" = \"groups\".\"id\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 186","database_type":"postgres","server_version":110006}},{"id":401323,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401322,"elapsed":0.001397},{"id":401324,"event":"return","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parent_id":401319,"elapsed":0.004653,"return_value":{"class":"Array","value":"[]","object_id":70097613806760}},{"id":401325,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":401318,"elapsed":0.004765,"return_value":{"class":"Array","value":"[]","object_id":70097613806760}},{"id":401326,"event":"return","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parent_id":401311,"elapsed":0.005125},{"id":401327,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":401304,"elapsed":0.005509},{"id":401328,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":401303,"elapsed":0.005618},{"id":401329,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401330,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401329,"elapsed":1.0e-05,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401331,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097593698000,"value":"#<TestCurrentUserProvider:0x00007f81bc580da0>"}},{"id":401332,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":401331,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be8cbc60>","object_id":70097612201520}},{"id":401333,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"remove_for","path":"app/models/notification.rb","lineno":181,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":373,"value":"186","kind":"req"},{"name":"topic_id","class":"String","object_id":70097593618460,"value":"569","kind":"req"}],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":401334,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"notifications\" WHERE \"notifications\".\"user_id\" = 186 AND \"notifications\".\"topic_id\" = 569","database_type":"postgres","server_version":110006}},{"id":401335,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401334,"elapsed":0.000919},{"id":401336,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"remove_for","path":"app/models/notification.rb","lineno":181,"static":true,"thread_id":70097708498960,"parent_id":401333,"elapsed":0.003533,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":401337,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401338,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":401337,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d82d6d18>","object_id":70097827182220}},{"id":401339,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>","kind":"req"},{"name":"hide_deleted","class":"FalseClass","object_id":0,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401340,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401341,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401342,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401341,"elapsed":8.0e-06},{"id":401343,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":401340,"elapsed":9.2e-05},{"id":401344,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401345,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401344,"elapsed":7.0e-06},{"id":401346,"event":"call","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category","class":"Category","object_id":70097612899760,"value":"#<Category:0x00007f81bea20b60>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401347,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401348,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401349,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401348,"elapsed":4.0e-06},{"id":401350,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":401347,"elapsed":8.4e-05},{"id":401351,"event":"call","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401352,"event":"return","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":401351,"elapsed":8.0e-06},{"id":401353,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401354,"event":"call","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401355,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401356,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401355,"elapsed":4.0e-06},{"id":401357,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.id FROM \"categories\" INNER JOIN \"category_groups\" ON \"categories\".\"id\" = \"category_groups\".\"category_id\" INNER JOIN \"groups\" ON \"category_groups\".\"group_id\" = \"groups\".\"id\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 186","database_type":"postgres","server_version":110006}},{"id":401358,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401357,"elapsed":0.001981},{"id":401359,"event":"return","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parent_id":401354,"elapsed":0.005051,"return_value":{"class":"Array","value":"[]","object_id":70097800280940}},{"id":401360,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":401353,"elapsed":0.005187,"return_value":{"class":"Array","value":"[]","object_id":70097800280940}},{"id":401361,"event":"return","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parent_id":401346,"elapsed":0.005532},{"id":401362,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":401339,"elapsed":0.005892},{"id":401363,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401364,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":401363,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d82d6d18>","object_id":70097827182220}},{"id":401365,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>","kind":"req"},{"name":"hide_deleted","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401366,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401367,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401368,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401367,"elapsed":7.0e-06},{"id":401369,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":401366,"elapsed":9.4e-05},{"id":401370,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401371,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":401370,"elapsed":2.1e-05},{"id":401372,"event":"call","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category","class":"Category","object_id":70097612899760,"value":"#<Category:0x00007f81bea20b60>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401373,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401374,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612201520,"value":"#<User:0x00007f81be8cbc60>"}},{"id":401375,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":401374,"elapsed":4.0e-06},{"id":401376,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":401373,"elapsed":8.5e-05},{"id":401377,"event":"call","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401378,"event":"return","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":401377,"elapsed":9.0e-06},{"id":401379,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097827182220,"value":"#<Guardian:0x00007f81d82d6d18>"}},{"id":401380,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":401379,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097800280940}},{"id":401381,"event":"return","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parent_id":401372,"elapsed":0.000345},{"id":401382,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":401365,"elapsed":0.000732},{"id":401383,"event":"call","defined_class":"Topic","method_id":"access_topic_via_group","path":"app/models/topic.rb","lineno":1553,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401384,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" INNER JOIN \"category_groups\" ON \"category_groups\".\"group_id\" = \"groups\".\"id\" WHERE (category_groups.category_id = 101) AND (groups.public_admission OR groups.allow_membership_requests) ORDER BY \"groups\".\"allow_membership_requests\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":401385,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":401384,"elapsed":0.001184},{"id":401386,"event":"return","defined_class":"Topic","method_id":"access_topic_via_group","path":"app/models/topic.rb","lineno":1553,"static":false,"thread_id":70097708498960,"parent_id":401383,"elapsed":0.004746,"return_value":{"class":"Group","value":"#<Group:0x00007f81bec9bf70>","object_id":70097614200760}},{"id":401387,"event":"call","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post_number","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401388,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097799510720,"value":"#<Topic:0x00007f81d4e0f580>"}},{"id":401389,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":401388,"elapsed":1.5e-05,"return_value":{"class":"String","value":"this-is-a-test-topic-383","object_id":70097614196000}},{"id":401390,"event":"return","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parent_id":401387,"elapsed":0.000135,"return_value":{"class":"String","value":"/t/this-is-a-test-topic-383/569","object_id":70097614194660}},{"id":401391,"event":"return","defined_class":"TopicsController","method_id":"show","path":"app/controllers/topics_controller.rb","lineno":45,"static":false,"thread_id":70097708498960,"parent_id":401286,"elapsed":0.032701,"exceptions":[{"class":"Discourse::NotFound","message":"Discourse::NotFound","object_id":70097614193180,"path":"/Users/kgilpin/source/appland/discourse/app/controllers/topics_controller.rb","lineno":120},{"class":"Discourse::InvalidAccess","message":"can't see #<Topic:0x00007f81d4e0f580>","object_id":70097613803360,"path":"/Users/kgilpin/source/appland/discourse/lib/topic_view.rb","lineno":779}]},{"id":401392,"event":"call","defined_class":"ApplicationController","method_id":"rescue_discourse_actions","path":"app/controllers/application_controller.rb","lineno":229,"static":false,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":5454108,"value":"not_found","kind":"req"},{"name":"status_code","class":"Integer","object_id":809,"value":"404","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614248160,"value":"{:check_permalinks=>nil, :original_path=>\"/t/this-is-a-test-topic-383/569\", :custom_message=>nil}","kind":"opt"}],"receiver":{"class":"TopicsController","object_id":70097593616460,"value":"#<TopicsController:0x00007f81bc559098>"}},{"id":401393,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401394,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401393,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401395,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401396,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401395,"elapsed":1.3e-05},{"id":401397,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401398,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401397,"elapsed":4.0e-06},{"id":401399,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401400,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401399,"elapsed":3.0e-06},{"id":401401,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401402,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401401,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401403,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401404,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401403,"elapsed":7.0e-06},{"id":401405,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401406,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401405,"elapsed":3.0e-06},{"id":401407,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401408,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401407,"elapsed":3.0e-06},{"id":401409,"event":"call","defined_class":"ApplicationHelper","method_id":"build_plugin_html","path":"app/helpers/application_helper.rb","lineno":415,"static":false,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097614325780,"value":"server:not-found-before-topics","kind":"req"}],"receiver":{"class":null,"object_id":70097614307380,"value":"#<#<Class:0x00007f81c006f808>:0x00007f81becd0068>"}},{"id":401410,"event":"call","defined_class":"ApplicationHelper","method_id":"allow_plugins?","path":"app/helpers/application_helper.rb","lineno":340,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":null,"object_id":70097614307380,"value":"#<#<Class:0x00007f81c006f808>:0x00007f81becd0068>"}},{"id":401411,"event":"return","defined_class":"ApplicationHelper","method_id":"allow_plugins?","path":"app/helpers/application_helper.rb","lineno":340,"static":false,"thread_id":70097708498960,"parent_id":401410,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401412,"event":"return","defined_class":"ApplicationHelper","method_id":"build_plugin_html","path":"app/helpers/application_helper.rb","lineno":415,"static":false,"thread_id":70097708498960,"parent_id":401409,"elapsed":0.005987,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097614361760}},{"id":401413,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401414,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401413,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401415,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401416,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401415,"elapsed":1.1e-05},{"id":401417,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401418,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401417,"elapsed":3.0e-06},{"id":401419,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401420,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401419,"elapsed":3.0e-06},{"id":401421,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401422,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401421,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":401423,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":401424,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":401423,"elapsed":9.0e-06},{"id":401425,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401426,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401425,"elapsed":4.0e-06},{"id":401427,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401428,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":401427,"elapsed":4.0e-06},{"id":401429,"event":"call","defined_class":"ApplicationHelper","method_id":"preload_script","path":"app/helpers/application_helper.rb","lineno":94,"static":false,"thread_id":70097708498960,"parameters":[{"name":"script","class":"String","object_id":70097614446500,"value":"onpopstate-handler","kind":"req"}],"receiver":{"class":null,"object_id":70097614307380,"value":"#<#<Class:0x00007f81c006f808>:0x00007f81becd0068>"}},{"id":401430,"event":"call","defined_class":"ApplicationHelper","method_id":"script_asset_path","path":"app/helpers/application_helper.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[{"name":"script","class":"String","object_id":70097614446500,"value":"onpopstate-handler","kind":"req"}],"receiver":{"class":null,"object_id":70097614307380,"value":"#<#<Class:0x00007f81c006f808>:0x00007f81becd0068>"}},{"id":401431,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":401432,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":401431,"elapsed":5.0e-06},{"id":401433,"event":"return","defined_class":"ApplicationHelper","method_id":"script_asset_path","path":"app/helpers/application_helper.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":401430,"elapsed":0.000445,"return_value":{"class":"String","value":"/assets/onpopstate-handler.js","object_id":70097614472980}},{"id":401434,"event":"call","defined_class":"ApplicationHelper","method_id":"preload_script_url","path":"app/helpers/application_helper.rb","lineno":99,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097614472980,"value":"/assets/onpopstate-handler.js","kind":"req"}],"receiver":{"class":null,"object_id":70097614307380,"value":"#<#<Class:0x00007f81c006f808>:0x00007f81becd0068>"}},{"id":401435,"event":"return","defined_class":"ApplicationHelper","method_id":"preload_script_url","path":"app/helpers/application_helper.rb","lineno":99,"static":false,"thread_id":70097708498960,"parent_id":401434,"elapsed":1.9e-05,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<link rel=\"preload\" href=\"/assets/onpopstate-handler.js\" as=\"script\">\n<script src=\"/assets/onpopstat","object_id":70097800385680}},{"id":401436,"event":"return","defined_class":"ApplicationHelper","method_id":"preload_script","path":"app/helpers/application_helper.rb","lineno":94,"static":false,"thread_id":70097708498960,"parent_id":401429,"elapsed":0.016848,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<link rel=\"preload\" href=\"/assets/onpopstate-handler.js\" as=\"script\">\n<script src=\"/assets/onpopstat","object_id":70097800385680}},{"id":401437,"event":"return","defined_class":"ApplicationController","method_id":"rescue_discourse_actions","path":"app/controllers/application_controller.rb","lineno":229,"static":false,"thread_id":70097708498960,"parent_id":401392,"elapsed":0.045971,"return_value":{"class":"String","value":"{\"errors\":[\"The requested URL or resource could not be found.\"],\"error_type\":\"not_found\",\"extras\":{\"","object_id":70097800383100}},{"id":401438,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":401187,"elapsed":0.126977,"http_server_response":{"status":404}},{"id":401439,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800394420,"value":"#<TestCurrentUserProvider:0x00007f81d4fbed68>"}},{"id":401440,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":401439,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":401441,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":401442,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":401441,"elapsed":6.0e-06},{"id":401443,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041308,"value":"http_4xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":401444,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":401443,"elapsed":4.0e-06}]}