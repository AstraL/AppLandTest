{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"UploadsController #create logged in always allows admins to upload avatars","app":"Discourse","feature":"UploadsController #create","feature_group":"Uploads","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"secure_category_ids","type":"function","location":"app/models/user.rb:999","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"sync_notification_channel_position","type":"function","location":"app/models/user.rb:422","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false},{"name":"unread_notifications","type":"function","location":"app/models/user.rb:521","static":false},{"name":"unread_private_messages","type":"function","location":"app/models/user.rb:500","static":false},{"name":"unread_high_priority_notifications","type":"function","location":"app/models/user.rb:504","static":false},{"name":"unread_notifications_of_priority","type":"function","location":"app/models/user.rb:480","static":false},{"name":"read_first_notification?","type":"function","location":"app/models/user.rb:561","static":false},{"name":"has_trust_level?","type":"function","location":"app/models/user.rb:907","static":false},{"name":"has_password?","type":"function","location":"app/models/user.rb:642","static":false},{"name":"has_more_posts_than?","type":"function","location":"app/models/user.rb:1260","static":false},{"name":"anonymous?","type":"function","location":"app/models/user.rb:1155","static":false},{"name":"silenced?","type":"function","location":"app/models/user.rb:873","static":false},{"name":"visible_groups","type":"function","location":"app/models/user.rb:382","static":false},{"name":"unstage!","type":"function","location":"app/models/user.rb:341","static":false},{"name":"is_singular_admin?","type":"function","location":"app/models/user.rb:1161","static":false},{"name":"logged_in","type":"function","location":"app/models/user.rb:1170","static":false},{"name":"seen_before?","type":"function","location":"app/models/user.rb:667","static":false},{"name":"update_visit_record!","type":"function","location":"app/models/user.rb:680","static":false},{"name":"visit_record_for","type":"function","location":"app/models/user.rb:676","static":false},{"name":"create_visit_record!","type":"function","location":"app/models/user.rb:671","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true},{"name":"max_unread_notifications","type":"function","location":"app/models/user.rb:513","static":true},{"name":"find_by_username","type":"function","location":"app/models/user.rb:371","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false},{"name":"should_be_redirected_to_top","type":"function","location":"app/models/user_option.rb:104","static":false},{"name":"redirected_to_top","type":"function","location":"app/models/user_option.rb:108","static":false},{"name":"mailing_list_mode","type":"function","location":"app/models/user_option.rb:83","static":false},{"name":"title_count_mode","type":"function","location":"app/models/user_option.rb:176","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true},{"name":"json_for","type":"function","location":"app/models/site.rb:85","static":true},{"name":"notification_types","type":"function","location":"app/models/site.rb:19","static":false},{"name":"groups","type":"function","location":"app/models/site.rb:73","static":false},{"name":"categories","type":"function","location":"app/models/site.rb:31","static":false},{"name":"trust_levels","type":"function","location":"app/models/site.rb:23","static":false},{"name":"archetypes","type":"function","location":"app/models/site.rb:77","static":false},{"name":"user_fields","type":"function","location":"app/models/site.rb:27","static":false},{"name":"auth_providers","type":"function","location":"app/models/site.rb:81","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"values","type":"function","location":"app/models/locale_site_setting.rb:9","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true},{"name":"generate!","type":"function","location":"app/models/user_auth_token.rb:68","static":true},{"name":"enforce_session_count_limit!","type":"function","location":"app/models/user_auth_token.rb:226","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true}]},{"name":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","type":"class","children":[{"name":"types","type":"function","location":"app/models/notification.rb:89","static":true}]},{"name":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","type":"class","children":[{"name":"types","type":"function","location":"app/models/post.rb:139","static":true}]},{"name":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","type":"class","children":[{"name":"visibility_levels","type":"function","location":"app/models/group.rb:96","static":true},{"name":"[]","type":"function","location":"app/models/group.rb:515","static":true},{"name":"lookup_group","type":"function","location":"app/models/group.rb:525","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"TopTopic (call 'TopTopic.connection' to establish a connection)","type":"class","children":[{"name":"periods","type":"function","location":"app/models/top_topic.rb:35","static":true}]},{"name":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","type":"class","children":[{"name":"max_length","type":"function","location":"app/models/user_field.rb:12","static":true}]},{"name":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","type":"class","children":[{"name":"include_tags?","type":"function","location":"app/models/tag.rb:144","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","type":"class","children":[{"name":"scoped_to_permissions","type":"function","location":"app/models/category.rb:190","static":true}]},{"name":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","type":"class","children":[{"name":"permission_types","type":"function","location":"app/models/category_group.rb:9","static":true}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"notification_levels_for","type":"function","location":"app/models/category_user.rb:204","static":true},{"name":"default_notification_level","type":"function","location":"app/models/category_user.rb:200","static":true},{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true},{"name":"lookup","type":"function","location":"app/models/category_user.rb:7","static":true}]},{"name":"Category","type":"class","children":[{"name":"uncategorized?","type":"function","location":"app/models/category.rb:699","static":false},{"name":"topic_url","type":"function","location":"app/models/category.rb:297","static":false}]},{"name":"Upload","type":"class","children":[{"name":"to_s","type":"function","location":"app/models/upload.rb:50","static":false},{"name":"width","type":"function","location":"app/models/upload.rb:226","static":false},{"name":"get_dimension","type":"function","location":"app/models/upload.rb:218","static":false},{"name":"height","type":"function","location":"app/models/upload.rb:230","static":false},{"name":"thumbnail_width","type":"function","location":"app/models/upload.rb:234","static":false},{"name":"thumbnail_height","type":"function","location":"app/models/upload.rb:238","static":false},{"name":"short_url","type":"function","location":"app/models/upload.rb:123","static":false},{"name":"short_path","type":"function","location":"app/models/upload.rb:140","static":false},{"name":"human_filesize","type":"function","location":"app/models/upload.rb:268","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"available_locales","type":"function","location":"app/models/site_setting.rb:32","static":true},{"name":"require_invite_code","type":"function","location":"app/models/site_setting.rb:176","static":true},{"name":"site_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"site_logo_small_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_mobile_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_favicon_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"min_redirected_to_top_period","type":"function","location":"app/models/site_setting.rb:88","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"s3_cdn_url","type":"function","location":"app/models/site_setting.rb:130","static":true},{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","type":"class","children":[{"name":"lookup_field","type":"function","location":"app/models/theme.rb:246","static":true},{"name":"transform_ids","type":"function","location":"app/models/theme.rb:162","static":true},{"name":"get_set_cache","type":"function","location":"app/models/theme.rb:125","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"UserStat","type":"class","children":[{"name":"any_posts","type":"function","location":"app/models/user_stat.rb:179","static":false}]},{"name":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/tag_user.rb:11","static":true},{"name":"notification_levels","type":"function","location":"app/models/tag_user.rb:7","static":true}]},{"name":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"list_for","type":"function","location":"app/models/reviewable.rb:435","static":true},{"name":"min_score_for_priority","type":"function","location":"app/models/reviewable.rb:263","static":true},{"name":"priorities","type":"function","location":"app/models/reviewable.rb:46","static":true},{"name":"viewable_by","type":"function","location":"app/models/reviewable.rb:406","static":true},{"name":"by_status","type":"function","location":"app/models/reviewable.rb:644","static":true},{"name":"statuses","type":"function","location":"app/models/reviewable.rb:64","static":true},{"name":"custom_filters","type":"function","location":"app/models/reviewable.rb:101","static":true}]},{"name":"SecondFactorManager","type":"class","children":[{"name":"totp_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:56","static":false},{"name":"security_keys_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:68","static":false}]},{"name":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","type":"class","children":[{"name":"methods","type":"function","location":"app/models/user_second_factor.rb:19","static":true}]},{"name":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"factor_types","type":"function","location":"app/models/user_security_key.rb:10","static":true}]},{"name":"TopicTrackingState","type":"class","children":[{"name":"report","type":"function","location":"app/models/topic_tracking_state.rb:189","static":true},{"name":"muted_tag_ids","type":"function","location":"app/models/topic_tracking_state.rb:231","static":true},{"name":"report_raw_sql","type":"function","location":"app/models/topic_tracking_state.rb:235","static":true},{"name":"treat_as_new_topic_clause","type":"function","location":"app/models/topic_tracking_state.rb:175","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]},{"name":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","type":"class","children":[{"name":"generate_digest","type":"function","location":"app/models/upload.rb:264","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]},{"name":"RegexSettingValidation","type":"class","children":[{"name":"initialize_regex_opts","type":"function","location":"lib/validators/regex_setting_validation.rb:5","static":false}]},{"name":"StringSettingValidator","type":"class","children":[{"name":"valid_value?","type":"function","location":"lib/validators/string_setting_validator.rb:12","static":false}]},{"name":"UploadValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/upload_validator.rb:9","static":false},{"name":"is_authorized?","type":"function","location":"lib/validators/upload_validator.rb:47","static":false},{"name":"authorized_image_extension","type":"function","location":"lib/validators/upload_validator.rb:51","static":false},{"name":"maximum_image_file_size","type":"function","location":"lib/validators/upload_validator.rb:55","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]},{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"SpamRule","type":"class","children":[{"name":"AutoSilence","type":"class","children":[{"name":"prevent_posting?","type":"function","location":"app/services/spam_rule/auto_silence.rb:18","static":true},{"name":"should_autosilence?","type":"function","location":"app/services/spam_rule/auto_silence.rb:22","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"store_preloaded","type":"function","location":"app/controllers/application_controller.rb:343","static":false},{"name":"banner_json_cache","type":"function","location":"app/controllers/application_controller.rb:575","static":true},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"ListController","type":"class","children":[{"name":"best_period_with_topics_for","type":"function","location":"app/controllers/list_controller.rb:395","static":true},{"name":"best_periods_for","type":"function","location":"app/controllers/list_controller.rb:404","static":true}]},{"name":"SessionController","type":"class","children":[{"name":"become","type":"function","location":"app/controllers/session_controller.rb:117","static":false}]},{"name":"UploadsController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/uploads_controller.rb:15","static":false},{"name":"create_upload","type":"function","location":"app/controllers/uploads_controller.rb:198","static":true},{"name":"serialize_upload","type":"function","location":"app/controllers/uploads_controller.rb:191","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"log_on_user","type":"function","location":"lib/auth/default_current_user_provider.rb:198","static":false},{"name":"cookie_hash","type":"function","location":"lib/auth/default_current_user_provider.rb:217","static":false},{"name":"make_developer_admin","type":"function","location":"lib/auth/default_current_user_provider.rb:232","static":false},{"name":"enable_bootstrap_mode","type":"function","location":"lib/auth/default_current_user_provider.rb:242","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]},{"name":"FacebookAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/facebook_authenticator.rb:11","static":false}]},{"name":"GoogleOAuth2Authenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/google_oauth2_authenticator.rb:8","static":false}]},{"name":"GithubAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/github_authenticator.rb:11","static":false}]},{"name":"TwitterAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/twitter_authenticator.rb:8","static":false}]},{"name":"InstagramAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/instagram_authenticator.rb:8","static":false}]},{"name":"DiscordAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/discord_authenticator.rb:45","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"anonymous?","type":"function","location":"lib/guardian.rb:76","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"user","type":"function","location":"lib/guardian.rb:71","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"is_staged?","type":"function","location":"lib/guardian.rb:113","static":false},{"name":"can_edit?","type":"function","location":"lib/guardian.rb:154","static":false},{"name":"can_send_private_messages_to_email?","type":"function","location":"lib/guardian.rb:428","static":false},{"name":"can_invite_to_forum?","type":"function","location":"lib/guardian.rb:338","static":false}]},{"name":"TagGuardian","type":"class","children":[{"name":"can_create_tag?","type":"function","location":"lib/guardian/tag_guardian.rb:5","static":false},{"name":"can_tag_topics?","type":"function","location":"lib/guardian/tag_guardian.rb:11","static":false},{"name":"can_tag_pms?","type":"function","location":"lib/guardian/tag_guardian.rb:17","static":false}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"topic_featured_link_allowed_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:74","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:57","static":false},{"name":"can_edit_category?","type":"function","location":"lib/guardian/category_guardian.rb:16","static":false},{"name":"allowed_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:62","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_create_shared_draft?","type":"function","location":"lib/guardian/topic_guardian.rb:25","static":false},{"name":"can_create_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:38","static":false}]},{"name":"UserGuardian","type":"class","children":[{"name":"can_delete_user?","type":"function","location":"lib/guardian/user_guardian.rb:61","static":false}]},{"name":"PostGuardian","type":"class","children":[{"name":"can_create_post?","type":"function","location":"lib/guardian/post_guardian.rb:108","static":false},{"name":"link_posting_access","type":"function","location":"lib/guardian/post_guardian.rb:10","static":false},{"name":"unrestricted_link_posting?","type":"function","location":"lib/guardian/post_guardian.rb:6","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"SiteSerializer","type":"class","children":[{"name":"default_archetype","type":"function","location":"app/serializers/site_serializer.rb:70","static":false},{"name":"post_types","type":"function","location":"app/serializers/site_serializer.rb:74","static":false},{"name":"groups","type":"function","location":"app/serializers/site_serializer.rb:50","static":false},{"name":"filters","type":"function","location":"app/serializers/site_serializer.rb:78","static":false},{"name":"periods","type":"function","location":"app/serializers/site_serializer.rb:82","static":false},{"name":"top_menu_items","type":"function","location":"app/serializers/site_serializer.rb:86","static":false},{"name":"anonymous_top_menu_items","type":"function","location":"app/serializers/site_serializer.rb:90","static":false},{"name":"uncategorized_category_id","type":"function","location":"app/serializers/site_serializer.rb:94","static":false},{"name":"is_readonly","type":"function","location":"app/serializers/site_serializer.rb:98","static":false},{"name":"disabled_plugins","type":"function","location":"app/serializers/site_serializer.rb:102","static":false},{"name":"user_field_max_length","type":"function","location":"app/serializers/site_serializer.rb:106","static":false},{"name":"post_action_types","type":"function","location":"app/serializers/site_serializer.rb:56","static":false},{"name":"topic_flag_types","type":"function","location":"app/serializers/site_serializer.rb:63","static":false},{"name":"can_create_tag","type":"function","location":"app/serializers/site_serializer.rb:110","static":false},{"name":"can_tag_topics","type":"function","location":"app/serializers/site_serializer.rb:114","static":false},{"name":"can_tag_pms","type":"function","location":"app/serializers/site_serializer.rb:118","static":false},{"name":"include_tags_filter_regexp?","type":"function","location":"app/serializers/site_serializer.rb:122","static":false},{"name":"include_top_tags?","type":"function","location":"app/serializers/site_serializer.rb:130","static":false},{"name":"include_wizard_required?","type":"function","location":"app/serializers/site_serializer.rb:142","static":false},{"name":"include_topic_featured_link_allowed_category_ids?","type":"function","location":"app/serializers/site_serializer.rb:146","static":false},{"name":"topic_featured_link_allowed_category_ids","type":"function","location":"app/serializers/site_serializer.rb:150","static":false},{"name":"user_themes","type":"function","location":"app/serializers/site_serializer.rb:39","static":false},{"name":"censored_regexp","type":"function","location":"app/serializers/site_serializer.rb:154","static":false},{"name":"include_shared_drafts_category_id?","type":"function","location":"app/serializers/site_serializer.rb:166","static":false},{"name":"custom_emoji_translation","type":"function","location":"app/serializers/site_serializer.rb:158","static":false}]},{"name":"ApplicationSerializer","type":"class","children":[{"name":"fragment_cache","type":"function","location":"app/serializers/application_serializer.rb:21","static":true}]},{"name":"BasicCategorySerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/basic_category_serializer.rb:42","static":false},{"name":"description","type":"function","location":"app/serializers/basic_category_serializer.rb:50","static":false},{"name":"description_text","type":"function","location":"app/serializers/basic_category_serializer.rb:46","static":false},{"name":"description_excerpt","type":"function","location":"app/serializers/basic_category_serializer.rb:54","static":false},{"name":"include_parent_category_id?","type":"function","location":"app/serializers/basic_category_serializer.rb:38","static":false},{"name":"notification_level","type":"function","location":"app/serializers/basic_category_serializer.rb:66","static":false},{"name":"include_can_edit?","type":"function","location":"app/serializers/basic_category_serializer.rb:62","static":false},{"name":"include_custom_fields?","type":"function","location":"app/serializers/basic_category_serializer.rb:74","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/basic_category_serializer.rb:70","static":false}]},{"name":"SiteCategorySerializer","type":"class","children":[{"name":"include_allowed_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:12","static":false},{"name":"include_allowed_tag_groups?","type":"function","location":"app/serializers/site_category_serializer.rb:20","static":false},{"name":"include_allow_global_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:28","static":false},{"name":"required_tag_group_name","type":"function","location":"app/serializers/site_category_serializer.rb:32","static":false}]},{"name":"ArchetypeSerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/archetype_serializer.rb:18","static":false},{"name":"options","type":"function","location":"app/serializers/archetype_serializer.rb:7","static":false}]},{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]},{"name":"CurrentUserSerializer","type":"class","children":[{"name":"any_posts","type":"function","location":"app/serializers/current_user_serializer.rb:68","static":false},{"name":"enable_quoting","type":"function","location":"app/serializers/current_user_serializer.rb:76","static":false},{"name":"enable_defer","type":"function","location":"app/serializers/current_user_serializer.rb:80","static":false},{"name":"external_links_in_new_tab","type":"function","location":"app/serializers/current_user_serializer.rb:84","static":false},{"name":"dynamic_favicon","type":"function","location":"app/serializers/current_user_serializer.rb:88","static":false},{"name":"can_send_private_email_messages","type":"function","location":"app/serializers/current_user_serializer.rb:112","static":false},{"name":"can_edit","type":"function","location":"app/serializers/current_user_serializer.rb:116","static":false},{"name":"include_can_invite_to_forum?","type":"function","location":"app/serializers/current_user_serializer.rb:124","static":false},{"name":"include_no_password?","type":"function","location":"app/serializers/current_user_serializer.rb:132","static":false},{"name":"include_can_delete_account?","type":"function","location":"app/serializers/current_user_serializer.rb:136","static":false},{"name":"can_delete_account","type":"function","location":"app/serializers/current_user_serializer.rb:140","static":false},{"name":"should_be_redirected_to_top","type":"function","location":"app/serializers/current_user_serializer.rb:100","static":false},{"name":"include_redirected_to_top?","type":"function","location":"app/serializers/current_user_serializer.rb:144","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/current_user_serializer.rb:148","static":false},{"name":"muted_category_ids","type":"function","location":"app/serializers/current_user_serializer.rb:165","static":false},{"name":"muted_tag_ids","type":"function","location":"app/serializers/current_user_serializer.rb:169","static":false},{"name":"dismissed_banner_key","type":"function","location":"app/serializers/current_user_serializer.rb:191","static":false},{"name":"is_anonymous","type":"function","location":"app/serializers/current_user_serializer.rb:195","static":false},{"name":"reviewable_count","type":"function","location":"app/serializers/current_user_serializer.rb:199","static":false},{"name":"read_faq","type":"function","location":"app/serializers/current_user_serializer.rb:64","static":false},{"name":"automatically_unpin_topics","type":"function","location":"app/serializers/current_user_serializer.rb:96","static":false},{"name":"mailing_list_mode","type":"function","location":"app/serializers/current_user_serializer.rb:203","static":false},{"name":"include_primary_group_id?","type":"function","location":"app/serializers/current_user_serializer.rb:207","static":false},{"name":"can_create_topic","type":"function","location":"app/serializers/current_user_serializer.rb:60","static":false},{"name":"link_posting_access","type":"function","location":"app/serializers/current_user_serializer.rb:56","static":false},{"name":"include_external_id?","type":"function","location":"app/serializers/current_user_serializer.rb:215","static":false},{"name":"top_category_ids","type":"function","location":"app/serializers/current_user_serializer.rb:177","static":false},{"name":"hide_profile_and_presence","type":"function","location":"app/serializers/current_user_serializer.rb:72","static":false},{"name":"groups","type":"function","location":"app/serializers/current_user_serializer.rb:52","static":false},{"name":"second_factor_enabled","type":"function","location":"app/serializers/current_user_serializer.rb:219","static":false},{"name":"ignored_users","type":"function","location":"app/serializers/current_user_serializer.rb:173","static":false},{"name":"title_count_mode","type":"function","location":"app/serializers/current_user_serializer.rb:92","static":false},{"name":"timezone","type":"function","location":"app/serializers/current_user_serializer.rb:108","static":false},{"name":"featured_topic","type":"function","location":"app/serializers/current_user_serializer.rb:223","static":false}]},{"name":"UploadSerializer","type":"class","children":[{"name":"url","type":"function","location":"app/serializers/upload_serializer.rb:18","static":false}]}]},{"name":"app/helpers","type":"package","children":[{"name":"ApplicationHelper","type":"class","children":[{"name":"mobile_view?","type":"function","location":"app/helpers/application_helper.rb:306","static":false}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]}],"events":[{"id":1464371,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464372,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":1464371,"elapsed":7.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":1464373,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097649649440,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464374,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":1464373,"elapsed":0.000168,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81c349de40>","object_id":70097651953440}},{"id":1464375,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464376,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1464375,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464377,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464378,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1464379,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097651986940,"value":"#<UsernameValidator:0x00007f81c34ae3f8>"}},{"id":1464380,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1464381,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1464380,"elapsed":1.3e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097651984520}},{"id":1464382,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1464383,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1464382,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097651983060}},{"id":1464384,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1464385,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":1464384,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":1464386,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1464387,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":1464386,"elapsed":5.0e-06},{"id":1464388,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1464379,"elapsed":0.000449,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464389,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1464378,"elapsed":0.000563},{"id":1464390,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":1464377,"elapsed":0.000678},{"id":1464391,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097651990000,"value":"anne1742","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1464392,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1464391,"elapsed":9.0e-06,"return_value":{"class":"String","value":"anne1742","object_id":70097652002060}},{"id":1464393,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1464394,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464393,"elapsed":0.000768},{"id":1464395,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097651990000,"value":"anne1742","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464396,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1464395,"elapsed":1.3e-05},{"id":1464397,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097652248760,"value":"anne1742","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464398,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1464397,"elapsed":7.0e-06},{"id":1464399,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464400,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097652246180,"value":"#<PasswordValidator:0x00007f81c352cd48>"}},{"id":1464401,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464402,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464403,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1464402,"elapsed":3.0e-06},{"id":1464404,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1464401,"elapsed":0.000103,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464405,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464406,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1464405,"elapsed":1.3e-05,"return_value":{"class":"String","value":"anne1692@discourse.org","object_id":70097652265180}},{"id":1464407,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464408,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1464407,"elapsed":8.0e-06,"return_value":{"class":"String","value":"anne1692@discourse.org","object_id":70097652265180}},{"id":1464409,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464410,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1464409,"elapsed":5.0e-06},{"id":1464411,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464400,"elapsed":0.002518},{"id":1464412,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1464399,"elapsed":0.00269},{"id":1464413,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1464414,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1464413,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1464415,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097652282120,"value":"Anne Admin","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464416,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1464415,"elapsed":5.0e-06},{"id":1464417,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097652280680,"value":"anne admin","kind":"req"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464418,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1464417,"elapsed":5.0e-06},{"id":1464419,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097652266220,"value":"Anne Admin","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":1464420,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464419,"elapsed":6.0e-06},{"id":1464421,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097652301260,"value":"99.232.23.107","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":1464422,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097652301260,"value":"99.232.23.107","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1464423,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097652301260,"value":"99.232.23.107","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1464424,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097652301260,"value":"99.232.23.107","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1464425,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.107' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464426,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464425,"elapsed":0.00097},{"id":1464427,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":1464424,"elapsed":0.00389},{"id":1464428,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":1464423,"elapsed":0.004041},{"id":1464429,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":1464422,"elapsed":0.004151},{"id":1464430,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464421,"elapsed":0.004272},{"id":1464431,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097651953440,"value":"#<UserEmail:0x00007f81c349de40>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097670689200,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1464432,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097670689200,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1464433,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097670689200,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1464434,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1464433,"elapsed":3.0e-05},{"id":1464435,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1464432,"elapsed":0.000137,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464436,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097670689200,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1464437,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097670689200,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1464438,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1464437,"elapsed":9.0e-06,"return_value":{"class":"String","value":"anne1692@discourse.org","object_id":70097671156040}},{"id":1464439,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1464440,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464439,"elapsed":0.001099},{"id":1464441,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1464436,"elapsed":0.004502},{"id":1464442,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464431,"elapsed":0.004892},{"id":1464443,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'anne1692@discourse.org') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464444,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464443,"elapsed":0.001173},{"id":1464445,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1464446,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1464445,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1464447,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"admin\", \"trust_level\", \"ip_address\") VALUES ('anne1742', '2020-05-28 19:08:33.552808', '2020-05-28 19:08:33.552808', 'Anne Admin', '6739e1d4aa81a2c980a7ff1d044e50e67293a175ad2e7ba379354d92d8b54ab4', '24448a11809d482a562e86fb6a9321fa', TRUE, 'anne1742', TRUE, 1, '99.232.23.107/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1464448,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464447,"elapsed":0.001152},{"id":1464449,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097651953440,"value":"#<UserEmail:0x00007f81c349de40>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097655429220,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1464450,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097655429220,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1464451,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097655429220,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1464452,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1464451,"elapsed":3.1e-05},{"id":1464453,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1464450,"elapsed":0.000143,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464454,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097655429220,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1464455,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097655429220,"value":"anne1692@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1464456,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1464455,"elapsed":9.0e-06,"return_value":{"class":"String","value":"anne1692@discourse.org","object_id":70097655443800}},{"id":1464457,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1464458,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464457,"elapsed":0.000941},{"id":1464459,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1464454,"elapsed":0.004142},{"id":1464460,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464449,"elapsed":0.004515},{"id":1464461,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464462,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464461,"elapsed":0.000998},{"id":1464463,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'anne1692@discourse.org') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464464,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464463,"elapsed":0.001012},{"id":1464465,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1900, 'anne1692@discourse.org', TRUE, '2020-05-28 19:08:33.569633', '2020-05-28 19:08:33.569633') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1464466,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464465,"elapsed":0.000959},{"id":1464467,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464468,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1464467,"elapsed":1.6e-05,"return_value":{"class":"String","value":"anne1692@discourse.org","object_id":70097642266380}},{"id":1464469,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1464470,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1464471,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1464470,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1464472,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":1464469,"elapsed":0.000138,"return_value":{"class":"String","value":"fccf7930838440a410fbe9d0619a23a0","object_id":70097642282180}},{"id":1464473,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1900, 'anne1692@discourse.org', 'fccf7930838440a410fbe9d0619a23a0', '2020-05-28 19:08:33.574497', '2020-05-28 19:08:33.574497') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1464474,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464473,"elapsed":0.001083},{"id":1464475,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1900 AND (id != 2213)","database_type":"postgres","server_version":110006}},{"id":1464476,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464475,"elapsed":0.000935},{"id":1464477,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1900, '2020-05-28 19:08:33.582578') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1464478,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464477,"elapsed":0.000923},{"id":1464479,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464480,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464479,"elapsed":0.001104},{"id":1464481,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097642746560,"value":"{:user=>#<User id: 1900, username: \"anne1742\", created_at: \"2020-05-28 19:08:33\", updated_at: \"2020-","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1464482,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1464481,"elapsed":1.1e-05},{"id":1464483,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097642764000,"value":"#<UserOption:0x00007f81c2316dc0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":1464484,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1464483,"elapsed":4.0e-06},{"id":1464485,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097642764000,"value":"#<UserOption:0x00007f81c2316dc0>"}},{"id":1464486,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097642764000,"value":"#<UserOption:0x00007f81c2316dc0>"}},{"id":1464487,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1464488,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":1464487,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":1464489,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1464486,"elapsed":0.000118,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1464490,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097642764000,"value":"#<UserOption:0x00007f81c2316dc0>"}},{"id":1464491,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1464492,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1464491,"elapsed":2.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":1464493,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":1464490,"elapsed":0.000105,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1464494,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1464485,"elapsed":0.000486,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464495,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1900, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1464496,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464495,"elapsed":0.001066},{"id":1464497,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097650940520,"value":"#<TrackedTopicsUpdater:0x00007f81c32af4d0>"}},{"id":1464498,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1464499,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1464498,"elapsed":8.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1464500,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1464501,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1464500,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1464502,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1900","database_type":"postgres","server_version":110006}},{"id":1464503,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464502,"elapsed":0.001133},{"id":1464504,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1464497,"elapsed":0.004162,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1464505,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464506,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464507,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464506,"elapsed":0.001146},{"id":1464508,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1900) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1464509,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464508,"elapsed":0.000979},{"id":1464510,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097643713440,"value":"{:user=>#<UserProfile user_id: 1900, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1464511,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1464510,"elapsed":9.0e-06},{"id":1464512,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":1464505,"elapsed":0.00873,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81c337d380>","object_id":70097651362240}},{"id":1464513,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464514,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":1464513,"elapsed":1.0e-05},{"id":1464515,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1464516,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464515,"elapsed":0.000896},{"id":1464517,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1464518,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464517,"elapsed":0.000876},{"id":1464519,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1464520,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464519,"elapsed":0.000894},{"id":1464521,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1464522,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464521,"elapsed":0.000849},{"id":1464523,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464524,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464525,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1464524,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464526,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1464523,"elapsed":0.000102},{"id":1464527,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1900","database_type":"postgres","server_version":110006}},{"id":1464528,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464527,"elapsed":0.000876},{"id":1464529,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1464530,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1464529,"elapsed":9.3e-05,"return_value":{"class":"Integer","value":"20664","object_id":41329}},{"id":1464531,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097717653160,"value":"{:name=>:global_notice}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70097623877980,"value":"#<StringSettingValidator:0x00007f81bff112b8>"}},{"id":1464532,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464531,"elapsed":4.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70097724330800}},{"id":1464533,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097708321660,"value":"","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097623877980,"value":"#<StringSettingValidator:0x00007f81bff112b8>"}},{"id":1464534,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1464533,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464535,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1464536,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1464535,"elapsed":5.6e-05,"return_value":{"class":"Integer","value":"20666","object_id":41333}},{"id":1464537,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>"}},{"id":1464538,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464539,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464538,"elapsed":0.000876},{"id":1464540,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1900, '2020-05-28 19:08:33.631779', '2020-05-28 19:08:33.631779') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1464541,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464540,"elapsed":0.00105},{"id":1464542,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1464537,"elapsed":0.007643},{"id":1464543,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097656222120,"value":"{:user=>#<User id: 1900, username: \"anne1742\", created_at: \"2020-05-28 19:08:33\", updated_at: \"2020-","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1464544,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1464543,"elapsed":7.0e-06},{"id":1464545,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1464546,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1464545,"elapsed":4.0e-06},{"id":1464547,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1464548,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464547,"elapsed":0.001405},{"id":1464549,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097649648720,"value":"#<User:0x00007f81c30388a0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1464550,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1464551,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1464550,"elapsed":0.000219,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81c5bc6670>","object_id":70097672483640}},{"id":1464552,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464553,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464552,"elapsed":0.001119},{"id":1464554,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1464549,"elapsed":0.003981},{"id":1464555,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464556,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464555,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464557,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464558,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464557,"elapsed":1.0e-05},{"id":1464559,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/session/anne1742/become"},"message":[{"name":"controller","class":"String","value":"session","object_id":70097701487520},{"name":"action","class":"String","value":"become","object_id":70097783503120},{"name":"session_id","class":"String","value":"anne1742","object_id":70097610725960}]},{"id":1464560,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464561,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464562,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464563,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464564,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097610735860,"value":"311f4709e6259ec17f0f048a2885f1ed","kind":"req"},{"name":"opts","class":"Hash","object_id":70097610760020,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1464565,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097610735860,"value":"311f4709e6259ec17f0f048a2885f1ed","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1464566,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464567,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1464566,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1464568,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1464565,"elapsed":0.000116,"return_value":{"class":"String","value":"prQyInHlpDxxPd3qr2bKmQweKas=","object_id":70097610755920}},{"id":1464569,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'prQyInHlpDxxPd3qr2bKmQweKas=' OR\n                          prev_auth_token = 'prQyInHlpDxxPd3qr2bKmQweKas=') AND rotated_at > '2020-03-29 19:08:33.647664') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464570,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464569,"elapsed":0.000994},{"id":1464571,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:08:33.652063' WHERE \"user_auth_tokens\".\"id\" = 1607 AND \"user_auth_tokens\".\"auth_token\" = 'prQyInHlpDxxPd3qr2bKmQweKas='","database_type":"postgres","server_version":110006}},{"id":1464572,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464571,"elapsed":0.000971},{"id":1464573,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097673077660,"value":"{:action=>\"seen token\", :user_auth_token_id=>1607, :user_id=>1888, :auth_token=>\"prQyInHlpDxxPd3qr2b","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1464574,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1464575,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464574,"elapsed":0.000792},{"id":1464576,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1607, 1888, '127.0.0.1/32', 'prQyInHlpDxxPd3qr2bKmQweKas=', '2020-05-28 19:08:33.659994') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1464577,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464576,"elapsed":0.001017},{"id":1464578,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1464579,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464578,"elapsed":0.000885},{"id":1464580,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1464573,"elapsed":0.012342,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81bf8efa10>","object_id":70097620663560}},{"id":1464581,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1464564,"elapsed":0.021023,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bf87ba70>","object_id":70097620426040}},{"id":1464582,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464583,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464582,"elapsed":0.001065},{"id":1464584,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464585,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1464584,"elapsed":1.6e-05},{"id":1464586,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464587,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1464586,"elapsed":0.00097,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464588,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464589,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1464588,"elapsed":0.000947},{"id":1464590,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097644554780,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464591,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1464592,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464591,"elapsed":0.001159},{"id":1464593,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1464590,"elapsed":0.004135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464594,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464563,"elapsed":0.032241,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464595,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1464562,"elapsed":0.032373,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81c5dcfb60>","object_id":70097673551280}},{"id":1464596,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464597,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1464596,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464598,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1464561,"elapsed":0.032606},{"id":1464599,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464600,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464599,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464601,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464602,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464601,"elapsed":0.001167},{"id":1464603,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464604,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1464603,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81c5dcfb60>","object_id":70097673551280}},{"id":1464605,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097654727640,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464606,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1464605,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464607,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1464560,"elapsed":0.037485,"return_value":{"class":"Array","value":"[2]","object_id":70097654727640}},{"id":1464608,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464609,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464610,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464609,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464611,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464612,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464611,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464613,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464614,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464613,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464615,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1464608,"elapsed":0.000327,"return_value":{"class":"String","value":"session/become","object_id":70097654767560}},{"id":1464616,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464617,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464618,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464617,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464619,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1464616,"elapsed":0.000105},{"id":1464620,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464621,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464622,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464621,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464623,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1464624,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1464623,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464625,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464626,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1464625,"elapsed":1.2e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1464627,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464628,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464627,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464629,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464630,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464629,"elapsed":9.0e-06},{"id":1464631,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464632,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464631,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464633,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464634,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464633,"elapsed":5.0e-06},{"id":1464635,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1464620,"elapsed":0.000663,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097654776940}},{"id":1464636,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464637,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1464636,"elapsed":7.0e-06},{"id":1464638,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097756351680,"value":"SessionController"}},{"id":1464639,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1464638,"elapsed":2.0e-06},{"id":1464640,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464641,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1464642,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1464641,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81c5dcfb60>","object_id":70097673551280}},{"id":1464643,"event":"call","defined_class":"Site","method_id":"json_for","path":"app/models/site.rb","lineno":85,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>","kind":"req"}],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1464644,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464645,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464646,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464645,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464647,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1464644,"elapsed":8.9e-05},{"id":1464648,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464649,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464650,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464649,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464651,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1464648,"elapsed":8.7e-05},{"id":1464652,"event":"call","defined_class":"SiteSerializer","method_id":"default_archetype","path":"app/serializers/site_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464653,"event":"return","defined_class":"SiteSerializer","method_id":"default_archetype","path":"app/serializers/site_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":1464652,"elapsed":4.0e-06,"return_value":{"class":"String","value":"regular","object_id":70097714186300}},{"id":1464654,"event":"call","defined_class":"Site","method_id":"notification_types","path":"app/models/site.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464655,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":1464656,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":1464655,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":1464657,"event":"return","defined_class":"Site","method_id":"notification_types","path":"app/models/site.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":1464654,"elapsed":0.000118,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":1464658,"event":"call","defined_class":"SiteSerializer","method_id":"post_types","path":"app/serializers/site_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464659,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1464660,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":1464659,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":1464661,"event":"return","defined_class":"SiteSerializer","method_id":"post_types","path":"app/serializers/site_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":1464658,"elapsed":9.8e-05,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":1464662,"event":"call","defined_class":"SiteSerializer","method_id":"groups","path":"app/serializers/site_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464663,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464664,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464665,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464664,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464666,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1464663,"elapsed":8.8e-05},{"id":1464667,"event":"call","defined_class":"Site","method_id":"groups","path":"app/models/site.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464668,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464669,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1464668,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464670,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"visibility_levels","path":"app/models/group.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1464671,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"visibility_levels","path":"app/models/group.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1464670,"elapsed":1.0e-05,"return_value":{"class":"Enum","value":"{:public=>0, :logged_on_users=>1, :members=>2, :staff=>3, :owners=>4}","object_id":70097683204320}},{"id":1464672,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464673,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1464672,"elapsed":9.0e-06},{"id":1464674,"event":"return","defined_class":"Site","method_id":"groups","path":"app/models/site.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":1464667,"elapsed":0.000479,"return_value":{"class":"ActiveRecord::Relation","value":"#<Group::ActiveRecord_Relation:0x00007f81c7038130>","object_id":70097683202200}},{"id":1464675,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\" FROM \"groups\" WHERE ( groups.id IN (\n   SELECT id\n     FROM groups\n    WHERE visibility_level = 0\n\n   UNION ALL\n\n   SELECT id\n     FROM groups\n    WHERE visibility_level = 1\n      AND 1888 IS NOT NULL\n\n   UNION ALL\n\n   SELECT g.id\n     FROM groups g\n     JOIN group_users gu ON gu.group_id = g.id AND gu.user_id = 1888\n    WHERE g.visibility_level = 2\n\n   UNION ALL\n\n   SELECT g.id\n     FROM groups g\nLEFT JOIN group_users gu ON gu.group_id = g.id AND gu.user_id = 1888 AND gu.owner\n    WHERE g.visibility_level = 3\n      AND (gu.id IS NOT NULL OR FALSE)\n\n   UNION ALL\n\n   SELECT g.id\n     FROM groups g\n     JOIN group_users gu ON gu.group_id = g.id AND gu.user_id = 1888 AND gu.owner\n    WHERE g.visibility_level = 4\n )\n) ORDER BY name ASC, \"groups\".\"name\" ASC","database_type":"postgres","server_version":110006}},{"id":1464676,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464675,"elapsed":0.001594},{"id":1464677,"event":"return","defined_class":"SiteSerializer","method_id":"groups","path":"app/serializers/site_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1464662,"elapsed":0.005242,"return_value":{"class":"Array","value":"[{\"id\"=>1, \"name\"=>\"admins\"}, {\"id\"=>2, \"name\"=>\"moderators\"}, {\"id\"=>3, \"name\"=>\"staff\"}, {\"id\"=>10","object_id":70097674334120}},{"id":1464678,"event":"call","defined_class":"SiteSerializer","method_id":"filters","path":"app/serializers/site_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464679,"event":"return","defined_class":"SiteSerializer","method_id":"filters","path":"app/serializers/site_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parent_id":1464678,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"unread\", \"new\", \"read\", \"posted\", \"bookmarks\"]","object_id":70097674330780}},{"id":1464680,"event":"call","defined_class":"SiteSerializer","method_id":"periods","path":"app/serializers/site_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464681,"event":"call","defined_class":"TopTopic (call 'TopTopic.connection' to establish a connection)","method_id":"periods","path":"app/models/top_topic.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803577220,"value":"TopTopic"}},{"id":1464682,"event":"return","defined_class":"TopTopic (call 'TopTopic.connection' to establish a connection)","method_id":"periods","path":"app/models/top_topic.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1464681,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[:all, :yearly, :quarterly, :monthly, :weekly, :daily]","object_id":70097803693980}},{"id":1464683,"event":"return","defined_class":"SiteSerializer","method_id":"periods","path":"app/serializers/site_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parent_id":1464680,"elapsed":0.000106,"return_value":{"class":"Array","value":"[\"all\", \"yearly\", \"quarterly\", \"monthly\", \"weekly\", \"daily\"]","object_id":70097674352160}},{"id":1464684,"event":"call","defined_class":"SiteSerializer","method_id":"top_menu_items","path":"app/serializers/site_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464685,"event":"return","defined_class":"SiteSerializer","method_id":"top_menu_items","path":"app/serializers/site_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":1464684,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"unread\", \"new\", \"read\", \"posted\", \"bookmarks\", \"categories\", \"top\"]","object_id":70097674350500}},{"id":1464686,"event":"call","defined_class":"SiteSerializer","method_id":"anonymous_top_menu_items","path":"app/serializers/site_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464687,"event":"return","defined_class":"SiteSerializer","method_id":"anonymous_top_menu_items","path":"app/serializers/site_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parent_id":1464686,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"top\", \"categories\", \"categories\", \"top\"]","object_id":70097674348760}},{"id":1464688,"event":"call","defined_class":"SiteSerializer","method_id":"uncategorized_category_id","path":"app/serializers/site_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464689,"event":"return","defined_class":"SiteSerializer","method_id":"uncategorized_category_id","path":"app/serializers/site_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parent_id":1464688,"elapsed":7.0e-06,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1464690,"event":"call","defined_class":"SiteSerializer","method_id":"is_readonly","path":"app/serializers/site_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464691,"event":"return","defined_class":"SiteSerializer","method_id":"is_readonly","path":"app/serializers/site_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parent_id":1464690,"elapsed":0.000925},{"id":1464692,"event":"call","defined_class":"SiteSerializer","method_id":"disabled_plugins","path":"app/serializers/site_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464693,"event":"return","defined_class":"SiteSerializer","method_id":"disabled_plugins","path":"app/serializers/site_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parent_id":1464692,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097674368080}},{"id":1464694,"event":"call","defined_class":"SiteSerializer","method_id":"user_field_max_length","path":"app/serializers/site_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464695,"event":"call","defined_class":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","method_id":"max_length","path":"app/models/user_field.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097712077300,"value":"UserField"}},{"id":1464696,"event":"return","defined_class":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","method_id":"max_length","path":"app/models/user_field.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1464695,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"2048","object_id":4097}},{"id":1464697,"event":"return","defined_class":"SiteSerializer","method_id":"user_field_max_length","path":"app/serializers/site_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parent_id":1464694,"elapsed":9.8e-05,"return_value":{"class":"Integer","value":"2048","object_id":4097}},{"id":1464698,"event":"call","defined_class":"SiteSerializer","method_id":"post_action_types","path":"app/serializers/site_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464699,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":1464700,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1464699,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":1464701,"event":"return","defined_class":"SiteSerializer","method_id":"post_action_types","path":"app/serializers/site_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":1464698,"elapsed":0.000106,"return_value":{"class":"Array","value":"[{:id=>1, :name_key=>:bookmark, :name=>\"Bookmark\", :description=>\"Bookmark this post\", :short_descri","object_id":70097799746720}},{"id":1464702,"event":"call","defined_class":"SiteSerializer","method_id":"topic_flag_types","path":"app/serializers/site_serializer.rb","lineno":63,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464703,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":1464704,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1464703,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":1464705,"event":"return","defined_class":"SiteSerializer","method_id":"topic_flag_types","path":"app/serializers/site_serializer.rb","lineno":63,"static":false,"thread_id":70097708498960,"parent_id":1464702,"elapsed":9.8e-05,"return_value":{"class":"Array","value":"[{:id=>4, :name_key=>:inappropriate, :name=>\"Inappropriate\", :description=>\"This topic contains cont","object_id":70097800178900}},{"id":1464706,"event":"call","defined_class":"SiteSerializer","method_id":"can_create_tag","path":"app/serializers/site_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464707,"event":"call","defined_class":"TagGuardian","method_id":"can_create_tag?","path":"lib/guardian/tag_guardian.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464708,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464709,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1464708,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464710,"event":"return","defined_class":"TagGuardian","method_id":"can_create_tag?","path":"lib/guardian/tag_guardian.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1464707,"elapsed":0.000113},{"id":1464711,"event":"return","defined_class":"SiteSerializer","method_id":"can_create_tag","path":"app/serializers/site_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parent_id":1464706,"elapsed":0.000209},{"id":1464712,"event":"call","defined_class":"SiteSerializer","method_id":"can_tag_topics","path":"app/serializers/site_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464713,"event":"call","defined_class":"TagGuardian","method_id":"can_tag_topics?","path":"lib/guardian/tag_guardian.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464714,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464715,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1464714,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464716,"event":"return","defined_class":"TagGuardian","method_id":"can_tag_topics?","path":"lib/guardian/tag_guardian.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1464713,"elapsed":9.7e-05},{"id":1464717,"event":"return","defined_class":"SiteSerializer","method_id":"can_tag_topics","path":"app/serializers/site_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parent_id":1464712,"elapsed":0.000182},{"id":1464718,"event":"call","defined_class":"SiteSerializer","method_id":"can_tag_pms","path":"app/serializers/site_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464719,"event":"call","defined_class":"TagGuardian","method_id":"can_tag_pms?","path":"lib/guardian/tag_guardian.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464720,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464721,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464722,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1464721,"elapsed":1.0e-05},{"id":1464723,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1464720,"elapsed":9.7e-05},{"id":1464724,"event":"return","defined_class":"TagGuardian","method_id":"can_tag_pms?","path":"lib/guardian/tag_guardian.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1464719,"elapsed":0.000176},{"id":1464725,"event":"return","defined_class":"SiteSerializer","method_id":"can_tag_pms","path":"app/serializers/site_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":1464718,"elapsed":0.000257},{"id":1464726,"event":"call","defined_class":"SiteSerializer","method_id":"include_tags_filter_regexp?","path":"app/serializers/site_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464727,"event":"return","defined_class":"SiteSerializer","method_id":"include_tags_filter_regexp?","path":"app/serializers/site_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":1464726,"elapsed":4.0e-06},{"id":1464728,"event":"call","defined_class":"SiteSerializer","method_id":"include_top_tags?","path":"app/serializers/site_serializer.rb","lineno":130,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464729,"event":"call","defined_class":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","method_id":"include_tags?","path":"app/models/tag.rb","lineno":144,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755158320,"value":"Tag"}},{"id":1464730,"event":"return","defined_class":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","method_id":"include_tags?","path":"app/models/tag.rb","lineno":144,"static":true,"thread_id":70097708498960,"parent_id":1464729,"elapsed":3.0e-06},{"id":1464731,"event":"return","defined_class":"SiteSerializer","method_id":"include_top_tags?","path":"app/serializers/site_serializer.rb","lineno":130,"static":false,"thread_id":70097708498960,"parent_id":1464728,"elapsed":9.3e-05},{"id":1464732,"event":"call","defined_class":"SiteSerializer","method_id":"include_wizard_required?","path":"app/serializers/site_serializer.rb","lineno":142,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464733,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464734,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1464733,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464735,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1464736,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1464735,"elapsed":5.7e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097674430800}},{"id":1464737,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) LIMIT 16) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1464738,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464737,"elapsed":0.001076},{"id":1464739,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" INNER JOIN \"user_auth_tokens\" ON \"user_auth_tokens\".\"user_id\" = \"users\".\"id\" WHERE \"users\".\"admin\" = TRUE AND (users.id > 0) ORDER BY user_auth_tokens.created_at LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464740,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464739,"elapsed":0.00103},{"id":1464741,"event":"return","defined_class":"SiteSerializer","method_id":"include_wizard_required?","path":"app/serializers/site_serializer.rb","lineno":142,"static":false,"thread_id":70097708498960,"parent_id":1464732,"elapsed":0.008609},{"id":1464742,"event":"call","defined_class":"SiteSerializer","method_id":"include_topic_featured_link_allowed_category_ids?","path":"app/serializers/site_serializer.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464743,"event":"return","defined_class":"SiteSerializer","method_id":"include_topic_featured_link_allowed_category_ids?","path":"app/serializers/site_serializer.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":1464742,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464744,"event":"call","defined_class":"SiteSerializer","method_id":"topic_featured_link_allowed_category_ids","path":"app/serializers/site_serializer.rb","lineno":150,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464745,"event":"call","defined_class":"CategoryGuardian","method_id":"topic_featured_link_allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464746,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE \"categories\".\"topic_featured_link_allowed\" = TRUE","database_type":"postgres","server_version":110006}},{"id":1464747,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464746,"elapsed":0.000857},{"id":1464748,"event":"return","defined_class":"CategoryGuardian","method_id":"topic_featured_link_allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":1464745,"elapsed":0.003702,"return_value":{"class":"Array","value":"[1]","object_id":70097683332840}},{"id":1464749,"event":"return","defined_class":"SiteSerializer","method_id":"topic_featured_link_allowed_category_ids","path":"app/serializers/site_serializer.rb","lineno":150,"static":false,"thread_id":70097708498960,"parent_id":1464744,"elapsed":0.003835,"return_value":{"class":"Array","value":"[1]","object_id":70097683332840}},{"id":1464750,"event":"call","defined_class":"SiteSerializer","method_id":"user_themes","path":"app/serializers/site_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464751,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":1464752,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1464751,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":1464753,"event":"return","defined_class":"SiteSerializer","method_id":"user_themes","path":"app/serializers/site_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":1464750,"elapsed":0.0001,"return_value":{"class":"Array","value":"[{\"theme_id\"=>1, \"name\"=>\"Dark\", \"default\"=>false}, {\"theme_id\"=>2, \"name\"=>\"Light\", \"default\"=>true","object_id":70097816060720}},{"id":1464754,"event":"call","defined_class":"SiteSerializer","method_id":"censored_regexp","path":"app/serializers/site_serializer.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464755,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1464756,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1464757,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1464758,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":1464757,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097683345660}},{"id":1464759,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1464756,"elapsed":0.00103},{"id":1464760,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1464755,"elapsed":0.001133},{"id":1464761,"event":"return","defined_class":"SiteSerializer","method_id":"censored_regexp","path":"app/serializers/site_serializer.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":1464754,"elapsed":0.001224},{"id":1464762,"event":"call","defined_class":"SiteSerializer","method_id":"include_shared_drafts_category_id?","path":"app/serializers/site_serializer.rb","lineno":166,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464763,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_shared_draft?","path":"lib/guardian/topic_guardian.rb","lineno":25,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464764,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464765,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464766,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1464765,"elapsed":9.0e-06},{"id":1464767,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1464764,"elapsed":9.8e-05},{"id":1464768,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_shared_draft?","path":"lib/guardian/topic_guardian.rb","lineno":25,"static":false,"thread_id":70097708498960,"parent_id":1464763,"elapsed":0.000181},{"id":1464769,"event":"return","defined_class":"SiteSerializer","method_id":"include_shared_drafts_category_id?","path":"app/serializers/site_serializer.rb","lineno":166,"static":false,"thread_id":70097708498960,"parent_id":1464762,"elapsed":0.00027},{"id":1464770,"event":"call","defined_class":"SiteSerializer","method_id":"custom_emoji_translation","path":"app/serializers/site_serializer.rb","lineno":158,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097654812120,"value":"#<SiteSerializer:0x00007f81c3a11bb0>"}},{"id":1464771,"event":"return","defined_class":"SiteSerializer","method_id":"custom_emoji_translation","path":"app/serializers/site_serializer.rb","lineno":158,"static":false,"thread_id":70097708498960,"parent_id":1464770,"elapsed":5.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70097827197780}},{"id":1464772,"event":"call","defined_class":"Site","method_id":"categories","path":"app/models/site.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464773,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464774,"event":"call","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464775,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464776,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1464775,"elapsed":8.0e-06},{"id":1464777,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.id FROM \"categories\" INNER JOIN \"category_groups\" ON \"categories\".\"id\" = \"category_groups\".\"category_id\" INNER JOIN \"groups\" ON \"category_groups\".\"group_id\" = \"groups\".\"id\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1464778,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464777,"elapsed":0.00133},{"id":1464779,"event":"return","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parent_id":1464774,"elapsed":0.005268,"return_value":{"class":"Array","value":"[]","object_id":70097659875380}},{"id":1464780,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":1464773,"elapsed":0.005407,"return_value":{"class":"Array","value":"[]","object_id":70097659875380}},{"id":1464781,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.*, t.slug topic_slug FROM \"categories\" LEFT JOIN topics t on t.id = categories.topic_id WHERE (NOT categories.read_restricted) ORDER BY \"categories\".\"position\" ASC","database_type":"postgres","server_version":110006}},{"id":1464782,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464781,"elapsed":0.0014},{"id":1464783,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_tags\".* FROM \"category_tags\" WHERE \"category_tags\".\"category_id\" = 1","database_type":"postgres","server_version":110006}},{"id":1464784,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464783,"elapsed":0.00103},{"id":1464785,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_tag_groups\".* FROM \"category_tag_groups\" WHERE \"category_tag_groups\".\"category_id\" = 1","database_type":"postgres","server_version":110006}},{"id":1464786,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464785,"elapsed":0.00096},{"id":1464787,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464788,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464789,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1464788,"elapsed":6.0e-06},{"id":1464790,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1464787,"elapsed":0.000107},{"id":1464791,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464792,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464793,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464792,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464794,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1464791,"elapsed":8.9e-05},{"id":1464795,"event":"call","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"scoped_to_permissions","path":"app/models/category.rb","lineno":190,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>","kind":"req"},{"name":"permission_types","class":"Array","object_id":70097782785820,"value":"[:full]","kind":"req"}],"receiver":{"class":"Class","object_id":70097781459620,"value":"Category"}},{"id":1464796,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464797,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464798,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1464797,"elapsed":5.0e-06},{"id":1464799,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1464796,"elapsed":8.6e-05},{"id":1464800,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464801,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464802,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464801,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464803,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1464800,"elapsed":8.5e-05},{"id":1464804,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":1464805,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1464804,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":1464806,"event":"call","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464807,"event":"return","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":1464806,"elapsed":2.1e-05},{"id":1464808,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464809,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1464808,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464810,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1464811,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1464812,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 0 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1464813,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464812,"elapsed":0.001074},{"id":1464814,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parent_id":1464811,"elapsed":0.004512,"return_value":{"class":"Group","value":"#<Group:0x00007f81c78e1db8>","object_id":70097687744220}},{"id":1464815,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parent_id":1464810,"elapsed":0.00465,"return_value":{"class":"Group","value":"#<Group:0x00007f81c78e1db8>","object_id":70097687744220}},{"id":1464816,"event":"return","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"scoped_to_permissions","path":"app/models/category.rb","lineno":190,"static":true,"thread_id":70097708498960,"parent_id":1464795,"elapsed":0.005478,"return_value":{"class":"ActiveRecord::Relation","value":"#<Category::ActiveRecord_Relation:0x00007f81c78e1278>","object_id":70097687742780}},{"id":1464817,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE ((FALSE AND LENGTH(COALESCE(email_in, '')) > 0 AND email_in_allow_strangers)\n          OR categories.id NOT IN (SELECT category_id FROM category_groups)\n          OR categories.id IN (\n                SELECT category_id\n                  FROM category_groups\n                 WHERE permission_type IN (1)\n                   AND (group_id = 0 OR group_id IN (SELECT group_id FROM group_users WHERE user_id = 1888))\n             ))","database_type":"postgres","server_version":110006}},{"id":1464818,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464817,"elapsed":0.001152},{"id":1464819,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels_for","path":"app/models/category_user.rb","lineno":204,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>","kind":"req"}],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1464820,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464821,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464822,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464821,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464823,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1464820,"elapsed":9.6e-05},{"id":1464824,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464825,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1464824,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1464826,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_users\".\"category_id\", \"category_users\".\"notification_level\" FROM \"category_users\" WHERE \"category_users\".\"user_id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1464827,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464826,"elapsed":0.000876},{"id":1464828,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels_for","path":"app/models/category_user.rb","lineno":204,"static":true,"thread_id":70097708498960,"parent_id":1464819,"elapsed":0.004389,"return_value":{"class":"Hash","value":"{}","object_id":70097431763960}},{"id":1464829,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1464830,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1464831,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1464830,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1464832,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":1464829,"elapsed":0.000109,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1464833,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":1464834,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1464833,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":1464835,"event":"return","defined_class":"Site","method_id":"categories","path":"app/models/site.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":1464772,"elapsed":0.036133,"return_value":{"class":"Array","value":"[#<Category id: 1, name: \"Uncategorized\", color: \"0088CC\", topic_id: nil, topic_count: 0, created_at","object_id":70097687550180}},{"id":1464836,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464837,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>"}},{"id":1464838,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":1464837,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464839,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464840,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464839,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464841,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464842,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464841,"elapsed":1.0e-05},{"id":1464843,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464844,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464843,"elapsed":4.0e-06},{"id":1464845,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464846,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464845,"elapsed":2.0e-06},{"id":1464847,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":1464836,"elapsed":0.000487,"return_value":{"class":"String","value":"Uncategorized","object_id":70097673926580}},{"id":1464848,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464849,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>"}},{"id":1464850,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":1464849,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464851,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464852,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464851,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464853,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464854,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464853,"elapsed":6.0e-06},{"id":1464855,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464856,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464855,"elapsed":3.0e-06},{"id":1464857,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464858,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464857,"elapsed":3.0e-06},{"id":1464859,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1464848,"elapsed":0.000441,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097673905820}},{"id":1464860,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464861,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>"}},{"id":1464862,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":1464861,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464863,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464864,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464863,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464865,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464866,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464865,"elapsed":6.0e-06},{"id":1464867,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464868,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464867,"elapsed":2.0e-06},{"id":1464869,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464870,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464869,"elapsed":3.0e-06},{"id":1464871,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":1464860,"elapsed":0.000434,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097673905820}},{"id":1464872,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464873,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>"}},{"id":1464874,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":1464873,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464875,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464876,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464875,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464877,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464878,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464877,"elapsed":6.0e-06},{"id":1464879,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464880,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464879,"elapsed":3.0e-06},{"id":1464881,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464882,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464881,"elapsed":2.0e-06},{"id":1464883,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":1464872,"elapsed":0.000447,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097673905820}},{"id":1464884,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>"}},{"id":1464885,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parent_id":1464884,"elapsed":1.9e-05,"return_value":{"class":"String","value":"/t/","object_id":70097431859260}},{"id":1464886,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464887,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":1464886,"elapsed":6.0e-06},{"id":1464888,"event":"call","defined_class":"BasicCategorySerializer","method_id":"notification_level","path":"app/serializers/basic_category_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464889,"event":"return","defined_class":"BasicCategorySerializer","method_id":"notification_level","path":"app/serializers/basic_category_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":1464888,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1464890,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464891,"event":"call","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464892,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464893,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1464892,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1464894,"event":"call","defined_class":"CategoryGuardian","method_id":"can_edit_category?","path":"lib/guardian/category_guardian.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category","class":"Category","object_id":70097657416540,"value":"#<Category:0x00007f81c3f096b8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464895,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1464896,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1464897,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1464896,"elapsed":6.0e-06},{"id":1464898,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1464895,"elapsed":9.0e-05},{"id":1464899,"event":"return","defined_class":"CategoryGuardian","method_id":"can_edit_category?","path":"lib/guardian/category_guardian.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1464894,"elapsed":0.000171},{"id":1464900,"event":"return","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":1464891,"elapsed":0.000355},{"id":1464901,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":1464890,"elapsed":0.000443},{"id":1464902,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/basic_category_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464903,"event":"call","defined_class":"BasicCategorySerializer","method_id":"custom_fields","path":"app/serializers/basic_category_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464904,"event":"return","defined_class":"BasicCategorySerializer","method_id":"custom_fields","path":"app/serializers/basic_category_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":1464903,"elapsed":4.0e-06},{"id":1464905,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/basic_category_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":1464902,"elapsed":8.4e-05},{"id":1464906,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464907,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1464906,"elapsed":5.0e-06},{"id":1464908,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464909,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1464908,"elapsed":4.0e-06},{"id":1464910,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464911,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1464910,"elapsed":4.0e-06},{"id":1464912,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097431774740,"value":"#<SiteCategorySerializer:0x00007f81a90a8c28>"}},{"id":1464913,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":1464912,"elapsed":2.9e-05},{"id":1464914,"event":"call","defined_class":"Site","method_id":"trust_levels","path":"app/models/site.rb","lineno":23,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464915,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464916,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464915,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464917,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464918,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464917,"elapsed":7.0e-06},{"id":1464919,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464920,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464919,"elapsed":3.0e-06},{"id":1464921,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464922,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464921,"elapsed":2.0e-06},{"id":1464923,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464924,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464923,"elapsed":2.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464925,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464926,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464925,"elapsed":6.0e-06},{"id":1464927,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464928,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464927,"elapsed":2.0e-06},{"id":1464929,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464930,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464929,"elapsed":2.0e-06},{"id":1464931,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464932,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464931,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464933,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464934,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464933,"elapsed":6.0e-06},{"id":1464935,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464936,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464935,"elapsed":3.0e-06},{"id":1464937,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464938,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464937,"elapsed":2.0e-06},{"id":1464939,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464940,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464939,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464941,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464942,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464941,"elapsed":6.0e-06},{"id":1464943,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464944,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464943,"elapsed":2.0e-06},{"id":1464945,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464946,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464945,"elapsed":3.0e-06},{"id":1464947,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464948,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464947,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464949,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464950,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464949,"elapsed":5.0e-06},{"id":1464951,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464952,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464951,"elapsed":3.0e-06},{"id":1464953,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464954,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464953,"elapsed":2.0e-06},{"id":1464955,"event":"return","defined_class":"Site","method_id":"trust_levels","path":"app/models/site.rb","lineno":23,"static":false,"thread_id":70097708498960,"parent_id":1464914,"elapsed":0.001767,"return_value":{"class":"Array","value":"[#<TrustLevel:0x00007f81a90e01c8 @name=\"new user\", @id=0>, #<TrustLevel:0x00007f81d1058cc8 @name=\"ba","object_id":70097431888140}},{"id":1464956,"event":"call","defined_class":"Site","method_id":"archetypes","path":"app/models/site.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464957,"event":"return","defined_class":"Site","method_id":"archetypes","path":"app/models/site.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":1464956,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[#<Archetype:0x00007f81d4062e78 @id=\"regular\", @options={}>, #<Archetype:0x00007f81d4062dd8 @id=\"ban","object_id":70097767222620}},{"id":1464958,"event":"call","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097767221740,"value":"#<ArchetypeSerializer:0x00007f81d10793d8>"}},{"id":1464959,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464960,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464959,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464961,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464962,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464961,"elapsed":7.0e-06},{"id":1464963,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464964,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464963,"elapsed":2.0e-06},{"id":1464965,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464966,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464965,"elapsed":3.0e-06},{"id":1464967,"event":"return","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":1464958,"elapsed":0.000354,"return_value":{"class":"String","value":"Regular Topic","object_id":70097673699000}},{"id":1464968,"event":"call","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097767221740,"value":"#<ArchetypeSerializer:0x00007f81d10793d8>"}},{"id":1464969,"event":"return","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":1464968,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097767237900}},{"id":1464970,"event":"call","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097767237340,"value":"#<ArchetypeSerializer:0x00007f81d1080db8>"}},{"id":1464971,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464972,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464971,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1464973,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1464974,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1464973,"elapsed":6.0e-06},{"id":1464975,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464976,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464975,"elapsed":2.0e-06},{"id":1464977,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1464978,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1464977,"elapsed":2.0e-06},{"id":1464979,"event":"return","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":1464970,"elapsed":0.000353,"return_value":{"class":"String","value":"Banner Topic","object_id":70097673677600}},{"id":1464980,"event":"call","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097767237340,"value":"#<ArchetypeSerializer:0x00007f81d1080db8>"}},{"id":1464981,"event":"return","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":1464980,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097767253860}},{"id":1464982,"event":"call","defined_class":"Site","method_id":"user_fields","path":"app/models/site.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464983,"event":"return","defined_class":"Site","method_id":"user_fields","path":"app/models/site.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1464982,"elapsed":0.000105,"return_value":{"class":"ActiveRecord::Relation","value":"#<UserField::ActiveRecord_Relation:0x00007f81a90eb9d8>","object_id":70097431911660}},{"id":1464984,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" ORDER BY \"user_fields\".\"position\" ASC","database_type":"postgres","server_version":110006}},{"id":1464985,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1464984,"elapsed":0.001033},{"id":1464986,"event":"call","defined_class":"Site","method_id":"auth_providers","path":"app/models/site.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097654812160,"value":"#<Site:0x00007f81c3a11c00>"}},{"id":1464987,"event":"call","defined_class":"Auth::FacebookAuthenticator","method_id":"enabled?","path":"lib/auth/facebook_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::FacebookAuthenticator","object_id":70097718125600,"value":"#<Auth::FacebookAuthenticator:0x00007f81cb2d4840>"}},{"id":1464988,"event":"return","defined_class":"Auth::FacebookAuthenticator","method_id":"enabled?","path":"lib/auth/facebook_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1464987,"elapsed":7.0e-06},{"id":1464989,"event":"call","defined_class":"Auth::GoogleOAuth2Authenticator","method_id":"enabled?","path":"lib/auth/google_oauth2_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::GoogleOAuth2Authenticator","object_id":70097718147680,"value":"#<Auth::GoogleOAuth2Authenticator:0x00007f81cb2df4c0>"}},{"id":1464990,"event":"return","defined_class":"Auth::GoogleOAuth2Authenticator","method_id":"enabled?","path":"lib/auth/google_oauth2_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":1464989,"elapsed":4.0e-06},{"id":1464991,"event":"call","defined_class":"Auth::GithubAuthenticator","method_id":"enabled?","path":"lib/auth/github_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::GithubAuthenticator","object_id":70097718147360,"value":"#<Auth::GithubAuthenticator:0x00007f81cb2df240>"}},{"id":1464992,"event":"return","defined_class":"Auth::GithubAuthenticator","method_id":"enabled?","path":"lib/auth/github_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1464991,"elapsed":3.0e-06},{"id":1464993,"event":"call","defined_class":"Auth::TwitterAuthenticator","method_id":"enabled?","path":"lib/auth/twitter_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::TwitterAuthenticator","object_id":70097718147040,"value":"#<Auth::TwitterAuthenticator:0x00007f81cb2defc0>"}},{"id":1464994,"event":"return","defined_class":"Auth::TwitterAuthenticator","method_id":"enabled?","path":"lib/auth/twitter_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":1464993,"elapsed":5.0e-06},{"id":1464995,"event":"call","defined_class":"Auth::InstagramAuthenticator","method_id":"enabled?","path":"lib/auth/instagram_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::InstagramAuthenticator","object_id":70097718146640,"value":"#<Auth::InstagramAuthenticator:0x00007f81cb2deca0>"}},{"id":1464996,"event":"return","defined_class":"Auth::InstagramAuthenticator","method_id":"enabled?","path":"lib/auth/instagram_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":1464995,"elapsed":4.0e-06},{"id":1464997,"event":"call","defined_class":"Auth::DiscordAuthenticator","method_id":"enabled?","path":"lib/auth/discord_authenticator.rb","lineno":45,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::DiscordAuthenticator","object_id":70097718146280,"value":"#<Auth::DiscordAuthenticator:0x00007f81cb2de9d0>"}},{"id":1464998,"event":"return","defined_class":"Auth::DiscordAuthenticator","method_id":"enabled?","path":"lib/auth/discord_authenticator.rb","lineno":45,"static":false,"thread_id":70097708498960,"parent_id":1464997,"elapsed":5.0e-06},{"id":1464999,"event":"return","defined_class":"Site","method_id":"auth_providers","path":"app/models/site.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":1464986,"elapsed":0.000527,"return_value":{"class":"Array","value":"[]","object_id":70097432090060}},{"id":1465000,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465001,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465002,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465001,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465003,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1465000,"elapsed":9.1e-05},{"id":1465004,"event":"return","defined_class":"Site","method_id":"json_for","path":"app/models/site.rb","lineno":85,"static":true,"thread_id":70097708498960,"parent_id":1464643,"elapsed":0.073195,"return_value":{"class":"String","value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","object_id":70097432102200}},{"id":1465005,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097783548500,"value":"site","kind":"req"},{"name":"json","class":"String","object_id":70097432102200,"value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465006,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465005,"elapsed":7.0e-06,"return_value":{"class":"String","value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","object_id":70097432120680}},{"id":1465007,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097674120560,"value":"/images/discourse-logo-sketch.png"}},{"id":1465008,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1465007,"elapsed":7.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch.png","object_id":70097674120020}},{"id":1465009,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097653542060,"value":"/images/discourse-logo-sketch-small.png"}},{"id":1465010,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1465009,"elapsed":5.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch-small.png","object_id":70097674118400}},{"id":1465011,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465012,"event":"call","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465013,"event":"return","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1465012,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[{:name=>\" \", :value=>\"ar\"}, {:name=>\" \", :value=>\"be\"}, {:name=>\"","object_id":70097567928580}},{"id":1465014,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1465011,"elapsed":0.00024,"return_value":{"class":"String","value":"[{\"name\":\" \",\"value\":\"ar\"},{\"name\":\" \",\"value\":\"be\"},{\"name\":\" ","object_id":70097432172100}},{"id":1465015,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465016,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parent_id":1465015,"elapsed":6.0e-06},{"id":1465017,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465018,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465019,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1465018,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1465020,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1465021,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1465020,"elapsed":7.0e-06},{"id":1465022,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1465017,"elapsed":0.000261,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097432187080}},{"id":1465023,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465024,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465025,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1465024,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1465026,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1465027,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1465026,"elapsed":5.0e-06},{"id":1465028,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1465023,"elapsed":0.000223,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch-small.png","object_id":70097611288880}},{"id":1465029,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465030,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1465029,"elapsed":1.5e-05,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097613472460}},{"id":1465031,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465032,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1465031,"elapsed":1.0e-05,"return_value":{"class":"String","value":"http://test.localhost/uploads/default/test_0/optimized/1X/_129430568242d1b7f853bb13ebea28b3f6af4e7_2","object_id":70097620872420}},{"id":1465033,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993520,"value":"siteSettings","kind":"req"},{"name":"json","class":"String","object_id":70097611301040,"value":"{\"default_locale\":\"en_US\",\"title\":\"Discourse\",\"short_site_description\":\"\",\"contact_email\":\"\",\"contac","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465034,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465033,"elapsed":9.0e-06,"return_value":{"class":"String","value":"{\"default_locale\":\"en_US\",\"title\":\"Discourse\",\"short_site_description\":\"\",\"contact_email\":\"\",\"contac","object_id":70097611322360}},{"id":1465035,"event":"call","defined_class":"ApplicationHelper","method_id":"mobile_view?","path":"app/helpers/application_helper.rb","lineno":306,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":null,"object_id":70097611320940,"value":"#<#<Class:0x00007f81bc721da8>:0x00007f81be71dcd8>"}},{"id":1465036,"event":"return","defined_class":"ApplicationHelper","method_id":"mobile_view?","path":"app/helpers/application_helper.rb","lineno":306,"static":false,"thread_id":70097708498960,"parent_id":1465035,"elapsed":0.00024},{"id":1465037,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097654727640,"value":"[2]","kind":"req"},{"name":"target","class":"Symbol","object_id":7052508,"value":"desktop","kind":"req"},{"name":"field","class":"String","object_id":70097804033100,"value":"after_header","kind":"req"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465038,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097654727640,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465039,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097610072700,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465040,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":1465039,"elapsed":1.0e-05,"return_value":{"class":"Array","value":"[2]","object_id":70097816884200}},{"id":1465041,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1465038,"elapsed":0.000108,"return_value":{"class":"Array","value":"[2]","object_id":70097816884200}},{"id":1465042,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parent_id":1465037,"elapsed":0.000213,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097610094320}},{"id":1465043,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097654727640,"value":"[2]","kind":"req"},{"name":"target","class":"Symbol","object_id":7052508,"value":"desktop","kind":"req"},{"name":"field","class":"String","object_id":70097722574760,"value":"footer","kind":"req"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465044,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097654727640,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465045,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097610090100,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465046,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":1465045,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[2]","object_id":70097816884200}},{"id":1465047,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1465044,"elapsed":0.0001,"return_value":{"class":"Array","value":"[2]","object_id":70097816884200}},{"id":1465048,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parent_id":1465043,"elapsed":0.000197,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097610111760}},{"id":1465049,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993480,"value":"customHTML","kind":"req"},{"name":"json","class":"String","object_id":70097610110720,"value":"{\"top\":\"\",\"footer\":\"\"}","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465050,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465049,"elapsed":8.0e-06,"return_value":{"class":"String","value":"{\"top\":\"\",\"footer\":\"\"}","object_id":70097610108980}},{"id":1465051,"event":"call","defined_class":"ApplicationController","method_id":"banner_json_cache","path":"app/controllers/application_controller.rb","lineno":575,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097804066120,"value":"ApplicationController"}},{"id":1465052,"event":"return","defined_class":"ApplicationController","method_id":"banner_json_cache","path":"app/controllers/application_controller.rb","lineno":575,"static":true,"thread_id":70097708498960,"parent_id":1465051,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81bbbdc1a0>","object_id":70097588642000}},{"id":1465053,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097792342680,"value":"banner","kind":"req"},{"name":"json","class":"String","object_id":70097624514480,"value":"{}","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465054,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465053,"elapsed":4.0e-06,"return_value":{"class":"String","value":"{}","object_id":70097610104920}},{"id":1465055,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1465056,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1465057,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":1465056,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097610126440}},{"id":1465058,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1465055,"elapsed":0.001023,"return_value":{"class":"Array","value":"[]","object_id":70097610124360}},{"id":1465059,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993400,"value":"customEmoji","kind":"req"},{"name":"json","class":"String","object_id":70097610122760,"value":"[]","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465060,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465059,"elapsed":6.0e-06,"return_value":{"class":"String","value":"[]","object_id":70097610145440}},{"id":1465061,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465062,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465061,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465063,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465064,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465063,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465065,"event":"call","defined_class":"User","method_id":"sync_notification_channel_position","path":"app/models/user.rb","lineno":422,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465066,"event":"return","defined_class":"User","method_id":"sync_notification_channel_position","path":"app/models/user.rb","lineno":422,"static":false,"thread_id":70097708498960,"parent_id":1465065,"elapsed":4.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465067,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465068,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465067,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465069,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465070,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1465069,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81c5dcfb60>","object_id":70097673551280}},{"id":1465071,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465072,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1465071,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465073,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465074,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465075,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1465074,"elapsed":3.8e-05,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465076,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465077,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1465076,"elapsed":1.4e-05,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465078,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1465073,"elapsed":0.000253,"return_value":{"class":"String","value":"Bruce Wayne","object_id":70097610175600}},{"id":1465079,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465080,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465081,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1465080,"elapsed":1.4e-05,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465082,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465083,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097654744620,"value":"bruce1730","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465084,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097654744620,"value":"bruce1730","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465085,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097654744620,"value":"bruce1730","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465086,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1465085,"elapsed":1.1e-05,"return_value":{"class":"String","value":"bruce1730","object_id":70097610190000}},{"id":1465087,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097610190000,"value":"bruce1730","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465088,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097610190000,"value":"bruce1730","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465089,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":1465088,"elapsed":1.2e-05,"return_value":{"class":"Integer","value":"149","object_id":299}},{"id":1465090,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":1465087,"elapsed":0.000124,"return_value":{"class":"String","value":"7feea3","object_id":70097610209440}},{"id":1465091,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":1465084,"elapsed":0.000388,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/7feea3/{size}.png","object_id":70097610189020}},{"id":1465092,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":1465083,"elapsed":0.00049,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/7feea3/{size}.png","object_id":70097610189020}},{"id":1465093,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":1465082,"elapsed":0.000595,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/7feea3/{size}.png","object_id":70097610189020}},{"id":1465094,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1465079,"elapsed":0.000798,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/7feea3/{size}.png","object_id":70097610189020}},{"id":1465095,"event":"call","defined_class":"User","method_id":"unread_notifications","path":"app/models/user.rb","lineno":521,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465096,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_unread_notifications","path":"app/models/user.rb","lineno":513,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465097,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_unread_notifications","path":"app/models/user.rb","lineno":513,"static":true,"thread_id":70097708498960,"parent_id":1465096,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"99","object_id":199}},{"id":1465098,"event":"return","defined_class":"User","method_id":"unread_notifications","path":"app/models/user.rb","lineno":521,"static":false,"thread_id":70097708498960,"parent_id":1465095,"elapsed":0.001351,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465099,"event":"call","defined_class":"User","method_id":"unread_private_messages","path":"app/models/user.rb","lineno":500,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465100,"event":"call","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465101,"event":"call","defined_class":"User","method_id":"unread_notifications_of_priority","path":"app/models/user.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[{"name":"high_priority","class":"Hash","object_id":70097610223180,"value":"{:high_priority=>true}","kind":"keyreq"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465102,"event":"return","defined_class":"User","method_id":"unread_notifications_of_priority","path":"app/models/user.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":1465101,"elapsed":0.001048,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465103,"event":"return","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parent_id":1465100,"elapsed":0.001186,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465104,"event":"return","defined_class":"User","method_id":"unread_private_messages","path":"app/models/user.rb","lineno":500,"static":false,"thread_id":70097708498960,"parent_id":1465099,"elapsed":0.001317,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465105,"event":"call","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465106,"event":"return","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parent_id":1465105,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465107,"event":"call","defined_class":"User","method_id":"read_first_notification?","path":"app/models/user.rb","lineno":561,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465108,"event":"return","defined_class":"User","method_id":"read_first_notification?","path":"app/models/user.rb","lineno":561,"static":false,"thread_id":70097708498960,"parent_id":1465107,"elapsed":2.8e-05},{"id":1465109,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465110,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465109,"elapsed":6.0e-06},{"id":1465111,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465112,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465111,"elapsed":6.0e-06},{"id":1465113,"event":"call","defined_class":"CurrentUserSerializer","method_id":"any_posts","path":"app/serializers/current_user_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465114,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465115,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465114,"elapsed":0.001083},{"id":1465116,"event":"call","defined_class":"UserStat","method_id":"any_posts","path":"app/models/user_stat.rb","lineno":179,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserStat","object_id":70097781808140,"value":"#<UserStat:0x00007f81d2c4b818>"}},{"id":1465117,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1465118,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1465117,"elapsed":6.4e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097781988040}},{"id":1465119,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1465120,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1465119,"elapsed":3.6e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097782070400}},{"id":1465121,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465122,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465121,"elapsed":0.001526},{"id":1465123,"event":"return","defined_class":"UserStat","method_id":"any_posts","path":"app/models/user_stat.rb","lineno":179,"static":false,"thread_id":70097708498960,"parent_id":1465116,"elapsed":0.006702},{"id":1465124,"event":"return","defined_class":"CurrentUserSerializer","method_id":"any_posts","path":"app/serializers/current_user_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":1465113,"elapsed":0.080438},{"id":1465125,"event":"call","defined_class":"CurrentUserSerializer","method_id":"enable_quoting","path":"app/serializers/current_user_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465126,"event":"return","defined_class":"CurrentUserSerializer","method_id":"enable_quoting","path":"app/serializers/current_user_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1465125,"elapsed":2.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465127,"event":"call","defined_class":"CurrentUserSerializer","method_id":"enable_defer","path":"app/serializers/current_user_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465128,"event":"return","defined_class":"CurrentUserSerializer","method_id":"enable_defer","path":"app/serializers/current_user_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465127,"elapsed":2.1e-05},{"id":1465129,"event":"call","defined_class":"CurrentUserSerializer","method_id":"external_links_in_new_tab","path":"app/serializers/current_user_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465130,"event":"return","defined_class":"CurrentUserSerializer","method_id":"external_links_in_new_tab","path":"app/serializers/current_user_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1465129,"elapsed":1.4e-05},{"id":1465131,"event":"call","defined_class":"CurrentUserSerializer","method_id":"dynamic_favicon","path":"app/serializers/current_user_serializer.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465132,"event":"return","defined_class":"CurrentUserSerializer","method_id":"dynamic_favicon","path":"app/serializers/current_user_serializer.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1465131,"elapsed":1.2e-05},{"id":1465133,"event":"call","defined_class":"CurrentUserSerializer","method_id":"can_send_private_email_messages","path":"app/serializers/current_user_serializer.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465134,"event":"call","defined_class":"Guardian","method_id":"can_send_private_messages_to_email?","path":"lib/guardian.rb","lineno":428,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465135,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465136,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465135,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465137,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465138,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465139,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465138,"elapsed":8.0e-06},{"id":1465140,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1465137,"elapsed":0.000117},{"id":1465141,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":9,"value":"4","kind":"req"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465142,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465143,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465142,"elapsed":6.0e-06},{"id":1465144,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1465141,"elapsed":0.000146},{"id":1465145,"event":"return","defined_class":"Guardian","method_id":"can_send_private_messages_to_email?","path":"lib/guardian.rb","lineno":428,"static":false,"thread_id":70097708498960,"parent_id":1465134,"elapsed":0.000609},{"id":1465146,"event":"return","defined_class":"CurrentUserSerializer","method_id":"can_send_private_email_messages","path":"app/serializers/current_user_serializer.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1465133,"elapsed":0.000729},{"id":1465147,"event":"call","defined_class":"CurrentUserSerializer","method_id":"can_edit","path":"app/serializers/current_user_serializer.rb","lineno":116,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465148,"event":"return","defined_class":"CurrentUserSerializer","method_id":"can_edit","path":"app/serializers/current_user_serializer.rb","lineno":116,"static":false,"thread_id":70097708498960,"parent_id":1465147,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465149,"event":"call","defined_class":"CurrentUserSerializer","method_id":"include_can_invite_to_forum?","path":"app/serializers/current_user_serializer.rb","lineno":124,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465150,"event":"call","defined_class":"Guardian","method_id":"can_invite_to_forum?","path":"lib/guardian.rb","lineno":338,"static":false,"thread_id":70097708498960,"parameters":[{"name":"groups","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465151,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465152,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465151,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465153,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":5,"value":"2","kind":"req"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465154,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465155,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465154,"elapsed":8.0e-06},{"id":1465156,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1465153,"elapsed":0.000131},{"id":1465157,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465158,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465159,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465158,"elapsed":6.0e-06},{"id":1465160,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1465157,"elapsed":0.000114},{"id":1465161,"event":"return","defined_class":"Guardian","method_id":"can_invite_to_forum?","path":"lib/guardian.rb","lineno":338,"static":false,"thread_id":70097708498960,"parent_id":1465150,"elapsed":0.000655},{"id":1465162,"event":"return","defined_class":"CurrentUserSerializer","method_id":"include_can_invite_to_forum?","path":"app/serializers/current_user_serializer.rb","lineno":124,"static":false,"thread_id":70097708498960,"parent_id":1465149,"elapsed":0.000762},{"id":1465163,"event":"call","defined_class":"CurrentUserSerializer","method_id":"include_no_password?","path":"app/serializers/current_user_serializer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465164,"event":"call","defined_class":"User","method_id":"has_password?","path":"app/models/user.rb","lineno":642,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465165,"event":"return","defined_class":"User","method_id":"has_password?","path":"app/models/user.rb","lineno":642,"static":false,"thread_id":70097708498960,"parent_id":1465164,"elapsed":1.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465166,"event":"return","defined_class":"CurrentUserSerializer","method_id":"include_no_password?","path":"app/serializers/current_user_serializer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":1465163,"elapsed":0.000131},{"id":1465167,"event":"call","defined_class":"CurrentUserSerializer","method_id":"include_can_delete_account?","path":"app/serializers/current_user_serializer.rb","lineno":136,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465168,"event":"call","defined_class":"UserGuardian","method_id":"can_delete_user?","path":"lib/guardian/user_guardian.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465169,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465170,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465169,"elapsed":5.0e-06},{"id":1465171,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465172,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465171,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465173,"event":"call","defined_class":"User","method_id":"has_more_posts_than?","path":"app/models/user.rb","lineno":1260,"static":false,"thread_id":70097708498960,"parameters":[{"name":"max_post_count","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465174,"event":"return","defined_class":"User","method_id":"has_more_posts_than?","path":"app/models/user.rb","lineno":1260,"static":false,"thread_id":70097708498960,"parent_id":1465173,"elapsed":0.002156},{"id":1465175,"event":"return","defined_class":"UserGuardian","method_id":"can_delete_user?","path":"lib/guardian/user_guardian.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465168,"elapsed":0.002528,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465176,"event":"return","defined_class":"CurrentUserSerializer","method_id":"include_can_delete_account?","path":"app/serializers/current_user_serializer.rb","lineno":136,"static":false,"thread_id":70097708498960,"parent_id":1465167,"elapsed":0.002656,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465177,"event":"call","defined_class":"CurrentUserSerializer","method_id":"can_delete_account","path":"app/serializers/current_user_serializer.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465178,"event":"return","defined_class":"CurrentUserSerializer","method_id":"can_delete_account","path":"app/serializers/current_user_serializer.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":1465177,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465179,"event":"call","defined_class":"CurrentUserSerializer","method_id":"should_be_redirected_to_top","path":"app/serializers/current_user_serializer.rb","lineno":100,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465180,"event":"call","defined_class":"UserOption","method_id":"should_be_redirected_to_top","path":"app/models/user_option.rb","lineno":104,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097654727960,"value":"#<UserOption:0x00007f81c39e8a30>"}},{"id":1465181,"event":"call","defined_class":"UserOption","method_id":"redirected_to_top","path":"app/models/user_option.rb","lineno":108,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097654727960,"value":"#<UserOption:0x00007f81c39e8a30>"}},{"id":1465182,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"min_redirected_to_top_period","path":"app/models/site_setting.rb","lineno":88,"static":true,"thread_id":70097708498960,"parameters":[{"name":"duration","class":"Time","object_id":70097794867340,"value":"2020-05-27 19:08:33 UTC","kind":"req"}],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465183,"event":"call","defined_class":"ListController","method_id":"best_period_with_topics_for","path":"app/controllers/list_controller.rb","lineno":395,"static":true,"thread_id":70097708498960,"parameters":[{"name":"previous_visit_at","class":"Time","object_id":70097794867340,"value":"2020-05-27 19:08:33 UTC","kind":"req"},{"name":"category_id","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"default_period","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097803501320,"value":"ListController"}},{"id":1465184,"event":"call","defined_class":"ListController","method_id":"best_periods_for","path":"app/controllers/list_controller.rb","lineno":404,"static":true,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Time","object_id":70097794867340,"value":"2020-05-27 19:08:33 UTC","kind":"req"},{"name":"default_period","class":"Symbol","object_id":10884828,"value":"yearly","kind":"opt"}],"receiver":{"class":"Class","object_id":70097803501320,"value":"ListController"}},{"id":1465185,"event":"return","defined_class":"ListController","method_id":"best_periods_for","path":"app/controllers/list_controller.rb","lineno":404,"static":true,"thread_id":70097708498960,"parent_id":1465184,"elapsed":0.000257,"return_value":{"class":"Array","value":"[:daily, :weekly, :monthly, :quarterly, :yearly, :all]","object_id":70097794956380}},{"id":1465186,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (daily_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465187,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465186,"elapsed":0.001181},{"id":1465188,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (weekly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465189,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465188,"elapsed":0.00143},{"id":1465190,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (monthly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465191,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465190,"elapsed":0.00195},{"id":1465192,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (quarterly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465193,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465192,"elapsed":0.001471},{"id":1465194,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (yearly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465195,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465194,"elapsed":0.001243},{"id":1465196,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (all_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465197,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465196,"elapsed":0.001336},{"id":1465198,"event":"return","defined_class":"ListController","method_id":"best_period_with_topics_for","path":"app/controllers/list_controller.rb","lineno":395,"static":true,"thread_id":70097708498960,"parent_id":1465183,"elapsed":0.036482},{"id":1465199,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"min_redirected_to_top_period","path":"app/models/site_setting.rb","lineno":88,"static":true,"thread_id":70097708498960,"parent_id":1465182,"elapsed":0.036654},{"id":1465200,"event":"return","defined_class":"UserOption","method_id":"redirected_to_top","path":"app/models/user_option.rb","lineno":108,"static":false,"thread_id":70097708498960,"parent_id":1465181,"elapsed":0.036916},{"id":1465201,"event":"return","defined_class":"UserOption","method_id":"should_be_redirected_to_top","path":"app/models/user_option.rb","lineno":104,"static":false,"thread_id":70097708498960,"parent_id":1465180,"elapsed":0.03702},{"id":1465202,"event":"return","defined_class":"CurrentUserSerializer","method_id":"should_be_redirected_to_top","path":"app/serializers/current_user_serializer.rb","lineno":100,"static":false,"thread_id":70097708498960,"parent_id":1465179,"elapsed":0.03714},{"id":1465203,"event":"call","defined_class":"CurrentUserSerializer","method_id":"include_redirected_to_top?","path":"app/serializers/current_user_serializer.rb","lineno":144,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465204,"event":"call","defined_class":"UserOption","method_id":"redirected_to_top","path":"app/models/user_option.rb","lineno":108,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097654727960,"value":"#<UserOption:0x00007f81c39e8a30>"}},{"id":1465205,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"min_redirected_to_top_period","path":"app/models/site_setting.rb","lineno":88,"static":true,"thread_id":70097708498960,"parameters":[{"name":"duration","class":"Time","object_id":70097591212640,"value":"2020-05-27 19:08:33 UTC","kind":"req"}],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465206,"event":"call","defined_class":"ListController","method_id":"best_period_with_topics_for","path":"app/controllers/list_controller.rb","lineno":395,"static":true,"thread_id":70097708498960,"parameters":[{"name":"previous_visit_at","class":"Time","object_id":70097591212640,"value":"2020-05-27 19:08:33 UTC","kind":"req"},{"name":"category_id","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"default_period","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097803501320,"value":"ListController"}},{"id":1465207,"event":"call","defined_class":"ListController","method_id":"best_periods_for","path":"app/controllers/list_controller.rb","lineno":404,"static":true,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Time","object_id":70097591212640,"value":"2020-05-27 19:08:33 UTC","kind":"req"},{"name":"default_period","class":"Symbol","object_id":10884828,"value":"yearly","kind":"opt"}],"receiver":{"class":"Class","object_id":70097803501320,"value":"ListController"}},{"id":1465208,"event":"return","defined_class":"ListController","method_id":"best_periods_for","path":"app/controllers/list_controller.rb","lineno":404,"static":true,"thread_id":70097708498960,"parent_id":1465207,"elapsed":0.000234,"return_value":{"class":"Array","value":"[:daily, :weekly, :monthly, :quarterly, :yearly, :all]","object_id":70097591246780}},{"id":1465209,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (daily_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465210,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465209,"elapsed":2.5e-05},{"id":1465211,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (weekly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465212,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465211,"elapsed":2.5e-05},{"id":1465213,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (monthly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465214,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465213,"elapsed":1.6e-05},{"id":1465215,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (quarterly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465216,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465215,"elapsed":1.5e-05},{"id":1465217,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (yearly_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465218,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465217,"elapsed":1.8e-05},{"id":1465219,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"top_topics\" WHERE (all_score > 0) LIMIT 50) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465220,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465219,"elapsed":1.7e-05},{"id":1465221,"event":"return","defined_class":"ListController","method_id":"best_period_with_topics_for","path":"app/controllers/list_controller.rb","lineno":395,"static":true,"thread_id":70097708498960,"parent_id":1465206,"elapsed":0.020575},{"id":1465222,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"min_redirected_to_top_period","path":"app/models/site_setting.rb","lineno":88,"static":true,"thread_id":70097708498960,"parent_id":1465205,"elapsed":0.020722},{"id":1465223,"event":"return","defined_class":"UserOption","method_id":"redirected_to_top","path":"app/models/user_option.rb","lineno":108,"static":false,"thread_id":70097708498960,"parent_id":1465204,"elapsed":0.020957},{"id":1465224,"event":"return","defined_class":"CurrentUserSerializer","method_id":"include_redirected_to_top?","path":"app/serializers/current_user_serializer.rb","lineno":144,"static":false,"thread_id":70097708498960,"parent_id":1465203,"elapsed":0.021072},{"id":1465225,"event":"call","defined_class":"CurrentUserSerializer","method_id":"custom_fields","path":"app/serializers/current_user_serializer.rb","lineno":148,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465226,"event":"return","defined_class":"CurrentUserSerializer","method_id":"custom_fields","path":"app/serializers/current_user_serializer.rb","lineno":148,"static":false,"thread_id":70097708498960,"parent_id":1465225,"elapsed":1.4e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097827381960}},{"id":1465227,"event":"call","defined_class":"CurrentUserSerializer","method_id":"muted_category_ids","path":"app/serializers/current_user_serializer.rb","lineno":165,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465228,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"lookup","path":"app/models/category_user.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"},{"name":"level","class":"Symbol","object_id":70097722537320,"value":"muted","kind":"req"}],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465229,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465230,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465229,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465231,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"lookup","path":"app/models/category_user.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1465228,"elapsed":0.000239,"return_value":{"class":"ActiveRecord::Relation","value":"#<CategoryUser::ActiveRecord_Relation:0x00007f81d8340da8>","object_id":70097827399380}},{"id":1465232,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_users\".\"category_id\" FROM \"category_users\" WHERE \"category_users\".\"user_id\" = 1888 AND \"category_users\".\"notification_level\" = 0","database_type":"postgres","server_version":110006}},{"id":1465233,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465232,"elapsed":0.0013},{"id":1465234,"event":"return","defined_class":"CurrentUserSerializer","method_id":"muted_category_ids","path":"app/serializers/current_user_serializer.rb","lineno":165,"static":false,"thread_id":70097708498960,"parent_id":1465227,"elapsed":0.0048,"return_value":{"class":"Array","value":"[]","object_id":70097612425400}},{"id":1465235,"event":"call","defined_class":"CurrentUserSerializer","method_id":"muted_tag_ids","path":"app/serializers/current_user_serializer.rb","lineno":169,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465236,"event":"call","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"lookup","path":"app/models/tag_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"},{"name":"level","class":"Symbol","object_id":70097722537320,"value":"muted","kind":"req"}],"receiver":{"class":"Class","object_id":70097589123640,"value":"TagUser"}},{"id":1465237,"event":"call","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"notification_levels","path":"app/models/tag_user.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097589123640,"value":"TagUser"}},{"id":1465238,"event":"return","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"notification_levels","path":"app/models/tag_user.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1465237,"elapsed":8.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465239,"event":"return","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"lookup","path":"app/models/tag_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465236,"elapsed":0.000265,"return_value":{"class":"ActiveRecord::Relation","value":"#<TagUser::ActiveRecord_Relation:0x00007f81be941398>","object_id":70097612442060}},{"id":1465240,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tag_users\".\"tag_id\" FROM \"tag_users\" WHERE \"tag_users\".\"user_id\" = 1888 AND \"tag_users\".\"notification_level\" = 0","database_type":"postgres","server_version":110006}},{"id":1465241,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465240,"elapsed":0.001256},{"id":1465242,"event":"return","defined_class":"CurrentUserSerializer","method_id":"muted_tag_ids","path":"app/serializers/current_user_serializer.rb","lineno":169,"static":false,"thread_id":70097708498960,"parent_id":1465235,"elapsed":0.004628,"return_value":{"class":"Array","value":"[]","object_id":70097608316740}},{"id":1465243,"event":"call","defined_class":"CurrentUserSerializer","method_id":"dismissed_banner_key","path":"app/serializers/current_user_serializer.rb","lineno":191,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465244,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_profiles\".* FROM \"user_profiles\" WHERE \"user_profiles\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465245,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465244,"elapsed":0.001112},{"id":1465246,"event":"return","defined_class":"CurrentUserSerializer","method_id":"dismissed_banner_key","path":"app/serializers/current_user_serializer.rb","lineno":191,"static":false,"thread_id":70097708498960,"parent_id":1465243,"elapsed":0.00476},{"id":1465247,"event":"call","defined_class":"CurrentUserSerializer","method_id":"is_anonymous","path":"app/serializers/current_user_serializer.rb","lineno":195,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465248,"event":"call","defined_class":"User","method_id":"anonymous?","path":"app/models/user.rb","lineno":1155,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465249,"event":"return","defined_class":"User","method_id":"anonymous?","path":"app/models/user.rb","lineno":1155,"static":false,"thread_id":70097708498960,"parent_id":1465248,"elapsed":1.5e-05},{"id":1465250,"event":"return","defined_class":"CurrentUserSerializer","method_id":"is_anonymous","path":"app/serializers/current_user_serializer.rb","lineno":195,"static":false,"thread_id":70097708498960,"parent_id":1465247,"elapsed":0.000113},{"id":1465251,"event":"call","defined_class":"CurrentUserSerializer","method_id":"reviewable_count","path":"app/serializers/current_user_serializer.rb","lineno":199,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465252,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"list_for","path":"app/models/reviewable.rb","lineno":435,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"},{"name":"status","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"category_id","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"topic_id","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"type","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"limit","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"offset","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"priority","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"username","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"sort_order","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"from_date","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"to_date","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"additional_filters","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465253,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"min_score_for_priority","path":"app/models/reviewable.rb","lineno":263,"static":true,"thread_id":70097708498960,"parameters":[{"name":"priority","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465254,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"priorities","path":"app/models/reviewable.rb","lineno":46,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465255,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"priorities","path":"app/models/reviewable.rb","lineno":46,"static":true,"thread_id":70097708498960,"parent_id":1465254,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:low=>0, :medium=>5, :high=>10}","object_id":70097794689200}},{"id":1465256,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"plugin_store_rows\".* FROM \"plugin_store_rows\" WHERE \"plugin_store_rows\".\"plugin_name\" = 'reviewables' AND \"plugin_store_rows\".\"key\" = 'priority_0' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465257,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465256,"elapsed":0.001234},{"id":1465258,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"min_score_for_priority","path":"app/models/reviewable.rb","lineno":263,"static":true,"thread_id":70097708498960,"parent_id":1465253,"elapsed":0.004649,"return_value":{"class":"Float","value":"0.0","object_id":-9223372036854775806}},{"id":1465259,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"viewable_by","path":"app/models/reviewable.rb","lineno":406,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"},{"name":"order","class":"Hash","object_id":70097828500660,"value":"{:order=>\"reviewables.score DESC, reviewables.created_at DESC\"}","kind":"key"},{"name":"preload","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465260,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465261,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465260,"elapsed":1.0e-05},{"id":1465262,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465263,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465262,"elapsed":7.0e-06},{"id":1465264,"event":"call","defined_class":"CategoryGuardian","method_id":"allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828518800,"value":"#<Guardian:0x00007f81d8563720>"}},{"id":1465265,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE \"categories\".\"read_restricted\" = FALSE","database_type":"postgres","server_version":110006}},{"id":1465266,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465265,"elapsed":0.001107},{"id":1465267,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828518800,"value":"#<Guardian:0x00007f81d8563720>"}},{"id":1465268,"event":"call","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465269,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465270,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465269,"elapsed":6.0e-06},{"id":1465271,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.id FROM \"categories\" INNER JOIN \"category_groups\" ON \"categories\".\"id\" = \"category_groups\".\"category_id\" INNER JOIN \"groups\" ON \"category_groups\".\"group_id\" = \"groups\".\"id\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1465272,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465271,"elapsed":0.001358},{"id":1465273,"event":"return","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70097708498960,"parent_id":1465268,"elapsed":0.004571,"return_value":{"class":"Array","value":"[]","object_id":70097613833700}},{"id":1465274,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":1465267,"elapsed":0.004696,"return_value":{"class":"Array","value":"[]","object_id":70097613833700}},{"id":1465275,"event":"return","defined_class":"CategoryGuardian","method_id":"allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":1465264,"elapsed":0.008942,"return_value":{"class":"Array","value":"[1]","object_id":70097613078640}},{"id":1465276,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"viewable_by","path":"app/models/reviewable.rb","lineno":406,"static":true,"thread_id":70097708498960,"parent_id":1465259,"elapsed":0.009532,"return_value":{"class":"ActiveRecord::Relation","value":"#<Reviewable::ActiveRecord_Relation:0x00007f81bebf3aa0>","object_id":70097613856080}},{"id":1465277,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"by_status","path":"app/models/reviewable.rb","lineno":644,"static":true,"thread_id":70097708498960,"parameters":[{"name":"partial_result","class":"ActiveRecord::Relation","object_id":70097613856080,"value":"#<Reviewable::ActiveRecord_Relation:0x00007f81bebf3aa0>","kind":"req"},{"name":"status","class":"Symbol","object_id":2109148,"value":"pending","kind":"req"}],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465278,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"statuses","path":"app/models/reviewable.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465279,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"statuses","path":"app/models/reviewable.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":1465278,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:pending=>0, :approved=>1, :rejected=>2, :ignored=>3, :deleted=>4}","object_id":70097796937940}},{"id":1465280,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"by_status","path":"app/models/reviewable.rb","lineno":644,"static":true,"thread_id":70097708498960,"parent_id":1465277,"elapsed":0.000161,"return_value":{"class":"ActiveRecord::Relation","value":"#<Reviewable::ActiveRecord_Relation:0x00007f81bebf1188>","object_id":70097613850820}},{"id":1465281,"event":"call","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"custom_filters","path":"app/models/reviewable.rb","lineno":101,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097796486220,"value":"Reviewable"}},{"id":1465282,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"custom_filters","path":"app/models/reviewable.rb","lineno":101,"static":true,"thread_id":70097708498960,"parent_id":1465281,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097624625860}},{"id":1465283,"event":"return","defined_class":"Reviewable(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"list_for","path":"app/models/reviewable.rb","lineno":435,"static":true,"thread_id":70097708498960,"parent_id":1465252,"elapsed":0.014811,"return_value":{"class":"ActiveRecord::Relation","value":"#<Reviewable::ActiveRecord_Relation:0x00007f81bebf1188>","object_id":70097613850820}},{"id":1465284,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"reviewables\" WHERE ((reviewables.reviewable_by_moderator AND FALSE) OR (reviewables.reviewable_by_group_id IN (NULL))) AND (reviewables.category_id IS NULL OR reviewables.category_id IN (1)) AND \"reviewables\".\"status\" = 0","database_type":"postgres","server_version":110006}},{"id":1465285,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465284,"elapsed":0.001069},{"id":1465286,"event":"return","defined_class":"CurrentUserSerializer","method_id":"reviewable_count","path":"app/serializers/current_user_serializer.rb","lineno":199,"static":false,"thread_id":70097708498960,"parent_id":1465251,"elapsed":0.019295,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465287,"event":"call","defined_class":"CurrentUserSerializer","method_id":"read_faq","path":"app/serializers/current_user_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465288,"event":"return","defined_class":"CurrentUserSerializer","method_id":"read_faq","path":"app/serializers/current_user_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":1465287,"elapsed":3.8e-05},{"id":1465289,"event":"call","defined_class":"CurrentUserSerializer","method_id":"automatically_unpin_topics","path":"app/serializers/current_user_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465290,"event":"return","defined_class":"CurrentUserSerializer","method_id":"automatically_unpin_topics","path":"app/serializers/current_user_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":1465289,"elapsed":1.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465291,"event":"call","defined_class":"CurrentUserSerializer","method_id":"mailing_list_mode","path":"app/serializers/current_user_serializer.rb","lineno":203,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465292,"event":"call","defined_class":"UserOption","method_id":"mailing_list_mode","path":"app/models/user_option.rb","lineno":83,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097654727960,"value":"#<UserOption:0x00007f81c39e8a30>"}},{"id":1465293,"event":"return","defined_class":"UserOption","method_id":"mailing_list_mode","path":"app/models/user_option.rb","lineno":83,"static":false,"thread_id":70097708498960,"parent_id":1465292,"elapsed":1.7e-05},{"id":1465294,"event":"return","defined_class":"CurrentUserSerializer","method_id":"mailing_list_mode","path":"app/serializers/current_user_serializer.rb","lineno":203,"static":false,"thread_id":70097708498960,"parent_id":1465291,"elapsed":0.00011},{"id":1465295,"event":"call","defined_class":"CurrentUserSerializer","method_id":"include_primary_group_id?","path":"app/serializers/current_user_serializer.rb","lineno":207,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465296,"event":"return","defined_class":"CurrentUserSerializer","method_id":"include_primary_group_id?","path":"app/serializers/current_user_serializer.rb","lineno":207,"static":false,"thread_id":70097708498960,"parent_id":1465295,"elapsed":9.0e-06},{"id":1465297,"event":"call","defined_class":"CurrentUserSerializer","method_id":"can_create_topic","path":"app/serializers/current_user_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465298,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_topic?","path":"lib/guardian/topic_guardian.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[{"name":"parent","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465299,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465300,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465301,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465300,"elapsed":7.0e-06},{"id":1465302,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1465299,"elapsed":9.5e-05},{"id":1465303,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465304,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1465303,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465305,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465306,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1465305,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465307,"event":"call","defined_class":"PostGuardian","method_id":"can_create_post?","path":"lib/guardian/post_guardian.rb","lineno":108,"static":false,"thread_id":70097708498960,"parameters":[{"name":"parent","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465308,"event":"call","defined_class":"SpamRule::AutoSilence","method_id":"prevent_posting?","path":"app/services/spam_rule/auto_silence.rb","lineno":18,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097793431220,"value":"SpamRule::AutoSilence"}},{"id":1465309,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465310,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":1465309,"elapsed":1.1e-05},{"id":1465311,"event":"call","defined_class":"SpamRule::AutoSilence","method_id":"should_autosilence?","path":"app/services/spam_rule/auto_silence.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SpamRule::AutoSilence","object_id":70097608637360,"value":"#<SpamRule::AutoSilence:0x00007f81be1ff760>"}},{"id":1465312,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465313,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465314,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465313,"elapsed":4.0e-06},{"id":1465315,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1465312,"elapsed":0.000135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465316,"event":"return","defined_class":"SpamRule::AutoSilence","method_id":"should_autosilence?","path":"app/services/spam_rule/auto_silence.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1465311,"elapsed":0.000281},{"id":1465317,"event":"return","defined_class":"SpamRule::AutoSilence","method_id":"prevent_posting?","path":"app/services/spam_rule/auto_silence.rb","lineno":18,"static":true,"thread_id":70097708498960,"parent_id":1465308,"elapsed":0.000463},{"id":1465318,"event":"return","defined_class":"PostGuardian","method_id":"can_create_post?","path":"lib/guardian/post_guardian.rb","lineno":108,"static":false,"thread_id":70097708498960,"parent_id":1465307,"elapsed":0.000558,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465319,"event":"call","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"scoped_to_permissions","path":"app/models/category.rb","lineno":190,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>","kind":"req"},{"name":"permission_types","class":"Array","object_id":70097782785820,"value":"[:full]","kind":"req"}],"receiver":{"class":"Class","object_id":70097781459620,"value":"Category"}},{"id":1465320,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465321,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465322,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465321,"elapsed":5.0e-06},{"id":1465323,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1465320,"elapsed":9.2e-05},{"id":1465324,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465325,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465326,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465325,"elapsed":2.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465327,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1465324,"elapsed":9.0e-05},{"id":1465328,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":1465329,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1465328,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":1465330,"event":"call","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465331,"event":"return","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":1465330,"elapsed":9.0e-06},{"id":1465332,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465333,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":1465332,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465334,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1465335,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1465336,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 0 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465337,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465336,"elapsed":2.6e-05},{"id":1465338,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parent_id":1465335,"elapsed":0.003495,"return_value":{"class":"Group","value":"#<Group:0x00007f81d4f84cf8>","object_id":70097800275580}},{"id":1465339,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parent_id":1465334,"elapsed":0.003654,"return_value":{"class":"Group","value":"#<Group:0x00007f81d4f84cf8>","object_id":70097800275580}},{"id":1465340,"event":"return","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"scoped_to_permissions","path":"app/models/category.rb","lineno":190,"static":true,"thread_id":70097708498960,"parent_id":1465319,"elapsed":0.004672,"return_value":{"class":"ActiveRecord::Relation","value":"#<Category::ActiveRecord_Relation:0x00007f81d4f8fe50>","object_id":70097800298280}},{"id":1465341,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"categories\" WHERE ((FALSE AND LENGTH(COALESCE(email_in, '')) > 0 AND email_in_allow_strangers)\n          OR categories.id NOT IN (SELECT category_id FROM category_groups)\n          OR categories.id IN (\n                SELECT category_id\n                  FROM category_groups\n                 WHERE permission_type IN (1)\n                   AND (group_id = 0 OR group_id IN (SELECT group_id FROM group_users WHERE user_id = 1888))\n             )) LIMIT 1) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":1465342,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465341,"elapsed":0.001536},{"id":1465343,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_topic?","path":"lib/guardian/topic_guardian.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":1465298,"elapsed":0.01088,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465344,"event":"return","defined_class":"CurrentUserSerializer","method_id":"can_create_topic","path":"app/serializers/current_user_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":1465297,"elapsed":0.011028,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465345,"event":"call","defined_class":"CurrentUserSerializer","method_id":"link_posting_access","path":"app/serializers/current_user_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465346,"event":"call","defined_class":"PostGuardian","method_id":"link_posting_access","path":"lib/guardian/post_guardian.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465347,"event":"call","defined_class":"PostGuardian","method_id":"unrestricted_link_posting?","path":"lib/guardian/post_guardian.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465348,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097673551280,"value":"#<Guardian:0x00007f81c5dcfb60>"}},{"id":1465349,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":1465348,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465350,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":1,"value":"0","kind":"req"}],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465351,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465352,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465351,"elapsed":1.0e-05},{"id":1465353,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1465350,"elapsed":0.000107,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465354,"event":"return","defined_class":"PostGuardian","method_id":"unrestricted_link_posting?","path":"lib/guardian/post_guardian.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1465347,"elapsed":0.000306,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465355,"event":"return","defined_class":"PostGuardian","method_id":"link_posting_access","path":"lib/guardian/post_guardian.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1465346,"elapsed":0.000394,"return_value":{"class":"String","value":"full","object_id":70097716369320}},{"id":1465356,"event":"return","defined_class":"CurrentUserSerializer","method_id":"link_posting_access","path":"app/serializers/current_user_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":1465345,"elapsed":0.000491,"return_value":{"class":"String","value":"full","object_id":70097716369320}},{"id":1465357,"event":"call","defined_class":"CurrentUserSerializer","method_id":"include_external_id?","path":"app/serializers/current_user_serializer.rb","lineno":215,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465358,"event":"return","defined_class":"CurrentUserSerializer","method_id":"include_external_id?","path":"app/serializers/current_user_serializer.rb","lineno":215,"static":false,"thread_id":70097708498960,"parent_id":1465357,"elapsed":5.0e-06},{"id":1465359,"event":"call","defined_class":"CurrentUserSerializer","method_id":"top_category_ids","path":"app/serializers/current_user_serializer.rb","lineno":177,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465360,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465361,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465360,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465362,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465363,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465362,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465364,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_users\".\"category_id\" FROM \"category_users\" WHERE \"category_users\".\"user_id\" = 1888 AND \"category_users\".\"notification_level\" NOT IN (0, 1) ORDER BY \n        CASE\n          WHEN notification_level = 3 THEN 1\n          WHEN notification_level = 2 THEN 2\n          WHEN notification_level = 4 THEN 3\n        END","database_type":"postgres","server_version":110006}},{"id":1465365,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465364,"elapsed":0.001284},{"id":1465366,"event":"return","defined_class":"CurrentUserSerializer","method_id":"top_category_ids","path":"app/serializers/current_user_serializer.rb","lineno":177,"static":false,"thread_id":70097708498960,"parent_id":1465359,"elapsed":0.004614,"return_value":{"class":"Array","value":"[]","object_id":70097569122840}},{"id":1465367,"event":"call","defined_class":"CurrentUserSerializer","method_id":"hide_profile_and_presence","path":"app/serializers/current_user_serializer.rb","lineno":72,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465368,"event":"return","defined_class":"CurrentUserSerializer","method_id":"hide_profile_and_presence","path":"app/serializers/current_user_serializer.rb","lineno":72,"static":false,"thread_id":70097708498960,"parent_id":1465367,"elapsed":2.5e-05},{"id":1465369,"event":"call","defined_class":"CurrentUserSerializer","method_id":"groups","path":"app/serializers/current_user_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465370,"event":"call","defined_class":"User","method_id":"visible_groups","path":"app/models/user.rb","lineno":382,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465371,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"visibility_levels","path":"app/models/group.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1465372,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"visibility_levels","path":"app/models/group.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1465371,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:public=>0, :logged_on_users=>1, :members=>2, :staff=>3, :owners=>4}","object_id":70097569164740}},{"id":1465373,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465374,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465373,"elapsed":7.0e-06},{"id":1465375,"event":"return","defined_class":"User","method_id":"visible_groups","path":"app/models/user.rb","lineno":382,"static":false,"thread_id":70097708498960,"parent_id":1465370,"elapsed":0.000783,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<Group::ActiveRecord_AssociationRelation:0x00007f81b96b4698>","object_id":70097569162060}},{"id":1465376,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\" FROM \"groups\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 1888 AND (groups.id > 0) AND ( groups.id IN (\n   SELECT id\n     FROM groups\n    WHERE visibility_level = 0\n\n   UNION ALL\n\n   SELECT id\n     FROM groups\n    WHERE visibility_level = 1\n      AND 1888 IS NOT NULL\n\n   UNION ALL\n\n   SELECT g.id\n     FROM groups g\n     JOIN group_users gu ON gu.group_id = g.id AND gu.user_id = 1888\n    WHERE g.visibility_level = 2\n\n   UNION ALL\n\n   SELECT g.id\n     FROM groups g\nLEFT JOIN group_users gu ON gu.group_id = g.id AND gu.user_id = 1888 AND gu.owner\n    WHERE g.visibility_level = 3\n      AND (gu.id IS NOT NULL OR FALSE)\n\n   UNION ALL\n\n   SELECT g.id\n     FROM groups g\n     JOIN group_users gu ON gu.group_id = g.id AND gu.user_id = 1888 AND gu.owner\n    WHERE g.visibility_level = 4\n )\n) ORDER BY name ASC","database_type":"postgres","server_version":110006}},{"id":1465377,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465376,"elapsed":0.001739},{"id":1465378,"event":"return","defined_class":"CurrentUserSerializer","method_id":"groups","path":"app/serializers/current_user_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":1465369,"elapsed":0.005643,"return_value":{"class":"Array","value":"[]","object_id":70097829459960}},{"id":1465379,"event":"call","defined_class":"CurrentUserSerializer","method_id":"second_factor_enabled","path":"app/serializers/current_user_serializer.rb","lineno":219,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465380,"event":"call","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465381,"event":"call","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779296820,"value":"UserSecondFactor"}},{"id":1465382,"event":"return","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":1465381,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:totp=>1, :backup_codes=>2, :security_key=>3}","object_id":70097755302300}},{"id":1465383,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_second_factors\" WHERE \"user_second_factors\".\"user_id\" = 1888 AND \"user_second_factors\".\"method\" = 1 AND \"user_second_factors\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465384,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465383,"elapsed":0.001022},{"id":1465385,"event":"return","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":1465380,"elapsed":0.004784},{"id":1465386,"event":"call","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465387,"event":"call","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794494860,"value":"UserSecurityKey"}},{"id":1465388,"event":"return","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":1465387,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:second_factor=>0, :first_factor=>1, :multi_factor=>2}","object_id":70097800806880}},{"id":1465389,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_security_keys\" WHERE \"user_security_keys\".\"user_id\" = 1888 AND \"user_security_keys\".\"enabled\" = TRUE AND \"user_security_keys\".\"factor_type\" = 0 AND \"user_security_keys\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465390,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465389,"elapsed":0.000985},{"id":1465391,"event":"return","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":1465386,"elapsed":0.004449},{"id":1465392,"event":"return","defined_class":"CurrentUserSerializer","method_id":"second_factor_enabled","path":"app/serializers/current_user_serializer.rb","lineno":219,"static":false,"thread_id":70097708498960,"parent_id":1465379,"elapsed":0.009477},{"id":1465393,"event":"call","defined_class":"CurrentUserSerializer","method_id":"ignored_users","path":"app/serializers/current_user_serializer.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465394,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"username\" FROM \"ignored_users\" INNER JOIN \"users\" ON \"users\".\"id\" = \"ignored_users\".\"ignored_user_id\" WHERE \"ignored_users\".\"user_id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1465395,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465394,"elapsed":0.001082},{"id":1465396,"event":"return","defined_class":"CurrentUserSerializer","method_id":"ignored_users","path":"app/serializers/current_user_serializer.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1465393,"elapsed":0.00396,"return_value":{"class":"Array","value":"[]","object_id":70097609161940}},{"id":1465397,"event":"call","defined_class":"CurrentUserSerializer","method_id":"title_count_mode","path":"app/serializers/current_user_serializer.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465398,"event":"call","defined_class":"UserOption","method_id":"title_count_mode","path":"app/models/user_option.rb","lineno":176,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097654727960,"value":"#<UserOption:0x00007f81c39e8a30>"}},{"id":1465399,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1465400,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1465399,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":1465401,"event":"return","defined_class":"UserOption","method_id":"title_count_mode","path":"app/models/user_option.rb","lineno":176,"static":false,"thread_id":70097708498960,"parent_id":1465398,"elapsed":0.000124,"return_value":{"class":"Symbol","value":"notifications","object_id":2112348}},{"id":1465402,"event":"return","defined_class":"CurrentUserSerializer","method_id":"title_count_mode","path":"app/serializers/current_user_serializer.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1465397,"elapsed":0.000231,"return_value":{"class":"Symbol","value":"notifications","object_id":2112348}},{"id":1465403,"event":"call","defined_class":"CurrentUserSerializer","method_id":"timezone","path":"app/serializers/current_user_serializer.rb","lineno":108,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465404,"event":"return","defined_class":"CurrentUserSerializer","method_id":"timezone","path":"app/serializers/current_user_serializer.rb","lineno":108,"static":false,"thread_id":70097708498960,"parent_id":1465403,"elapsed":1.1e-05},{"id":1465405,"event":"call","defined_class":"CurrentUserSerializer","method_id":"featured_topic","path":"app/serializers/current_user_serializer.rb","lineno":223,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CurrentUserSerializer","object_id":70097610160000,"value":"#<CurrentUserSerializer:0x00007f81be4e6f00>"}},{"id":1465406,"event":"return","defined_class":"CurrentUserSerializer","method_id":"featured_topic","path":"app/serializers/current_user_serializer.rb","lineno":223,"static":false,"thread_id":70097708498960,"parent_id":1465405,"elapsed":3.3e-05},{"id":1465407,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993260,"value":"currentUser","kind":"req"},{"name":"json","class":"String","object_id":70097609175500,"value":"{\"id\":1888,\"username\":\"bruce1730\",\"name\":\"Bruce Wayne\",\"avatar_template\":\"/letter_avatar_proxy/v4/le","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465408,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465407,"elapsed":6.0e-06,"return_value":{"class":"String","value":"{\"id\":1888,\"username\":\"bruce1730\",\"name\":\"Bruce Wayne\",\"avatar_template\":\"/letter_avatar_proxy/v4/le","object_id":70097609173600}},{"id":1465409,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465410,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465409,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c26830a8>","object_id":70097644558420}},{"id":1465411,"event":"call","defined_class":"TopicTrackingState","method_id":"report","path":"app/models/topic_tracking_state.rb","lineno":189,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"},{"name":"topic_id","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":1465412,"event":"call","defined_class":"TopicTrackingState","method_id":"muted_tag_ids","path":"app/models/topic_tracking_state.rb","lineno":231,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":1465413,"event":"call","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"lookup","path":"app/models/tag_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>","kind":"req"},{"name":"level","class":"Symbol","object_id":70097722537320,"value":"muted","kind":"req"}],"receiver":{"class":"Class","object_id":70097589123640,"value":"TagUser"}},{"id":1465414,"event":"call","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"notification_levels","path":"app/models/tag_user.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097589123640,"value":"TagUser"}},{"id":1465415,"event":"return","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"notification_levels","path":"app/models/tag_user.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1465414,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465416,"event":"return","defined_class":"TagUser(id: integer, tag_id: integer, user_id: integer, notification_level: integer, created_at: datetime, updated_at: datetime)","method_id":"lookup","path":"app/models/tag_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465413,"elapsed":0.000223,"return_value":{"class":"ActiveRecord::Relation","value":"#<TagUser::ActiveRecord_Relation:0x00007f81be316cc0>","object_id":70097609209440}},{"id":1465417,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tag_users\".\"tag_id\" FROM \"tag_users\" WHERE \"tag_users\".\"user_id\" = 1888 AND \"tag_users\".\"notification_level\" = 0","database_type":"postgres","server_version":110006}},{"id":1465418,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465417,"elapsed":0.001054},{"id":1465419,"event":"return","defined_class":"TopicTrackingState","method_id":"muted_tag_ids","path":"app/models/topic_tracking_state.rb","lineno":231,"static":true,"thread_id":70097708498960,"parent_id":1465412,"elapsed":0.003866,"return_value":{"class":"Array","value":"[]","object_id":70097615150560}},{"id":1465420,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465421,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465420,"elapsed":1.0e-05},{"id":1465422,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465423,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465422,"elapsed":5.0e-06},{"id":1465424,"event":"call","defined_class":"TopicTrackingState","method_id":"report_raw_sql","path":"app/models/topic_tracking_state.rb","lineno":235,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097615146260,"value":"{:topic_id=>nil, :skip_unread=>true, :skip_order=>true, :staff=>false, :admin=>false, :user=>#<User ","kind":"opt"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":1465425,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1465426,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1465425,"elapsed":5.0e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097615716960}},{"id":1465427,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1465428,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1465427,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1465429,"event":"call","defined_class":"TopicTrackingState","method_id":"treat_as_new_topic_clause","path":"app/models/topic_tracking_state.rb","lineno":175,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":1465430,"event":"return","defined_class":"TopicTrackingState","method_id":"treat_as_new_topic_clause","path":"app/models/topic_tracking_state.rb","lineno":175,"static":true,"thread_id":70097708498960,"parent_id":1465429,"elapsed":0.000171,"return_value":{"class":"String","value":"GREATEST(CASE\n                  WHEN COALESCE(uo.new_topic_duration_minutes, 2880) = -1 THEN u.creat","object_id":70097615151720}},{"id":1465431,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465432,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465433,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465432,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465434,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":1465431,"elapsed":0.000106,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1465435,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465436,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465435,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465437,"event":"return","defined_class":"TopicTrackingState","method_id":"report_raw_sql","path":"app/models/topic_tracking_state.rb","lineno":235,"static":true,"thread_id":70097708498960,"parent_id":1465424,"elapsed":0.001085,"return_value":{"class":"String","value":"SELECT \n           u.id AS user_id,\n           topics.id AS topic_id,\n           topics.created_at,\n","object_id":70097615167580}},{"id":1465438,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465439,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465438,"elapsed":6.0e-06},{"id":1465440,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097644558420,"value":"#<User:0x00007f81c26830a8>"}},{"id":1465441,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465440,"elapsed":4.0e-06},{"id":1465442,"event":"call","defined_class":"TopicTrackingState","method_id":"report_raw_sql","path":"app/models/topic_tracking_state.rb","lineno":235,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097615188400,"value":"{:topic_id=>nil, :skip_new=>true, :skip_order=>true, :staff=>false, :filter_old_unread=>true, :admin","kind":"opt"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":1465443,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1465444,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1465443,"elapsed":3.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097615206040}},{"id":1465445,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1465446,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1465445,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1465447,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1465448,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1465447,"elapsed":2.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1465449,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465450,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465451,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465450,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465452,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":1465449,"elapsed":9.7e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1465453,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":1465454,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1465453,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":1465455,"event":"return","defined_class":"TopicTrackingState","method_id":"report_raw_sql","path":"app/models/topic_tracking_state.rb","lineno":235,"static":true,"thread_id":70097708498960,"parent_id":1465442,"elapsed":0.000707,"return_value":{"class":"String","value":"SELECT \n           u.id AS user_id,\n           topics.id AS topic_id,\n           topics.created_at,\n","object_id":70097615218540}},{"id":1465456,"event":"return","defined_class":"TopicTrackingState","method_id":"report","path":"app/models/topic_tracking_state.rb","lineno":189,"static":true,"thread_id":70097708498960,"parent_id":1465411,"elapsed":0.011447,"return_value":{"class":"Array","value":"[]","object_id":70097615216680}},{"id":1465457,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097804033960,"value":"topicTrackingStates","kind":"req"},{"name":"json","class":"String","object_id":70097615239760,"value":"[]","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465458,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":1465457,"elapsed":8.0e-06,"return_value":{"class":"String","value":"[]","object_id":70097615237920}},{"id":1465459,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1464640,"elapsed":0.322603,"return_value":{"class":"String","value":"[]","object_id":70097615237920}},{"id":1465460,"event":"call","defined_class":"SessionController","method_id":"become","path":"app/controllers/session_controller.rb","lineno":117,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465461,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_username","path":"app/models/user.rb","lineno":371,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097610725960,"value":"anne1742","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465462,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097610725960,"value":"anne1742","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1465463,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1465462,"elapsed":1.2e-05,"return_value":{"class":"String","value":"anne1742","object_id":70097615248520}},{"id":1465464,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'anne1742' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465465,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465464,"elapsed":0.001176},{"id":1465466,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_username","path":"app/models/user.rb","lineno":371,"static":true,"thread_id":70097708498960,"parent_id":1465461,"elapsed":0.00437,"return_value":{"class":"User","value":"#<User:0x00007f81bbed9470>","object_id":70097590209080}},{"id":1465467,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097610676760,"value":"#<ActionDispatch::Request::Session:0x00007f81be5e3430>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097654727800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81c39e88f0>","kind":"req"},{"name":"opts","class":"Hash","object_id":70097590208100,"value":"{}","kind":"opt"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465468,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>"}},{"id":1465469,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465468,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465470,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Hash","object_id":70097828885760,"value":"{:user_id=>1900, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\", :staff=>true, :impersonate=>","kind":"keyreq"},{"name":"user_agent","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"client_ip","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"path","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"staff","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"impersonate","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465471,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097828883680,"value":"ce436bb9f5419dde05cfca152fdd99f8","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465472,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465473,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1465472,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1465474,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1465471,"elapsed":0.000109,"return_value":{"class":"String","value":"dtTZreHsDDsuw9yKLj1ztNVm+SM=","object_id":70097828880560}},{"id":1465475,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465476,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465475,"elapsed":0.000768},{"id":1465477,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_tokens\" (\"user_id\", \"auth_token\", \"prev_auth_token\", \"client_ip\", \"rotated_at\", \"created_at\", \"updated_at\") VALUES (1900, 'dtTZreHsDDsuw9yKLj1ztNVm+SM=', 'dtTZreHsDDsuw9yKLj1ztNVm+SM=', '127.0.0.1/32', '2020-05-28 19:08:34.014087', '2020-05-28 19:08:34.017825', '2020-05-28 19:08:34.017825') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1465478,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465477,"elapsed":0.000909},{"id":1465479,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465480,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465479,"elapsed":0.000716},{"id":1465481,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097649874800,"value":"{:action=>\"generate\", :user_auth_token_id=>1608, :user_id=>1900, :user_agent=>nil, :client_ip=>\"127.","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465482,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465483,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465482,"elapsed":0.000734},{"id":1465484,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('generate', 1608, 1900, '127.0.0.1/32', 'dtTZreHsDDsuw9yKLj1ztNVm+SM=', '2020-05-28 19:08:34.029299') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1465485,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465484,"elapsed":0.00098},{"id":1465486,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465487,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465486,"elapsed":0.000714},{"id":1465488,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1465481,"elapsed":0.011333,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81c30a6418>","object_id":70097649873420}},{"id":1465489,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":16019548,"value":"suspicious_login","kind":"req"},{"name":"opts","class":"Hash","object_id":70097655476320,"value":"{:user_id=>1900, :client_ip=>\"127.0.0.1\", :user_agent=>nil}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1465490,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1465491,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1465490,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465492,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":1465489,"elapsed":0.000221,"return_value":{"class":"String","value":"fd526d7e4c6990f9d523ed45","object_id":70097655472800}},{"id":1465493,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parent_id":1465470,"elapsed":0.023561,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d876bb08>","object_id":70097829584260}},{"id":1465494,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parameters":[{"name":"unhashed_auth_token","class":"String","object_id":70097828883680,"value":"ce436bb9f5419dde05cfca152fdd99f8","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465495,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parent_id":1465494,"elapsed":3.4e-05,"return_value":{"class":"Hash","value":"{:value=>\"ce436bb9f5419dde05cfca152fdd99f8\", :httponly=>true, :expires=>Mon, 27 Jul 2020 19:08:34 UT","object_id":70097655494220}},{"id":1465496,"event":"call","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>"}},{"id":1465497,"event":"return","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parent_id":1465496,"elapsed":1.6e-05},{"id":1465498,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465499,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parent_id":1465498,"elapsed":1.5e-05},{"id":1465500,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465501,"event":"call","defined_class":"User","method_id":"is_singular_admin?","path":"app/models/user.rb","lineno":1161,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>"}},{"id":1465502,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"admin\" = TRUE AND \"users\".\"id\" != 1900 AND (users.id > 0)","database_type":"postgres","server_version":110006}},{"id":1465503,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465502,"elapsed":0.001045},{"id":1465504,"event":"return","defined_class":"User","method_id":"is_singular_admin?","path":"app/models/user.rb","lineno":1161,"static":false,"thread_id":70097708498960,"parent_id":1465501,"elapsed":0.004335,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465505,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":10897308,"value":"enable_bootstrap_mode","kind":"req"},{"name":"opts","class":"Hash","object_id":70097622214380,"value":"{:user_id=>1900}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1465506,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1465507,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1465506,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465508,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":1465505,"elapsed":0.000216,"return_value":{"class":"String","value":"78d0126d723135725db05fa1","object_id":70097622129320}},{"id":1465509,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parent_id":1465500,"elapsed":0.004812,"return_value":{"class":"String","value":"78d0126d723135725db05fa1","object_id":70097622129320}},{"id":1465510,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":3801,"value":"1900","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465511,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"id\" IN (SELECT \"user_auth_tokens\".\"id\" FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1900 AND (rotated_at > '2020-03-29 19:08:34.042904') ORDER BY rotated_at DESC OFFSET 60)","database_type":"postgres","server_version":110006}},{"id":1465512,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465511,"elapsed":0.001182},{"id":1465513,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parent_id":1465510,"elapsed":0.003967,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1465514,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parent_id":1465467,"elapsed":0.033191,"return_value":{"class":"User","value":"#<User:0x00007f81bbed9470>","object_id":70097590209080}},{"id":1465515,"event":"call","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>"}},{"id":1465516,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>","kind":"req"},{"name":"event","class":"Symbol","object_id":12243868,"value":"user_logged_in","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1465517,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1465518,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1465517,"elapsed":0.000224,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81c3b8dc78>","object_id":70097655590460}},{"id":1465519,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465520,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465519,"elapsed":0.001223},{"id":1465521,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1465516,"elapsed":0.004834},{"id":1465522,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>"}},{"id":1465523,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":1465522,"elapsed":1.1e-05},{"id":1465524,"event":"return","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parent_id":1465515,"elapsed":0.005103},{"id":1465525,"event":"return","defined_class":"SessionController","method_id":"become","path":"app/controllers/session_controller.rb","lineno":117,"static":false,"thread_id":70097708498960,"parent_id":1465460,"elapsed":0.043164,"return_value":{"class":"String","value":"<html><body>You are being <a href=\"http://test.localhost/\">redirected</a>.</body></html>","object_id":70097641929520}},{"id":1465526,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465527,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1465526,"elapsed":7.0e-06},{"id":1465528,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465529,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1465528,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097641926680}},{"id":1465530,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097610724740,"value":"#<SessionController:0x00007f81be5fab08>"}},{"id":1465531,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465532,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465531,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbed9470>","object_id":70097590209080}},{"id":1465533,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097590209080,"value":"#<User:0x00007f81bbed9470>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097610676760,"value":"#<ActionDispatch::Request::Session:0x00007f81be5e3430>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097654727800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81c39e88f0>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465534,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465535,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465536,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465535,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbed9470>","object_id":70097590209080}},{"id":1465537,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1465534,"elapsed":9.0e-05},{"id":1465538,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465539,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097610737600,"value":"#<TestCurrentUserProvider:0x00007f81be600f80>"}},{"id":1465540,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465539,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbed9470>","object_id":70097590209080}},{"id":1465541,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1465538,"elapsed":8.7e-05},{"id":1465542,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465543,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465542,"elapsed":0.001238},{"id":1465544,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1465533,"elapsed":0.005066},{"id":1465545,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1465530,"elapsed":0.005291},{"id":1465546,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1464559,"elapsed":0.411896,"http_server_response":{"status":302}},{"id":1465547,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097654727640,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465548,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097622648740,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":1465549,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":1465548,"elapsed":1.0e-05,"return_value":{"class":"Array","value":"[2]","object_id":70097816884200}},{"id":1465550,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1465547,"elapsed":0.000117,"return_value":{"class":"Array","value":"[2]","object_id":70097816884200}},{"id":1465551,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097622668140,"value":"#<TestCurrentUserProvider:0x00007f81bfcc26d8>"}},{"id":1465552,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1465551,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465553,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1465554,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1465553,"elapsed":4.0e-06},{"id":1465555,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041628,"value":"http_3xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1465556,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1465555,"elapsed":3.0e-06},{"id":1465557,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1465558,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1465557,"elapsed":7.6e-05,"return_value":{"class":"Integer","value":"20668","object_id":41337}},{"id":1465559,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465560,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465559,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465561,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465562,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465561,"elapsed":1.0e-05},{"id":1465563,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/uploads.json"},"message":[{"name":"file","class":"ActionDispatch::Http::UploadedFile","value":"#<ActionDispatch::Http::UploadedFile:0x00007f81bfd85c50>","object_id":70097623068200},{"name":"type","class":"String","value":"avatar","object_id":70097623023220},{"name":"controller","class":"String","value":"uploads","object_id":70097801283460},{"name":"action","class":"String","value":"create","object_id":70097801283440},{"name":"format","class":"String","value":"json","object_id":70097623072680}]},{"id":1465564,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465565,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465566,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465567,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465568,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097623085060,"value":"ce436bb9f5419dde05cfca152fdd99f8","kind":"req"},{"name":"opts","class":"Hash","object_id":70097623084680,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465569,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097623085060,"value":"ce436bb9f5419dde05cfca152fdd99f8","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465570,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465571,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1465570,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1465572,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1465569,"elapsed":0.000121,"return_value":{"class":"String","value":"dtTZreHsDDsuw9yKLj1ztNVm+SM=","object_id":70097623105120}},{"id":1465573,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'dtTZreHsDDsuw9yKLj1ztNVm+SM=' OR\n                          prev_auth_token = 'dtTZreHsDDsuw9yKLj1ztNVm+SM=') AND rotated_at > '2020-03-29 19:08:34.066289') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465574,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465573,"elapsed":0.001176},{"id":1465575,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:08:34.070971' WHERE \"user_auth_tokens\".\"id\" = 1608 AND \"user_auth_tokens\".\"auth_token\" = 'dtTZreHsDDsuw9yKLj1ztNVm+SM='","database_type":"postgres","server_version":110006}},{"id":1465576,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465575,"elapsed":0.00102},{"id":1465577,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097671866140,"value":"{:action=>\"seen token\", :user_auth_token_id=>1608, :user_id=>1900, :auth_token=>\"dtTZreHsDDsuw9yKLj1","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1465578,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465579,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465578,"elapsed":0.000722},{"id":1465580,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1608, 1900, '127.0.0.1/32', 'dtTZreHsDDsuw9yKLj1ztNVm+SM=', '2020-05-28 19:08:34.078877') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1465581,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465580,"elapsed":0.000898},{"id":1465582,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465583,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465582,"elapsed":0.000842},{"id":1465584,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1465577,"elapsed":0.01259,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81c5a98370>","object_id":70097671864760}},{"id":1465585,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1465568,"elapsed":0.021598,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81c2231590>","object_id":70097642293960}},{"id":1465586,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465587,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465586,"elapsed":0.000973},{"id":1465588,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465589,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1465588,"elapsed":1.8e-05},{"id":1465590,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465591,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1465590,"elapsed":0.000828,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465592,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465593,"event":"call","defined_class":"User","method_id":"update_visit_record!","path":"app/models/user.rb","lineno":680,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097643496080,"value":"2020-05-28","kind":"req"}],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465594,"event":"call","defined_class":"User","method_id":"visit_record_for","path":"app/models/user.rb","lineno":676,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097643496080,"value":"2020-05-28","kind":"req"}],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465595,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_visits\".* FROM \"user_visits\" WHERE \"user_visits\".\"user_id\" = 1900 AND \"user_visits\".\"visited_at\" = '2020-05-28' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465596,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465595,"elapsed":0.001024},{"id":1465597,"event":"return","defined_class":"User","method_id":"visit_record_for","path":"app/models/user.rb","lineno":676,"static":false,"thread_id":70097708498960,"parent_id":1465594,"elapsed":0.004713},{"id":1465598,"event":"call","defined_class":"User","method_id":"create_visit_record!","path":"app/models/user.rb","lineno":671,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097643496080,"value":"2020-05-28","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465599,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465600,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465599,"elapsed":0.001078},{"id":1465601,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_stats\" SET \"days_visited\" = 1 WHERE \"user_stats\".\"user_id\" = 1900","database_type":"postgres","server_version":110006}},{"id":1465602,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465601,"elapsed":0.000976},{"id":1465603,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465604,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465603,"elapsed":0.000807},{"id":1465605,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_visits\" (\"user_id\", \"visited_at\") VALUES (1900, '2020-05-28') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1465606,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465605,"elapsed":0.000887},{"id":1465607,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465608,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465607,"elapsed":0.000726},{"id":1465609,"event":"return","defined_class":"User","method_id":"create_visit_record!","path":"app/models/user.rb","lineno":671,"static":false,"thread_id":70097708498960,"parent_id":1465598,"elapsed":0.020443,"return_value":{"class":"UserVisit","value":"#<UserVisit:0x00007f81c5b56460>","object_id":70097672254000}},{"id":1465610,"event":"return","defined_class":"User","method_id":"update_visit_record!","path":"app/models/user.rb","lineno":680,"static":false,"thread_id":70097708498960,"parent_id":1465593,"elapsed":0.025451,"return_value":{"class":"UserVisit","value":"#<UserVisit:0x00007f81c5b56460>","object_id":70097672254000}},{"id":1465611,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465612,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":1465611,"elapsed":1.9e-05},{"id":1465613,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"last_seen_at\" = '2020-05-28 19:08:34.093519' WHERE \"users\".\"id\" = 1900","database_type":"postgres","server_version":110006}},{"id":1465614,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465613,"elapsed":0.00094},{"id":1465615,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"first_seen_at\" = '2020-05-28 19:08:34.093519' WHERE \"users\".\"id\" = 1900","database_type":"postgres","server_version":110006}},{"id":1465616,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465615,"elapsed":0.000975},{"id":1465617,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1465592,"elapsed":0.034567},{"id":1465618,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097643498500,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465619,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1900","database_type":"postgres","server_version":110006}},{"id":1465620,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465619,"elapsed":0.001021},{"id":1465621,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1465618,"elapsed":0.003747,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465622,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465567,"elapsed":0.066127,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465623,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1465566,"elapsed":0.066262,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bf8ffa78>","object_id":70097620696380}},{"id":1465624,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097620696380,"value":"#<Guardian:0x00007f81bf8ffa78>"}},{"id":1465625,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1465624,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465626,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1465565,"elapsed":0.066496},{"id":1465627,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465628,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465627,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465629,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465630,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465629,"elapsed":0.000984},{"id":1465631,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465632,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1465631,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bf8ffa78>","object_id":70097620696380}},{"id":1465633,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097641365320,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097620696380,"value":"#<Guardian:0x00007f81bf8ffa78>"}},{"id":1465634,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1465633,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465635,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1465564,"elapsed":0.071142,"return_value":{"class":"Array","value":"[2]","object_id":70097641365320}},{"id":1465636,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465637,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465638,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465637,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465639,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465640,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465639,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465641,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465642,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465641,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465643,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1465636,"elapsed":0.000331,"return_value":{"class":"String","value":"uploads/create","object_id":70097643967840}},{"id":1465644,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465645,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465646,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465645,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465647,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1465644,"elapsed":0.000102},{"id":1465648,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465649,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465650,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465649,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465651,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465652,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465651,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465653,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465654,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1465653,"elapsed":6.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1465655,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465656,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465655,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465657,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465658,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465657,"elapsed":1.0e-05},{"id":1465659,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465660,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465659,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465661,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465662,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465661,"elapsed":6.0e-06},{"id":1465663,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1465648,"elapsed":0.000649,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097643979480}},{"id":1465664,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465665,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1465664,"elapsed":8.0e-06},{"id":1465666,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465667,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465668,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465667,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465669,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1465666,"elapsed":9.1e-05},{"id":1465670,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465671,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465670,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465672,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465673,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465672,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465674,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465675,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465674,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465676,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097802288400,"value":"UploadsController"}},{"id":1465677,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1465676,"elapsed":2.0e-06,"return_value":{"class":"Hash","value":"{:except=>[:show, :show_short, :show_secure]}","object_id":70097802383420}},{"id":1465678,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465679,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465678,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465680,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465681,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1465680,"elapsed":1.0e-05},{"id":1465682,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465683,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465684,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465683,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465685,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1465682,"elapsed":0.000101},{"id":1465686,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465687,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465688,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465687,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465689,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1465686,"elapsed":8.8e-05},{"id":1465690,"event":"call","defined_class":"UploadsController","method_id":"create","path":"app/controllers/uploads_controller.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465691,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465692,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465691,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465693,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465694,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465693,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465695,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465696,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465697,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465696,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465698,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1465695,"elapsed":9.0e-05},{"id":1465699,"event":"call","defined_class":"UploadsController","method_id":"create_upload","path":"app/controllers/uploads_controller.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[{"name":"current_user","class":"Hash","object_id":70097670505540,"value":"{:current_user=>#<User id: 1900, username: \"anne1742\", created_at: \"2020-05-28 19:08:33\", updated_at","kind":"keyreq"},{"name":"file","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"url","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"type","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"for_private_message","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"for_site_setting","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"pasted","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"is_api","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"retain_hours","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"}],"receiver":{"class":"Class","object_id":70097802288400,"value":"UploadsController"}},{"id":1465700,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"generate_digest","path":"app/models/upload.rb","lineno":264,"static":true,"thread_id":70097708498960,"parameters":[{"name":"path","class":"Tempfile","object_id":70097622688900,"value":"#<File:0x00007f81bfccc548>","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1465701,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"generate_digest","path":"app/models/upload.rb","lineno":264,"static":true,"thread_id":70097708498960,"parent_id":1465700,"elapsed":5.5e-05,"return_value":{"class":"String","value":"bc975735dfc6409c1c2aa5ebf2239949bcbdbd65","object_id":70097670532740}},{"id":1465702,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"uploads\".* FROM \"uploads\" WHERE \"uploads\".\"sha1\" = 'bc975735dfc6409c1c2aa5ebf2239949bcbdbd65' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465703,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465702,"elapsed":0.000945},{"id":1465704,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465705,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465704,"elapsed":0.000697},{"id":1465706,"event":"call","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465707,"event":"call","defined_class":"UploadValidator","method_id":"is_authorized?","path":"lib/validators/upload_validator.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"","kind":"req"},{"name":"extension","class":"String","object_id":70097673419960,"value":"png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465708,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1900 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465709,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465708,"elapsed":0.000908},{"id":1465710,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465711,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465710,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465712,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465713,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465712,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465714,"event":"return","defined_class":"UploadValidator","method_id":"is_authorized?","path":"lib/validators/upload_validator.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1465707,"elapsed":0.005155,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465715,"event":"call","defined_class":"UploadValidator","method_id":"authorized_image_extension","path":"lib/validators/upload_validator.rb","lineno":51,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"","kind":"req"},{"name":"extension","class":"String","object_id":70097673419960,"value":"png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465716,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465717,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465716,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465718,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465719,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465718,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465720,"event":"return","defined_class":"UploadValidator","method_id":"authorized_image_extension","path":"lib/validators/upload_validator.rb","lineno":51,"static":false,"thread_id":70097708498960,"parent_id":1465715,"elapsed":0.000228,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465721,"event":"call","defined_class":"UploadValidator","method_id":"maximum_image_file_size","path":"lib/validators/upload_validator.rb","lineno":55,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465722,"event":"return","defined_class":"UploadValidator","method_id":"maximum_image_file_size","path":"lib/validators/upload_validator.rb","lineno":55,"static":false,"thread_id":70097708498960,"parent_id":1465721,"elapsed":1.4e-05},{"id":1465723,"event":"return","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1465706,"elapsed":0.005713},{"id":1465724,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"uploads\" (\"user_id\", \"original_filename\", \"filesize\", \"width\", \"height\", \"url\", \"created_at\", \"updated_at\", \"sha1\", \"extension\", \"thumbnail_width\", \"thumbnail_height\") VALUES (1900, 'ce11a6b8113e75532a1223f2f7c33ea4logo.png', 2297, 244, 66, '', '2020-05-28 19:08:34.158087', '2020-05-28 19:08:34.158087', 'bc975735dfc6409c1c2aa5ebf2239949bcbdbd65', 'png', 244, 66) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1465725,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465724,"elapsed":0.001082},{"id":1465726,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465727,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465726,"elapsed":0.000661},{"id":1465728,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1465729,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1465728,"elapsed":5.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1465730,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1465731,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465732,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1465731,"elapsed":4.0e-06},{"id":1465733,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":1465730,"elapsed":0.000113},{"id":1465734,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465735,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465734,"elapsed":0.000711},{"id":1465736,"event":"call","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465737,"event":"call","defined_class":"UploadValidator","method_id":"is_authorized?","path":"lib/validators/upload_validator.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"},{"name":"extension","class":"String","object_id":70097674527700,"value":"png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465738,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465739,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465738,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465740,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465741,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465740,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465742,"event":"return","defined_class":"UploadValidator","method_id":"is_authorized?","path":"lib/validators/upload_validator.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1465737,"elapsed":0.000276,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465743,"event":"call","defined_class":"UploadValidator","method_id":"authorized_image_extension","path":"lib/validators/upload_validator.rb","lineno":51,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"},{"name":"extension","class":"String","object_id":70097674527700,"value":"png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465744,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465745,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465744,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465746,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097653674020,"value":"#<User:0x00007f81c37e6048>"}},{"id":1465747,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1465746,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465748,"event":"return","defined_class":"UploadValidator","method_id":"authorized_image_extension","path":"lib/validators/upload_validator.rb","lineno":51,"static":false,"thread_id":70097708498960,"parent_id":1465743,"elapsed":0.000235,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465749,"event":"call","defined_class":"UploadValidator","method_id":"maximum_image_file_size","path":"lib/validators/upload_validator.rb","lineno":55,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1465750,"event":"return","defined_class":"UploadValidator","method_id":"maximum_image_file_size","path":"lib/validators/upload_validator.rb","lineno":55,"static":false,"thread_id":70097708498960,"parent_id":1465749,"elapsed":1.4e-05},{"id":1465751,"event":"return","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1465736,"elapsed":0.000863},{"id":1465752,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"uploads\" SET \"url\" = '/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png', \"updated_at\" = '2020-05-28 19:08:34.171315' WHERE \"uploads\".\"id\" = 66","database_type":"postgres","server_version":110006}},{"id":1465753,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465752,"elapsed":0.000967},{"id":1465754,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465755,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465754,"elapsed":0.000721},{"id":1465756,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":21168348,"value":"create_avatar_thumbnails","kind":"req"},{"name":"opts","class":"Hash","object_id":70097656754780,"value":"{:upload_id=>66}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1465757,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1465758,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1465757,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465759,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":1465756,"elapsed":0.000237,"return_value":{"class":"String","value":"5e3b39573b28d95ecd50e4aa","object_id":70097656751020}},{"id":1465760,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_uploads\".* FROM \"user_uploads\" WHERE \"user_uploads\".\"user_id\" = 1900 AND \"user_uploads\".\"upload_id\" = 66 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1465761,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465760,"elapsed":0.000971},{"id":1465762,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465763,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465762,"elapsed":0.000784},{"id":1465764,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_uploads\" (\"upload_id\", \"user_id\", \"created_at\") VALUES (66, 1900, '2020-05-28 19:08:34.187659') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1465765,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465764,"elapsed":0.000919},{"id":1465766,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1465767,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1465766,"elapsed":0.000724},{"id":1465768,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>"}},{"id":1465769,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1465768,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465770,"event":"return","defined_class":"UploadsController","method_id":"create_upload","path":"app/controllers/uploads_controller.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":1465699,"elapsed":0.059166,"return_value":{"class":"Upload","value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","object_id":70097622930680}},{"id":1465771,"event":"call","defined_class":"UploadsController","method_id":"serialize_upload","path":"app/controllers/uploads_controller.rb","lineno":191,"static":true,"thread_id":70097708498960,"parameters":[{"name":"data","class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"}],"receiver":{"class":"Class","object_id":70097802288400,"value":"UploadsController"}},{"id":1465772,"event":"call","defined_class":"UploadSerializer","method_id":"url","path":"app/serializers/upload_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadSerializer","object_id":70097654361640,"value":"#<UploadSerializer:0x00007f81c3935c50>"}},{"id":1465773,"event":"return","defined_class":"UploadSerializer","method_id":"url","path":"app/serializers/upload_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":1465772,"elapsed":9.0e-06,"return_value":{"class":"String","value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","object_id":70097654363720}},{"id":1465774,"event":"call","defined_class":"Upload","method_id":"width","path":"app/models/upload.rb","lineno":226,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465775,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":687068,"value":"width","kind":"req"}],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465776,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1465775,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1465777,"event":"return","defined_class":"Upload","method_id":"width","path":"app/models/upload.rb","lineno":226,"static":false,"thread_id":70097708498960,"parent_id":1465774,"elapsed":0.000102,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1465778,"event":"call","defined_class":"Upload","method_id":"height","path":"app/models/upload.rb","lineno":230,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465779,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":6449308,"value":"height","kind":"req"}],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465780,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1465779,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1465781,"event":"return","defined_class":"Upload","method_id":"height","path":"app/models/upload.rb","lineno":230,"static":false,"thread_id":70097708498960,"parent_id":1465778,"elapsed":9.3e-05,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1465782,"event":"call","defined_class":"Upload","method_id":"thumbnail_width","path":"app/models/upload.rb","lineno":234,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465783,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":8262428,"value":"thumbnail_width","kind":"req"}],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465784,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1465783,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1465785,"event":"return","defined_class":"Upload","method_id":"thumbnail_width","path":"app/models/upload.rb","lineno":234,"static":false,"thread_id":70097708498960,"parent_id":1465782,"elapsed":9.3e-05,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1465786,"event":"call","defined_class":"Upload","method_id":"thumbnail_height","path":"app/models/upload.rb","lineno":238,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465787,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":8263068,"value":"thumbnail_height","kind":"req"}],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465788,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1465787,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1465789,"event":"return","defined_class":"Upload","method_id":"thumbnail_height","path":"app/models/upload.rb","lineno":238,"static":false,"thread_id":70097708498960,"parent_id":1465786,"elapsed":9.2e-05,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1465790,"event":"call","defined_class":"Upload","method_id":"short_url","path":"app/models/upload.rb","lineno":123,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465791,"event":"return","defined_class":"Upload","method_id":"short_url","path":"app/models/upload.rb","lineno":123,"static":false,"thread_id":70097708498960,"parent_id":1465790,"elapsed":3.0e-05,"return_value":{"class":"String","value":"upload://qUm0DGR49PAZshIi7HxMd3cAlzn.png","object_id":70097654414380}},{"id":1465792,"event":"call","defined_class":"Upload","method_id":"short_path","path":"app/models/upload.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465793,"event":"return","defined_class":"Upload","method_id":"short_path","path":"app/models/upload.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":1465792,"elapsed":0.000108,"return_value":{"class":"String","value":"/uploads/short-url/qUm0DGR49PAZshIi7HxMd3cAlzn.png","object_id":70097654408680}},{"id":1465794,"event":"call","defined_class":"Upload","method_id":"human_filesize","path":"app/models/upload.rb","lineno":268,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097622930680,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1465795,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465796,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465795,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465797,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465798,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465797,"elapsed":1.0e-05},{"id":1465799,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465800,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465799,"elapsed":3.0e-06},{"id":1465801,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465802,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465801,"elapsed":3.0e-06},{"id":1465803,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465804,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465803,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465805,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465806,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465805,"elapsed":6.0e-06},{"id":1465807,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465808,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465807,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465809,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465810,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465809,"elapsed":6.0e-06},{"id":1465811,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465812,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465811,"elapsed":3.0e-06},{"id":1465813,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465814,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465813,"elapsed":2.0e-06},{"id":1465815,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465816,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465815,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465817,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465818,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465817,"elapsed":6.0e-06},{"id":1465819,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465820,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465819,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465821,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465822,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465821,"elapsed":6.0e-06},{"id":1465823,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465824,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465823,"elapsed":2.0e-06},{"id":1465825,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465826,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465825,"elapsed":3.0e-06},{"id":1465827,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465828,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465827,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465829,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465830,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465829,"elapsed":6.0e-06},{"id":1465831,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465832,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465831,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465833,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465834,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465833,"elapsed":6.0e-06},{"id":1465835,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465836,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465835,"elapsed":2.0e-06},{"id":1465837,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465838,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465837,"elapsed":3.0e-06},{"id":1465839,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465840,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465839,"elapsed":2.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465841,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465842,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465841,"elapsed":6.0e-06},{"id":1465843,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465844,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465843,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465845,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465846,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465845,"elapsed":6.0e-06},{"id":1465847,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465848,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465847,"elapsed":3.0e-06},{"id":1465849,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465850,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465849,"elapsed":2.0e-06},{"id":1465851,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465852,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465851,"elapsed":2.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465853,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465854,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465853,"elapsed":6.0e-06},{"id":1465855,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465856,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465855,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465857,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465858,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465857,"elapsed":6.0e-06},{"id":1465859,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465860,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465859,"elapsed":2.0e-06},{"id":1465861,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465862,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465861,"elapsed":2.0e-06},{"id":1465863,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465864,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465863,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465865,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465866,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465865,"elapsed":5.0e-06},{"id":1465867,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465868,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465867,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465869,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465870,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465869,"elapsed":6.0e-06},{"id":1465871,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465872,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465871,"elapsed":2.0e-06},{"id":1465873,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1465874,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1465873,"elapsed":2.0e-06},{"id":1465875,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465876,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465875,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1465877,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1465878,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1465877,"elapsed":6.0e-06},{"id":1465879,"event":"return","defined_class":"Upload","method_id":"human_filesize","path":"app/models/upload.rb","lineno":268,"static":false,"thread_id":70097708498960,"parent_id":1465794,"elapsed":0.004147,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"2.24 KB","object_id":70097691824560}},{"id":1465880,"event":"return","defined_class":"UploadsController","method_id":"serialize_upload","path":"app/controllers/uploads_controller.rb","lineno":191,"static":true,"thread_id":70097708498960,"parent_id":1465771,"elapsed":0.005499,"return_value":{"class":"Hash","value":"{\"id\"=>66, \"url\"=>\"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png\"","object_id":70097691823440}},{"id":1465881,"event":"return","defined_class":"UploadsController","method_id":"create","path":"app/controllers/uploads_controller.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":1465690,"elapsed":0.065814,"return_value":{"class":"String","value":"{\"id\":66,\"url\":\"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png\",\"o","object_id":70097691820660}},{"id":1465882,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465883,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1465882,"elapsed":7.0e-06},{"id":1465884,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465885,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1465884,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097660047740}},{"id":1465886,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097623071960,"value":"#<UploadsController:0x00007f81bfd879b0>"}},{"id":1465887,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465888,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465887,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465889,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097643502000,"value":"#<User:0x00007f81c247f360>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097623021980,"value":"#<ActionDispatch::Request::Session:0x00007f81bfd6f338>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097641340960,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81c2060040>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465890,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465891,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465892,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465891,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465893,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1465890,"elapsed":8.9e-05},{"id":1465894,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465895,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097623086680,"value":"#<TestCurrentUserProvider:0x00007f81bfd8ecb0>"}},{"id":1465896,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1465895,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c247f360>","object_id":70097643502000}},{"id":1465897,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1465894,"elapsed":8.7e-05},{"id":1465898,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1465889,"elapsed":0.000403},{"id":1465899,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1465886,"elapsed":0.000602},{"id":1465900,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1465563,"elapsed":0.141787,"http_server_response":{"status":200}},{"id":1465901,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097660081620,"value":"#<TestCurrentUserProvider:0x00007f81c441eba8>"}},{"id":1465902,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1465901,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1465903,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1465904,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1465903,"elapsed":7.0e-06},{"id":1465905,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1465906,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1465905,"elapsed":4.0e-06}]}