{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::UsersController #index returns success with JSON","app":"Discourse","feature":"Admin::UsersController #index","feature_group":"Admin users","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/models","type":"package","children":[{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false},{"name":"silenced?","type":"function","location":"app/models/user.rb:873","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"secondary_emails","type":"function","location":"app/models/user.rb:1210","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","type":"class","children":[{"name":"methods","type":"function","location":"app/models/user_second_factor.rb:19","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true}]},{"name":"SecondFactorManager","type":"class","children":[{"name":"has_any_second_factor_methods_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:74","static":false},{"name":"totp_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:56","static":false},{"name":"security_keys_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:68","static":false}]},{"name":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"factor_types","type":"function","location":"app/models/user_security_key.rb:10","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"UsersController","type":"class","children":[{"name":"index","type":"function","location":"app/controllers/admin/users_controller.rb:28","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"user","type":"function","location":"lib/guardian.rb:71","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]},{"name":"AdminUserListSerializer","type":"class","children":[{"name":"include_email?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:39","static":false},{"name":"last_seen_at","type":"function","location":"app/serializers/admin_user_list_serializer.rb:86","static":false},{"name":"last_emailed_at","type":"function","location":"app/serializers/admin_user_list_serializer.rb:76","static":false},{"name":"last_seen_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:91","static":false},{"name":"last_emailed_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:81","static":false},{"name":"created_at_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:101","static":false},{"name":"include_approved?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:105","static":false},{"name":"include_suspended_at?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:64","static":false},{"name":"include_suspended_till?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:68","static":false},{"name":"include_silenced?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:52","static":false},{"name":"include_silenced_till?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:60","static":false},{"name":"time_read","type":"function","location":"app/serializers/admin_user_list_serializer.rb:96","static":false},{"name":"include_second_factor_enabled?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:109","static":false},{"name":"days_visited","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"posts_read_count","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"topics_entered","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"post_count","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false}]}]}],"events":[{"id":110859,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800242240,"value":"#<TestCurrentUserProvider:0x00007f81d4f74880>"}},{"id":110860,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097800264900,"value":"dd0729c41d082976bf4a12849fbeddbd","kind":"req"},{"name":"opts","class":"Hash","object_id":70097800264440,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":110861,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097800264900,"value":"dd0729c41d082976bf4a12849fbeddbd","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":110862,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":110863,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":110862,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":110864,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":110861,"elapsed":0.000128,"return_value":{"class":"String","value":"UDg7uezCt19D/8NUmd/Z7U7R4vs=","object_id":70097800259720}},{"id":110865,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'UDg7uezCt19D/8NUmd/Z7U7R4vs=' OR\n                          prev_auth_token = 'UDg7uezCt19D/8NUmd/Z7U7R4vs=') AND rotated_at > '2020-03-29 18:50:38.709238') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":110866,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110865,"elapsed":0.000926},{"id":110867,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:50:38.713396' WHERE \"user_auth_tokens\".\"id\" = 389 AND \"user_auth_tokens\".\"auth_token\" = 'UDg7uezCt19D/8NUmd/Z7U7R4vs='","database_type":"postgres","server_version":110006}},{"id":110868,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110867,"elapsed":0.001034},{"id":110869,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097829029820,"value":"{:action=>\"seen token\", :user_auth_token_id=>389, :user_id=>140, :auth_token=>\"UDg7uezCt19D/8NUmd/Z7","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":110870,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":110871,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110870,"elapsed":0.00065},{"id":110872,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 389, 140, '127.0.0.1/32', 'UDg7uezCt19D/8NUmd/Z7U7R4vs=', '2020-05-28 18:50:38.717116') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":110873,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110872,"elapsed":0.000829},{"id":110874,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":110875,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110874,"elapsed":0.000665},{"id":110876,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":110869,"elapsed":0.010754,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d865c050>","object_id":70097829027880}},{"id":110877,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":110860,"elapsed":0.018776,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bbbcf040>","object_id":70097588615200}},{"id":110878,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 140 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":110879,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110878,"elapsed":0.000943},{"id":110880,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":110881,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":110880,"elapsed":1.5e-05},{"id":110882,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800242240,"value":"#<TestCurrentUserProvider:0x00007f81d4f74880>"}},{"id":110883,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":110882,"elapsed":0.000679,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110884,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":110885,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":110884,"elapsed":0.000744},{"id":110886,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097589234480,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":110887,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 140","database_type":"postgres","server_version":110006}},{"id":110888,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110887,"elapsed":0.000984},{"id":110889,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":110886,"elapsed":0.003254,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110890,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110859,"elapsed":0.027999,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110891,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800242240,"value":"#<TestCurrentUserProvider:0x00007f81d4f74880>"}},{"id":110892,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110891,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110893,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":110894,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":110893,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110895,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":110896,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":110895,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":110897,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":110898,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":110897,"elapsed":9.0e-06},{"id":110899,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/admin/users/list.json"},"message":[{"name":"controller","class":"String","value":"admin/users","object_id":70097793576780},{"name":"action","class":"String","value":"index","object_id":70097793576840},{"name":"format","class":"String","value":"json","object_id":70097800242540}]},{"id":110900,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110901,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110902,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110903,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110904,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110903,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110905,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":110902,"elapsed":0.00011,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bed78150>","object_id":70097614651560}},{"id":110906,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":110907,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":110906,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110908,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":110901,"elapsed":0.000315},{"id":110909,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110910,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110909,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110911,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 140 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":110912,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110911,"elapsed":0.000949},{"id":110913,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110914,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":110913,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bed78150>","object_id":70097614651560}},{"id":110915,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097589850220,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":110916,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":110915,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110917,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":110900,"elapsed":0.004767,"return_value":{"class":"Array","value":"[2]","object_id":70097589850220}},{"id":110918,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110919,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110920,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110919,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110921,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110922,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110921,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110923,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110924,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110923,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110925,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":110918,"elapsed":0.000316,"return_value":{"class":"String","value":"users/index","object_id":70097589863860}},{"id":110926,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110927,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110928,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110927,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110929,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":110926,"elapsed":9.9e-05},{"id":110930,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110931,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110932,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110931,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110933,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110934,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110933,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110935,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":110936,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":110935,"elapsed":1.0e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":110937,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":110938,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":110937,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":110939,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":110940,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":110939,"elapsed":8.0e-06},{"id":110941,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":110942,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":110941,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":110943,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":110944,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":110943,"elapsed":6.0e-06},{"id":110945,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":110930,"elapsed":0.000633,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097589896420}},{"id":110946,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110947,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":110946,"elapsed":7.0e-06},{"id":110948,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110949,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110950,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110949,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110951,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":110948,"elapsed":8.8e-05},{"id":110952,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110953,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110952,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110954,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110955,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110954,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110956,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110957,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110956,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110958,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703976700,"value":"Admin::UsersController"}},{"id":110959,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":110958,"elapsed":3.0e-06},{"id":110960,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110961,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":110960,"elapsed":6.0e-06},{"id":110962,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110963,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110962,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110964,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":110965,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":110964,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":110966,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":110967,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":110966,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110968,"event":"call","defined_class":"Admin::UsersController","method_id":"index","path":"app/controllers/admin/users_controller.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110969,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"ActiveRecord::Relation","object_id":70097797507320,"value":"#<User::ActiveRecord_Relation:0x00007f81d4a3d1f0>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097825979460,"value":"AdminUserListSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797507120,"value":"{}","kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110970,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"ActiveRecord::Relation","object_id":70097797507320,"value":"#<User::ActiveRecord_Relation:0x00007f81d4a3d1f0>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097825979460,"value":"AdminUserListSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797507120,"value":"{}","kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110971,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":110972,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":110971,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bed78150>","object_id":70097614651560}},{"id":110973,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = \"users\".\"id\" ORDER BY users.created_at DESC,users.username LIMIT 100 OFFSET 0","database_type":"postgres","server_version":110006}},{"id":110974,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110973,"elapsed":0.001094},{"id":110975,"event":"call","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779296820,"value":"UserSecondFactor"}},{"id":110976,"event":"return","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":110975,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:totp=>1, :backup_codes=>2, :security_key=>3}","object_id":70097755302300}},{"id":110977,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_second_factors\".* FROM \"user_second_factors\" WHERE \"user_second_factors\".\"method\" = 1 AND \"user_second_factors\".\"enabled\" = TRUE AND \"user_second_factors\".\"user_id\" IN (141, 140, -1)","database_type":"postgres","server_version":110006}},{"id":110978,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110977,"elapsed":0.00086},{"id":110979,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" IN (141, 140, -1)","database_type":"postgres","server_version":110006}},{"id":110980,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":110979,"elapsed":0.001071},{"id":110981,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":110982,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":110981,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":110983,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":110984,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":110985,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":110984,"elapsed":2.9e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794db0>","object_id":70097569621720}},{"id":110986,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":110987,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":110986,"elapsed":1.3e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794db0>","object_id":70097569621720}},{"id":110988,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":110983,"elapsed":0.000235,"return_value":{"class":"String","value":"Bruce Wayne","object_id":70097590198940}},{"id":110989,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":110990,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":110991,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":110990,"elapsed":1.2e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794db0>","object_id":70097569621720}},{"id":110992,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":110993,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097590204480,"value":"bruce140","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":110994,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097590204480,"value":"bruce140","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":110995,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097590204480,"value":"bruce140","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":110996,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":110995,"elapsed":1.3e-05,"return_value":{"class":"String","value":"bruce140","object_id":70097590208240}},{"id":110997,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097590208240,"value":"bruce140","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":110998,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097590208240,"value":"bruce140","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":110999,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":110998,"elapsed":1.2e-05,"return_value":{"class":"Integer","value":"128","object_id":257}},{"id":111000,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":110997,"elapsed":0.000119,"return_value":{"class":"String","value":"e9c0ed","object_id":70097828886580}},{"id":111001,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":110994,"elapsed":0.000373,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097590207660}},{"id":111002,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":110993,"elapsed":0.00047,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097590207660}},{"id":111003,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":110992,"elapsed":0.000568,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097590207660}},{"id":111004,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":110989,"elapsed":0.000752,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097590207660}},{"id":111005,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111006,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111007,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":111008,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":111007,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111009,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":111006,"elapsed":9.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111010,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111011,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":111010,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111012,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":111005,"elapsed":0.000274},{"id":111013,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111014,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111015,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":111016,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":111015,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111017,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":111014,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111018,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111019,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":111018,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111020,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":111013,"elapsed":0.000257},{"id":111021,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111022,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":111021,"elapsed":1.4e-05},{"id":111023,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111024,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":111023,"elapsed":9.0e-06},{"id":111025,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111026,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":111025,"elapsed":4.0e-06},{"id":111027,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111028,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":111027,"elapsed":4.0e-06},{"id":111029,"event":"call","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111030,"event":"return","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parent_id":111029,"elapsed":8.0e-06,"return_value":{"class":"Float","value":"17.727215","object_id":111975733472086274}},{"id":111031,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111032,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parent_id":111031,"elapsed":5.0e-06},{"id":111033,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111034,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":111035,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":111034,"elapsed":9.0e-06},{"id":111036,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":111033,"elapsed":9.1e-05},{"id":111037,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111038,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":111039,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":111038,"elapsed":4.0e-06},{"id":111040,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":111037,"elapsed":8.2e-05},{"id":111041,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111042,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":111043,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":111042,"elapsed":1.0e-05},{"id":111044,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":111041,"elapsed":8.9e-05},{"id":111045,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111046,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":111045,"elapsed":6.0e-06},{"id":111047,"event":"call","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111048,"event":"return","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":111047,"elapsed":1.4e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111049,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111050,"event":"call","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":111051,"event":"call","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":111052,"event":"call","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779296820,"value":"UserSecondFactor"}},{"id":111053,"event":"return","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":111052,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:totp=>1, :backup_codes=>2, :security_key=>3}","object_id":70097755302300}},{"id":111054,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_second_factors\" WHERE \"user_second_factors\".\"user_id\" = 141 AND \"user_second_factors\".\"method\" = 1 AND \"user_second_factors\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111055,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111054,"elapsed":0.000857},{"id":111056,"event":"return","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":111051,"elapsed":0.004245},{"id":111057,"event":"call","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621720,"value":"#<User:0x00007f81b9794db0>"}},{"id":111058,"event":"call","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794494860,"value":"UserSecurityKey"}},{"id":111059,"event":"return","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":111058,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:second_factor=>0, :first_factor=>1, :multi_factor=>2}","object_id":70097800806880}},{"id":111060,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_security_keys\" WHERE \"user_security_keys\".\"user_id\" = 141 AND \"user_security_keys\".\"enabled\" = TRUE AND \"user_security_keys\".\"factor_type\" = 0 AND \"user_security_keys\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111061,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111060,"elapsed":0.002097},{"id":111062,"event":"return","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":111057,"elapsed":0.04983},{"id":111063,"event":"return","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":111050,"elapsed":0.054329},{"id":111064,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parent_id":111049,"elapsed":0.054429},{"id":111065,"event":"call","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111066,"event":"return","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111065,"elapsed":2.8e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111067,"event":"call","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111068,"event":"return","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111067,"elapsed":1.4e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111069,"event":"call","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111070,"event":"return","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111069,"elapsed":1.3e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111071,"event":"call","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097590187820,"value":"#<AdminUserListSerializer:0x00007f81bbecee58>"}},{"id":111072,"event":"return","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111071,"elapsed":1.2e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111073,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111074,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":111073,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111075,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111076,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111077,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":111076,"elapsed":3.2e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794b80>","object_id":70097569621440}},{"id":111078,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111079,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":111078,"elapsed":1.6e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794b80>","object_id":70097569621440}},{"id":111080,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":111075,"elapsed":0.000299,"return_value":{"class":"String","value":"Anne Admin","object_id":70097724161520}},{"id":111081,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111082,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111083,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":111082,"elapsed":1.7e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794b80>","object_id":70097569621440}},{"id":111084,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111085,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097703693900,"value":"anne139","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111086,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097703693900,"value":"anne139","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111087,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097703693900,"value":"anne139","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111088,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":111087,"elapsed":1.4e-05,"return_value":{"class":"String","value":"anne139","object_id":70097724963580}},{"id":111089,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097724963580,"value":"anne139","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111090,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097724963580,"value":"anne139","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111091,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":111090,"elapsed":1.2e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111092,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":111089,"elapsed":0.000146,"return_value":{"class":"String","value":"c67d28","object_id":70097775468360}},{"id":111093,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":111086,"elapsed":0.000483,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/a/c67d28/{size}.png","object_id":70097724977500}},{"id":111094,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":111085,"elapsed":0.000608,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/a/c67d28/{size}.png","object_id":70097724977500}},{"id":111095,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":111084,"elapsed":0.00074,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/a/c67d28/{size}.png","object_id":70097724977500}},{"id":111096,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":111081,"elapsed":0.000984,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/a/c67d28/{size}.png","object_id":70097724977500}},{"id":111097,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111098,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111099,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":111100,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":111099,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111101,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":111098,"elapsed":0.00012,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111102,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111103,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":111102,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111104,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":111097,"elapsed":0.000353,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111105,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111106,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 140 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111107,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111106,"elapsed":0.001444},{"id":111108,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":111105,"elapsed":0.006399,"return_value":{"class":"String","value":"anne139@discourse.org","object_id":70097793052020}},{"id":111109,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111110,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111111,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":111112,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":111111,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111113,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":111110,"elapsed":0.000205,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111114,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111115,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":111114,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111116,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":111109,"elapsed":0.000459,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111117,"event":"call","defined_class":"User","method_id":"secondary_emails","path":"app/models/user.rb","lineno":1210,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111118,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"email\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 140 AND \"user_emails\".\"primary\" = FALSE","database_type":"postgres","server_version":110006}},{"id":111119,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111118,"elapsed":0.00135},{"id":111120,"event":"return","defined_class":"User","method_id":"secondary_emails","path":"app/models/user.rb","lineno":1210,"static":false,"thread_id":70097708498960,"parent_id":111117,"elapsed":0.00525,"return_value":{"class":"Array","value":"[]","object_id":70097794660980}},{"id":111121,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111122,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":111121,"elapsed":1.9e-05},{"id":111123,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111124,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":111123,"elapsed":1.3e-05},{"id":111125,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111126,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":111125,"elapsed":6.0e-06},{"id":111127,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111128,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":111127,"elapsed":6.0e-06},{"id":111129,"event":"call","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111130,"event":"return","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parent_id":111129,"elapsed":1.1e-05,"return_value":{"class":"Float","value":"17.838719","object_id":112226818158511434}},{"id":111131,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111132,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parent_id":111131,"elapsed":8.0e-06},{"id":111133,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111134,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111135,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":111134,"elapsed":1.2e-05},{"id":111136,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":111133,"elapsed":0.000119},{"id":111137,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111138,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111139,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":111138,"elapsed":5.0e-06},{"id":111140,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":111137,"elapsed":0.000107},{"id":111141,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111142,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111143,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":111142,"elapsed":1.1e-05},{"id":111144,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":111141,"elapsed":0.000116},{"id":111145,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111146,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":111145,"elapsed":1.0e-05},{"id":111147,"event":"call","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111148,"event":"return","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":111147,"elapsed":1.7e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111149,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111150,"event":"call","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111151,"event":"call","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111152,"event":"call","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779296820,"value":"UserSecondFactor"}},{"id":111153,"event":"return","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":111152,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:totp=>1, :backup_codes=>2, :security_key=>3}","object_id":70097755302300}},{"id":111154,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_second_factors\" WHERE \"user_second_factors\".\"user_id\" = 140 AND \"user_second_factors\".\"method\" = 1 AND \"user_second_factors\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111155,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111154,"elapsed":0.00125},{"id":111156,"event":"return","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":111151,"elapsed":0.005825},{"id":111157,"event":"call","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621440,"value":"#<User:0x00007f81b9794b80>"}},{"id":111158,"event":"call","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794494860,"value":"UserSecurityKey"}},{"id":111159,"event":"return","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":111158,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:second_factor=>0, :first_factor=>1, :multi_factor=>2}","object_id":70097800806880}},{"id":111160,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_security_keys\" WHERE \"user_security_keys\".\"user_id\" = 140 AND \"user_security_keys\".\"enabled\" = TRUE AND \"user_security_keys\".\"factor_type\" = 0 AND \"user_security_keys\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111161,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111160,"elapsed":0.001117},{"id":111162,"event":"return","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":111157,"elapsed":0.005487},{"id":111163,"event":"return","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":111150,"elapsed":0.011591},{"id":111164,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parent_id":111149,"elapsed":0.011701},{"id":111165,"event":"call","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111166,"event":"return","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111165,"elapsed":2.4e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111167,"event":"call","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111168,"event":"return","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111167,"elapsed":1.4e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111169,"event":"call","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111170,"event":"return","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111169,"elapsed":1.3e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111171,"event":"call","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097703685720,"value":"#<AdminUserListSerializer:0x00007f81c9749cb0>"}},{"id":111172,"event":"return","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111171,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111173,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111174,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":111173,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111175,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111176,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111177,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":111176,"elapsed":2.8e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794950>","object_id":70097569621160}},{"id":111178,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111179,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":111178,"elapsed":1.5e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794950>","object_id":70097569621160}},{"id":111180,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":111175,"elapsed":0.000269,"return_value":{"class":"String","value":"system","object_id":70097732371060}},{"id":111181,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111182,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111183,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":111182,"elapsed":1.6e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9794950>","object_id":70097569621160}},{"id":111184,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111185,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097732127340,"value":"system","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111186,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097732127340,"value":"system","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111187,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097732127340,"value":"system","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111188,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":111187,"elapsed":1.3e-05,"return_value":{"class":"String","value":"system","object_id":70097732422620}},{"id":111189,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097732422620,"value":"system","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111190,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097732422620,"value":"system","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":111191,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":111190,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"27","object_id":55}},{"id":111192,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":111189,"elapsed":0.000146,"return_value":{"class":"String","value":"bcef8e","object_id":70097732457460}},{"id":111193,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":111186,"elapsed":0.00043,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/s/bcef8e/{size}.png","object_id":70097732419960}},{"id":111194,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":111185,"elapsed":0.000545,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/s/bcef8e/{size}.png","object_id":70097732419960}},{"id":111195,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":111184,"elapsed":0.000663,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/s/bcef8e/{size}.png","object_id":70097732419960}},{"id":111196,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":111181,"elapsed":0.000886,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/s/bcef8e/{size}.png","object_id":70097732419960}},{"id":111197,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111198,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111199,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":111200,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":111199,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111201,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":111198,"elapsed":0.000109,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111202,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111203,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":111202,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111204,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":111197,"elapsed":0.000328},{"id":111205,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111206,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111207,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>"}},{"id":111208,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":111207,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111209,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":111206,"elapsed":0.000105,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111210,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097614651560,"value":"#<Guardian:0x00007f81bed78150>"}},{"id":111211,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":111210,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111212,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":111205,"elapsed":0.000312},{"id":111213,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111214,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":111213,"elapsed":1.4e-05},{"id":111215,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111216,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":111215,"elapsed":1.1e-05},{"id":111217,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111218,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":111217,"elapsed":5.0e-06},{"id":111219,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111220,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":111219,"elapsed":5.0e-06},{"id":111221,"event":"call","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111222,"event":"return","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parent_id":111221,"elapsed":9.0e-06,"return_value":{"class":"Float","value":"491.040339","object_id":285280566105792626}},{"id":111223,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111224,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parent_id":111223,"elapsed":5.0e-06},{"id":111225,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111226,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111227,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":111226,"elapsed":1.2e-05},{"id":111228,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":111225,"elapsed":0.000109},{"id":111229,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111230,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111231,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":111230,"elapsed":5.0e-06},{"id":111232,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":111229,"elapsed":0.000102},{"id":111233,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111234,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111235,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":111234,"elapsed":1.1e-05},{"id":111236,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":111233,"elapsed":0.000108},{"id":111237,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111238,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":111237,"elapsed":7.0e-06},{"id":111239,"event":"call","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111240,"event":"return","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":111239,"elapsed":1.2e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111241,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111242,"event":"call","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111243,"event":"call","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111244,"event":"call","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779296820,"value":"UserSecondFactor"}},{"id":111245,"event":"return","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":111244,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:totp=>1, :backup_codes=>2, :security_key=>3}","object_id":70097755302300}},{"id":111246,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_second_factors\" WHERE \"user_second_factors\".\"user_id\" = -1 AND \"user_second_factors\".\"method\" = 1 AND \"user_second_factors\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111247,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111246,"elapsed":0.001119},{"id":111248,"event":"return","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":111243,"elapsed":0.004982},{"id":111249,"event":"call","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097569621160,"value":"#<User:0x00007f81b9794950>"}},{"id":111250,"event":"call","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794494860,"value":"UserSecurityKey"}},{"id":111251,"event":"return","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":111250,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:second_factor=>0, :first_factor=>1, :multi_factor=>2}","object_id":70097800806880}},{"id":111252,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_security_keys\" WHERE \"user_security_keys\".\"user_id\" = -1 AND \"user_security_keys\".\"enabled\" = TRUE AND \"user_security_keys\".\"factor_type\" = 0 AND \"user_security_keys\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":111253,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":111252,"elapsed":0.000902},{"id":111254,"event":"return","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":111249,"elapsed":0.004652},{"id":111255,"event":"return","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":111242,"elapsed":0.009887},{"id":111256,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parent_id":111241,"elapsed":0.009986},{"id":111257,"event":"call","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111258,"event":"return","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111257,"elapsed":2.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111259,"event":"call","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111260,"event":"return","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111259,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111261,"event":"call","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111262,"event":"return","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111261,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111263,"event":"call","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserListSerializer","object_id":70097732127540,"value":"#<AdminUserListSerializer:0x00007f81ccd89668>"}},{"id":111264,"event":"return","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":111263,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":111265,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":110970,"elapsed":0.115055,"return_value":{"class":"Array","value":"[{:id=>141, :username=>\"bruce140\", :name=>\"Bruce Wayne\", :avatar_template=>\"/letter_avatar_proxy/v4/","object_id":70097590187840}},{"id":111266,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097590187840,"value":"[{:id=>141, :username=>\"bruce140\", :name=>\"Bruce Wayne\", :avatar_template=>\"/letter_avatar_proxy/v4/","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797507120,"value":"{}","kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":111267,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":111266,"elapsed":0.00019,"return_value":{"class":"String","value":"[{\"id\":141,\"username\":\"bruce140\",\"name\":\"Bruce Wayne\",\"avatar_template\":\"/letter_avatar_proxy/v4/let","object_id":70097730208720}},{"id":111268,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":110969,"elapsed":0.115688,"return_value":{"class":"String","value":"[{\"id\":141,\"username\":\"bruce140\",\"name\":\"Bruce Wayne\",\"avatar_template\":\"/letter_avatar_proxy/v4/let","object_id":70097730208720}},{"id":111269,"event":"return","defined_class":"Admin::UsersController","method_id":"index","path":"app/controllers/admin/users_controller.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":110968,"elapsed":0.117506,"return_value":{"class":"String","value":"[{\"id\":141,\"username\":\"bruce140\",\"name\":\"Bruce Wayne\",\"avatar_template\":\"/letter_avatar_proxy/v4/let","object_id":70097730208720}},{"id":111270,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":111271,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":111270,"elapsed":9.0e-06},{"id":111272,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":111273,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":111272,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097730227080}},{"id":111274,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097614641340,"value":"#<Admin::UsersController:0x00007f81bed73178>"}},{"id":111275,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":111276,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":111275,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111277,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097589238740,"value":"#<User:0x00007f81bbcff7a8>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097800198760,"value":"#<ActionDispatch::Request::Session:0x00007f81d4f5f4d0>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097589850400,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bbe2a240>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":111278,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":111279,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":111280,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":111279,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111281,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":111278,"elapsed":9.7e-05},{"id":111282,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":111283,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614653500,"value":"#<TestCurrentUserProvider:0x00007f81bed79078>"}},{"id":111284,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":111283,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbcff7a8>","object_id":70097589238740}},{"id":111285,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":111282,"elapsed":9.5e-05},{"id":111286,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":111277,"elapsed":0.000365},{"id":111287,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":111274,"elapsed":0.000581},{"id":111288,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":110899,"elapsed":0.126507,"http_server_response":{"status":200}},{"id":111289,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730711100,"value":"#<TestCurrentUserProvider:0x00007f81ccad5c78>"}},{"id":111290,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":111289,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":111291,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":111292,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":111291,"elapsed":5.0e-06},{"id":111293,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":111294,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":111293,"elapsed":4.0e-06}]}