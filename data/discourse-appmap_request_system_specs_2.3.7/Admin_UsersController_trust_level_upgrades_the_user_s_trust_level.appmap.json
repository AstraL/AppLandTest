{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::UsersController #trust_level upgrades the user's trust level","app":"Discourse","feature":"Admin::UsersController #trust_level","feature_group":"Admin users","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/models","type":"package","children":[{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"silenced?","type":"function","location":"app/models/user.rb:873","static":false},{"name":"change_trust_level!","type":"function","location":"app/models/user.rb:950","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"human?","type":"function","location":"app/models/user.rb:313","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false},{"name":"reload","type":"function","location":"app/models/user.rb:444","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false},{"name":"regular?","type":"function","location":"app/models/concerns/roleable.rb:17","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"TrustLevel3Requirements","type":"class","children":[{"name":"requirements_met?","type":"function","location":"app/models/trust_level3_requirements.rb:48","static":false},{"name":"trust_level_locked","type":"function","location":"app/models/trust_level3_requirements.rb:93","static":false},{"name":"penalty_counts","type":"function","location":"app/models/trust_level3_requirements.rb:105","static":false},{"name":"PenaltyCounts","type":"class","children":[{"name":"total","type":"function","location":"app/models/trust_level3_requirements.rb:20","static":false}]},{"name":"days_visited","type":"function","location":"app/models/trust_level3_requirements.rb:101","static":false},{"name":"time_period","type":"function","location":"app/models/trust_level3_requirements.rb:89","static":false},{"name":"min_days_visited","type":"function","location":"app/models/trust_level3_requirements.rb:141","static":false}]},{"name":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","type":"class","children":[{"name":"actions","type":"function","location":"app/models/user_history.rb:20","static":true},{"name":"admin_only_action_ids","type":"function","location":"app/models/user_history.rb:198","static":true}]},{"name":"UserHistory","type":"class","children":[{"name":"set_admin_only","type":"function","location":"app/models/user_history.rb:250","static":false}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true},{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false},{"name":"reload","type":"function","location":"app/models/concerns/has_custom_fields.rb:140","static":false},{"name":"clear_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:153","static":false}]},{"name":"UserProfile","type":"class","children":[{"name":"recook_bio","type":"function","location":"app/models/user_profile.rb:38","static":false}]},{"name":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","type":"class","children":[{"name":"user_trust_level_change!","type":"function","location":"app/models/group.rb:557","static":true},{"name":"desired_trust_level_groups","type":"function","location":"app/models/group.rb:551","static":true},{"name":"trust_group_ids","type":"function","location":"app/models/group.rb:360","static":true}]},{"name":"SecondFactorManager","type":"class","children":[{"name":"has_any_second_factor_methods_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:74","static":false},{"name":"totp_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:56","static":false},{"name":"security_keys_enabled?","type":"function","location":"app/models/concerns/second_factor_manager.rb:68","static":false}]},{"name":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","type":"class","children":[{"name":"methods","type":"function","location":"app/models/user_second_factor.rb:19","static":true}]},{"name":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"factor_types","type":"function","location":"app/models/user_security_key.rb:10","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"UsersController","type":"class","children":[{"name":"trust_level","type":"function","location":"app/controllers/admin/users_controller.rb:242","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"can_change_trust_level?","type":"function","location":"lib/guardian.rb:315","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"user","type":"function","location":"lib/guardian.rb:71","static":false},{"name":"can_send_activation_email?","type":"function","location":"lib/guardian.rb:180","static":false},{"name":"can_activate?","type":"function","location":"lib/guardian.rb:264","static":false},{"name":"can_deactivate?","type":"function","location":"lib/guardian.rb:268","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"StaffActionLogger","type":"class","children":[{"name":"log_trust_level_change","type":"function","location":"app/services/staff_action_logger.rb:96","static":false}]},{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]},{"name":"AdminUserListSerializer","type":"class","children":[{"name":"include_email?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:39","static":false},{"name":"last_seen_at","type":"function","location":"app/serializers/admin_user_list_serializer.rb:86","static":false},{"name":"last_emailed_at","type":"function","location":"app/serializers/admin_user_list_serializer.rb:76","static":false},{"name":"last_seen_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:91","static":false},{"name":"last_emailed_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:81","static":false},{"name":"created_at_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:101","static":false},{"name":"include_approved?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:105","static":false},{"name":"include_suspended_at?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:64","static":false},{"name":"include_suspended_till?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:68","static":false},{"name":"include_silenced?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:52","static":false},{"name":"include_silenced_till?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:60","static":false},{"name":"time_read","type":"function","location":"app/serializers/admin_user_list_serializer.rb:96","static":false},{"name":"include_second_factor_enabled?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:109","static":false},{"name":"days_visited","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"posts_read_count","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"topics_entered","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"post_count","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false}]},{"name":"AdminUserSerializer","type":"class","children":[{"name":"can_send_activation_email","type":"function","location":"app/serializers/admin_user_serializer.rb:24","static":false},{"name":"can_activate","type":"function","location":"app/serializers/admin_user_serializer.rb:28","static":false},{"name":"can_deactivate","type":"function","location":"app/serializers/admin_user_serializer.rb:32","static":false},{"name":"include_can_approve?","type":"function","location":"app/serializers/admin_user_serializer.rb:20","static":false},{"name":"ip_address","type":"function","location":"app/serializers/admin_user_serializer.rb:36","static":false},{"name":"registration_ip_address","type":"function","location":"app/serializers/admin_user_serializer.rb:40","static":false}]}]}],"events":[{"id":129255,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129256,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129255,"elapsed":0.000809},{"id":129257,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097607645660,"value":"#<TestCurrentUserProvider:0x00007f81be01b3b8>"}},{"id":129258,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097607643340,"value":"e5bf669be2ff870c31f441a871c42ac1","kind":"req"},{"name":"opts","class":"Hash","object_id":70097607642960,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":129259,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097607643340,"value":"e5bf669be2ff870c31f441a871c42ac1","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":129260,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":129261,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":129260,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":129262,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":129259,"elapsed":0.000115,"return_value":{"class":"String","value":"DULVuGvN7iuAnQ/GiEWUK2KMpWE=","object_id":70097607663280}},{"id":129263,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'DULVuGvN7iuAnQ/GiEWUK2KMpWE=' OR\n                          prev_auth_token = 'DULVuGvN7iuAnQ/GiEWUK2KMpWE=') AND rotated_at > '2020-03-29 18:50:52.918067') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129264,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129263,"elapsed":0.000992},{"id":129265,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:50:52.922112' WHERE \"user_auth_tokens\".\"id\" = 425 AND \"user_auth_tokens\".\"auth_token\" = 'DULVuGvN7iuAnQ/GiEWUK2KMpWE='","database_type":"postgres","server_version":110006}},{"id":129266,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129265,"elapsed":0.000964},{"id":129267,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097799145840,"value":"{:action=>\"seen token\", :user_auth_token_id=>425, :user_id=>140, :auth_token=>\"DULVuGvN7iuAnQ/GiEWUK","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":129268,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":129269,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129268,"elapsed":0.00073},{"id":129270,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 425, 140, '127.0.0.1/32', 'DULVuGvN7iuAnQ/GiEWUK2KMpWE=', '2020-05-28 18:50:52.925695') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":129271,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129270,"elapsed":0.000935},{"id":129272,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":129273,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129272,"elapsed":0.000872},{"id":129274,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":129267,"elapsed":0.011282,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d4d5c0e8>","object_id":70097799143540}},{"id":129275,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":129258,"elapsed":0.019037,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be8c8010>","object_id":70097612193800}},{"id":129276,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 140 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129277,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129276,"elapsed":0.000989},{"id":129278,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129279,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":129278,"elapsed":1.5e-05},{"id":129280,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097607645660,"value":"#<TestCurrentUserProvider:0x00007f81be01b3b8>"}},{"id":129281,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":129280,"elapsed":0.000802,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129282,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129283,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":129282,"elapsed":0.001455},{"id":129284,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097587070720,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129285,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 140","database_type":"postgres","server_version":110006}},{"id":129286,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129285,"elapsed":0.000936},{"id":129287,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":129284,"elapsed":0.003188,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129288,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129257,"elapsed":0.029051,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129289,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097607645660,"value":"#<TestCurrentUserProvider:0x00007f81be01b3b8>"}},{"id":129290,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129289,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129291,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129292,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129291,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129293,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":129294,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":129293,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":129295,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":129296,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":129295,"elapsed":9.0e-06},{"id":129297,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/admin/users/169/trust_level.json"},"message":[{"name":"level","class":"String","value":"2","object_id":70097607644320},{"name":"controller","class":"String","value":"admin/users","object_id":70097793889360},{"name":"action","class":"String","value":"trust_level","object_id":70097783392580},{"name":"user_id","class":"String","value":"169","object_id":70097607646060},{"name":"format","class":"String","value":"json","object_id":70097607646040}]},{"id":129298,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129299,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129300,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129301,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129302,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129301,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129303,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":129300,"elapsed":0.00011,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d85233a0>","object_id":70097828387280}},{"id":129304,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129305,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":129304,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129306,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":129299,"elapsed":0.000314},{"id":129307,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129308,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129307,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129309,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 140 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129310,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129309,"elapsed":0.000904},{"id":129311,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129312,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":129311,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d85233a0>","object_id":70097828387280}},{"id":129313,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097799795680,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129314,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":129313,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129315,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":129298,"elapsed":0.004705,"return_value":{"class":"Array","value":"[2]","object_id":70097799795680}},{"id":129316,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129317,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129318,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129317,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129319,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129320,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129319,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129321,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129322,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129321,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129323,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":129316,"elapsed":0.000328,"return_value":{"class":"String","value":"users/trust_level","object_id":70097799842460}},{"id":129324,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129325,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129326,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129325,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129327,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":129324,"elapsed":0.000103},{"id":129328,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129329,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129330,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129329,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129331,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129332,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129331,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129333,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129334,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":129333,"elapsed":1.1e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":129335,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":129336,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":129335,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":129337,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":129338,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":129337,"elapsed":8.0e-06},{"id":129339,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":129340,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":129339,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":129341,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":129342,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":129341,"elapsed":7.0e-06},{"id":129343,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":129328,"elapsed":0.000662,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097588102020}},{"id":129344,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129345,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":129344,"elapsed":8.0e-06},{"id":129346,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129347,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129348,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129347,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129349,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":129346,"elapsed":9.2e-05},{"id":129350,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129351,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129350,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129352,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129353,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129352,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129354,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129355,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129354,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129356,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703976700,"value":"Admin::UsersController"}},{"id":129357,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":129356,"elapsed":3.0e-06},{"id":129358,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129359,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":129358,"elapsed":7.0e-06},{"id":129360,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129361,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129362,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129361,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129363,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":129360,"elapsed":9.2e-05},{"id":129364,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129365,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129366,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129365,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129367,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":129364,"elapsed":9.0e-05},{"id":129368,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129369,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129368,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129370,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129371,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129370,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129372,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129373,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129372,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129374,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129375,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129374,"elapsed":0.001064},{"id":129376,"event":"call","defined_class":"Admin::UsersController","method_id":"trust_level","path":"app/controllers/admin/users_controller.rb","lineno":242,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129377,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129378,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":129377,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d85233a0>","object_id":70097828387280}},{"id":129379,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"method","class":"Symbol","object_id":16763508,"value":"ensure_can_change_trust_level!","kind":"req"},{"name":"args","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"rest"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129380,"event":"call","defined_class":"Guardian","method_id":"can_change_trust_level?","path":"lib/guardian.rb","lineno":315,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129381,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129382,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129383,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129382,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129384,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129381,"elapsed":9.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129385,"event":"return","defined_class":"Guardian","method_id":"can_change_trust_level?","path":"lib/guardian.rb","lineno":315,"static":false,"thread_id":70097708498960,"parent_id":129380,"elapsed":0.000177,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129386,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":129379,"elapsed":0.000281},{"id":129387,"event":"call","defined_class":"TrustLevel3Requirements","method_id":"requirements_met?","path":"app/models/trust_level3_requirements.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements","object_id":70097613414320,"value":"#<TrustLevel3Requirements:0x00007f81beb1bf60>"}},{"id":129388,"event":"call","defined_class":"TrustLevel3Requirements","method_id":"trust_level_locked","path":"app/models/trust_level3_requirements.rb","lineno":93,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements","object_id":70097613414320,"value":"#<TrustLevel3Requirements:0x00007f81beb1bf60>"}},{"id":129389,"event":"return","defined_class":"TrustLevel3Requirements","method_id":"trust_level_locked","path":"app/models/trust_level3_requirements.rb","lineno":93,"static":false,"thread_id":70097708498960,"parent_id":129388,"elapsed":7.0e-06},{"id":129390,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129391,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":129390,"elapsed":1.7e-05},{"id":129392,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129393,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":129392,"elapsed":1.0e-05},{"id":129394,"event":"call","defined_class":"TrustLevel3Requirements","method_id":"penalty_counts","path":"app/models/trust_level3_requirements.rb","lineno":105,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements","object_id":70097613414320,"value":"#<TrustLevel3Requirements:0x00007f81beb1bf60>"}},{"id":129395,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129396,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":129395,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":129397,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129398,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":129397,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":129399,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129400,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":129399,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":129401,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129402,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":129401,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":129403,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129404,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":129403,"elapsed":6.0e-06},{"id":129405,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129406,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":129405,"elapsed":5.0e-06},{"id":129407,"event":"return","defined_class":"TrustLevel3Requirements","method_id":"penalty_counts","path":"app/models/trust_level3_requirements.rb","lineno":105,"static":false,"thread_id":70097708498960,"parent_id":129394,"elapsed":0.001972,"return_value":{"class":"TrustLevel3Requirements::PenaltyCounts","value":"#<TrustLevel3Requirements::PenaltyCounts:0x00007f81beb3a7d0>","object_id":70097613476840}},{"id":129408,"event":"call","defined_class":"TrustLevel3Requirements::PenaltyCounts","method_id":"total","path":"app/models/trust_level3_requirements.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements::PenaltyCounts","object_id":70097613476840,"value":"#<TrustLevel3Requirements::PenaltyCounts:0x00007f81beb3a7d0>"}},{"id":129409,"event":"return","defined_class":"TrustLevel3Requirements::PenaltyCounts","method_id":"total","path":"app/models/trust_level3_requirements.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":129408,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129410,"event":"call","defined_class":"TrustLevel3Requirements","method_id":"days_visited","path":"app/models/trust_level3_requirements.rb","lineno":101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements","object_id":70097613414320,"value":"#<TrustLevel3Requirements:0x00007f81beb1bf60>"}},{"id":129411,"event":"call","defined_class":"TrustLevel3Requirements","method_id":"time_period","path":"app/models/trust_level3_requirements.rb","lineno":89,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements","object_id":70097613414320,"value":"#<TrustLevel3Requirements:0x00007f81beb1bf60>"}},{"id":129412,"event":"return","defined_class":"TrustLevel3Requirements","method_id":"time_period","path":"app/models/trust_level3_requirements.rb","lineno":89,"static":false,"thread_id":70097708498960,"parent_id":129411,"elapsed":7.0e-06,"return_value":{"class":"Integer","value":"100","object_id":201}},{"id":129413,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_visits\" WHERE \"user_visits\".\"user_id\" = 169 AND (visited_at > '2020-02-18 18:50:52.967678' and posts_read > 0)","database_type":"postgres","server_version":110006}},{"id":129414,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129413,"elapsed":0.0009},{"id":129415,"event":"return","defined_class":"TrustLevel3Requirements","method_id":"days_visited","path":"app/models/trust_level3_requirements.rb","lineno":101,"static":false,"thread_id":70097708498960,"parent_id":129410,"elapsed":0.004084,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129416,"event":"call","defined_class":"TrustLevel3Requirements","method_id":"min_days_visited","path":"app/models/trust_level3_requirements.rb","lineno":141,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrustLevel3Requirements","object_id":70097613414320,"value":"#<TrustLevel3Requirements:0x00007f81beb1bf60>"}},{"id":129417,"event":"return","defined_class":"TrustLevel3Requirements","method_id":"min_days_visited","path":"app/models/trust_level3_requirements.rb","lineno":141,"static":false,"thread_id":70097708498960,"parent_id":129416,"elapsed":7.0e-06,"return_value":{"class":"Integer","value":"50","object_id":101}},{"id":129418,"event":"return","defined_class":"TrustLevel3Requirements","method_id":"requirements_met?","path":"app/models/trust_level3_requirements.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":129387,"elapsed":0.006724},{"id":129419,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129420,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129419,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129421,"event":"call","defined_class":"User","method_id":"change_trust_level!","path":"app/models/user.rb","lineno":950,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":5,"value":"2","kind":"req"},{"name":"opts","class":"Hash","object_id":70097588188920,"value":"{:log_action_for=>#<User id: 140, username: \"anne139\", created_at: \"2020-05-28 18:50:20\", updated_at","kind":"opt"}],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129422,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_profiles\".* FROM \"user_profiles\" WHERE \"user_profiles\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129423,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129422,"elapsed":0.000903},{"id":129424,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":129425,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129424,"elapsed":0.000677},{"id":129426,"event":"call","defined_class":"StaffActionLogger","method_id":"log_trust_level_change","path":"app/services/staff_action_logger.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"},{"name":"old_trust_level","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"new_trust_level","class":"Integer","object_id":5,"value":"2","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"StaffActionLogger","object_id":70097800195560,"value":"#<StaffActionLogger:0x00007f81d4f5dbd0>"}},{"id":129427,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129428,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":129427,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":129429,"event":"call","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserHistory","object_id":70097800208980,"value":"#<UserHistory:0x00007f81d4f644a8>"}},{"id":129430,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129431,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":129430,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[3]","object_id":70097608682780}},{"id":129432,"event":"return","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":129429,"elapsed":0.00011,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d4f644a8>","object_id":70097800208980}},{"id":129433,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_histories\" (\"action\", \"acting_user_id\", \"target_user_id\", \"details\", \"created_at\", \"updated_at\") VALUES (2, 140, 169, 'old trust level: 1\nnew trust level: 2', '2020-05-28 18:50:52.980160', '2020-05-28 18:50:52.980160') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":129434,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129433,"elapsed":0.000913},{"id":129435,"event":"return","defined_class":"StaffActionLogger","method_id":"log_trust_level_change","path":"app/services/staff_action_logger.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":129426,"elapsed":0.004921,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d4f644a8>","object_id":70097800208980}},{"id":129436,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 169 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129437,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129436,"elapsed":0.000934},{"id":129438,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129439,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":129438,"elapsed":1.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129440,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129441,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097569234680,"value":"#<PasswordValidator:0x00007f81b96d7df0>"}},{"id":129442,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129443,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129444,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":129443,"elapsed":3.0e-06},{"id":129445,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":129442,"elapsed":9.0e-05},{"id":129446,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":129441,"elapsed":0.000177},{"id":129447,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":129440,"elapsed":0.000286},{"id":129448,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 170 AND \"user_emails\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129449,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129448,"elapsed":0.000912},{"id":129450,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"trust_level\" = 2, \"updated_at\" = '2020-05-28 18:50:52.995111' WHERE \"users\".\"id\" = 169","database_type":"postgres","server_version":110006}},{"id":129451,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129450,"elapsed":0.001073},{"id":129452,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129453,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":339,"value":"169","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":129454,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":129453,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129455,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":129452,"elapsed":0.000116,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129456,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129457,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129458,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":129457,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129459,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":129456,"elapsed":9.0e-05},{"id":129460,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129461,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129462,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129461,"elapsed":0.000994},{"id":129463,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":129460,"elapsed":0.004529},{"id":129464,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097609260500,"value":"{:user=>#<User id: 169, username: \"CodingHorror\", created_at: \"2020-04-28 18:50:51\", updated_at: \"20","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":129465,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":129464,"elapsed":7.0e-06},{"id":129466,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":129467,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":129466,"elapsed":4.0e-06},{"id":129468,"event":"call","defined_class":"UserProfile","method_id":"recook_bio","path":"app/models/user_profile.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserProfile","object_id":70097608829340,"value":"#<UserProfile:0x00007f81be25d338>"}},{"id":129469,"event":"return","defined_class":"UserProfile","method_id":"recook_bio","path":"app/models/user_profile.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":129468,"elapsed":1.8e-05},{"id":129470,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_profiles\" SET \"bio_raw\" = NULL WHERE \"user_profiles\".\"user_id\" = 169","database_type":"postgres","server_version":110006}},{"id":129471,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129470,"elapsed":0.000901},{"id":129472,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097615187340,"value":"{:user=>#<UserProfile user_id: 169, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":129473,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":129472,"elapsed":7.0e-06},{"id":129474,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"user_trust_level_change!","path":"app/models/group.rb","lineno":557,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":339,"value":"169","kind":"req"},{"name":"trust_level","class":"Integer","object_id":5,"value":"2","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":129475,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"desired_trust_level_groups","path":"app/models/group.rb","lineno":551,"static":true,"thread_id":70097708498960,"parameters":[{"name":"trust_level","class":"Integer","object_id":5,"value":"2","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":129476,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"trust_group_ids","path":"app/models/group.rb","lineno":360,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":129477,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"trust_group_ids","path":"app/models/group.rb","lineno":360,"static":true,"thread_id":70097708498960,"parent_id":129476,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]","object_id":70097615203340}},{"id":129478,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"desired_trust_level_groups","path":"app/models/group.rb","lineno":551,"static":true,"thread_id":70097708498960,"parent_id":129475,"elapsed":0.000103,"return_value":{"class":"Array","value":"[10, 11, 12]","object_id":70097615203340}},{"id":129479,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"trust_group_ids","path":"app/models/group.rb","lineno":360,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":129480,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"trust_group_ids","path":"app/models/group.rb","lineno":360,"static":true,"thread_id":70097708498960,"parent_id":129479,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]","object_id":70097615224520}},{"id":129481,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"group_users\" WHERE \"group_users\".\"group_id\" IN (13, 14, 15, 16, 17, 18, 19) AND \"group_users\".\"user_id\" = 169","database_type":"postgres","server_version":110006}},{"id":129482,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129481,"elapsed":0.000884},{"id":129483,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 10 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129484,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129483,"elapsed":0.001011},{"id":129485,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"group_users\" WHERE \"group_users\".\"group_id\" = 10 AND \"group_users\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129486,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129485,"elapsed":0.000897},{"id":129487,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"group_users\" (\"group_id\", \"user_id\", \"created_at\", \"updated_at\", \"notification_level\") VALUES (10, 169, '2020-05-28 18:50:53.063405', '2020-05-28 18:50:53.063405', 3) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":129488,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129487,"elapsed":0.001504},{"id":129489,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"groups\" SET \"user_count\" = COALESCE(\"user_count\", 0) + 1 WHERE \"groups\".\"id\" = 10","database_type":"postgres","server_version":110006}},{"id":129490,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129489,"elapsed":0.00213},{"id":129491,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 11 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129492,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129491,"elapsed":0.00139},{"id":129493,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"group_users\" WHERE \"group_users\".\"group_id\" = 11 AND \"group_users\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129494,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129493,"elapsed":0.000998},{"id":129495,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"group_users\" (\"group_id\", \"user_id\", \"created_at\", \"updated_at\", \"notification_level\") VALUES (11, 169, '2020-05-28 18:50:53.088907', '2020-05-28 18:50:53.088907', 3) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":129496,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129495,"elapsed":0.001138},{"id":129497,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"groups\" SET \"user_count\" = COALESCE(\"user_count\", 0) + 1 WHERE \"groups\".\"id\" = 11","database_type":"postgres","server_version":110006}},{"id":129498,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129497,"elapsed":0.001248},{"id":129499,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 12 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129500,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129499,"elapsed":0.001312},{"id":129501,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"group_users\" WHERE \"group_users\".\"group_id\" = 12 AND \"group_users\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129502,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129501,"elapsed":0.001178},{"id":129503,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"group_users\" (\"group_id\", \"user_id\", \"created_at\", \"updated_at\", \"notification_level\") VALUES (12, 169, '2020-05-28 18:50:53.110953', '2020-05-28 18:50:53.110953', 3) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":129504,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129503,"elapsed":0.001326},{"id":129505,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"groups\" SET \"user_count\" = COALESCE(\"user_count\", 0) + 1 WHERE \"groups\".\"id\" = 12","database_type":"postgres","server_version":110006}},{"id":129506,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129505,"elapsed":0.001805},{"id":129507,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"user_trust_level_change!","path":"app/models/group.rb","lineno":557,"static":true,"thread_id":70097708498960,"parent_id":129474,"elapsed":0.113785,"return_value":{"class":"Array","value":"[10, 11, 12]","object_id":70097615203340}},{"id":129508,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":9,"value":"4","kind":"req"},{"name":"opt","class":"Hash","object_id":70097592390960,"value":"{:user=>#<User id: 169, username: \"CodingHorror\", created_at: \"2020-04-28 18:50:51\", updated_at: \"20","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":129509,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":129508,"elapsed":1.0e-05},{"id":129510,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":129511,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129510,"elapsed":0.000881},{"id":129512,"event":"return","defined_class":"User","method_id":"change_trust_level!","path":"app/models/user.rb","lineno":950,"static":false,"thread_id":70097708498960,"parent_id":129421,"elapsed":0.155969,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129513,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097825837880,"value":"AdminUserSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129514,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097825837880,"value":"AdminUserSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129515,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129516,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":129515,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d85233a0>","object_id":70097828387280}},{"id":129517,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129518,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":129517,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129519,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129520,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129521,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":129520,"elapsed":3.6e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bea4b950>","object_id":70097612987560}},{"id":129522,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129523,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":129522,"elapsed":1.5e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bea4b950>","object_id":70097612987560}},{"id":129524,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":129519,"elapsed":0.000283,"return_value":{"class":"String","value":"Coding Horror","object_id":70097609258760}},{"id":129525,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129526,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129527,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":129526,"elapsed":1.3e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bea4b950>","object_id":70097612987560}},{"id":129528,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129529,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097609259120,"value":"CodingHorror","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":129530,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097609259120,"value":"CodingHorror","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":129531,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097609259120,"value":"CodingHorror","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":129532,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":129531,"elapsed":1.3e-05,"return_value":{"class":"String","value":"codinghorror","object_id":70097593818780}},{"id":129533,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097593818780,"value":"codinghorror","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":129534,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097593818780,"value":"codinghorror","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":129535,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":129534,"elapsed":1.3e-05,"return_value":{"class":"Integer","value":"143","object_id":287}},{"id":129536,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":129533,"elapsed":0.000144,"return_value":{"class":"String","value":"e8c25b","object_id":70097593835420}},{"id":129537,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":129530,"elapsed":0.000458,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/c/e8c25b/{size}.png","object_id":70097593817540}},{"id":129538,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":129529,"elapsed":0.000578,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/c/e8c25b/{size}.png","object_id":70097593817540}},{"id":129539,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":129528,"elapsed":0.000695,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/c/e8c25b/{size}.png","object_id":70097593817540}},{"id":129540,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":129525,"elapsed":0.000922,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/c/e8c25b/{size}.png","object_id":70097593817540}},{"id":129541,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129542,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129543,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129544,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129543,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129545,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129542,"elapsed":0.000116,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129546,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129547,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":129546,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129548,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":129541,"elapsed":0.000346},{"id":129549,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129550,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129551,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129552,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129551,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129553,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129550,"elapsed":0.000112,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129554,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129555,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":129554,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129556,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":129549,"elapsed":0.000337},{"id":129557,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129558,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":129557,"elapsed":6.0e-06},{"id":129559,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129560,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":129559,"elapsed":6.0e-06},{"id":129561,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129562,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":129561,"elapsed":5.0e-06},{"id":129563,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129564,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":129563,"elapsed":5.0e-06},{"id":129565,"event":"call","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129566,"event":"return","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parent_id":129565,"elapsed":1.1e-05,"return_value":{"class":"Float","value":"2592001.307366","object_id":729077386745620250}},{"id":129567,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129568,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parent_id":129567,"elapsed":6.0e-06},{"id":129569,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129570,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129571,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":129570,"elapsed":6.0e-06},{"id":129572,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":129569,"elapsed":0.000106},{"id":129573,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129574,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129575,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":129574,"elapsed":4.0e-06},{"id":129576,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":129573,"elapsed":0.000104},{"id":129577,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129578,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129579,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":129578,"elapsed":6.0e-06},{"id":129580,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":129577,"elapsed":0.000104},{"id":129581,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129582,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":129581,"elapsed":7.0e-06},{"id":129583,"event":"call","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129584,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129585,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129584,"elapsed":0.001925},{"id":129586,"event":"return","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":129583,"elapsed":0.006032,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129587,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129588,"event":"call","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129589,"event":"call","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129590,"event":"call","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097779296820,"value":"UserSecondFactor"}},{"id":129591,"event":"return","defined_class":"UserSecondFactor(id: integer, user_id: integer, method: integer, data: string, enabled: boolean, last_used: datetime, created_at: datetime, updated_at: datetime, name: string)","method_id":"methods","path":"app/models/user_second_factor.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":129590,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:totp=>1, :backup_codes=>2, :security_key=>3}","object_id":70097755302300}},{"id":129592,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_second_factors\" WHERE \"user_second_factors\".\"user_id\" = 169 AND \"user_second_factors\".\"method\" = 1 AND \"user_second_factors\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129593,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129592,"elapsed":0.001103},{"id":129594,"event":"return","defined_class":"SecondFactorManager","method_id":"totp_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":129589,"elapsed":0.005177},{"id":129595,"event":"call","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129596,"event":"call","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794494860,"value":"UserSecurityKey"}},{"id":129597,"event":"return","defined_class":"UserSecurityKey(id: integer, user_id: integer, credential_id: string, public_key: string, factor_type: integer, enabled: boolean, name: string, last_used: datetime, created_at: datetime, updated_at: datetime)","method_id":"factor_types","path":"app/models/user_security_key.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":129596,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:second_factor=>0, :first_factor=>1, :multi_factor=>2}","object_id":70097800806880}},{"id":129598,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_security_keys\" WHERE \"user_security_keys\".\"user_id\" = 169 AND \"user_security_keys\".\"enabled\" = TRUE AND \"user_security_keys\".\"factor_type\" = 0 AND \"user_security_keys\".\"enabled\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129599,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129598,"elapsed":0.001174},{"id":129600,"event":"return","defined_class":"SecondFactorManager","method_id":"security_keys_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":129595,"elapsed":0.00524},{"id":129601,"event":"return","defined_class":"SecondFactorManager","method_id":"has_any_second_factor_methods_enabled?","path":"app/models/concerns/second_factor_manager.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":129588,"elapsed":0.010701},{"id":129602,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parent_id":129587,"elapsed":0.010818},{"id":129603,"event":"call","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129604,"event":"return","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":129603,"elapsed":2.6e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129605,"event":"call","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129606,"event":"return","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":129605,"elapsed":1.3e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129607,"event":"call","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129608,"event":"return","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":129607,"elapsed":1.2e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129609,"event":"call","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129610,"event":"return","defined_class":"AdminUserListSerializer","method_id":"post_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":129609,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":129611,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_associated_accounts?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129612,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129613,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129614,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129613,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129615,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129612,"elapsed":0.000116,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129616,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129617,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":129616,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129618,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_associated_accounts?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":129611,"elapsed":0.000342},{"id":129619,"event":"call","defined_class":"AdminUserSerializer","method_id":"can_send_activation_email","path":"app/serializers/admin_user_serializer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129620,"event":"call","defined_class":"Guardian","method_id":"can_send_activation_email?","path":"lib/guardian.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129621,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129622,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129623,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129622,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129624,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129621,"elapsed":0.000106,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129625,"event":"return","defined_class":"Guardian","method_id":"can_send_activation_email?","path":"lib/guardian.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":129620,"elapsed":0.00021,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129626,"event":"return","defined_class":"AdminUserSerializer","method_id":"can_send_activation_email","path":"app/serializers/admin_user_serializer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":129619,"elapsed":0.000316,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129627,"event":"call","defined_class":"AdminUserSerializer","method_id":"can_activate","path":"app/serializers/admin_user_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129628,"event":"call","defined_class":"Guardian","method_id":"can_activate?","path":"lib/guardian.rb","lineno":264,"static":false,"thread_id":70097708498960,"parameters":[{"name":"target","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129629,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129630,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129631,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129630,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129632,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129629,"elapsed":0.000105,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129633,"event":"return","defined_class":"Guardian","method_id":"can_activate?","path":"lib/guardian.rb","lineno":264,"static":false,"thread_id":70097708498960,"parent_id":129628,"elapsed":0.000208},{"id":129634,"event":"return","defined_class":"AdminUserSerializer","method_id":"can_activate","path":"app/serializers/admin_user_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":129627,"elapsed":0.000309},{"id":129635,"event":"call","defined_class":"AdminUserSerializer","method_id":"can_deactivate","path":"app/serializers/admin_user_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129636,"event":"call","defined_class":"Guardian","method_id":"can_deactivate?","path":"lib/guardian.rb","lineno":268,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129637,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828387280,"value":"#<Guardian:0x00007f81d85233a0>"}},{"id":129638,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>"}},{"id":129639,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129638,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129640,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":129637,"elapsed":0.00012,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129641,"event":"call","defined_class":"Roleable","method_id":"regular?","path":"app/models/concerns/roleable.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129642,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097612987560,"value":"#<User:0x00007f81bea4b950>"}},{"id":129643,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":129642,"elapsed":7.0e-06},{"id":129644,"event":"return","defined_class":"Roleable","method_id":"regular?","path":"app/models/concerns/roleable.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":129641,"elapsed":0.000104,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129645,"event":"return","defined_class":"Guardian","method_id":"can_deactivate?","path":"lib/guardian.rb","lineno":268,"static":false,"thread_id":70097708498960,"parent_id":129636,"elapsed":0.00042,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129646,"event":"return","defined_class":"AdminUserSerializer","method_id":"can_deactivate","path":"app/serializers/admin_user_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":129635,"elapsed":0.000521,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129647,"event":"call","defined_class":"AdminUserSerializer","method_id":"include_can_approve?","path":"app/serializers/admin_user_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129648,"event":"return","defined_class":"AdminUserSerializer","method_id":"include_can_approve?","path":"app/serializers/admin_user_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":129647,"elapsed":7.0e-06},{"id":129649,"event":"call","defined_class":"AdminUserSerializer","method_id":"ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129650,"event":"return","defined_class":"AdminUserSerializer","method_id":"ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":129649,"elapsed":2.3e-05,"return_value":{"class":"String","value":"99.232.23.164","object_id":70097567063160}},{"id":129651,"event":"call","defined_class":"AdminUserSerializer","method_id":"registration_ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":40,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminUserSerializer","object_id":70097593752900,"value":"#<AdminUserSerializer:0x00007f81bc59ba88>"}},{"id":129652,"event":"return","defined_class":"AdminUserSerializer","method_id":"registration_ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":40,"static":false,"thread_id":70097708498960,"parent_id":129651,"elapsed":7.0e-06},{"id":129653,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"single_sign_on_records\".* FROM \"single_sign_on_records\" WHERE \"single_sign_on_records\".\"user_id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129654,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129653,"elapsed":0.001165},{"id":129655,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":129514,"elapsed":0.028585,"return_value":{"class":"Hash","value":"{:admin_user=>{:id=>169, :username=>\"CodingHorror\", :name=>\"Coding Horror\", :avatar_template=>\"/lett","object_id":70097593752320}},{"id":129656,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097593752320,"value":"{:admin_user=>{:id=>169, :username=>\"CodingHorror\", :name=>\"Coding Horror\", :avatar_template=>\"/lett","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129657,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":129656,"elapsed":0.000175,"return_value":{"class":"String","value":"{\"admin_user\":{\"id\":169,\"username\":\"CodingHorror\",\"name\":\"Coding Horror\",\"avatar_template\":\"/letter_","object_id":70097567700980}},{"id":129658,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":129513,"elapsed":0.029154,"return_value":{"class":"String","value":"{\"admin_user\":{\"id\":169,\"username\":\"CodingHorror\",\"name\":\"Coding Horror\",\"avatar_template\":\"/letter_","object_id":70097567700980}},{"id":129659,"event":"return","defined_class":"Admin::UsersController","method_id":"trust_level","path":"app/controllers/admin/users_controller.rb","lineno":242,"static":false,"thread_id":70097708498960,"parent_id":129376,"elapsed":0.197914,"return_value":{"class":"String","value":"{\"admin_user\":{\"id\":169,\"username\":\"CodingHorror\",\"name\":\"Coding Horror\",\"avatar_template\":\"/letter_","object_id":70097567700980}},{"id":129660,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129661,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":129660,"elapsed":1.0e-05},{"id":129662,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129663,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":129662,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097567696040}},{"id":129664,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097828366420,"value":"#<Admin::UsersController:0x00007f81d85190a8>"}},{"id":129665,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129666,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129665,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129667,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097828167800,"value":"#<User:0x00007f81d84b80f0>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097733380320,"value":"#<ActionDispatch::Request::Session:0x00007f81ccfed1c0>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097799796140,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d4e9ab58>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129668,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129669,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129670,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129669,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129671,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":129668,"elapsed":0.00015},{"id":129672,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129673,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828388740,"value":"#<TestCurrentUserProvider:0x00007f81d8523f08>"}},{"id":129674,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":129673,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84b80f0>","object_id":70097828167800}},{"id":129675,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":129672,"elapsed":0.000108},{"id":129676,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":129667,"elapsed":0.000476},{"id":129677,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":129664,"elapsed":0.000816},{"id":129678,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":129297,"elapsed":0.211354,"http_server_response":{"status":200}},{"id":129679,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567730720,"value":"#<TestCurrentUserProvider:0x00007f81b93f9840>"}},{"id":129680,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":129679,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":129681,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":129682,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":129681,"elapsed":5.0e-06},{"id":129683,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":129684,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":129683,"elapsed":3.0e-06},{"id":129685,"event":"call","defined_class":"User","method_id":"reload","path":"app/models/user.rb","lineno":444,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097733364840,"value":"#<User:0x00007f81ccfe58d0>"}},{"id":129686,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097733364840,"value":"#<User:0x00007f81ccfe58d0>"}},{"id":129687,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097733364840,"value":"#<User:0x00007f81ccfe58d0>"}},{"id":129688,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":129687,"elapsed":4.0e-06},{"id":129689,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 169 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":129690,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129689,"elapsed":0.001225},{"id":129691,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":129686,"elapsed":0.003828,"return_value":{"class":"User","value":"#<User:0x00007f81ccfe58d0>","object_id":70097733364840}},{"id":129692,"event":"return","defined_class":"User","method_id":"reload","path":"app/models/user.rb","lineno":444,"static":false,"thread_id":70097708498960,"parent_id":129685,"elapsed":0.003983,"return_value":{"class":"User","value":"#<User:0x00007f81ccfe58d0>","object_id":70097733364840}},{"id":129693,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":129694,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":129693,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":129695,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_histories\" WHERE \"user_histories\".\"target_user_id\" = 169 AND \"user_histories\".\"acting_user_id\" = 140 AND \"user_histories\".\"action\" = 2","database_type":"postgres","server_version":110006}},{"id":129696,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":129695,"elapsed":0.001089}]}