{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::EmailController #skipped when filtered by username should return the right response","app":"Discourse","feature":"Admin::EmailController #skipped","feature_group":"Admin email","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/models","type":"package","children":[{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"SkippedEmailLog","type":"class","children":[{"name":"reason","type":"function","location":"app/models/skipped_email_log.rb:47","static":false}]},{"name":"SkippedEmailLog(id: integer, email_type: string, to_address: string, user_id: integer, post_id: integer, reason_type: integer, custom_reason: text, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"reason_types","type":"function","location":"app/models/skipped_email_log.rb:16","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"EmailController","type":"class","children":[{"name":"skipped","type":"function","location":"app/controllers/admin/email_controller.rb:66","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"EmailLogsMixin","type":"class","children":[{"name":"include_post_url?","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:20","static":false},{"name":"include_post_description?","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:24","static":false}]},{"name":"SkippedEmailLogSerializer","type":"class","children":[{"name":"skipped_reason","type":"function","location":"app/serializers/skipped_email_log_serializer.rb:8","static":false}]},{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]}]}],"events":[{"id":1007715,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1351 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1007716,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007715,"elapsed":0.001175},{"id":1007717,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097732585340,"value":"#<TestCurrentUserProvider:0x00007f81cce68ef8>"}},{"id":1007718,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097732600300,"value":"331ba2726b9e567058d595d68080c348","kind":"req"},{"name":"opts","class":"Hash","object_id":70097732621860,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1007719,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097732600300,"value":"331ba2726b9e567058d595d68080c348","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1007720,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1007721,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1007720,"elapsed":1.2e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1007722,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1007719,"elapsed":0.000151,"return_value":{"class":"String","value":"MunajN5rvzvSB83a4MVhZy6RElw=","object_id":70097732671280}},{"id":1007723,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'MunajN5rvzvSB83a4MVhZy6RElw=' OR\n                          prev_auth_token = 'MunajN5rvzvSB83a4MVhZy6RElw=') AND rotated_at > '2020-03-29 19:01:39.830247') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1007724,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007723,"elapsed":0.001568},{"id":1007725,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:39.836216' WHERE \"user_auth_tokens\".\"id\" = 1158 AND \"user_auth_tokens\".\"auth_token\" = 'MunajN5rvzvSB83a4MVhZy6RElw='","database_type":"postgres","server_version":110006}},{"id":1007726,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007725,"elapsed":0.001407},{"id":1007727,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097732494020,"value":"{:action=>\"seen token\", :user_auth_token_id=>1158, :user_id=>1349, :auth_token=>\"MunajN5rvzvSB83a4MV","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1007728,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1007729,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007728,"elapsed":0.001379},{"id":1007730,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1158, 1349, '127.0.0.1/32', 'MunajN5rvzvSB83a4MVhZy6RElw=', '2020-05-28 19:01:39.841430') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1007731,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007730,"elapsed":0.001366},{"id":1007732,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1007733,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007732,"elapsed":0.001519},{"id":1007734,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1007727,"elapsed":0.017078,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81cce465d8>","object_id":70097732514540}},{"id":1007735,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1007718,"elapsed":0.028402,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d81e1200>","object_id":70097826679040}},{"id":1007736,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1007737,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007736,"elapsed":0.001548},{"id":1007738,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007739,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1007738,"elapsed":2.1e-05},{"id":1007740,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097732585340,"value":"#<TestCurrentUserProvider:0x00007f81cce68ef8>"}},{"id":1007741,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1007740,"elapsed":0.001047,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007742,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007743,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1007742,"elapsed":0.000774},{"id":1007744,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097591279440,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007745,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1349","database_type":"postgres","server_version":110006}},{"id":1007746,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007745,"elapsed":0.001214},{"id":1007747,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1007744,"elapsed":0.004628,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007748,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007717,"elapsed":0.041674,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007749,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097732585340,"value":"#<TestCurrentUserProvider:0x00007f81cce68ef8>"}},{"id":1007750,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007749,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007751,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007752,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1007751,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007753,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592503840,"value":"#<TestCurrentUserProvider:0x00007f81bc339c40>"}},{"id":1007754,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007753,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007755,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592503840,"value":"#<TestCurrentUserProvider:0x00007f81bc339c40>"}},{"id":1007756,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007755,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007757,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007758,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1007757,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007759,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007760,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007759,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1007761,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007762,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007761,"elapsed":1.2e-05},{"id":1007763,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/admin/email/skipped.json?user=bruce1249"},"message":[{"name":"user","class":"String","value":"bruce1249","object_id":70097732605180},{"name":"controller","class":"String","value":"admin/email","object_id":70097794349520},{"name":"action","class":"String","value":"skipped","object_id":70097783391900},{"name":"format","class":"String","value":"json","object_id":70097732586840}]},{"id":1007764,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007765,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007766,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007767,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007768,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007767,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007769,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1007766,"elapsed":0.00012,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc373b98>","object_id":70097592622540}},{"id":1007770,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097592622540,"value":"#<Guardian:0x00007f81bc373b98>"}},{"id":1007771,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1007770,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007772,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1007765,"elapsed":0.000331},{"id":1007773,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007774,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007773,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007775,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1007776,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007775,"elapsed":0.001221},{"id":1007777,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007778,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1007777,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc373b98>","object_id":70097592622540}},{"id":1007779,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097594354220,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097592622540,"value":"#<Guardian:0x00007f81bc373b98>"}},{"id":1007780,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1007779,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007781,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1007764,"elapsed":0.006734,"return_value":{"class":"Array","value":"[2]","object_id":70097594354220}},{"id":1007782,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007783,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007784,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007783,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007785,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007786,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007785,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007787,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007788,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007787,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007789,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1007782,"elapsed":0.000483,"return_value":{"class":"String","value":"email/skipped","object_id":70097594421900}},{"id":1007790,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007791,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007792,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007791,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007793,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1007790,"elapsed":0.000141},{"id":1007794,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007795,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007796,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007795,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007797,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007798,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007797,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007799,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007800,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1007799,"elapsed":1.7e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1007801,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007802,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007801,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1007803,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007804,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007803,"elapsed":1.3e-05},{"id":1007805,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007806,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007805,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1007807,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007808,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007807,"elapsed":9.0e-06},{"id":1007809,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1007794,"elapsed":0.000932,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097566088860}},{"id":1007810,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007811,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1007810,"elapsed":1.1e-05},{"id":1007812,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007813,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007814,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007813,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007815,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1007812,"elapsed":0.000124},{"id":1007816,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007817,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007816,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007818,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007819,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007818,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007820,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007821,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007820,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007822,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1007823,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1007822,"elapsed":4.0e-06},{"id":1007824,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007825,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1007824,"elapsed":1.0e-05},{"id":1007826,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007827,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007826,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007828,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007829,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007828,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007830,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>"}},{"id":1007831,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1007830,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007832,"event":"call","defined_class":"Admin::EmailController","method_id":"skipped","path":"app/controllers/admin/email_controller.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007833,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"ActiveRecord::Relation","object_id":70097587188320,"value":"#<SkippedEmailLog::ActiveRecord_Relation:0x00007f81bb9164c0>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097590002700,"value":"SkippedEmailLogSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007834,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"ActiveRecord::Relation","object_id":70097587188320,"value":"#<SkippedEmailLog::ActiveRecord_Relation:0x00007f81bb9164c0>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097590002700,"value":"SkippedEmailLogSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007835,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007836,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1007835,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc373b98>","object_id":70097592622540}},{"id":1007837,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1007838,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1007837,"elapsed":6.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097587259980}},{"id":1007839,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1007840,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1007839,"elapsed":4.3e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097587280160}},{"id":1007841,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"skipped_email_logs\".\"id\" AS t0_r0, \"skipped_email_logs\".\"email_type\" AS t0_r1, \"skipped_email_logs\".\"to_address\" AS t0_r2, \"skipped_email_logs\".\"user_id\" AS t0_r3, \"skipped_email_logs\".\"post_id\" AS t0_r4, \"skipped_email_logs\".\"reason_type\" AS t0_r5, \"skipped_email_logs\".\"custom_reason\" AS t0_r6, \"skipped_email_logs\".\"created_at\" AS t0_r7, \"skipped_email_logs\".\"updated_at\" AS t0_r8, \"users\".\"id\" AS t1_r0, \"users\".\"username\" AS t1_r1, \"users\".\"created_at\" AS t1_r2, \"users\".\"updated_at\" AS t1_r3, \"users\".\"name\" AS t1_r4, \"users\".\"seen_notification_id\" AS t1_r5, \"users\".\"last_posted_at\" AS t1_r6, \"users\".\"password_hash\" AS t1_r7, \"users\".\"salt\" AS t1_r8, \"users\".\"active\" AS t1_r9, \"users\".\"username_lower\" AS t1_r10, \"users\".\"last_seen_at\" AS t1_r11, \"users\".\"admin\" AS t1_r12, \"users\".\"last_emailed_at\" AS t1_r13, \"users\".\"trust_level\" AS t1_r14, \"users\".\"approved\" AS t1_r15, \"users\".\"approved_by_id\" AS t1_r16, \"users\".\"approved_at\" AS t1_r17, \"users\".\"previous_visit_at\" AS t1_r18, \"users\".\"suspended_at\" AS t1_r19, \"users\".\"suspended_till\" AS t1_r20, \"users\".\"date_of_birth\" AS t1_r21, \"users\".\"views\" AS t1_r22, \"users\".\"flag_level\" AS t1_r23, \"users\".\"ip_address\" AS t1_r24, \"users\".\"moderator\" AS t1_r25, \"users\".\"title\" AS t1_r26, \"users\".\"uploaded_avatar_id\" AS t1_r27, \"users\".\"locale\" AS t1_r28, \"users\".\"primary_group_id\" AS t1_r29, \"users\".\"registration_ip_address\" AS t1_r30, \"users\".\"staged\" AS t1_r31, \"users\".\"first_seen_at\" AS t1_r32, \"users\".\"silenced_till\" AS t1_r33, \"users\".\"group_locked_trust_level\" AS t1_r34, \"users\".\"manual_locked_trust_level\" AS t1_r35, \"users\".\"secure_identifier\" AS t1_r36, \"posts\".\"id\" AS t2_r0, \"posts\".\"user_id\" AS t2_r1, \"posts\".\"topic_id\" AS t2_r2, \"posts\".\"post_number\" AS t2_r3, \"posts\".\"raw\" AS t2_r4, \"posts\".\"cooked\" AS t2_r5, \"posts\".\"created_at\" AS t2_r6, \"posts\".\"updated_at\" AS t2_r7, \"posts\".\"reply_to_post_number\" AS t2_r8, \"posts\".\"reply_count\" AS t2_r9, \"posts\".\"quote_count\" AS t2_r10, \"posts\".\"deleted_at\" AS t2_r11, \"posts\".\"off_topic_count\" AS t2_r12, \"posts\".\"like_count\" AS t2_r13, \"posts\".\"incoming_link_count\" AS t2_r14, \"posts\".\"bookmark_count\" AS t2_r15, \"posts\".\"score\" AS t2_r16, \"posts\".\"reads\" AS t2_r17, \"posts\".\"post_type\" AS t2_r18, \"posts\".\"sort_order\" AS t2_r19, \"posts\".\"last_editor_id\" AS t2_r20, \"posts\".\"hidden\" AS t2_r21, \"posts\".\"hidden_reason_id\" AS t2_r22, \"posts\".\"notify_moderators_count\" AS t2_r23, \"posts\".\"spam_count\" AS t2_r24, \"posts\".\"illegal_count\" AS t2_r25, \"posts\".\"inappropriate_count\" AS t2_r26, \"posts\".\"last_version_at\" AS t2_r27, \"posts\".\"user_deleted\" AS t2_r28, \"posts\".\"reply_to_user_id\" AS t2_r29, \"posts\".\"percent_rank\" AS t2_r30, \"posts\".\"notify_user_count\" AS t2_r31, \"posts\".\"like_score\" AS t2_r32, \"posts\".\"deleted_by_id\" AS t2_r33, \"posts\".\"edit_reason\" AS t2_r34, \"posts\".\"word_count\" AS t2_r35, \"posts\".\"version\" AS t2_r36, \"posts\".\"cook_method\" AS t2_r37, \"posts\".\"wiki\" AS t2_r38, \"posts\".\"baked_at\" AS t2_r39, \"posts\".\"baked_version\" AS t2_r40, \"posts\".\"hidden_at\" AS t2_r41, \"posts\".\"self_edits\" AS t2_r42, \"posts\".\"reply_quoted\" AS t2_r43, \"posts\".\"via_email\" AS t2_r44, \"posts\".\"raw_email\" AS t2_r45, \"posts\".\"public_version\" AS t2_r46, \"posts\".\"action_code\" AS t2_r47, \"posts\".\"image_url\" AS t2_r48, \"posts\".\"locked_by_id\" AS t2_r49, \"posts\".\"image_upload_id\" AS t2_r50, \"topics\".\"id\" AS t3_r0, \"topics\".\"title\" AS t3_r1, \"topics\".\"last_posted_at\" AS t3_r2, \"topics\".\"created_at\" AS t3_r3, \"topics\".\"updated_at\" AS t3_r4, \"topics\".\"views\" AS t3_r5, \"topics\".\"posts_count\" AS t3_r6, \"topics\".\"user_id\" AS t3_r7, \"topics\".\"last_post_user_id\" AS t3_r8, \"topics\".\"reply_count\" AS t3_r9, \"topics\".\"featured_user1_id\" AS t3_r10, \"topics\".\"featured_user2_id\" AS t3_r11, \"topics\".\"featured_user3_id\" AS t3_r12, \"topics\".\"deleted_at\" AS t3_r13, \"topics\".\"highest_post_number\" AS t3_r14, \"topics\".\"image_url\" AS t3_r15, \"topics\".\"like_count\" AS t3_r16, \"topics\".\"incoming_link_count\" AS t3_r17, \"topics\".\"category_id\" AS t3_r18, \"topics\".\"visible\" AS t3_r19, \"topics\".\"moderator_posts_count\" AS t3_r20, \"topics\".\"closed\" AS t3_r21, \"topics\".\"archived\" AS t3_r22, \"topics\".\"bumped_at\" AS t3_r23, \"topics\".\"has_summary\" AS t3_r24, \"topics\".\"archetype\" AS t3_r25, \"topics\".\"featured_user4_id\" AS t3_r26, \"topics\".\"notify_moderators_count\" AS t3_r27, \"topics\".\"spam_count\" AS t3_r28, \"topics\".\"pinned_at\" AS t3_r29, \"topics\".\"score\" AS t3_r30, \"topics\".\"percent_rank\" AS t3_r31, \"topics\".\"subtype\" AS t3_r32, \"topics\".\"slug\" AS t3_r33, \"topics\".\"deleted_by_id\" AS t3_r34, \"topics\".\"participant_count\" AS t3_r35, \"topics\".\"word_count\" AS t3_r36, \"topics\".\"excerpt\" AS t3_r37, \"topics\".\"pinned_globally\" AS t3_r38, \"topics\".\"pinned_until\" AS t3_r39, \"topics\".\"fancy_title\" AS t3_r40, \"topics\".\"highest_staff_post_number\" AS t3_r41, \"topics\".\"featured_link\" AS t3_r42, \"topics\".\"reviewable_score\" AS t3_r43, \"topics\".\"image_upload_id\" AS t3_r44 FROM \"skipped_email_logs\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"skipped_email_logs\".\"user_id\" LEFT OUTER JOIN \"posts\" ON \"posts\".\"id\" = \"skipped_email_logs\".\"post_id\" AND (\"posts\".\"deleted_at\" IS NULL) LEFT OUTER JOIN \"topics\" ON \"topics\".\"id\" = \"posts\".\"topic_id\" AND (\"topics\".\"deleted_at\" IS NULL) WHERE (users.username ILIKE '%bruce1249%') ORDER BY \"skipped_email_logs\".\"created_at\" DESC LIMIT 50 OFFSET 0","database_type":"postgres","server_version":110006}},{"id":1007842,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007841,"elapsed":0.003049},{"id":1007843,"event":"call","defined_class":"EmailLogsMixin","method_id":"include_post_url?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SkippedEmailLogSerializer","object_id":70097566418060,"value":"#<SkippedEmailLogSerializer:0x00007f81b9178918>"}},{"id":1007844,"event":"return","defined_class":"EmailLogsMixin","method_id":"include_post_url?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1007843,"elapsed":1.4e-05},{"id":1007845,"event":"call","defined_class":"EmailLogsMixin","method_id":"include_post_description?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SkippedEmailLogSerializer","object_id":70097566418060,"value":"#<SkippedEmailLogSerializer:0x00007f81b9178918>"}},{"id":1007846,"event":"return","defined_class":"EmailLogsMixin","method_id":"include_post_description?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1007845,"elapsed":9.0e-06},{"id":1007847,"event":"call","defined_class":"SkippedEmailLogSerializer","method_id":"skipped_reason","path":"app/serializers/skipped_email_log_serializer.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SkippedEmailLogSerializer","object_id":70097566418060,"value":"#<SkippedEmailLogSerializer:0x00007f81b9178918>"}},{"id":1007848,"event":"call","defined_class":"SkippedEmailLog","method_id":"reason","path":"app/models/skipped_email_log.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SkippedEmailLog","object_id":70097566420880,"value":"#<SkippedEmailLog:0x00007f81b9179f20>"}},{"id":1007849,"event":"call","defined_class":"SkippedEmailLog(id: integer, email_type: string, to_address: string, user_id: integer, post_id: integer, reason_type: integer, custom_reason: text, created_at: datetime, updated_at: datetime)","method_id":"reason_types","path":"app/models/skipped_email_log.rb","lineno":16,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097799228920,"value":"SkippedEmailLog"}},{"id":1007850,"event":"return","defined_class":"SkippedEmailLog(id: integer, email_type: string, to_address: string, user_id: integer, post_id: integer, reason_type: integer, custom_reason: text, created_at: datetime, updated_at: datetime)","method_id":"reason_types","path":"app/models/skipped_email_log.rb","lineno":16,"static":true,"thread_id":70097708498960,"parent_id":1007849,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:custom=>1, :exceeded_emails_limit=>2, :exceeded_bounces_limit=>3, :mailing_list_no_echo_mode=>4, :","object_id":70097827118400}},{"id":1007851,"event":"call","defined_class":"SkippedEmailLog(id: integer, email_type: string, to_address: string, user_id: integer, post_id: integer, reason_type: integer, custom_reason: text, created_at: datetime, updated_at: datetime)","method_id":"reason_types","path":"app/models/skipped_email_log.rb","lineno":16,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097799228920,"value":"SkippedEmailLog"}},{"id":1007852,"event":"return","defined_class":"SkippedEmailLog(id: integer, email_type: string, to_address: string, user_id: integer, post_id: integer, reason_type: integer, custom_reason: text, created_at: datetime, updated_at: datetime)","method_id":"reason_types","path":"app/models/skipped_email_log.rb","lineno":16,"static":true,"thread_id":70097708498960,"parent_id":1007851,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:custom=>1, :exceeded_emails_limit=>2, :exceeded_bounces_limit=>3, :mailing_list_no_echo_mode=>4, :","object_id":70097827118400}},{"id":1007853,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007854,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007853,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1007855,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007856,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007855,"elapsed":1.3e-05},{"id":1007857,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1007858,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1007857,"elapsed":4.0e-06},{"id":1007859,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1007860,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1007859,"elapsed":4.0e-06},{"id":1007861,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007862,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007861,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1007863,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1007864,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1007863,"elapsed":1.0e-05},{"id":1007865,"event":"return","defined_class":"SkippedEmailLog","method_id":"reason","path":"app/models/skipped_email_log.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1007848,"elapsed":0.001215,"return_value":{"class":"String","value":"Exceeded max_emails_per_day_per_user","object_id":70097566649300}},{"id":1007866,"event":"return","defined_class":"SkippedEmailLogSerializer","method_id":"skipped_reason","path":"app/serializers/skipped_email_log_serializer.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":1007847,"elapsed":0.001368,"return_value":{"class":"String","value":"Exceeded max_emails_per_day_per_user","object_id":70097566649300}},{"id":1007867,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097566669240,"value":"#<BasicUserSerializer:0x00007f81b91f3370>"}},{"id":1007868,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1007867,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007869,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097566669240,"value":"#<BasicUserSerializer:0x00007f81b91f3370>"}},{"id":1007870,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097566669240,"value":"#<BasicUserSerializer:0x00007f81b91f3370>"}},{"id":1007871,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1007870,"elapsed":4.5e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9179728>","object_id":70097566419860}},{"id":1007872,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097566669240,"value":"#<BasicUserSerializer:0x00007f81b91f3370>"}},{"id":1007873,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1007872,"elapsed":1.9e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9179728>","object_id":70097566419860}},{"id":1007874,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1007869,"elapsed":0.00033,"return_value":{"class":"String","value":"Bruce Wayne","object_id":70097566701660}},{"id":1007875,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097566669240,"value":"#<BasicUserSerializer:0x00007f81b91f3370>"}},{"id":1007876,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097566669240,"value":"#<BasicUserSerializer:0x00007f81b91f3370>"}},{"id":1007877,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1007876,"elapsed":1.8e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9179728>","object_id":70097566419860}},{"id":1007878,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566419860,"value":"#<User:0x00007f81b9179728>"}},{"id":1007879,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097566668960,"value":"bruce1249","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1007880,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097566668960,"value":"bruce1249","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1007881,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097566668960,"value":"bruce1249","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1007882,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1007881,"elapsed":1.5e-05,"return_value":{"class":"String","value":"bruce1249","object_id":70097804573760}},{"id":1007883,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097804573760,"value":"bruce1249","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1007884,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097804573760,"value":"bruce1249","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1007885,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":1007884,"elapsed":1.7e-05,"return_value":{"class":"Integer","value":"128","object_id":257}},{"id":1007886,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":1007883,"elapsed":0.000163,"return_value":{"class":"String","value":"e9c0ed","object_id":70097804586600}},{"id":1007887,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":1007880,"elapsed":0.000504,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097804571140}},{"id":1007888,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":1007879,"elapsed":0.000641,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097804571140}},{"id":1007889,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":1007878,"elapsed":0.000782,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097804571140}},{"id":1007890,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1007875,"elapsed":0.001037,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/e9c0ed/{size}.png","object_id":70097804571140}},{"id":1007891,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1007834,"elapsed":0.013991,"return_value":{"class":"Array","value":"[{:id=>1, :to_address=>\"blah0@example.com\", :email_type=>\"invite\", :user_id=>1351, :created_at=>Thu,","object_id":70097566418100}},{"id":1007892,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097566418100,"value":"[{:id=>1, :to_address=>\"blah0@example.com\", :email_type=>\"invite\", :user_id=>1351, :created_at=>Thu,","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007893,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1007892,"elapsed":0.000205,"return_value":{"class":"String","value":"[{\"id\":1,\"to_address\":\"blah0@example.com\",\"email_type\":\"invite\",\"user_id\":1351,\"created_at\":\"2020-05","object_id":70097804616760}},{"id":1007894,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":1007833,"elapsed":0.014597,"return_value":{"class":"String","value":"[{\"id\":1,\"to_address\":\"blah0@example.com\",\"email_type\":\"invite\",\"user_id\":1351,\"created_at\":\"2020-05","object_id":70097804616760}},{"id":1007895,"event":"return","defined_class":"Admin::EmailController","method_id":"skipped","path":"app/controllers/admin/email_controller.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":1007832,"elapsed":0.015123,"return_value":{"class":"String","value":"[{\"id\":1,\"to_address\":\"blah0@example.com\",\"email_type\":\"invite\",\"user_id\":1351,\"created_at\":\"2020-05","object_id":70097804616760}},{"id":1007896,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007897,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1007896,"elapsed":7.0e-06},{"id":1007898,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007899,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1007898,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097565761000}},{"id":1007900,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097592538060,"value":"#<Admin::EmailController:0x00007f81bc34a798>"}},{"id":1007901,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007902,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007901,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007903,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591243660,"value":"#<User:0x00007f81bc0d2718>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097732344160,"value":"#<ActionDispatch::Request::Session:0x00007f81ccdf32c0>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097594354600,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bc6c1750>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007904,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007905,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007906,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007905,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007907,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1007904,"elapsed":0.000121},{"id":1007908,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007909,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097592601840,"value":"#<TestCurrentUserProvider:0x00007f81bc3699e0>"}},{"id":1007910,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1007909,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc0d2718>","object_id":70097591243660}},{"id":1007911,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1007908,"elapsed":0.000126},{"id":1007912,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1007903,"elapsed":0.000463},{"id":1007913,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1007900,"elapsed":0.000735},{"id":1007914,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1007763,"elapsed":0.02801,"http_server_response":{"status":200}},{"id":1007915,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097565824280,"value":"#<TestCurrentUserProvider:0x00007f81b9056a30>"}},{"id":1007916,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1007915,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1007917,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1007918,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1007917,"elapsed":1.1e-05},{"id":1007919,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1007920,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1007919,"elapsed":5.0e-06},{"id":1007921,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"skipped_email_logs\".* FROM \"skipped_email_logs\" WHERE \"skipped_email_logs\".\"id\" = 1 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1007922,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1007921,"elapsed":0.001567}]}