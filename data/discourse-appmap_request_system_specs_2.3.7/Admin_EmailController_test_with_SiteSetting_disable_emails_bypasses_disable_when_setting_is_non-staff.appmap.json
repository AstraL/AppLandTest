{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::EmailController #test with SiteSetting.disable_emails bypasses disable when setting is \"non-staff\"","app":"Discourse","feature":"Admin::EmailController #test","feature_group":"Admin email","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/validators","type":"package","children":[{"name":"RegexSettingValidation","type":"class","children":[{"name":"initialize_regex_opts","type":"function","location":"lib/validators/regex_setting_validation.rb:5","static":false},{"name":"regex_match?","type":"function","location":"lib/validators/regex_setting_validation.rb:10","static":false}]},{"name":"StringSettingValidator","type":"class","children":[{"name":"valid_value?","type":"function","location":"lib/validators/string_setting_validator.rb:12","static":false}]}]},{"name":"app/models","type":"package","children":[{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"User","type":"class","children":[{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_visit_record!","type":"function","location":"app/models/user.rb:680","static":false},{"name":"visit_record_for","type":"function","location":"app/models/user.rb:676","static":false},{"name":"create_visit_record!","type":"function","location":"app/models/user.rb:671","static":false},{"name":"seen_before?","type":"function","location":"app/models/user.rb:667","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"values","type":"function","location":"app/models/locale_site_setting.rb:9","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"Upload","type":"class","children":[{"name":"to_s","type":"function","location":"app/models/upload.rb:50","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"available_locales","type":"function","location":"app/models/site_setting.rb:32","static":true},{"name":"require_invite_code","type":"function","location":"app/models/site_setting.rb:176","static":true},{"name":"site_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"site_logo_small_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_mobile_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_favicon_url","type":"function","location":"app/models/site_setting.rb:201","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"s3_cdn_url","type":"function","location":"app/models/site_setting.rb:130","static":true},{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"EmailStyle","type":"class","children":[{"name":"html","type":"function","location":"app/models/email_style.rb:12","static":false},{"name":"default_html","type":"function","location":"app/models/email_style.rb:24","static":false},{"name":"default_template","type":"function","location":"app/models/email_style.rb:32","static":true},{"name":"compiled_css","type":"function","location":"app/models/email_style.rb:20","static":false},{"name":"css","type":"function","location":"app/models/email_style.rb:16","static":false}]},{"name":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","type":"class","children":[{"name":"secure_media_url?","type":"function","location":"app/models/upload.rb:150","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"EmailController","type":"class","children":[{"name":"test","type":"function","location":"app/controllers/admin/email_controller.rb:10","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"Sender","type":"class","children":[{"name":"send","type":"function","location":"lib/email/sender.rb:26","static":false},{"name":"to_address","type":"function","location":"lib/email/sender.rb:222","static":false},{"name":"host_for","type":"function","location":"lib/email/sender.rb:230","static":true},{"name":"bounceable_reply_address?","type":"function","location":"lib/email/sender.rb:366","static":true}]},{"name":"BuildEmailHelper","type":"class","children":[{"name":"build_email","type":"function","location":"lib/email/build_email_helper.rb:5","static":false}]},{"name":"MessageBuilder","type":"class","children":[{"name":"header_args","type":"function","location":"lib/email/message_builder.rb:139","static":false},{"name":"custom_headers","type":"function","location":"lib/email/message_builder.rb:162","static":true},{"name":"build_args","type":"function","location":"lib/email/message_builder.rb:129","static":false},{"name":"subject","type":"function","location":"lib/email/message_builder.rb:53","static":false},{"name":"body","type":"function","location":"lib/email/message_builder.rb:112","static":false},{"name":"html_part","type":"function","location":"lib/email/message_builder.rb:76","static":false}]},{"name":"site_title","type":"function","location":"lib/email.rb:38","static":true},{"name":"cleanup_alias","type":"function","location":"lib/email.rb:17","static":true},{"name":"Renderer","type":"class","children":[{"name":"html","type":"function","location":"lib/email/renderer.rb:17","static":false},{"name":"text","type":"function","location":"lib/email/renderer.rb:11","static":false}]},{"name":"Styles","type":"class","children":[{"name":"format_basic","type":"function","location":"lib/email/styles.rb:58","static":false},{"name":"format_html","type":"function","location":"lib/email/styles.rb:172","static":false},{"name":"add_styles","type":"function","location":"lib/email/styles.rb:26","static":false},{"name":"onebox_styles","type":"function","location":"lib/email/styles.rb:112","static":false},{"name":"plugin_styles","type":"function","location":"lib/email/styles.rb:237","static":false},{"name":"format_custom","type":"function","location":"lib/email/styles.rb:230","static":false},{"name":"custom_styles","type":"function","location":"lib/email/styles.rb:36","static":false},{"name":"to_html","type":"function","location":"lib/email/styles.rb:241","static":false},{"name":"include_body?","type":"function","location":"lib/email/styles.rb:248","static":false}]}]}]},{"name":"app/mailers","type":"package","children":[{"name":"TestMailer","type":"class","children":[{"name":"send_test","type":"function","location":"app/mailers/test_mailer.rb:6","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"UserNotificationRenderer","type":"class","children":[{"name":"render","type":"function","location":"app/services/user_notification_renderer.rb:10","static":true}]}]},{"name":"app/helpers","type":"package","children":[{"name":"EmailHelper","type":"class","children":[{"name":"email_html_template","type":"function","location":"app/helpers/email_helper.rb:28","static":false}]}]}],"events":[{"id":1008611,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097703038880,"value":"{:name=>:disable_emails}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70097608268880,"value":"#<StringSettingValidator:0x00007f81be14b8a0>"}},{"id":1008612,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1008611,"elapsed":8.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70097724330800}},{"id":1008613,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097797147320,"value":"non-staff","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097608268880,"value":"#<StringSettingValidator:0x00007f81be14b8a0>"}},{"id":1008614,"event":"call","defined_class":"RegexSettingValidation","method_id":"regex_match?","path":"lib/validators/regex_setting_validation.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097797147320,"value":"non-staff","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097608268880,"value":"#<StringSettingValidator:0x00007f81be14b8a0>"}},{"id":1008615,"event":"return","defined_class":"RegexSettingValidation","method_id":"regex_match?","path":"lib/validators/regex_setting_validation.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1008614,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008616,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1008613,"elapsed":0.000142,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008617,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1008618,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1008617,"elapsed":0.000123,"return_value":{"class":"Integer","value":"13491","object_id":26983}},{"id":1008619,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1352 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008620,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008619,"elapsed":0.001899},{"id":1008621,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828172540,"value":"#<User:0x00007f81d84ba5f8>"}},{"id":1008622,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1352 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008623,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008622,"elapsed":0.001343},{"id":1008624,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1008621,"elapsed":0.004221,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097612722120}},{"id":1008625,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828381400,"value":"#<TestCurrentUserProvider:0x00007f81d85205b0>"}},{"id":1008626,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097828404100,"value":"822dd434e153639cbfeb73f5436de684","kind":"req"},{"name":"opts","class":"Hash","object_id":70097828403700,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1008627,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097828404100,"value":"822dd434e153639cbfeb73f5436de684","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1008628,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008629,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1008628,"elapsed":1.0e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1008630,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1008627,"elapsed":0.000238,"return_value":{"class":"String","value":"SOhvDK8v6FF2X6FK14caNrpH1VY=","object_id":70097828397460}},{"id":1008631,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'SOhvDK8v6FF2X6FK14caNrpH1VY=' OR\n                          prev_auth_token = 'SOhvDK8v6FF2X6FK14caNrpH1VY=') AND rotated_at > '2020-03-29 19:01:40.674005') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008632,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008631,"elapsed":0.001555},{"id":1008633,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:40.679723' WHERE \"user_auth_tokens\".\"id\" = 1162 AND \"user_auth_tokens\".\"auth_token\" = 'SOhvDK8v6FF2X6FK14caNrpH1VY='","database_type":"postgres","server_version":110006}},{"id":1008634,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008633,"elapsed":0.001466},{"id":1008635,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097612883560,"value":"{:action=>\"seen token\", :user_auth_token_id=>1162, :user_id=>1353, :auth_token=>\"SOhvDK8v6FF2X6FK14c","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1008636,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1008637,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008636,"elapsed":0.001163},{"id":1008638,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1162, 1353, '127.0.0.1/32', 'SOhvDK8v6FF2X6FK14caNrpH1VY=', '2020-05-28 19:01:40.689178') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1008639,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008638,"elapsed":0.001501},{"id":1008640,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1008641,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008640,"elapsed":0.001248},{"id":1008642,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1008635,"elapsed":0.015145,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81bea23e00>","object_id":70097612906240}},{"id":1008643,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1008626,"elapsed":0.026182,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81b952e530>","object_id":70097568363160}},{"id":1008644,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008645,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008644,"elapsed":0.001483},{"id":1008646,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008647,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1008646,"elapsed":2.4e-05},{"id":1008648,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828381400,"value":"#<TestCurrentUserProvider:0x00007f81d85205b0>"}},{"id":1008649,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1008648,"elapsed":0.001097,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008650,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008651,"event":"call","defined_class":"User","method_id":"update_visit_record!","path":"app/models/user.rb","lineno":680,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097568841600,"value":"2020-05-28","kind":"req"}],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008652,"event":"call","defined_class":"User","method_id":"visit_record_for","path":"app/models/user.rb","lineno":676,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097568841600,"value":"2020-05-28","kind":"req"}],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008653,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_visits\".* FROM \"user_visits\" WHERE \"user_visits\".\"user_id\" = 1353 AND \"user_visits\".\"visited_at\" = '2020-05-28' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008654,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008653,"elapsed":0.001414},{"id":1008655,"event":"return","defined_class":"User","method_id":"visit_record_for","path":"app/models/user.rb","lineno":676,"static":false,"thread_id":70097708498960,"parent_id":1008652,"elapsed":0.005736},{"id":1008656,"event":"call","defined_class":"User","method_id":"create_visit_record!","path":"app/models/user.rb","lineno":671,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097568841600,"value":"2020-05-28","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008657,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008658,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008657,"elapsed":0.00135},{"id":1008659,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_stats\" SET \"days_visited\" = 1 WHERE \"user_stats\".\"user_id\" = 1353","database_type":"postgres","server_version":110006}},{"id":1008660,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008659,"elapsed":0.001186},{"id":1008661,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1008662,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008661,"elapsed":0.001084},{"id":1008663,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_visits\" (\"user_id\", \"visited_at\") VALUES (1353, '2020-05-28') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1008664,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008663,"elapsed":0.001383},{"id":1008665,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1008666,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008665,"elapsed":0.001133},{"id":1008667,"event":"return","defined_class":"User","method_id":"create_visit_record!","path":"app/models/user.rb","lineno":671,"static":false,"thread_id":70097708498960,"parent_id":1008656,"elapsed":0.025366,"return_value":{"class":"UserVisit","value":"#<UserVisit:0x00007f81d86d4c80>","object_id":70097829275200}},{"id":1008668,"event":"return","defined_class":"User","method_id":"update_visit_record!","path":"app/models/user.rb","lineno":680,"static":false,"thread_id":70097708498960,"parent_id":1008651,"elapsed":0.031515,"return_value":{"class":"UserVisit","value":"#<UserVisit:0x00007f81d86d4c80>","object_id":70097829275200}},{"id":1008669,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008670,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":1008669,"elapsed":3.1e-05},{"id":1008671,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"last_seen_at\" = '2020-05-28 19:01:40.707051' WHERE \"users\".\"id\" = 1353","database_type":"postgres","server_version":110006}},{"id":1008672,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008671,"elapsed":0.001665},{"id":1008673,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"first_seen_at\" = '2020-05-28 19:01:40.707051' WHERE \"users\".\"id\" = 1353","database_type":"postgres","server_version":110006}},{"id":1008674,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008673,"elapsed":0.001534},{"id":1008675,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1008650,"elapsed":0.043719},{"id":1008676,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097608839240,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008677,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1353","database_type":"postgres","server_version":110006}},{"id":1008678,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008677,"elapsed":0.001398},{"id":1008679,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1008676,"elapsed":0.004418,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008680,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008625,"elapsed":0.082095,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008681,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828381400,"value":"#<TestCurrentUserProvider:0x00007f81d85205b0>"}},{"id":1008682,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008681,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008683,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008684,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1008683,"elapsed":1.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008685,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829858840,"value":"#<TestCurrentUserProvider:0x00007f81d87f1c30>"}},{"id":1008686,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008685,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008687,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829858840,"value":"#<TestCurrentUserProvider:0x00007f81d87f1c30>"}},{"id":1008688,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008687,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008689,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008690,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1008689,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008691,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008692,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008691,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008693,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008694,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008693,"elapsed":1.0e-05},{"id":1008695,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/admin/email/test.json"},"message":[{"name":"email_address","class":"String","value":"eviltrout@somewhere.com","object_id":70097612736320},{"name":"controller","class":"String","value":"admin/email","object_id":70097794312700},{"name":"action","class":"String","value":"test","object_id":70097712530580},{"name":"format","class":"String","value":"json","object_id":70097828381700}]},{"id":1008696,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008697,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008698,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008699,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008700,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008699,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008701,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1008698,"elapsed":0.000172,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d87ea098>","object_id":70097829843020}},{"id":1008702,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097829843020,"value":"#<Guardian:0x00007f81d87ea098>"}},{"id":1008703,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1008702,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008704,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1008697,"elapsed":0.000476},{"id":1008705,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008706,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008705,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008707,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008708,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008707,"elapsed":0.001588},{"id":1008709,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008710,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1008709,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d87ea098>","object_id":70097829843020}},{"id":1008711,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097781294120,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097829843020,"value":"#<Guardian:0x00007f81d87ea098>"}},{"id":1008712,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1008711,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008713,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1008696,"elapsed":0.053747,"return_value":{"class":"Array","value":"[2]","object_id":70097781294120}},{"id":1008714,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008715,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008716,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008715,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008717,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008718,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008717,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008719,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008720,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008719,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008721,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1008714,"elapsed":0.000573,"return_value":{"class":"String","value":"email/test","object_id":70097781933160}},{"id":1008722,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008723,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008724,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008723,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008725,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1008722,"elapsed":0.000156},{"id":1008726,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008727,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008728,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008727,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008729,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008730,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008729,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008731,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008732,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1008731,"elapsed":1.9e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1008733,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008734,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008733,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008735,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008736,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008735,"elapsed":1.3e-05},{"id":1008737,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008738,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008737,"elapsed":2.2e-05,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008739,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008740,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008739,"elapsed":9.0e-06},{"id":1008741,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1008726,"elapsed":0.00107,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097782870800}},{"id":1008742,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008743,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1008742,"elapsed":8.0e-06},{"id":1008744,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008745,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008746,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008745,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008747,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1008744,"elapsed":9.7e-05},{"id":1008748,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008749,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008748,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008750,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008751,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008750,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008752,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008753,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008752,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008754,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1008755,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1008754,"elapsed":3.0e-06},{"id":1008756,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008757,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1008756,"elapsed":7.0e-06},{"id":1008758,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008759,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008760,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008759,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008761,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1008758,"elapsed":0.000111},{"id":1008762,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008763,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008764,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008763,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008765,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1008762,"elapsed":0.000116},{"id":1008766,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008767,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008766,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008768,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1008769,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1008768,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1008770,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>"}},{"id":1008771,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1008770,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1008772,"event":"call","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1008773,"event":"call","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097792207200,"value":"#<Email::Sender:0x00007f81d40212c0>"}},{"id":1008774,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008775,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008774,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008776,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008777,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008776,"elapsed":1.0e-05},{"id":1008778,"event":"call","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"to_address","class":"String","object_id":70097612736320,"value":"eviltrout@somewhere.com","kind":"req"}],"receiver":{"class":"TestMailer","object_id":70097792224580,"value":"#<TestMailer:0x00007f81d4029a88>"}},{"id":1008779,"event":"call","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"builder_args","class":"String","object_id":70097612736320,"value":"eviltrout@somewhere.com","kind":"rest"}],"receiver":{"class":"TestMailer","object_id":70097792224580,"value":"#<TestMailer:0x00007f81d4029a88>"}},{"id":1008780,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097792390680,"value":"#<Email::MessageBuilder:0x00007f81d407ac30>"}},{"id":1008781,"event":"call","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1008782,"event":"return","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parent_id":1008781,"elapsed":6.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097723392500}},{"id":1008783,"event":"call","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097723392500,"value":"Discourse","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1008784,"event":"return","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1008783,"elapsed":7.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097754565220}},{"id":1008785,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1008786,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1008785,"elapsed":9.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097754589780}},{"id":1008787,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1008780,"elapsed":0.0004,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097754599660}},{"id":1008788,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097792390680,"value":"#<Email::MessageBuilder:0x00007f81d407ac30>"}},{"id":1008789,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1008790,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1008789,"elapsed":6.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097754645020}},{"id":1008791,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1008788,"elapsed":0.000132,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097754683280}},{"id":1008792,"event":"call","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097792390680,"value":"#<Email::MessageBuilder:0x00007f81d407ac30>"}},{"id":1008793,"event":"call","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097792390680,"value":"#<Email::MessageBuilder:0x00007f81d407ac30>"}},{"id":1008794,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'test_mailer.subject_template' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1008795,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008794,"elapsed":0.001784},{"id":1008796,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008797,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008796,"elapsed":7.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008798,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008799,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008798,"elapsed":1.4e-05},{"id":1008800,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008801,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008800,"elapsed":5.0e-06},{"id":1008802,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008803,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008802,"elapsed":4.0e-06},{"id":1008804,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008805,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008804,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008806,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008807,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008806,"elapsed":6.0e-06},{"id":1008808,"event":"return","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":1008793,"elapsed":0.008132,"return_value":{"class":"String","value":"[Discourse] Email Deliverability Test","object_id":70097756678460}},{"id":1008809,"event":"call","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097792390680,"value":"#<Email::MessageBuilder:0x00007f81d407ac30>"}},{"id":1008810,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008811,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008810,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008812,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008813,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008812,"elapsed":8.0e-06},{"id":1008814,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008815,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008814,"elapsed":4.0e-06},{"id":1008816,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008817,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008816,"elapsed":5.0e-06},{"id":1008818,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008819,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008818,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008820,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008821,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008820,"elapsed":9.0e-06},{"id":1008822,"event":"return","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1008809,"elapsed":0.00089,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097756993900}},{"id":1008823,"event":"return","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parent_id":1008792,"elapsed":0.009301,"return_value":{"class":"Hash","value":"{:to=>\"eviltrout@somewhere.com\", :subject=>\"[Discourse] Email Deliverability Test\", :body=>\"This is ","object_id":70097756987500}},{"id":1008824,"event":"call","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097792390680,"value":"#<Email::MessageBuilder:0x00007f81d407ac30>"}},{"id":1008825,"event":"return","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1008824,"elapsed":6.0e-06},{"id":1008826,"event":"return","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1008779,"elapsed":0.010934,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:40 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097792223800}},{"id":1008827,"event":"return","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1008778,"elapsed":0.012056,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:40 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097792223800}},{"id":1008828,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097792207200,"value":"#<Email::Sender:0x00007f81d40212c0>"}},{"id":1008829,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1008828,"elapsed":3.1e-05,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097800777420}},{"id":1008830,"event":"call","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097800809700,"value":"#<Email::Renderer:0x00007f81d50899c8>"}},{"id":1008831,"event":"call","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097800809700,"value":"#<Email::Renderer:0x00007f81d50899c8>"}},{"id":1008832,"event":"return","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1008831,"elapsed":3.8e-05,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097801071000}},{"id":1008833,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1008834,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1008835,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":1008834,"elapsed":7.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097801203920}},{"id":1008836,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1008833,"elapsed":0.001239,"return_value":{"class":"Array","value":"[]","object_id":70097801256700}},{"id":1008837,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097829280380,"value":"/images/discourse-logo-sketch.png"}},{"id":1008838,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1008837,"elapsed":1.2e-05,"return_value":{"class":"String","value":"/images/discourse-logo-sketch.png","object_id":70097829280080}},{"id":1008839,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097829297820,"value":"/images/discourse-logo-sketch-small.png"}},{"id":1008840,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1008839,"elapsed":7.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch-small.png","object_id":70097829297360}},{"id":1008841,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008842,"event":"call","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008843,"event":"return","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1008842,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[{:name=>\" \", :value=>\"ar\"}, {:name=>\" \", :value=>\"be\"}, {:name=>\"","object_id":70097567928580}},{"id":1008844,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1008841,"elapsed":0.000345,"return_value":{"class":"String","value":"[{\"name\":\" \",\"value\":\"ar\"},{\"name\":\" \",\"value\":\"be\"},{\"name\":\" ","object_id":70097802018960}},{"id":1008845,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008846,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parent_id":1008845,"elapsed":8.0e-06},{"id":1008847,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008848,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008849,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1008848,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1008850,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1008851,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1008850,"elapsed":1.2e-05},{"id":1008852,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1008847,"elapsed":0.0004,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097802134520}},{"id":1008853,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008854,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008855,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1008854,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1008856,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1008857,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1008856,"elapsed":9.0e-06},{"id":1008858,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1008853,"elapsed":0.000326,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch-small.png","object_id":70097802218700}},{"id":1008859,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008860,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1008859,"elapsed":1.8e-05,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097800175960}},{"id":1008861,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008862,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1008861,"elapsed":1.4e-05,"return_value":{"class":"String","value":"http://test.localhost/uploads/default/test_0/optimized/1X/_129430568242d1b7f853bb13ebea28b3f6af4e7_2","object_id":70097800212220}},{"id":1008863,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1008864,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1008863,"elapsed":6.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1008865,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1008866,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008867,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1008866,"elapsed":5.0e-06},{"id":1008868,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":1008865,"elapsed":0.000128},{"id":1008869,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1008870,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1008871,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1008872,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":1008871,"elapsed":6.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097802485240}},{"id":1008873,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1008870,"elapsed":0.001081},{"id":1008874,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1008869,"elapsed":0.001236},{"id":1008875,"event":"call","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097730980880,"value":"{:template=>\"layouts/email_template\", :format=>:html, :locals=>{:html_body=>\"<p>This is a test email","kind":"rest"}],"receiver":{"class":"Class","object_id":70097797777140,"value":"UserNotificationRenderer"}},{"id":1008876,"event":"call","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserNotificationRenderer","object_id":70097566174800,"value":"#<UserNotificationRenderer:0x00007f81b9101ca0>"}},{"id":1008877,"event":"call","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097731030900,"value":"#<EmailStyle:0x00007f81ccb71ee8>"}},{"id":1008878,"event":"call","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097731030900,"value":"#<EmailStyle:0x00007f81ccb71ee8>"}},{"id":1008879,"event":"call","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097566750080,"value":"EmailStyle"}},{"id":1008880,"event":"return","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1008879,"elapsed":5.0e-06,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1008881,"event":"return","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1008878,"elapsed":0.000137,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1008882,"event":"return","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1008877,"elapsed":0.000263,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1008883,"event":"return","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1008876,"elapsed":0.000429,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097731099380}},{"id":1008884,"event":"return","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":1008875,"elapsed":0.000831,"return_value":{"class":"ActionView::OutputBuffer","value":"  <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xh","object_id":70097731015960}},{"id":1008885,"event":"call","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008886,"event":"return","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1008885,"elapsed":0.000607,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097731161320}},{"id":1008887,"event":"call","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008888,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731208040,"value":"<body>\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th, h1, h2, h3 {font-family: Helvetic","kind":"req"},{"name":"new_styles","class":"String","object_id":70097731211200,"value":"text-align:left;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008889,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008888,"elapsed":1.5e-05,"return_value":{"class":"String","value":"text-align:left;","object_id":70097731211200}},{"id":1008890,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731296260,"value":"<a href=\"http://test.localhost\"><strong>http://test.localhost</strong></a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008891,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008890,"elapsed":1.5e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008892,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731526280,"value":"<a href=\"https://mxtoolbox.com/ReverseLookup.aspx\" rel=\"nofollow noopener\">Test your Reverse PTR rec","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008893,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008892,"elapsed":1.0e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008894,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731566400,"value":"<a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\">SPF record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008895,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008894,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008896,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731559440,"value":"<a href=\"https://www.kitterman.com/spf/validate.html\" rel=\"nofollow noopener\">Test your SPF record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008897,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008896,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008898,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731611240,"value":"<a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\">DKIM record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008899,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008898,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008900,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731629940,"value":"<a href=\"https://www.mail-tester.com/spf-dkim-check\" rel=\"nofollow noopener\">Test your DKIM record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008901,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008900,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008902,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731679980,"value":"<a href=\"https://whatismyipaddress.com/blacklist-check\" rel=\"nofollow noopener\">not on any email bla","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008903,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008902,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008904,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731717340,"value":"<a href=\"https://www.mail-tester.com/\" rel=\"nofollow noopener\">mail-tester.com</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008905,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008904,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008906,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731787860,"value":"<a href=\"https://goo.gl/r1WMF6\" rel=\"nofollow noopener\">SendGrid</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008907,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008906,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008908,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731781300,"value":"<a href=\"https://www.sparkpost.com/\" rel=\"nofollow noopener\">SparkPost</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008909,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008908,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008910,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731799820,"value":"<a href=\"https://www.mailgun.com/\" rel=\"nofollow noopener\">Mailgun</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008911,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008910,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008912,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731824240,"value":"<a href=\"https://www.mailjet.com/pricing/\" rel=\"nofollow noopener\">Mailjet</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008913,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008912,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008914,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731919700,"value":"<a href=\"https://www.discourse.org\" rel=\"nofollow noopener\">Discourse</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097732049880,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008915,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008914,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097732049880}},{"id":1008916,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731351860,"value":"<ul>\n<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443600,"value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008917,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008916,"elapsed":1.5e-05,"return_value":{"class":"String","value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","object_id":70097566443600}},{"id":1008918,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731346760,"value":"<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in your ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008919,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008918,"elapsed":1.1e-05,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008920,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731465140,"value":"<li>\n<p>Know how to view the raw source of the email in your mail client, so you can examine email h","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008921,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008920,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008922,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731486020,"value":"<li>\n<p><strong>IMPORTANT:</strong> Does your ISP have a reverse DNS record entered to associate the","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008923,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008922,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008924,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731540160,"value":"<li>\n<p>Is your domains <a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008925,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008924,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008926,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731616260,"value":"<li>\n<p>Is your domains <a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\" style=\"text-decorati","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008927,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008926,"elapsed":1.0e-05,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008928,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731652940,"value":"<li>\n<p>If you run your own mail server, check to make sure the IPs of your mail server are <a href=","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008929,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008928,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008930,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731694660,"value":"<li>\n<p>We highly recommend you <strong>send a test email to <a href=\"https://www.mail-tester.com/\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008931,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008930,"elapsed":9.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1008932,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097731406100,"value":"<code>notification email</code>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566442920,"value":"background-color: #f1f1ff; padding: 2px 5px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008933,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008932,"elapsed":1.0e-05,"return_value":{"class":"String","value":"background-color: #f1f1ff; padding: 2px 5px;","object_id":70097566442920}},{"id":1008934,"event":"call","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008935,"event":"return","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1008934,"elapsed":0.002074,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097814010260}},{"id":1008936,"event":"call","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008937,"event":"return","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parent_id":1008936,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097566593840}},{"id":1008938,"event":"call","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008939,"event":"call","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008940,"event":"call","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097814044020,"value":"#<EmailStyle:0x00007f81d69c7ae8>"}},{"id":1008941,"event":"call","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097814044020,"value":"#<EmailStyle:0x00007f81d69c7ae8>"}},{"id":1008942,"event":"return","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1008941,"elapsed":7.0e-06,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1008943,"event":"return","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1008940,"elapsed":0.00013,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1008944,"event":"return","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":1008939,"elapsed":0.000249,"return_value":{"class":"Hash","value":"{}","object_id":70097814060320}},{"id":1008945,"event":"return","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parent_id":1008938,"elapsed":0.000367,"return_value":{"class":"Hash","value":"{}","object_id":70097814060320}},{"id":1008946,"event":"return","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1008887,"elapsed":0.015671,"return_value":{"class":"Hash","value":"{}","object_id":70097814060320}},{"id":1008947,"event":"call","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008948,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814123760,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008949,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008948,"elapsed":8.0e-06},{"id":1008950,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814119540,"value":"https://mxtoolbox.com/ReverseLookup.aspx","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008951,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008950,"elapsed":5.0e-06},{"id":1008952,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814138620,"value":"http://www.openspf.org/SPF_Record_Syntax","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008953,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008952,"elapsed":4.0e-06},{"id":1008954,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814166580,"value":"https://www.kitterman.com/spf/validate.html","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008955,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008954,"elapsed":5.0e-06},{"id":1008956,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814160880,"value":"http://www.dkim.org/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008957,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008956,"elapsed":4.0e-06},{"id":1008958,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814191780,"value":"https://www.mail-tester.com/spf-dkim-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008959,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008958,"elapsed":4.0e-06},{"id":1008960,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814227500,"value":"https://whatismyipaddress.com/blacklist-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008961,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008960,"elapsed":4.0e-06},{"id":1008962,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097730543920,"value":"https://www.mail-tester.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008963,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008962,"elapsed":4.0e-06},{"id":1008964,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097826323280,"value":"https://goo.gl/r1WMF6","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008965,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008964,"elapsed":4.0e-06},{"id":1008966,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097826330860,"value":"https://www.sparkpost.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008967,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008966,"elapsed":4.0e-06},{"id":1008968,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097826339440,"value":"https://www.mailgun.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008969,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008968,"elapsed":4.0e-06},{"id":1008970,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097826347880,"value":"https://www.mailjet.com/pricing/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008971,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008970,"elapsed":4.0e-06},{"id":1008972,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097826356620,"value":"https://www.discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1008973,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1008972,"elapsed":5.0e-06},{"id":1008974,"event":"call","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097731115580,"value":"#<Email::Styles:0x00007f81ccb9b478>"}},{"id":1008975,"event":"return","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parent_id":1008974,"elapsed":8.0e-06,"return_value":{"class":"Integer","value":"483","object_id":967}},{"id":1008976,"event":"return","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parent_id":1008947,"elapsed":0.003172,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097826379440}},{"id":1008977,"event":"return","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1008830,"elapsed":0.044709,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097826379440}},{"id":1008978,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097792207200,"value":"#<Email::Sender:0x00007f81d40212c0>"}},{"id":1008979,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1008978,"elapsed":5.0e-06,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097800777420}},{"id":1008980,"event":"call","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parameters":[{"name":"base_url","class":"String","object_id":70097795802200,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1008981,"event":"return","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parent_id":1008980,"elapsed":3.0e-05,"return_value":{"class":"String","value":"test.localhost","object_id":70097795926360}},{"id":1008982,"event":"call","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1008983,"event":"return","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parent_id":1008982,"elapsed":8.0e-06},{"id":1008984,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1008985,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008984,"elapsed":0.002038},{"id":1008986,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_logs\" (\"to_address\", \"email_type\", \"created_at\", \"updated_at\", \"message_id\") VALUES ('eviltrout@somewhere.com', 'test_message', '2020-05-28 19:01:40.884402', '2020-05-28 19:01:40.884402', '244311fc-c667-40dc-899e-a025046c915a@test.localhost') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1008987,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008986,"elapsed":0.001531},{"id":1008988,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1008989,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1008988,"elapsed":0.001},{"id":1008990,"event":"return","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1008773,"elapsed":0.079729,"return_value":{"class":"EmailLog","value":"#<EmailLog:0x00007f81d46ff9e8>","object_id":70097795808500}},{"id":1008991,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008992,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008991,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1008993,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1008994,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1008993,"elapsed":1.2e-05},{"id":1008995,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008996,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008995,"elapsed":4.0e-06},{"id":1008997,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1008998,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1008997,"elapsed":3.0e-06},{"id":1008999,"event":"return","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1008772,"elapsed":0.080611,"return_value":{"class":"String","value":"{\"sent_test_email_message\":\"sent!\"}","object_id":70097816306820}},{"id":1009000,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1009001,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1009000,"elapsed":8.0e-06},{"id":1009002,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1009003,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1009002,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097816343100}},{"id":1009004,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097829835260,"value":"#<Admin::EmailController:0x00007f81d87e63f8>"}},{"id":1009005,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1009006,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009005,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1009007,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097828806940,"value":"#<User:0x00007f81d85f0238>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097612735540,"value":"#<ActionDispatch::Request::Session:0x00007f81be9d0868>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097781295720,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d2b514d0>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1009008,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1009009,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1009010,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009009,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1009011,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009008,"elapsed":0.000114},{"id":1009012,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1009013,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829845600,"value":"#<TestCurrentUserProvider:0x00007f81d87eb4c0>"}},{"id":1009014,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009013,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85f0238>","object_id":70097828806940}},{"id":1009015,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1009012,"elapsed":0.000116},{"id":1009016,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1009007,"elapsed":0.000434},{"id":1009017,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1009004,"elapsed":0.000701},{"id":1009018,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1008695,"elapsed":0.14089,"http_server_response":{"status":200}},{"id":1009019,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097816422580,"value":"#<TestCurrentUserProvider:0x00007f81d6e51168>"}},{"id":1009020,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1009019,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009021,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1009022,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009021,"elapsed":7.0e-06},{"id":1009023,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1009024,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009023,"elapsed":4.0e-06},{"id":1009025,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828172540,"value":"#<User:0x00007f81d84ba5f8>"}},{"id":1009026,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009025,"elapsed":2.5e-05,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097612722120}},{"id":1009027,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009028,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009027,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009029,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009030,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009029,"elapsed":1.2e-05},{"id":1009031,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009032,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009031,"elapsed":4.0e-06},{"id":1009033,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009034,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009033,"elapsed":4.0e-06}]}