{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::EmailController #sent should be able to filter by reply key","app":"Discourse","feature":"Admin::EmailController #sent","feature_group":"Admin email","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"PostReplyKey","type":"class","children":[{"name":"reply_key","type":"function","location":"app/models/post_reply_key.rb:13","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Post","type":"class","children":[{"name":"url","type":"function","location":"app/models/post.rb:556","static":false}]},{"name":"Topic","type":"class","children":[{"name":"slug","type":"function","location":"app/models/topic.rb:1101","static":false}]},{"name":"EmailLog","type":"class","children":[{"name":"bounce_key","type":"function","location":"app/models/email_log.rb:69","static":false}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"EmailController","type":"class","children":[{"name":"sent","type":"function","location":"app/controllers/admin/email_controller.rb:22","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"EmailLogsMixin","type":"class","children":[{"name":"included","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:4","static":true},{"name":"include_post_url?","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:20","static":false},{"name":"post_url","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:16","static":false},{"name":"include_post_description?","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:24","static":false},{"name":"post_description","type":"function","location":"app/serializers/concerns/email_logs_mixin.rb:28","static":false}]},{"name":"EmailLogSerializer","type":"class","children":[{"name":"include_reply_key?","type":"function","location":"app/serializers/email_log_serializer.rb:12","static":false},{"name":"reply_key","type":"function","location":"app/serializers/email_log_serializer.rb:17","static":false},{"name":"has_bounce_key","type":"function","location":"app/serializers/email_log_serializer.rb:21","static":false}]},{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]}]}],"events":[{"id":1009839,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1009840,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1009839,"elapsed":5.1e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097612363540}},{"id":1009841,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"id\" = 990 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009842,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009841,"elapsed":0.00108},{"id":1009843,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009844,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":1009843,"elapsed":5.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":1009845,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097827210280,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009846,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":1009845,"elapsed":0.000146,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81d82f6550>","object_id":70097827246760}},{"id":1009847,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009848,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009847,"elapsed":0.000731},{"id":1009849,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009850,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1009849,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009851,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009852,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1009853,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097827715580,"value":"#<UsernameValidator:0x00007f81d83db3f8>"}},{"id":1009854,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1009855,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1009854,"elapsed":1.4e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097827709240}},{"id":1009856,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1009857,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1009856,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097827730880}},{"id":1009858,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1009859,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":1009858,"elapsed":6.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":1009860,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1009861,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":1009860,"elapsed":4.0e-06},{"id":1009862,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1009853,"elapsed":0.000438,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009863,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1009852,"elapsed":0.000552},{"id":1009864,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":1009851,"elapsed":0.000663},{"id":1009865,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097608106240,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1009866,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1009865,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce1253","object_id":70097827744020}},{"id":1009867,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097608106240,"value":"bruce1253","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009868,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1009867,"elapsed":1.0e-05},{"id":1009869,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097827762760,"value":"bruce1253","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009870,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1009869,"elapsed":5.0e-06},{"id":1009871,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009872,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097612398320,"value":"#<PasswordValidator:0x00007f81be92bde0>"}},{"id":1009873,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009874,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009875,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1009874,"elapsed":3.0e-06},{"id":1009876,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1009873,"elapsed":9.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009877,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009878,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009877,"elapsed":1.3e-05,"return_value":{"class":"String","value":"bruce1216@wayne.com","object_id":70097612410680}},{"id":1009879,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009880,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009879,"elapsed":7.0e-06,"return_value":{"class":"String","value":"bruce1216@wayne.com","object_id":70097612410680}},{"id":1009881,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009882,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1009881,"elapsed":4.0e-06},{"id":1009883,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009872,"elapsed":0.002191},{"id":1009884,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1009871,"elapsed":0.002335},{"id":1009885,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1009886,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1009885,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1009887,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097612445460,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009888,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1009887,"elapsed":5.0e-06},{"id":1009889,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097612442260,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009890,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1009889,"elapsed":4.0e-06},{"id":1009891,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097612412240,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":1009892,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009891,"elapsed":6.0e-06},{"id":1009893,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097612460440,"value":"99.232.23.92","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":1009894,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097612460440,"value":"99.232.23.92","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1009895,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097612460440,"value":"99.232.23.92","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1009896,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097612460440,"value":"99.232.23.92","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1009897,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.92' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009898,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009897,"elapsed":0.001056},{"id":1009899,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":1009896,"elapsed":0.00403},{"id":1009900,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":1009895,"elapsed":0.004158},{"id":1009901,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":1009894,"elapsed":0.004263},{"id":1009902,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009893,"elapsed":0.004377},{"id":1009903,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097827246760,"value":"#<UserEmail:0x00007f81d82f6550>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097608317940,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1009904,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608317940,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1009905,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097608317940,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1009906,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1009905,"elapsed":2.7e-05},{"id":1009907,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1009904,"elapsed":0.000127,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009908,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608317940,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1009909,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608317940,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1009910,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1009909,"elapsed":8.0e-06,"return_value":{"class":"String","value":"bruce1216@wayne.com","object_id":70097608348780}},{"id":1009911,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1009912,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009911,"elapsed":0.000935},{"id":1009913,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1009908,"elapsed":0.004126},{"id":1009914,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009903,"elapsed":0.004472},{"id":1009915,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce1216@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009916,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009915,"elapsed":0.000861},{"id":1009917,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1009918,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1009917,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1009919,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce1253', '2020-05-28 19:01:41.685292', '2020-05-28 19:01:41.685292', 'Bruce Wayne', 'c4007d2d9e0b8a15524bbd560e61c3f6c3cbe78d595679d7fe223cb70dae8606', '2f85191429fe5ce724ab1968a9be140e', TRUE, 'bruce1253', 1, '99.232.23.92/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009920,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009919,"elapsed":0.001025},{"id":1009921,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097827246760,"value":"#<UserEmail:0x00007f81d82f6550>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097612849460,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1009922,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097612849460,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1009923,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097612849460,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1009924,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1009923,"elapsed":2.7e-05},{"id":1009925,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1009922,"elapsed":0.000128,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009926,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097612849460,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1009927,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097612849460,"value":"bruce1216@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1009928,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1009927,"elapsed":2.2e-05,"return_value":{"class":"String","value":"bruce1216@wayne.com","object_id":70097612888140}},{"id":1009929,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1009930,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009929,"elapsed":0.001048},{"id":1009931,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1009926,"elapsed":0.004362},{"id":1009932,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009921,"elapsed":0.004704},{"id":1009933,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1356 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009934,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009933,"elapsed":0.000971},{"id":1009935,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce1216@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009936,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009935,"elapsed":0.00105},{"id":1009937,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1356, 'bruce1216@wayne.com', TRUE, '2020-05-28 19:01:41.702048', '2020-05-28 19:01:41.702048') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009938,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009937,"elapsed":0.00101},{"id":1009939,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009940,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009939,"elapsed":1.6e-05,"return_value":{"class":"String","value":"bruce1216@wayne.com","object_id":70097814503340}},{"id":1009941,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1009942,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1009943,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1009942,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1009944,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":1009941,"elapsed":0.000128,"return_value":{"class":"String","value":"26ae7fccf3a3cc60cf1c7bc055c9807c","object_id":70097594507420}},{"id":1009945,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1356, 'bruce1216@wayne.com', '26ae7fccf3a3cc60cf1c7bc055c9807c', '2020-05-28 19:01:41.707218', '2020-05-28 19:01:41.707218') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009946,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009945,"elapsed":0.001018},{"id":1009947,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1356 AND (id != 1589)","database_type":"postgres","server_version":110006}},{"id":1009948,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009947,"elapsed":0.000987},{"id":1009949,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1356, '2020-05-28 19:01:41.715580') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1009950,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009949,"elapsed":0.001037},{"id":1009951,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1356 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009952,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009951,"elapsed":0.001165},{"id":1009953,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097589499160,"value":"{:user=>#<User id: 1356, username: \"bruce1253\", created_at: \"2020-05-28 19:01:41\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1009954,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1009953,"elapsed":9.0e-06},{"id":1009955,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097589515160,"value":"#<UserOption:0x00007f81bbd86730>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":1009956,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1009955,"elapsed":4.0e-06},{"id":1009957,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097589515160,"value":"#<UserOption:0x00007f81bbd86730>"}},{"id":1009958,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097589515160,"value":"#<UserOption:0x00007f81bbd86730>"}},{"id":1009959,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1009960,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":1009959,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":1009961,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1009958,"elapsed":0.00011,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1009962,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097589515160,"value":"#<UserOption:0x00007f81bbd86730>"}},{"id":1009963,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1009964,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1009963,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":1009965,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":1009962,"elapsed":0.00015,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1009966,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1009957,"elapsed":0.0006,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009967,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1356, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1009968,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009967,"elapsed":0.001024},{"id":1009969,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097589767560,"value":"#<TrackedTopicsUpdater:0x00007f81bbe01b10>"}},{"id":1009970,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1009971,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1009970,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1009972,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1009973,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1009972,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1009974,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1356","database_type":"postgres","server_version":110006}},{"id":1009975,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009974,"elapsed":0.001156},{"id":1009976,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1009969,"elapsed":0.004043,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1009977,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009978,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1356 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009979,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009978,"elapsed":0.001017},{"id":1009980,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1356) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1009981,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009980,"elapsed":0.001052},{"id":1009982,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097621248100,"value":"{:user=>#<UserProfile user_id: 1356, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1009983,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1009982,"elapsed":8.0e-06},{"id":1009984,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":1009977,"elapsed":0.008646,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81bef15328>","object_id":70097615497620}},{"id":1009985,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009986,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":1009985,"elapsed":1.0e-05},{"id":1009987,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1009988,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009987,"elapsed":0.000857},{"id":1009989,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1009990,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009989,"elapsed":0.001325},{"id":1009991,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1009992,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009991,"elapsed":0.001058},{"id":1009993,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1009994,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009993,"elapsed":0.001124},{"id":1009995,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009996,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1009997,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1009996,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009998,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1009995,"elapsed":0.000138},{"id":1009999,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1356","database_type":"postgres","server_version":110006}},{"id":1010000,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009999,"elapsed":0.001046},{"id":1010001,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>"}},{"id":1010002,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1356 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010003,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010002,"elapsed":0.001168},{"id":1010004,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1356, '2020-05-28 19:01:41.807454', '2020-05-28 19:01:41.807454') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1010005,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010004,"elapsed":0.001024},{"id":1010006,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1010001,"elapsed":0.009602},{"id":1010007,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097731638720,"value":"{:user=>#<User id: 1356, username: \"bruce1253\", created_at: \"2020-05-28 19:01:41\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1010008,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1010007,"elapsed":9.0e-06},{"id":1010009,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1010010,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1010009,"elapsed":5.0e-06},{"id":1010011,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010012,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010011,"elapsed":0.000938},{"id":1010013,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097827233100,"value":"#<User:0x00007f81d82efa98>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1010014,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1010015,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1010014,"elapsed":0.000234,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d81f1c40>","object_id":70097826713120}},{"id":1010016,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010017,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010016,"elapsed":0.001147},{"id":1010018,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1010013,"elapsed":0.004653},{"id":1010019,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010020,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010019,"elapsed":0.000727},{"id":1010021,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_logs\" (\"to_address\", \"email_type\", \"user_id\", \"created_at\", \"updated_at\", \"post_id\") VALUES ('blah2@example.com', 'invite', 1356, '2020-05-28 19:01:41.823989', '2020-05-28 19:01:41.823989', 990) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1010022,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010021,"elapsed":0.000972},{"id":1010023,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET last_emailed_at = CURRENT_TIMESTAMP WHERE \"users\".\"id\" = 1356","database_type":"postgres","server_version":110006}},{"id":1010024,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010023,"elapsed":0.0011},{"id":1010025,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010026,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010025,"elapsed":0.000698},{"id":1010027,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010028,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010027,"elapsed":0.000818},{"id":1010029,"event":"call","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReplyKey","object_id":70097592916420,"value":"#<PostReplyKey:0x00007f81bc403388>"}},{"id":1010030,"event":"return","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010029,"elapsed":2.5e-05,"return_value":{"class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097587558180}},{"id":1010031,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"post_reply_keys\" WHERE \"post_reply_keys\".\"post_id\" = 990 AND \"post_reply_keys\".\"user_id\" = 1356 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010032,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010031,"elapsed":0.001227},{"id":1010033,"event":"call","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReplyKey","object_id":70097592916420,"value":"#<PostReplyKey:0x00007f81bc403388>"}},{"id":1010034,"event":"return","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010033,"elapsed":9.0e-06,"return_value":{"class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097566417380}},{"id":1010035,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"post_reply_keys\" (\"user_id\", \"post_id\", \"reply_key\", \"created_at\", \"updated_at\") VALUES (1356, 990, '2d447423-c625-4fb9-8717-ff04ac60eee8', '2020-05-28 19:01:41.855711', '2020-05-28 19:01:41.855711') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1010036,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010035,"elapsed":0.001163},{"id":1010037,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010038,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010037,"elapsed":0.000806},{"id":1010039,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798062300,"value":"#<TestCurrentUserProvider:0x00007f81d4b4c1b8>"}},{"id":1010040,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097798101840,"value":"d89a5c273de3c1d1b515a1f504c464a9","kind":"req"},{"name":"opts","class":"Hash","object_id":70097798100440,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1010041,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097798101840,"value":"d89a5c273de3c1d1b515a1f504c464a9","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1010042,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1010043,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1010042,"elapsed":9.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1010044,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1010041,"elapsed":0.00014,"return_value":{"class":"String","value":"BFhGXdoU0zL91a9jtdq7chwNHeQ=","object_id":70097798112400}},{"id":1010045,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'BFhGXdoU0zL91a9jtdq7chwNHeQ=' OR\n                          prev_auth_token = 'BFhGXdoU0zL91a9jtdq7chwNHeQ=') AND rotated_at > '2020-03-29 19:01:41.864337') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010046,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010045,"elapsed":0.001134},{"id":1010047,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:41.868803' WHERE \"user_auth_tokens\".\"id\" = 1165 AND \"user_auth_tokens\".\"auth_token\" = 'BFhGXdoU0zL91a9jtdq7chwNHeQ='","database_type":"postgres","server_version":110006}},{"id":1010048,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010047,"elapsed":0.001301},{"id":1010049,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097798903700,"value":"{:action=>\"seen token\", :user_auth_token_id=>1165, :user_id=>1349, :auth_token=>\"BFhGXdoU0zL91a9jtdq","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1010050,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010051,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010050,"elapsed":0.000743},{"id":1010052,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1165, 1349, '127.0.0.1/32', 'BFhGXdoU0zL91a9jtdq7chwNHeQ=', '2020-05-28 19:01:41.876367') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1010053,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010052,"elapsed":0.001036},{"id":1010054,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1010055,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010054,"elapsed":0.001169},{"id":1010056,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1010049,"elapsed":0.011545,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d4ce5998>","object_id":70097798900940}},{"id":1010057,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1010040,"elapsed":0.020247,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be02bc90>","object_id":70097607679560}},{"id":1010058,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010059,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010058,"elapsed":0.001054},{"id":1010060,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010061,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1010060,"elapsed":1.6e-05},{"id":1010062,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798062300,"value":"#<TestCurrentUserProvider:0x00007f81d4b4c1b8>"}},{"id":1010063,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1010062,"elapsed":0.000724,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010064,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010065,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1010064,"elapsed":0.00069},{"id":1010066,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097828387660,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010067,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1349","database_type":"postgres","server_version":110006}},{"id":1010068,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010067,"elapsed":0.001105},{"id":1010069,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1010066,"elapsed":0.003583,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010070,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010039,"elapsed":0.030064,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010071,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798062300,"value":"#<TestCurrentUserProvider:0x00007f81d4b4c1b8>"}},{"id":1010072,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010071,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010073,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010074,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010073,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010075,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097588102980,"value":"#<TestCurrentUserProvider:0x00007f81bbad4e88>"}},{"id":1010076,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010075,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010077,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097588102980,"value":"#<TestCurrentUserProvider:0x00007f81bbad4e88>"}},{"id":1010078,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010077,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010079,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010080,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1010079,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010081,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010082,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010081,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1010083,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010084,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010083,"elapsed":1.1e-05},{"id":1010085,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/admin/email/sent.json?reply_key=17ff04"},"message":[{"name":"reply_key","class":"String","value":"17ff04","object_id":70097798081260},{"name":"controller","class":"String","value":"admin/email","object_id":70097794331100},{"name":"action","class":"String","value":"sent","object_id":70097712799280},{"name":"format","class":"String","value":"json","object_id":70097798063060}]},{"id":1010086,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010087,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010088,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010089,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010090,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010089,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010091,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1010088,"elapsed":0.000126,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b950e3e8>","object_id":70097568297460}},{"id":1010092,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097568297460,"value":"#<Guardian:0x00007f81b950e3e8>"}},{"id":1010093,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1010092,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010094,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1010087,"elapsed":0.000349},{"id":1010095,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010096,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010095,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010097,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010098,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010097,"elapsed":0.001035},{"id":1010099,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010100,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1010099,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b950e3e8>","object_id":70097568297460}},{"id":1010101,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097613018940,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097568297460,"value":"#<Guardian:0x00007f81b950e3e8>"}},{"id":1010102,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1010101,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010103,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1010086,"elapsed":0.005062,"return_value":{"class":"Array","value":"[2]","object_id":70097613018940}},{"id":1010104,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010105,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010106,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010105,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010107,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010108,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010107,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010109,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010110,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010109,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010111,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1010104,"elapsed":0.00033,"return_value":{"class":"String","value":"email/sent","object_id":70097613029620}},{"id":1010112,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010113,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010114,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010113,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010115,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1010112,"elapsed":0.000103},{"id":1010116,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010117,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010118,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010117,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010119,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010120,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010119,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010121,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010122,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1010121,"elapsed":1.2e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1010123,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010124,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010123,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1010125,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010126,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010125,"elapsed":9.0e-06},{"id":1010127,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010128,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010127,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1010129,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010130,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010129,"elapsed":6.0e-06},{"id":1010131,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1010116,"elapsed":0.000679,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097613079360}},{"id":1010132,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010133,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1010132,"elapsed":7.0e-06},{"id":1010134,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010135,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010136,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010135,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010137,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1010134,"elapsed":9.2e-05},{"id":1010138,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010139,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010138,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010140,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010141,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010140,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010142,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010143,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010142,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010144,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1010145,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1010144,"elapsed":3.0e-06},{"id":1010146,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010147,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1010146,"elapsed":7.0e-06},{"id":1010148,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010149,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010148,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010150,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010151,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010150,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010152,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>"}},{"id":1010153,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010152,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010154,"event":"call","defined_class":"Admin::EmailController","method_id":"sent","path":"app/controllers/admin/email_controller.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010155,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1010156,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1010155,"elapsed":4.2e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097613210400}},{"id":1010157,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1010158,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1010157,"elapsed":3.1e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097613170160}},{"id":1010159,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"email_logs\".\"id\" AS t0_r0, \"email_logs\".\"to_address\" AS t0_r1, \"email_logs\".\"email_type\" AS t0_r2, \"email_logs\".\"user_id\" AS t0_r3, \"email_logs\".\"created_at\" AS t0_r4, \"email_logs\".\"updated_at\" AS t0_r5, \"email_logs\".\"post_id\" AS t0_r6, \"email_logs\".\"bounce_key\" AS t0_r7, \"email_logs\".\"bounced\" AS t0_r8, \"email_logs\".\"message_id\" AS t0_r9, \"users\".\"id\" AS t1_r0, \"users\".\"username\" AS t1_r1, \"users\".\"created_at\" AS t1_r2, \"users\".\"updated_at\" AS t1_r3, \"users\".\"name\" AS t1_r4, \"users\".\"seen_notification_id\" AS t1_r5, \"users\".\"last_posted_at\" AS t1_r6, \"users\".\"password_hash\" AS t1_r7, \"users\".\"salt\" AS t1_r8, \"users\".\"active\" AS t1_r9, \"users\".\"username_lower\" AS t1_r10, \"users\".\"last_seen_at\" AS t1_r11, \"users\".\"admin\" AS t1_r12, \"users\".\"last_emailed_at\" AS t1_r13, \"users\".\"trust_level\" AS t1_r14, \"users\".\"approved\" AS t1_r15, \"users\".\"approved_by_id\" AS t1_r16, \"users\".\"approved_at\" AS t1_r17, \"users\".\"previous_visit_at\" AS t1_r18, \"users\".\"suspended_at\" AS t1_r19, \"users\".\"suspended_till\" AS t1_r20, \"users\".\"date_of_birth\" AS t1_r21, \"users\".\"views\" AS t1_r22, \"users\".\"flag_level\" AS t1_r23, \"users\".\"ip_address\" AS t1_r24, \"users\".\"moderator\" AS t1_r25, \"users\".\"title\" AS t1_r26, \"users\".\"uploaded_avatar_id\" AS t1_r27, \"users\".\"locale\" AS t1_r28, \"users\".\"primary_group_id\" AS t1_r29, \"users\".\"registration_ip_address\" AS t1_r30, \"users\".\"staged\" AS t1_r31, \"users\".\"first_seen_at\" AS t1_r32, \"users\".\"silenced_till\" AS t1_r33, \"users\".\"group_locked_trust_level\" AS t1_r34, \"users\".\"manual_locked_trust_level\" AS t1_r35, \"users\".\"secure_identifier\" AS t1_r36, \"posts\".\"id\" AS t2_r0, \"posts\".\"user_id\" AS t2_r1, \"posts\".\"topic_id\" AS t2_r2, \"posts\".\"post_number\" AS t2_r3, \"posts\".\"raw\" AS t2_r4, \"posts\".\"cooked\" AS t2_r5, \"posts\".\"created_at\" AS t2_r6, \"posts\".\"updated_at\" AS t2_r7, \"posts\".\"reply_to_post_number\" AS t2_r8, \"posts\".\"reply_count\" AS t2_r9, \"posts\".\"quote_count\" AS t2_r10, \"posts\".\"deleted_at\" AS t2_r11, \"posts\".\"off_topic_count\" AS t2_r12, \"posts\".\"like_count\" AS t2_r13, \"posts\".\"incoming_link_count\" AS t2_r14, \"posts\".\"bookmark_count\" AS t2_r15, \"posts\".\"score\" AS t2_r16, \"posts\".\"reads\" AS t2_r17, \"posts\".\"post_type\" AS t2_r18, \"posts\".\"sort_order\" AS t2_r19, \"posts\".\"last_editor_id\" AS t2_r20, \"posts\".\"hidden\" AS t2_r21, \"posts\".\"hidden_reason_id\" AS t2_r22, \"posts\".\"notify_moderators_count\" AS t2_r23, \"posts\".\"spam_count\" AS t2_r24, \"posts\".\"illegal_count\" AS t2_r25, \"posts\".\"inappropriate_count\" AS t2_r26, \"posts\".\"last_version_at\" AS t2_r27, \"posts\".\"user_deleted\" AS t2_r28, \"posts\".\"reply_to_user_id\" AS t2_r29, \"posts\".\"percent_rank\" AS t2_r30, \"posts\".\"notify_user_count\" AS t2_r31, \"posts\".\"like_score\" AS t2_r32, \"posts\".\"deleted_by_id\" AS t2_r33, \"posts\".\"edit_reason\" AS t2_r34, \"posts\".\"word_count\" AS t2_r35, \"posts\".\"version\" AS t2_r36, \"posts\".\"cook_method\" AS t2_r37, \"posts\".\"wiki\" AS t2_r38, \"posts\".\"baked_at\" AS t2_r39, \"posts\".\"baked_version\" AS t2_r40, \"posts\".\"hidden_at\" AS t2_r41, \"posts\".\"self_edits\" AS t2_r42, \"posts\".\"reply_quoted\" AS t2_r43, \"posts\".\"via_email\" AS t2_r44, \"posts\".\"raw_email\" AS t2_r45, \"posts\".\"public_version\" AS t2_r46, \"posts\".\"action_code\" AS t2_r47, \"posts\".\"image_url\" AS t2_r48, \"posts\".\"locked_by_id\" AS t2_r49, \"posts\".\"image_upload_id\" AS t2_r50, \"topics\".\"id\" AS t3_r0, \"topics\".\"title\" AS t3_r1, \"topics\".\"last_posted_at\" AS t3_r2, \"topics\".\"created_at\" AS t3_r3, \"topics\".\"updated_at\" AS t3_r4, \"topics\".\"views\" AS t3_r5, \"topics\".\"posts_count\" AS t3_r6, \"topics\".\"user_id\" AS t3_r7, \"topics\".\"last_post_user_id\" AS t3_r8, \"topics\".\"reply_count\" AS t3_r9, \"topics\".\"featured_user1_id\" AS t3_r10, \"topics\".\"featured_user2_id\" AS t3_r11, \"topics\".\"featured_user3_id\" AS t3_r12, \"topics\".\"deleted_at\" AS t3_r13, \"topics\".\"highest_post_number\" AS t3_r14, \"topics\".\"image_url\" AS t3_r15, \"topics\".\"like_count\" AS t3_r16, \"topics\".\"incoming_link_count\" AS t3_r17, \"topics\".\"category_id\" AS t3_r18, \"topics\".\"visible\" AS t3_r19, \"topics\".\"moderator_posts_count\" AS t3_r20, \"topics\".\"closed\" AS t3_r21, \"topics\".\"archived\" AS t3_r22, \"topics\".\"bumped_at\" AS t3_r23, \"topics\".\"has_summary\" AS t3_r24, \"topics\".\"archetype\" AS t3_r25, \"topics\".\"featured_user4_id\" AS t3_r26, \"topics\".\"notify_moderators_count\" AS t3_r27, \"topics\".\"spam_count\" AS t3_r28, \"topics\".\"pinned_at\" AS t3_r29, \"topics\".\"score\" AS t3_r30, \"topics\".\"percent_rank\" AS t3_r31, \"topics\".\"subtype\" AS t3_r32, \"topics\".\"slug\" AS t3_r33, \"topics\".\"deleted_by_id\" AS t3_r34, \"topics\".\"participant_count\" AS t3_r35, \"topics\".\"word_count\" AS t3_r36, \"topics\".\"excerpt\" AS t3_r37, \"topics\".\"pinned_globally\" AS t3_r38, \"topics\".\"pinned_until\" AS t3_r39, \"topics\".\"fancy_title\" AS t3_r40, \"topics\".\"highest_staff_post_number\" AS t3_r41, \"topics\".\"featured_link\" AS t3_r42, \"topics\".\"reviewable_score\" AS t3_r43, \"topics\".\"image_upload_id\" AS t3_r44 FROM \"email_logs\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"email_logs\".\"user_id\" LEFT OUTER JOIN \"posts\" ON \"posts\".\"id\" = \"email_logs\".\"post_id\" AND (\"posts\".\"deleted_at\" IS NULL) LEFT OUTER JOIN \"topics\" ON \"topics\".\"id\" = \"posts\".\"topic_id\" AND (\"topics\".\"deleted_at\" IS NULL) LEFT JOIN post_reply_keys\nON post_reply_keys.post_id = email_logs.post_id\nAND post_reply_keys.user_id = email_logs.user_id WHERE (replace(post_reply_keys.reply_key::VARCHAR, '-', '') ILIKE '%17ff04%') ORDER BY \"email_logs\".\"created_at\" DESC LIMIT 50 OFFSET 0","database_type":"postgres","server_version":110006}},{"id":1010160,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010159,"elapsed":0.00292},{"id":1010161,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"post_reply_keys\".\"post_id\", \"post_reply_keys\".\"user_id\", reply_key::text FROM \"post_reply_keys\" WHERE ((post_id,user_id) IN ((990,1356)))","database_type":"postgres","server_version":110006}},{"id":1010162,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010161,"elapsed":0.001075},{"id":1010163,"event":"call","defined_class":"EmailLogsMixin","method_id":"included","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"klass","class":"Class","object_id":70097568374860,"value":"EmailLogSerializer","kind":"req"}],"receiver":{"class":"Module","object_id":70097590022400,"value":"EmailLogsMixin"}},{"id":1010164,"event":"return","defined_class":"EmailLogsMixin","method_id":"included","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":1010163,"elapsed":0.000158,"return_value":{"class":"Array","value":"[:user]","object_id":70097568425100}},{"id":1010165,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097614100080,"value":"[#<EmailLog id: 22, to_address: \"blah2@example.com\", email_type: \"invite\", user_id: 1356, created_at","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568374860,"value":"EmailLogSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568480500,"value":"{:reply_keys=>{[990, 1356]=>\"2d447423-c625-4fb9-8717-ff04ac60eee8\"}}","kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010166,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097614100080,"value":"[#<EmailLog id: 22, to_address: \"blah2@example.com\", email_type: \"invite\", user_id: 1356, created_at","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568374860,"value":"EmailLogSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568480500,"value":"{:reply_keys=>{[990, 1356]=>\"2d447423-c625-4fb9-8717-ff04ac60eee8\"}}","kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010167,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010168,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1010167,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b950e3e8>","object_id":70097568297460}},{"id":1010169,"event":"call","defined_class":"EmailLogsMixin","method_id":"include_post_url?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010170,"event":"return","defined_class":"EmailLogsMixin","method_id":"include_post_url?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1010169,"elapsed":2.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010171,"event":"call","defined_class":"EmailLogsMixin","method_id":"post_url","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010172,"event":"call","defined_class":"Post","method_id":"url","path":"app/models/post.rb","lineno":556,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097614100680,"value":"#<Post:0x00007f81bec6b190>"}},{"id":1010173,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097614100220,"value":"#<Topic:0x00007f81bec6adf8>"}},{"id":1010174,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":1010173,"elapsed":1.4e-05,"return_value":{"class":"String","value":"this-is-a-test-topic-810","object_id":70097568510100}},{"id":1010175,"event":"return","defined_class":"Post","method_id":"url","path":"app/models/post.rb","lineno":556,"static":false,"thread_id":70097708498960,"parent_id":1010172,"elapsed":0.000156,"return_value":{"class":"String","value":"/t/this-is-a-test-topic-810/1036/1","object_id":70097568509220}},{"id":1010176,"event":"return","defined_class":"EmailLogsMixin","method_id":"post_url","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1010171,"elapsed":0.000266,"return_value":{"class":"String","value":"/t/this-is-a-test-topic-810/1036/1","object_id":70097568509220}},{"id":1010177,"event":"call","defined_class":"EmailLogsMixin","method_id":"include_post_description?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010178,"event":"return","defined_class":"EmailLogsMixin","method_id":"include_post_description?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1010177,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010179,"event":"call","defined_class":"EmailLogsMixin","method_id":"post_description","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010180,"event":"return","defined_class":"EmailLogsMixin","method_id":"post_description","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1010179,"elapsed":2.1e-05,"return_value":{"class":"String","value":"This is a test topic 810 #1","object_id":70097568528980}},{"id":1010181,"event":"call","defined_class":"EmailLogSerializer","method_id":"include_reply_key?","path":"app/serializers/email_log_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010182,"event":"return","defined_class":"EmailLogSerializer","method_id":"include_reply_key?","path":"app/serializers/email_log_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1010181,"elapsed":1.1e-05,"return_value":{"class":"String","value":"2d447423-c625-4fb9-8717-ff04ac60eee8","object_id":70097568378420}},{"id":1010183,"event":"call","defined_class":"EmailLogSerializer","method_id":"reply_key","path":"app/serializers/email_log_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010184,"event":"return","defined_class":"EmailLogSerializer","method_id":"reply_key","path":"app/serializers/email_log_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1010183,"elapsed":1.0e-05,"return_value":{"class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097568524760}},{"id":1010185,"event":"call","defined_class":"EmailLogSerializer","method_id":"has_bounce_key","path":"app/serializers/email_log_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097568494600,"value":"#<EmailLogSerializer:0x00007f81b956e810>"}},{"id":1010186,"event":"call","defined_class":"EmailLog","method_id":"bounce_key","path":"app/models/email_log.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLog","object_id":70097614101680,"value":"#<EmailLog:0x00007f81bec6b960>"}},{"id":1010187,"event":"return","defined_class":"EmailLog","method_id":"bounce_key","path":"app/models/email_log.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":1010186,"elapsed":5.0e-06},{"id":1010188,"event":"return","defined_class":"EmailLogSerializer","method_id":"has_bounce_key","path":"app/serializers/email_log_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":1010185,"elapsed":9.9e-05},{"id":1010189,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097568545060,"value":"#<BasicUserSerializer:0x00007f81b9587248>"}},{"id":1010190,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1010189,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010191,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097568545060,"value":"#<BasicUserSerializer:0x00007f81b9587248>"}},{"id":1010192,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097568545060,"value":"#<BasicUserSerializer:0x00007f81b9587248>"}},{"id":1010193,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010192,"elapsed":3.1e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bec6b640>","object_id":70097614101280}},{"id":1010194,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097568545060,"value":"#<BasicUserSerializer:0x00007f81b9587248>"}},{"id":1010195,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010194,"elapsed":1.4e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bec6b640>","object_id":70097614101280}},{"id":1010196,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1010191,"elapsed":0.000254,"return_value":{"class":"String","value":"Bruce Wayne","object_id":70097568560240}},{"id":1010197,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097568545060,"value":"#<BasicUserSerializer:0x00007f81b9587248>"}},{"id":1010198,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097568545060,"value":"#<BasicUserSerializer:0x00007f81b9587248>"}},{"id":1010199,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010198,"elapsed":1.3e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bec6b640>","object_id":70097614101280}},{"id":1010200,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614101280,"value":"#<User:0x00007f81bec6b640>"}},{"id":1010201,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568544920,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010202,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568544920,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010203,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568544920,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010204,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1010203,"elapsed":1.2e-05,"return_value":{"class":"String","value":"bruce1253","object_id":70097568594960}},{"id":1010205,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568594960,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010206,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568594960,"value":"bruce1253","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010207,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":1010206,"elapsed":1.3e-05,"return_value":{"class":"Integer","value":"43","object_id":87}},{"id":1010208,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":1010205,"elapsed":0.000126,"return_value":{"class":"String","value":"85f322","object_id":70097568589560}},{"id":1010209,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":1010202,"elapsed":0.000401,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097568594160}},{"id":1010210,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":1010201,"elapsed":0.000505,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097568594160}},{"id":1010211,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":1010200,"elapsed":0.000611,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097568594160}},{"id":1010212,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1010197,"elapsed":0.000808,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097568594160}},{"id":1010213,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1010166,"elapsed":0.002779,"return_value":{"class":"Array","value":"[{:id=>22, :to_address=>\"blah2@example.com\", :email_type=>\"invite\", :user_id=>1356, :created_at=>Thu","object_id":70097568494640}},{"id":1010214,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097568494640,"value":"[{:id=>22, :to_address=>\"blah2@example.com\", :email_type=>\"invite\", :user_id=>1356, :created_at=>Thu","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568480500,"value":"{:reply_keys=>{[990, 1356]=>\"2d447423-c625-4fb9-8717-ff04ac60eee8\"}}","kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010215,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1010214,"elapsed":0.000153,"return_value":{"class":"String","value":"[{\"id\":22,\"to_address\":\"blah2@example.com\",\"email_type\":\"invite\",\"user_id\":1356,\"created_at\":\"2020-0","object_id":70097568624060}},{"id":1010216,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":1010165,"elapsed":0.00329,"return_value":{"class":"String","value":"[{\"id\":22,\"to_address\":\"blah2@example.com\",\"email_type\":\"invite\",\"user_id\":1356,\"created_at\":\"2020-0","object_id":70097568624060}},{"id":1010217,"event":"return","defined_class":"Admin::EmailController","method_id":"sent","path":"app/controllers/admin/email_controller.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010154,"elapsed":0.018424,"return_value":{"class":"String","value":"[{\"id\":22,\"to_address\":\"blah2@example.com\",\"email_type\":\"invite\",\"user_id\":1356,\"created_at\":\"2020-0","object_id":70097568624060}},{"id":1010218,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010219,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1010218,"elapsed":8.0e-06},{"id":1010220,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010221,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1010220,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097568639540}},{"id":1010222,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097568189360,"value":"#<Admin::EmailController:0x00007f81b94d9760>"}},{"id":1010223,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010224,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010223,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010225,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097828351500,"value":"#<User:0x00007f81d8511c18>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097797882060,"value":"#<ActionDispatch::Request::Session:0x00007f81d4af4198>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097613019140,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bea5b008>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010226,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010227,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010228,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010227,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010229,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1010226,"elapsed":0.000111},{"id":1010230,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010231,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568277380,"value":"#<TestCurrentUserProvider:0x00007f81b9504708>"}},{"id":1010232,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010231,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d8511c18>","object_id":70097828351500}},{"id":1010233,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1010230,"elapsed":9.8e-05},{"id":1010234,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1010225,"elapsed":0.000382},{"id":1010235,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1010222,"elapsed":0.000593},{"id":1010236,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1010085,"elapsed":0.027959,"http_server_response":{"status":200}},{"id":1010237,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097568692560,"value":"#<TestCurrentUserProvider:0x00007f81b95cf2a0>"}},{"id":1010238,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1010237,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010239,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1010240,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1010239,"elapsed":5.0e-06},{"id":1010241,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1010242,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1010241,"elapsed":4.0e-06},{"id":1010243,"event":"call","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReplyKey","object_id":70097592916420,"value":"#<PostReplyKey:0x00007f81bc403388>"}},{"id":1010244,"event":"return","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010243,"elapsed":2.2e-05,"return_value":{"class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097568756080}},{"id":1010245,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799890000,"value":"#<TestCurrentUserProvider:0x00007f81d4ec88a0>"}},{"id":1010246,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097799731260,"value":"d89a5c273de3c1d1b515a1f504c464a9","kind":"req"},{"name":"opts","class":"Hash","object_id":70097799730740,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1010247,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097799731260,"value":"d89a5c273de3c1d1b515a1f504c464a9","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1010248,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1010249,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1010248,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1010250,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1010247,"elapsed":0.000113,"return_value":{"class":"String","value":"BFhGXdoU0zL91a9jtdq7chwNHeQ=","object_id":70097799748340}},{"id":1010251,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'BFhGXdoU0zL91a9jtdq7chwNHeQ=' OR\n                          prev_auth_token = 'BFhGXdoU0zL91a9jtdq7chwNHeQ=') AND rotated_at > '2020-03-29 19:01:41.927286') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010252,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010251,"elapsed":0.001178},{"id":1010253,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1010246,"elapsed":0.00436,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d4fd8740>","object_id":70097800446880}},{"id":1010254,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010255,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010254,"elapsed":0.001104},{"id":1010256,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010257,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1010256,"elapsed":1.7e-05},{"id":1010258,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799890000,"value":"#<TestCurrentUserProvider:0x00007f81d4ec88a0>"}},{"id":1010259,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1010258,"elapsed":0.000827,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010260,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010261,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1010260,"elapsed":0.000722},{"id":1010262,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097829159280,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010263,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1010262,"elapsed":4.0e-05},{"id":1010264,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010245,"elapsed":0.011142,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010265,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799890000,"value":"#<TestCurrentUserProvider:0x00007f81d4ec88a0>"}},{"id":1010266,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010265,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010267,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010268,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010267,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010269,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097588661160,"value":"#<TestCurrentUserProvider:0x00007f81bbbe5750>"}},{"id":1010270,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010269,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010271,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097588661160,"value":"#<TestCurrentUserProvider:0x00007f81bbbe5750>"}},{"id":1010272,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010271,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010273,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010274,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1010273,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010275,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010276,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010275,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1010277,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010278,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010277,"elapsed":1.2e-05},{"id":1010279,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/admin/email/sent.json?reply_key=2d447423c6254fb98717ff04ac60eee8"},"message":[{"name":"reply_key","class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097799732640},{"name":"controller","class":"String","value":"admin/email","object_id":70097794331100},{"name":"action","class":"String","value":"sent","object_id":70097712799280},{"name":"format","class":"String","value":"json","object_id":70097799890340}]},{"id":1010280,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010281,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010282,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010283,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010284,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010283,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010285,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1010282,"elapsed":0.00012,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81beaad0b0>","object_id":70097613187160}},{"id":1010286,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097613187160,"value":"#<Guardian:0x00007f81beaad0b0>"}},{"id":1010287,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1010286,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010288,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1010281,"elapsed":0.000348},{"id":1010289,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010290,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010289,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010291,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1349 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1010292,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010291,"elapsed":0.001175},{"id":1010293,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010294,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1010293,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81beaad0b0>","object_id":70097613187160}},{"id":1010295,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097569392940,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097613187160,"value":"#<Guardian:0x00007f81beaad0b0>"}},{"id":1010296,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1010295,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010297,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1010280,"elapsed":0.005536,"return_value":{"class":"Array","value":"[2]","object_id":70097569392940}},{"id":1010298,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010299,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010300,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010299,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010301,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010302,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010301,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010303,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010304,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010303,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010305,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1010298,"elapsed":0.000344,"return_value":{"class":"String","value":"email/sent","object_id":70097569424820}},{"id":1010306,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010307,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010308,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010307,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010309,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1010306,"elapsed":0.000103},{"id":1010310,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010311,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010312,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010311,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010313,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010314,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010313,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010315,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010316,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1010315,"elapsed":1.4e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1010317,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010318,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010317,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1010319,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010320,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010319,"elapsed":9.0e-06},{"id":1010321,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010322,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010321,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1010323,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1010324,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1010323,"elapsed":6.0e-06},{"id":1010325,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1010310,"elapsed":0.0007,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097569513080}},{"id":1010326,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010327,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1010326,"elapsed":7.0e-06},{"id":1010328,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010329,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010330,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010329,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010331,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1010328,"elapsed":9.5e-05},{"id":1010332,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010333,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010332,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010334,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010335,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010334,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010336,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010337,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010336,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010338,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1010339,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1010338,"elapsed":3.0e-06},{"id":1010340,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010341,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1010340,"elapsed":7.0e-06},{"id":1010342,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010343,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010342,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010344,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010345,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010344,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010346,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>"}},{"id":1010347,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010346,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010348,"event":"call","defined_class":"Admin::EmailController","method_id":"sent","path":"app/controllers/admin/email_controller.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010349,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1010350,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1010349,"elapsed":4.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097569643840}},{"id":1010351,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1010352,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1010351,"elapsed":3.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097569637860}},{"id":1010353,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"email_logs\".\"id\" AS t0_r0, \"email_logs\".\"to_address\" AS t0_r1, \"email_logs\".\"email_type\" AS t0_r2, \"email_logs\".\"user_id\" AS t0_r3, \"email_logs\".\"created_at\" AS t0_r4, \"email_logs\".\"updated_at\" AS t0_r5, \"email_logs\".\"post_id\" AS t0_r6, \"email_logs\".\"bounce_key\" AS t0_r7, \"email_logs\".\"bounced\" AS t0_r8, \"email_logs\".\"message_id\" AS t0_r9, \"users\".\"id\" AS t1_r0, \"users\".\"username\" AS t1_r1, \"users\".\"created_at\" AS t1_r2, \"users\".\"updated_at\" AS t1_r3, \"users\".\"name\" AS t1_r4, \"users\".\"seen_notification_id\" AS t1_r5, \"users\".\"last_posted_at\" AS t1_r6, \"users\".\"password_hash\" AS t1_r7, \"users\".\"salt\" AS t1_r8, \"users\".\"active\" AS t1_r9, \"users\".\"username_lower\" AS t1_r10, \"users\".\"last_seen_at\" AS t1_r11, \"users\".\"admin\" AS t1_r12, \"users\".\"last_emailed_at\" AS t1_r13, \"users\".\"trust_level\" AS t1_r14, \"users\".\"approved\" AS t1_r15, \"users\".\"approved_by_id\" AS t1_r16, \"users\".\"approved_at\" AS t1_r17, \"users\".\"previous_visit_at\" AS t1_r18, \"users\".\"suspended_at\" AS t1_r19, \"users\".\"suspended_till\" AS t1_r20, \"users\".\"date_of_birth\" AS t1_r21, \"users\".\"views\" AS t1_r22, \"users\".\"flag_level\" AS t1_r23, \"users\".\"ip_address\" AS t1_r24, \"users\".\"moderator\" AS t1_r25, \"users\".\"title\" AS t1_r26, \"users\".\"uploaded_avatar_id\" AS t1_r27, \"users\".\"locale\" AS t1_r28, \"users\".\"primary_group_id\" AS t1_r29, \"users\".\"registration_ip_address\" AS t1_r30, \"users\".\"staged\" AS t1_r31, \"users\".\"first_seen_at\" AS t1_r32, \"users\".\"silenced_till\" AS t1_r33, \"users\".\"group_locked_trust_level\" AS t1_r34, \"users\".\"manual_locked_trust_level\" AS t1_r35, \"users\".\"secure_identifier\" AS t1_r36, \"posts\".\"id\" AS t2_r0, \"posts\".\"user_id\" AS t2_r1, \"posts\".\"topic_id\" AS t2_r2, \"posts\".\"post_number\" AS t2_r3, \"posts\".\"raw\" AS t2_r4, \"posts\".\"cooked\" AS t2_r5, \"posts\".\"created_at\" AS t2_r6, \"posts\".\"updated_at\" AS t2_r7, \"posts\".\"reply_to_post_number\" AS t2_r8, \"posts\".\"reply_count\" AS t2_r9, \"posts\".\"quote_count\" AS t2_r10, \"posts\".\"deleted_at\" AS t2_r11, \"posts\".\"off_topic_count\" AS t2_r12, \"posts\".\"like_count\" AS t2_r13, \"posts\".\"incoming_link_count\" AS t2_r14, \"posts\".\"bookmark_count\" AS t2_r15, \"posts\".\"score\" AS t2_r16, \"posts\".\"reads\" AS t2_r17, \"posts\".\"post_type\" AS t2_r18, \"posts\".\"sort_order\" AS t2_r19, \"posts\".\"last_editor_id\" AS t2_r20, \"posts\".\"hidden\" AS t2_r21, \"posts\".\"hidden_reason_id\" AS t2_r22, \"posts\".\"notify_moderators_count\" AS t2_r23, \"posts\".\"spam_count\" AS t2_r24, \"posts\".\"illegal_count\" AS t2_r25, \"posts\".\"inappropriate_count\" AS t2_r26, \"posts\".\"last_version_at\" AS t2_r27, \"posts\".\"user_deleted\" AS t2_r28, \"posts\".\"reply_to_user_id\" AS t2_r29, \"posts\".\"percent_rank\" AS t2_r30, \"posts\".\"notify_user_count\" AS t2_r31, \"posts\".\"like_score\" AS t2_r32, \"posts\".\"deleted_by_id\" AS t2_r33, \"posts\".\"edit_reason\" AS t2_r34, \"posts\".\"word_count\" AS t2_r35, \"posts\".\"version\" AS t2_r36, \"posts\".\"cook_method\" AS t2_r37, \"posts\".\"wiki\" AS t2_r38, \"posts\".\"baked_at\" AS t2_r39, \"posts\".\"baked_version\" AS t2_r40, \"posts\".\"hidden_at\" AS t2_r41, \"posts\".\"self_edits\" AS t2_r42, \"posts\".\"reply_quoted\" AS t2_r43, \"posts\".\"via_email\" AS t2_r44, \"posts\".\"raw_email\" AS t2_r45, \"posts\".\"public_version\" AS t2_r46, \"posts\".\"action_code\" AS t2_r47, \"posts\".\"image_url\" AS t2_r48, \"posts\".\"locked_by_id\" AS t2_r49, \"posts\".\"image_upload_id\" AS t2_r50, \"topics\".\"id\" AS t3_r0, \"topics\".\"title\" AS t3_r1, \"topics\".\"last_posted_at\" AS t3_r2, \"topics\".\"created_at\" AS t3_r3, \"topics\".\"updated_at\" AS t3_r4, \"topics\".\"views\" AS t3_r5, \"topics\".\"posts_count\" AS t3_r6, \"topics\".\"user_id\" AS t3_r7, \"topics\".\"last_post_user_id\" AS t3_r8, \"topics\".\"reply_count\" AS t3_r9, \"topics\".\"featured_user1_id\" AS t3_r10, \"topics\".\"featured_user2_id\" AS t3_r11, \"topics\".\"featured_user3_id\" AS t3_r12, \"topics\".\"deleted_at\" AS t3_r13, \"topics\".\"highest_post_number\" AS t3_r14, \"topics\".\"image_url\" AS t3_r15, \"topics\".\"like_count\" AS t3_r16, \"topics\".\"incoming_link_count\" AS t3_r17, \"topics\".\"category_id\" AS t3_r18, \"topics\".\"visible\" AS t3_r19, \"topics\".\"moderator_posts_count\" AS t3_r20, \"topics\".\"closed\" AS t3_r21, \"topics\".\"archived\" AS t3_r22, \"topics\".\"bumped_at\" AS t3_r23, \"topics\".\"has_summary\" AS t3_r24, \"topics\".\"archetype\" AS t3_r25, \"topics\".\"featured_user4_id\" AS t3_r26, \"topics\".\"notify_moderators_count\" AS t3_r27, \"topics\".\"spam_count\" AS t3_r28, \"topics\".\"pinned_at\" AS t3_r29, \"topics\".\"score\" AS t3_r30, \"topics\".\"percent_rank\" AS t3_r31, \"topics\".\"subtype\" AS t3_r32, \"topics\".\"slug\" AS t3_r33, \"topics\".\"deleted_by_id\" AS t3_r34, \"topics\".\"participant_count\" AS t3_r35, \"topics\".\"word_count\" AS t3_r36, \"topics\".\"excerpt\" AS t3_r37, \"topics\".\"pinned_globally\" AS t3_r38, \"topics\".\"pinned_until\" AS t3_r39, \"topics\".\"fancy_title\" AS t3_r40, \"topics\".\"highest_staff_post_number\" AS t3_r41, \"topics\".\"featured_link\" AS t3_r42, \"topics\".\"reviewable_score\" AS t3_r43, \"topics\".\"image_upload_id\" AS t3_r44 FROM \"email_logs\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"email_logs\".\"user_id\" LEFT OUTER JOIN \"posts\" ON \"posts\".\"id\" = \"email_logs\".\"post_id\" AND (\"posts\".\"deleted_at\" IS NULL) LEFT OUTER JOIN \"topics\" ON \"topics\".\"id\" = \"posts\".\"topic_id\" AND (\"topics\".\"deleted_at\" IS NULL) LEFT JOIN post_reply_keys\nON post_reply_keys.post_id = email_logs.post_id\nAND post_reply_keys.user_id = email_logs.user_id WHERE (post_reply_keys.reply_key = '2d447423c6254fb98717ff04ac60eee8') ORDER BY \"email_logs\".\"created_at\" DESC LIMIT 50 OFFSET 0","database_type":"postgres","server_version":110006}},{"id":1010354,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010353,"elapsed":0.0028},{"id":1010355,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"post_reply_keys\".\"post_id\", \"post_reply_keys\".\"user_id\", reply_key::text FROM \"post_reply_keys\" WHERE ((post_id,user_id) IN ((990,1356)))","database_type":"postgres","server_version":110006}},{"id":1010356,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1010355,"elapsed":0.001211},{"id":1010357,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097589008580,"value":"[#<EmailLog id: 22, to_address: \"blah2@example.com\", email_type: \"invite\", user_id: 1356, created_at","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568374860,"value":"EmailLogSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614560840,"value":"{:reply_keys=>{[990, 1356]=>\"2d447423-c625-4fb9-8717-ff04ac60eee8\"}}","kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010358,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097589008580,"value":"[#<EmailLog id: 22, to_address: \"blah2@example.com\", email_type: \"invite\", user_id: 1356, created_at","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568374860,"value":"EmailLogSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614560840,"value":"{:reply_keys=>{[990, 1356]=>\"2d447423-c625-4fb9-8717-ff04ac60eee8\"}}","kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010359,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010360,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1010359,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81beaad0b0>","object_id":70097613187160}},{"id":1010361,"event":"call","defined_class":"EmailLogsMixin","method_id":"include_post_url?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010362,"event":"return","defined_class":"EmailLogsMixin","method_id":"include_post_url?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1010361,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010363,"event":"call","defined_class":"EmailLogsMixin","method_id":"post_url","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010364,"event":"call","defined_class":"Post","method_id":"url","path":"app/models/post.rb","lineno":556,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097589009080,"value":"#<Post:0x00007f81bbc8f570>"}},{"id":1010365,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097589008700,"value":"#<Topic:0x00007f81bbc8f278>"}},{"id":1010366,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":1010365,"elapsed":1.4e-05,"return_value":{"class":"String","value":"this-is-a-test-topic-810","object_id":70097614572640}},{"id":1010367,"event":"return","defined_class":"Post","method_id":"url","path":"app/models/post.rb","lineno":556,"static":false,"thread_id":70097708498960,"parent_id":1010364,"elapsed":0.000148,"return_value":{"class":"String","value":"/t/this-is-a-test-topic-810/1036/1","object_id":70097614571400}},{"id":1010368,"event":"return","defined_class":"EmailLogsMixin","method_id":"post_url","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1010363,"elapsed":0.000257,"return_value":{"class":"String","value":"/t/this-is-a-test-topic-810/1036/1","object_id":70097614571400}},{"id":1010369,"event":"call","defined_class":"EmailLogsMixin","method_id":"include_post_description?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010370,"event":"return","defined_class":"EmailLogsMixin","method_id":"include_post_description?","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1010369,"elapsed":1.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010371,"event":"call","defined_class":"EmailLogsMixin","method_id":"post_description","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010372,"event":"return","defined_class":"EmailLogsMixin","method_id":"post_description","path":"app/serializers/concerns/email_logs_mixin.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1010371,"elapsed":1.9e-05,"return_value":{"class":"String","value":"This is a test topic 810 #1","object_id":70097614590860}},{"id":1010373,"event":"call","defined_class":"EmailLogSerializer","method_id":"include_reply_key?","path":"app/serializers/email_log_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010374,"event":"return","defined_class":"EmailLogSerializer","method_id":"include_reply_key?","path":"app/serializers/email_log_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1010373,"elapsed":9.0e-06,"return_value":{"class":"String","value":"2d447423-c625-4fb9-8717-ff04ac60eee8","object_id":70097614560920}},{"id":1010375,"event":"call","defined_class":"EmailLogSerializer","method_id":"reply_key","path":"app/serializers/email_log_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010376,"event":"return","defined_class":"EmailLogSerializer","method_id":"reply_key","path":"app/serializers/email_log_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1010375,"elapsed":9.0e-06,"return_value":{"class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097614609580}},{"id":1010377,"event":"call","defined_class":"EmailLogSerializer","method_id":"has_bounce_key","path":"app/serializers/email_log_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLogSerializer","object_id":70097614577400,"value":"#<EmailLogSerializer:0x00007f81bed53df0>"}},{"id":1010378,"event":"call","defined_class":"EmailLog","method_id":"bounce_key","path":"app/models/email_log.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailLog","object_id":70097589010120,"value":"#<EmailLog:0x00007f81bbc8fd90>"}},{"id":1010379,"event":"return","defined_class":"EmailLog","method_id":"bounce_key","path":"app/models/email_log.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":1010378,"elapsed":5.0e-06},{"id":1010380,"event":"return","defined_class":"EmailLogSerializer","method_id":"has_bounce_key","path":"app/serializers/email_log_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":1010377,"elapsed":0.000101},{"id":1010381,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097614603940,"value":"#<BasicUserSerializer:0x00007f81bed60d48>"}},{"id":1010382,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1010381,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010383,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097614603940,"value":"#<BasicUserSerializer:0x00007f81bed60d48>"}},{"id":1010384,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097614603940,"value":"#<BasicUserSerializer:0x00007f81bed60d48>"}},{"id":1010385,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010384,"elapsed":2.5e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bbc8fa70>","object_id":70097589009720}},{"id":1010386,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097614603940,"value":"#<BasicUserSerializer:0x00007f81bed60d48>"}},{"id":1010387,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010386,"elapsed":1.3e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bbc8fa70>","object_id":70097589009720}},{"id":1010388,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1010383,"elapsed":0.000246,"return_value":{"class":"String","value":"Bruce Wayne","object_id":70097614621780}},{"id":1010389,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097614603940,"value":"#<BasicUserSerializer:0x00007f81bed60d48>"}},{"id":1010390,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicUserSerializer","object_id":70097614603940,"value":"#<BasicUserSerializer:0x00007f81bed60d48>"}},{"id":1010391,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010390,"elapsed":1.4e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bbc8fa70>","object_id":70097589009720}},{"id":1010392,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589009720,"value":"#<User:0x00007f81bbc8fa70>"}},{"id":1010393,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097614603860,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010394,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097614603860,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010395,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097614603860,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010396,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1010395,"elapsed":1.2e-05,"return_value":{"class":"String","value":"bruce1253","object_id":70097614658760}},{"id":1010397,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097614658760,"value":"bruce1253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010398,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097614658760,"value":"bruce1253","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1010399,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":1010398,"elapsed":1.0e-05,"return_value":{"class":"Integer","value":"43","object_id":87}},{"id":1010400,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":1010397,"elapsed":0.00012,"return_value":{"class":"String","value":"85f322","object_id":70097614653880}},{"id":1010401,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":1010394,"elapsed":0.000375,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097614658120}},{"id":1010402,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":1010393,"elapsed":0.000477,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097614658120}},{"id":1010403,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":1010392,"elapsed":0.000585,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097614658120}},{"id":1010404,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1010389,"elapsed":0.000785,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097614658120}},{"id":1010405,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1010358,"elapsed":0.002601,"return_value":{"class":"Array","value":"[{:id=>22, :to_address=>\"blah2@example.com\", :email_type=>\"invite\", :user_id=>1356, :created_at=>Thu","object_id":70097614577420}},{"id":1010406,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097614577420,"value":"[{:id=>22, :to_address=>\"blah2@example.com\", :email_type=>\"invite\", :user_id=>1356, :created_at=>Thu","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614560840,"value":"{:reply_keys=>{[990, 1356]=>\"2d447423-c625-4fb9-8717-ff04ac60eee8\"}}","kind":"opt"}],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010407,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1010406,"elapsed":0.00014,"return_value":{"class":"String","value":"[{\"id\":22,\"to_address\":\"blah2@example.com\",\"email_type\":\"invite\",\"user_id\":1356,\"created_at\":\"2020-0","object_id":70097614692160}},{"id":1010408,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":1010357,"elapsed":0.003133,"return_value":{"class":"String","value":"[{\"id\":22,\"to_address\":\"blah2@example.com\",\"email_type\":\"invite\",\"user_id\":1356,\"created_at\":\"2020-0","object_id":70097614692160}},{"id":1010409,"event":"return","defined_class":"Admin::EmailController","method_id":"sent","path":"app/controllers/admin/email_controller.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1010348,"elapsed":0.015859,"return_value":{"class":"String","value":"[{\"id\":22,\"to_address\":\"blah2@example.com\",\"email_type\":\"invite\",\"user_id\":1356,\"created_at\":\"2020-0","object_id":70097614692160}},{"id":1010410,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010411,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1010410,"elapsed":9.0e-06},{"id":1010412,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010413,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1010412,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097614686240}},{"id":1010414,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097588693920,"value":"#<Admin::EmailController:0x00007f81bbbf5740>"}},{"id":1010415,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010416,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010415,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010417,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097829166980,"value":"#<User:0x00007f81d869ff08>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097568788860,"value":"#<ActionDispatch::Request::Session:0x00007f81b95fe2f8>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097569393100,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81b9725398>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010418,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010419,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010420,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010419,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010421,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1010418,"elapsed":9.4e-05},{"id":1010422,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010423,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613189420,"value":"#<TestCurrentUserProvider:0x00007f81beaae258>"}},{"id":1010424,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1010423,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d869ff08>","object_id":70097829166980}},{"id":1010425,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1010422,"elapsed":9.2e-05},{"id":1010426,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1010417,"elapsed":0.000356},{"id":1010427,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1010414,"elapsed":0.00056},{"id":1010428,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1010279,"elapsed":0.025921,"http_server_response":{"status":200}},{"id":1010429,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614721340,"value":"#<TestCurrentUserProvider:0x00007f81bed9a278>"}},{"id":1010430,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1010429,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1010431,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1010432,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1010431,"elapsed":6.0e-06},{"id":1010433,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1010434,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1010433,"elapsed":4.0e-06},{"id":1010435,"event":"call","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReplyKey","object_id":70097592916420,"value":"#<PostReplyKey:0x00007f81bc403388>"}},{"id":1010436,"event":"return","defined_class":"PostReplyKey","method_id":"reply_key","path":"app/models/post_reply_key.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1010435,"elapsed":1.1e-05,"return_value":{"class":"String","value":"2d447423c6254fb98717ff04ac60eee8","object_id":70097614774020}}]}