{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"TopicsController shared drafts #publish as staff will publish the topic","app":"Discourse","feature":"TopicsController shared drafts","feature_group":"Topics","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"has_trust_level?","type":"function","location":"app/models/user.rb:907","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true},{"name":"notification_reasons","type":"function","location":"app/models/topic_user.rb:33","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false},{"name":"custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:173","static":false},{"name":"reload","type":"function","location":"app/models/concerns/has_custom_fields.rb:140","static":false},{"name":"clear_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:153","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true},{"name":"enqueue_post_hooks","type":"function","location":"app/models/web_hook.rb:87","static":true},{"name":"enqueue_topic_hooks","type":"function","location":"app/models/web_hook.rb:71","static":true}]},{"name":"Category","type":"class","children":[{"name":"parent_category_validator","type":"function","location":"app/models/category.rb:444","static":false},{"name":"email_in_validator","type":"function","location":"app/models/category.rb:628","static":false},{"name":"ensure_slug","type":"function","location":"app/models/category.rb:337","static":false},{"name":"duplicate_slug?","type":"function","location":"app/models/category.rb:333","static":false},{"name":"permissions_compatibility_validator","type":"function","location":"app/models/category.rb:813","static":false},{"name":"apply_permissions","type":"function","location":"app/models/category.rb:494","static":false},{"name":"downcase_email","type":"function","location":"app/models/category.rb:624","static":false},{"name":"downcase_name","type":"function","location":"app/models/category.rb:643","static":false},{"name":"create_category_definition","type":"function","location":"app/models/category.rb:279","static":false},{"name":"delete_category_permalink","type":"function","location":"app/models/category.rb:754","static":false},{"name":"slug_path","type":"function","location":"app/models/category.rb:867","static":false},{"name":"slug_for_url","type":"function","location":"app/models/category.rb:366","static":false},{"name":"publish_discourse_stylesheet","type":"function","location":"app/models/category.rb:759","static":false},{"name":"publish_category","type":"function","location":"app/models/category.rb:370","static":false},{"name":"uncategorized?","type":"function","location":"app/models/category.rb:699","static":false},{"name":"description_text","type":"function","location":"app/models/category.rb:305","static":false},{"name":"description_excerpt","type":"function","location":"app/models/category.rb:315","static":false},{"name":"topic_url","type":"function","location":"app/models/category.rb:297","static":false},{"name":"reset_topic_ids_cache","type":"function","location":"app/models/category.rb:154","static":false},{"name":"clear_subcategory_ids","type":"function","location":"app/models/category.rb:186","static":false},{"name":"clear_url_cache","type":"function","location":"app/models/category.rb:719","static":false},{"name":"index_search","type":"function","location":"app/models/category.rb:763","static":false},{"name":"update_reviewables","type":"function","location":"app/models/category.rb:767","static":false},{"name":"trigger_category_created_event","type":"function","location":"app/models/category.rb:807","static":false},{"name":"secure_group_ids","type":"function","location":"app/models/category.rb:651","static":false}]},{"name":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","type":"class","children":[{"name":"find_by_url","type":"function","location":"app/models/permalink.rb:71","static":true}]},{"name":"Permalink","type":"class","children":[{"name":"Normalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/models/permalink.rb:48","static":false}]}]},{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"default_notification_level","type":"function","location":"app/models/category_user.rb:200","static":true},{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true},{"name":"auto_watch","type":"function","location":"app/models/category_user.rb:128","static":true},{"name":"auto_track","type":"function","location":"app/models/category_user.rb:93","static":true}]},{"name":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","type":"class","children":[{"name":"permission_types","type":"function","location":"app/models/category_group.rb:9","static":true}]},{"name":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","type":"class","children":[{"name":"[]","type":"function","location":"app/models/group.rb:515","static":true},{"name":"lookup_group","type":"function","location":"app/models/group.rb:525","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]},{"name":"trashed?","type":"function","location":"app/models/concerns/trashable.rb:32","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"Topic","type":"class","children":[{"name":"private_message?","type":"function","location":"app/models/topic.rb:551","static":false},{"name":"pm_with_non_human_user?","type":"function","location":"app/models/topic.rb:1486","static":false},{"name":"title=","type":"function","location":"app/models/topic.rb:1124","static":false},{"name":"ensure_topic_has_a_category","type":"function","location":"app/models/topic.rb:375","static":false},{"name":"draft_key","type":"function","location":"app/models/topic.rb:1191","static":false},{"name":"acting_user=","type":"function","location":"app/models/topic.rb:1304","static":false},{"name":"change_category_to_id","type":"function","location":"app/models/topic.rb:869","static":false},{"name":"changed_to_category","type":"function","location":"app/models/topic.rb:784","static":false},{"name":"inherit_auto_close_from_category","type":"function","location":"app/models/topic.rb:348","static":false},{"name":"regular?","type":"function","location":"app/models/topic.rb:555","static":false},{"name":"update_excerpt","type":"function","location":"app/models/topic.rb:1479","static":false},{"name":"secure_group_ids","type":"function","location":"app/models/topic.rb:1308","static":false},{"name":"reload","type":"function","location":"app/models/topic.rb:528","static":false},{"name":"fancy_title","type":"function","location":"app/models/topic.rb:438","static":false},{"name":"slug","type":"function","location":"app/models/topic.rb:1101","static":false}]},{"name":"Post","type":"class","children":[{"name":"is_first_post?","type":"function","location":"app/models/post.rb:480","static":false},{"name":"acting_user","type":"function","location":"app/models/post.rb:324","static":false},{"name":"raw_mentions","type":"function","location":"app/models/post.rb:271","static":false},{"name":"post_analyzer","type":"function","location":"app/models/post.rb:259","static":false},{"name":"raw_hash","type":"function","location":"app/models/post.rb:250","static":false},{"name":"link_count","type":"function","location":"app/models/post.rb:271","static":false},{"name":"has_oneboxes?","type":"function","location":"app/models/post.rb:271","static":false},{"name":"index_search","type":"function","location":"app/models/post.rb:891","static":false},{"name":"advance_draft_sequence","type":"function","location":"app/models/post.rb:715","static":false},{"name":"acting_user=","type":"function","location":"app/models/post.rb:328","static":false},{"name":"extract_quoted_post_numbers","type":"function","location":"app/models/post.rb:722","static":false},{"name":"save_reply_relationships","type":"function","location":"app/models/post.rb:739","static":false},{"name":"whisper?","type":"function","location":"app/models/post.rb:162","static":false},{"name":"excerpt_for_topic","type":"function","location":"app/models/post.rb:476","static":false},{"name":"trigger_post_process","type":"function","location":"app/models/post.rb:751","static":false},{"name":"publish_change_to_clients!","type":"function","location":"app/models/post.rb:181","static":false},{"name":"publish_message!","type":"function","location":"app/models/post.rb:199","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"first_post_length","type":"function","location":"app/models/site_setting.rb:48","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true}]},{"name":"PostAnalyzer","type":"class","children":[{"name":"raw_mentions","type":"function","location":"app/models/post_analyzer.rb:66","static":false},{"name":"cooked_stripped","type":"function","location":"app/models/post_analyzer.rb:132","static":false},{"name":"cook","type":"function","location":"app/models/post_analyzer.rb:24","static":false},{"name":"link_count","type":"function","location":"app/models/post_analyzer.rb:128","static":false},{"name":"raw_links","type":"function","location":"app/models/post_analyzer.rb:113","static":false},{"name":"has_oneboxes?","type":"function","location":"app/models/post_analyzer.rb:16","static":false},{"name":"found_oneboxes?","type":"function","location":"app/models/post_analyzer.rb:12","static":false}]},{"name":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","type":"class","children":[{"name":"cook_methods","type":"function","location":"app/models/post.rb:146","static":true},{"name":"types","type":"function","location":"app/models/post.rb:139","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true},{"name":"unicode_unescape","type":"function","location":"app/models/emoji.rb:185","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","type":"class","children":[{"name":"next!","type":"function","location":"app/models/draft_sequence.rb:4","static":true}]},{"name":"PostRevision","type":"class","children":[{"name":"create_notification","type":"function","location":"app/models/post_revision.rb:39","static":false}]},{"name":"TopicTrackingState","type":"class","children":[{"name":"publish_muted","type":"function","location":"app/models/topic_tracking_state.rb:75","static":true},{"name":"publish_latest","type":"function","location":"app/models/topic_tracking_state.rb:48","static":true}]},{"name":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"extract_from","type":"function","location":"app/models/quoted_post.rb:10","static":true}]},{"name":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","type":"class","children":[{"name":"visible_post_types","type":"function","location":"app/models/topic.rb:381","static":true},{"name":"max_fancy_title_length","type":"function","location":"app/models/topic.rb:27","static":true}]},{"name":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","type":"class","children":[{"name":"extract_from","type":"function","location":"app/models/topic_link.rb:110","static":true},{"name":"cleanup_entries","type":"function","location":"app/models/topic_link.rb:346","static":true}]},{"name":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","type":"class","children":[{"name":"actions","type":"function","location":"app/models/user_history.rb:20","static":true},{"name":"admin_only_action_ids","type":"function","location":"app/models/user_history.rb:198","static":true}]},{"name":"UserHistory","type":"class","children":[{"name":"set_admin_only","type":"function","location":"app/models/user_history.rb:250","static":false}]},{"name":"AdminDashboardData","type":"class","children":[{"name":"add_problem_check","type":"function","location":"app/models/admin_dashboard_data.rb:33","static":true},{"name":"stats_cache_key","type":"function","location":"app/models/admin_dashboard_data.rb:29","static":true}]},{"name":"Report","type":"class","children":[{"name":"add_report","type":"function","location":"app/models/report.rb:158","static":true}]},{"name":"About","type":"class","children":[{"name":"stats_cache_key","type":"function","location":"app/models/about.rb:20","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]},{"name":"PostValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/post_validator.rb:5","static":false},{"name":"presence","type":"function","location":"lib/validators/post_validator.rb:21","static":false},{"name":"post_body_validator","type":"function","location":"lib/validators/post_validator.rb:31","static":false},{"name":"stripped_length","type":"function","location":"lib/validators/post_validator.rb:38","static":false},{"name":"raw_quality","type":"function","location":"lib/validators/post_validator.rb:53","static":false},{"name":"max_posts_validator","type":"function","location":"lib/validators/post_validator.rb:69","static":false},{"name":"max_mention_validator","type":"function","location":"lib/validators/post_validator.rb:59","static":false},{"name":"max_images_validator","type":"function","location":"lib/validators/post_validator.rb:76","static":false},{"name":"max_attachments_validator","type":"function","location":"lib/validators/post_validator.rb:99","static":false},{"name":"can_post_links_validator","type":"function","location":"lib/validators/post_validator.rb:104","static":false},{"name":"newuser_links_validator","type":"function","location":"lib/validators/post_validator.rb:118","static":false},{"name":"unique_post_validator","type":"function","location":"lib/validators/post_validator.rb:124","static":false},{"name":"force_edit_last_validator","type":"function","location":"lib/validators/post_validator.rb:137","static":false}]},{"name":"StrippedLengthValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/stripped_length_validator.rb:4","static":true}]},{"name":"WatchedWordsValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/watched_words_validator.rb:4","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true},{"name":"queue_post_reindex","type":"function","location":"app/services/search_indexer.rb:114","static":true}]},{"name":"TopicTimestampChanger","type":"class","children":[{"name":"change!","type":"function","location":"app/services/topic_timestamp_changer.rb:17","static":false}]},{"name":"WordWatcher","type":"class","children":[{"name":"should_block?","type":"function","location":"app/services/word_watcher.rb:73","static":false},{"name":"word_matches_for_action?","type":"function","location":"app/services/word_watcher.rb:77","static":false},{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"PostActionNotifier","type":"class","children":[{"name":"after_create_post_revision","type":"function","location":"app/services/post_action_notifier.rb:91","static":true}]},{"name":"StaffActionLogger","type":"class","children":[{"name":"log_topic_published","type":"function","location":"app/services/staff_action_logger.rb:116","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicCategorySerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/basic_category_serializer.rb:42","static":false},{"name":"description","type":"function","location":"app/serializers/basic_category_serializer.rb:50","static":false},{"name":"description_text","type":"function","location":"app/serializers/basic_category_serializer.rb:46","static":false},{"name":"description_excerpt","type":"function","location":"app/serializers/basic_category_serializer.rb:54","static":false},{"name":"include_parent_category_id?","type":"function","location":"app/serializers/basic_category_serializer.rb:38","static":false},{"name":"include_can_edit?","type":"function","location":"app/serializers/basic_category_serializer.rb:62","static":false}]},{"name":"CategorySerializer","type":"class","children":[{"name":"notification_level","type":"function","location":"app/serializers/category_serializer.rb:84","static":false},{"name":"include_custom_fields?","type":"function","location":"app/serializers/category_serializer.rb:95","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/category_serializer.rb:91","static":false},{"name":"available_groups","type":"function","location":"app/serializers/category_serializer.rb:47","static":false},{"name":"group_permissions","type":"function","location":"app/serializers/category_serializer.rb:32","static":false},{"name":"include_email_in?","type":"function","location":"app/serializers/category_serializer.rb:76","static":false},{"name":"include_email_in_allow_strangers?","type":"function","location":"app/serializers/category_serializer.rb:80","static":false},{"name":"include_can_delete?","type":"function","location":"app/serializers/category_serializer.rb:64","static":false},{"name":"cannot_delete_reason","type":"function","location":"app/serializers/category_serializer.rb:68","static":false},{"name":"include_is_special?","type":"function","location":"app/serializers/category_serializer.rb:55","static":false},{"name":"include_reviewable_by_group_name?","type":"function","location":"app/serializers/category_serializer.rb:28","static":false}]},{"name":"SiteCategorySerializer","type":"class","children":[{"name":"include_allowed_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:12","static":false},{"name":"include_allowed_tag_groups?","type":"function","location":"app/serializers/site_category_serializer.rb:20","static":false},{"name":"include_allow_global_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:28","static":false},{"name":"required_tag_group_name","type":"function","location":"app/serializers/site_category_serializer.rb:32","static":false}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"TopicsController","type":"class","children":[{"name":"publish","type":"function","location":"app/controllers/topics_controller.rb:163","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"can_see?","type":"function","location":"lib/guardian.rb:122","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_publish_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:33","static":false},{"name":"can_see_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:146","static":false},{"name":"can_create_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:38","static":false},{"name":"can_move_topic_to_category?","type":"function","location":"lib/guardian/topic_guardian.rb:54","static":false}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"can_see_category?","type":"function","location":"lib/guardian/category_guardian.rb:49","static":false}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]}],"events":[{"id":200803,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200804,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":200803,"elapsed":6.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":200805,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097613085560,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200806,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":200805,"elapsed":0.000153,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81bea782e8>","object_id":70097613078900}},{"id":200807,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":200808,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200807,"elapsed":0.000615},{"id":200809,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200810,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":200809,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200811,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200812,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":200813,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097613801060,"value":"#<UsernameValidator:0x00007f81bebd8cc8>"}},{"id":200814,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":200815,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":200814,"elapsed":7.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097613823200}},{"id":200816,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":200817,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":200816,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097613821440}},{"id":200818,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":200819,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":200818,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":200820,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":200821,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":200820,"elapsed":4.0e-06},{"id":200822,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":200813,"elapsed":0.000409,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200823,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":200812,"elapsed":0.000516},{"id":200824,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":200811,"elapsed":0.00062},{"id":200825,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613803740,"value":"bruce222","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":200826,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":200825,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce222","object_id":70097613837840}},{"id":200827,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097613803740,"value":"bruce222","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200828,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":200827,"elapsed":9.0e-06},{"id":200829,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097613833380,"value":"bruce222","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200830,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":200829,"elapsed":5.0e-06},{"id":200831,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200832,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097613853320,"value":"#<PasswordValidator:0x00007f81bebf2510>"}},{"id":200833,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200834,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200835,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":200834,"elapsed":4.0e-06},{"id":200836,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":200833,"elapsed":9.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200837,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200838,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":200837,"elapsed":1.1e-05,"return_value":{"class":"String","value":"bruce222@wayne.com","object_id":70097613868820}},{"id":200839,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200840,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":200839,"elapsed":6.0e-06,"return_value":{"class":"String","value":"bruce222@wayne.com","object_id":70097613868820}},{"id":200841,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200842,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":200841,"elapsed":5.0e-06},{"id":200843,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":200832,"elapsed":0.001928},{"id":200844,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":200831,"elapsed":0.002065},{"id":200845,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":200846,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":200845,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":200847,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097613882260,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200848,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":200847,"elapsed":5.0e-06},{"id":200849,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097613904040,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200850,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":200849,"elapsed":5.0e-06},{"id":200851,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097613870360,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":200852,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":200851,"elapsed":6.0e-06},{"id":200853,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097613897860,"value":"99.232.23.234","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":200854,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097613897860,"value":"99.232.23.234","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":200855,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097613897860,"value":"99.232.23.234","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":200856,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097613897860,"value":"99.232.23.234","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":200857,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.234' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200858,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200857,"elapsed":0.000893},{"id":200859,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":200856,"elapsed":0.004131},{"id":200860,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":200855,"elapsed":0.004274},{"id":200861,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":200854,"elapsed":0.00438},{"id":200862,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":200853,"elapsed":0.004495},{"id":200863,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097613078900,"value":"#<UserEmail:0x00007f81bea782e8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097608719520,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":200864,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608719520,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":200865,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097608719520,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":200866,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":200865,"elapsed":4.9e-05},{"id":200867,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":200864,"elapsed":0.000171,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200868,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608719520,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":200869,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608719520,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":200870,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":200869,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce222@wayne.com","object_id":70097608734980}},{"id":200871,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":200872,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200871,"elapsed":0.001242},{"id":200873,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":200868,"elapsed":0.005048},{"id":200874,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":200863,"elapsed":0.005484},{"id":200875,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce222@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200876,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200875,"elapsed":0.00129},{"id":200877,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":200878,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":200877,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":200879,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce222', '2020-05-28 18:51:36.483256', '2020-05-28 18:51:36.483256', 'Bruce Wayne', 'f4ba1dc2c4e461235da9e12c3c21a6220374b30d1fc45afc8b714c896c429b90', '4390505e7f887b46577ed1a0f8948c96', TRUE, 'bruce222', 1, '99.232.23.234/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":200880,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200879,"elapsed":0.001427},{"id":200881,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097613078900,"value":"#<UserEmail:0x00007f81bea782e8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097569121820,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":200882,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097569121820,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":200883,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097569121820,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":200884,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":200883,"elapsed":3.7e-05},{"id":200885,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":200882,"elapsed":0.000233,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200886,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097569121820,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":200887,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097569121820,"value":"bruce222@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":200888,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":200887,"elapsed":1.0e-05,"return_value":{"class":"String","value":"bruce222@wayne.com","object_id":70097569166100}},{"id":200889,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":200890,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200889,"elapsed":0.001201},{"id":200891,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":200886,"elapsed":0.005192},{"id":200892,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":200881,"elapsed":0.005703},{"id":200893,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200894,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200893,"elapsed":0.00108},{"id":200895,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce222@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200896,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200895,"elapsed":0.001044},{"id":200897,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (239, 'bruce222@wayne.com', TRUE, '2020-05-28 18:51:36.503365', '2020-05-28 18:51:36.503365') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":200898,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200897,"elapsed":0.001079},{"id":200899,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200900,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":200899,"elapsed":2.1e-05,"return_value":{"class":"String","value":"bruce222@wayne.com","object_id":70097615352000}},{"id":200901,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":200902,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":200903,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":200902,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":200904,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":200901,"elapsed":0.00016,"return_value":{"class":"String","value":"976bc34662d88d2caf0a38638f60126d","object_id":70097615367960}},{"id":200905,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (239, 'bruce222@wayne.com', '976bc34662d88d2caf0a38638f60126d', '2020-05-28 18:51:36.509176', '2020-05-28 18:51:36.509176') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":200906,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200905,"elapsed":0.001242},{"id":200907,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 239 AND (id != 435)","database_type":"postgres","server_version":110006}},{"id":200908,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200907,"elapsed":0.00103},{"id":200909,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (239, '2020-05-28 18:51:36.518862') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":200910,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200909,"elapsed":0.000876},{"id":200911,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200912,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200911,"elapsed":0.002107},{"id":200913,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097711996020,"value":"{:user=>#<User id: 239, username: \"bruce222\", created_at: \"2020-05-28 18:51:36\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":200914,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":200913,"elapsed":1.3e-05},{"id":200915,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097719892520,"value":"#<UserOption:0x00007f81cb633450>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":200916,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":200915,"elapsed":5.0e-06},{"id":200917,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097719892520,"value":"#<UserOption:0x00007f81cb633450>"}},{"id":200918,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097719892520,"value":"#<UserOption:0x00007f81cb633450>"}},{"id":200919,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":200920,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":200919,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":200921,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":200918,"elapsed":0.000147,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":200922,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097719892520,"value":"#<UserOption:0x00007f81cb633450>"}},{"id":200923,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":200924,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":200923,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":200925,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":200922,"elapsed":0.000131,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":200926,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":200917,"elapsed":0.000598,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200927,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (239, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":200928,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200927,"elapsed":0.002087},{"id":200929,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097800679020,"value":"#<TrackedTopicsUpdater:0x00007f81d5049cd8>"}},{"id":200930,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":200931,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":200930,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":200932,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":200933,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":200932,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":200934,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 239","database_type":"postgres","server_version":110006}},{"id":200935,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200934,"elapsed":0.001167},{"id":200936,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":200929,"elapsed":0.005677,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":200937,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200938,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200939,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200938,"elapsed":0.001142},{"id":200940,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (239) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":200941,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200940,"elapsed":0.001238},{"id":200942,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097732958960,"value":"{:user=>#<UserProfile user_id: 239, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":200943,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":200942,"elapsed":1.2e-05},{"id":200944,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":200937,"elapsed":0.012226,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81ccd86d78>","object_id":70097732122300}},{"id":200945,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200946,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":200945,"elapsed":8.0e-06},{"id":200947,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":200948,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200947,"elapsed":0.001109},{"id":200949,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":200950,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200949,"elapsed":0.000905},{"id":200951,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":200952,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200951,"elapsed":0.001218},{"id":200953,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":200954,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200953,"elapsed":0.001172},{"id":200955,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200956,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200957,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":200956,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":200958,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":200955,"elapsed":0.000134},{"id":200959,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 239","database_type":"postgres","server_version":110006}},{"id":200960,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200959,"elapsed":0.000976},{"id":200961,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>"}},{"id":200962,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200963,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200962,"elapsed":0.001465},{"id":200964,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (239, '2020-05-28 18:51:36.625847', '2020-05-28 18:51:36.625847') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":200965,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200964,"elapsed":0.001375},{"id":200966,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":200961,"elapsed":0.011421},{"id":200967,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097587409600,"value":"{:user=>#<User id: 239, username: \"bruce222\", created_at: \"2020-05-28 18:51:36\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":200968,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":200967,"elapsed":8.0e-06},{"id":200969,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":200970,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":200969,"elapsed":4.0e-06},{"id":200971,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":200972,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200971,"elapsed":0.000955},{"id":200973,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097613084400,"value":"#<User:0x00007f81bea7ade0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":200974,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":200975,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":200974,"elapsed":0.00025,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81b90bf828>","object_id":70097566039060}},{"id":200976,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200977,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200976,"elapsed":0.001625},{"id":200978,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":200973,"elapsed":0.005898},{"id":200979,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":200980,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200979,"elapsed":0.000978},{"id":200981,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE LOWER(\"categories\".\"name\") = LOWER('Amazing Category 51') AND \"categories\".\"parent_category_id\" IS NULL LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200982,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200981,"elapsed":0.001075},{"id":200983,"event":"call","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":200984,"event":"return","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70097708498960,"parent_id":200983,"elapsed":8.0e-06},{"id":200985,"event":"call","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":200986,"event":"return","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70097708498960,"parent_id":200985,"elapsed":9.0e-06},{"id":200987,"event":"call","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":200988,"event":"call","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":200989,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE \"categories\".\"slug\" = 'amazing-category-51' AND \"categories\".\"parent_category_id\" IS NULL AND \"categories\".\"id\" IS NOT NULL LIMIT 1","database_type":"postgres","server_version":110006}},{"id":200990,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200989,"elapsed":0.001047},{"id":200991,"event":"return","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70097708498960,"parent_id":200988,"elapsed":0.004222},{"id":200992,"event":"return","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70097708498960,"parent_id":200987,"elapsed":0.004493},{"id":200993,"event":"call","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":200994,"event":"return","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70097708498960,"parent_id":200993,"elapsed":5.0e-06},{"id":200995,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"categories\"","database_type":"postgres","server_version":110006}},{"id":200996,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":200995,"elapsed":0.001286},{"id":200997,"event":"call","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":200998,"event":"return","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70097708498960,"parent_id":200997,"elapsed":6.0e-06},{"id":200999,"event":"call","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201000,"event":"return","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70097708498960,"parent_id":200999,"elapsed":1.5e-05},{"id":201001,"event":"call","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201002,"event":"return","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70097708498960,"parent_id":201001,"elapsed":1.3e-05,"return_value":{"class":"String","value":"amazing category 51","object_id":70097733249120}},{"id":201003,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"categories\" (\"name\", \"created_at\", \"updated_at\", \"user_id\", \"slug\", \"position\", \"name_lower\") VALUES ('Amazing Category 51', '2020-05-28 18:51:36.660612', '2020-05-28 18:51:36.660612', 239, 'amazing-category-51', 2, 'amazing category 51') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":201004,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201003,"elapsed":0.001558},{"id":201005,"event":"call","defined_class":"Category","method_id":"create_category_definition","path":"app/models/category.rb","lineno":279,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201006,"event":"return","defined_class":"Category","method_id":"create_category_definition","path":"app/models/category.rb","lineno":279,"static":false,"thread_id":70097708498960,"parent_id":201005,"elapsed":5.0e-06},{"id":201007,"event":"call","defined_class":"Category","method_id":"delete_category_permalink","path":"app/models/category.rb","lineno":754,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201008,"event":"call","defined_class":"Category","method_id":"slug_path","path":"app/models/category.rb","lineno":867,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201009,"event":"call","defined_class":"Category","method_id":"slug_for_url","path":"app/models/category.rb","lineno":366,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201010,"event":"return","defined_class":"Category","method_id":"slug_for_url","path":"app/models/category.rb","lineno":366,"static":false,"thread_id":70097708498960,"parent_id":201009,"elapsed":1.0e-05,"return_value":{"class":"String","value":"amazing-category-51","object_id":70097612063780}},{"id":201011,"event":"return","defined_class":"Category","method_id":"slug_path","path":"app/models/category.rb","lineno":867,"static":false,"thread_id":70097708498960,"parent_id":201008,"elapsed":0.00012,"return_value":{"class":"Array","value":"[\"amazing-category-51\"]","object_id":70097612063220}},{"id":201012,"event":"call","defined_class":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","method_id":"find_by_url","path":"app/models/permalink.rb","lineno":71,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097612046180,"value":"c/amazing-category-51","kind":"req"}],"receiver":{"class":"Class","object_id":70097795942780,"value":"Permalink"}},{"id":201013,"event":"call","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097612045040,"value":"c/amazing-category-51","kind":"req"}],"receiver":{"class":"Permalink::Normalizer","object_id":70097796075480,"value":"#<Permalink::Normalizer:0x00007f81d4781fb0>"}},{"id":201014,"event":"return","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":201013,"elapsed":4.0e-06,"return_value":{"class":"String","value":"c/amazing-category-51","object_id":70097612045040}},{"id":201015,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"permalinks\".* FROM \"permalinks\" WHERE \"permalinks\".\"url\" = 'c/amazing-category-51' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201016,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201015,"elapsed":0.001178},{"id":201017,"event":"return","defined_class":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","method_id":"find_by_url","path":"app/models/permalink.rb","lineno":71,"static":true,"thread_id":70097708498960,"parent_id":201012,"elapsed":0.004145},{"id":201018,"event":"return","defined_class":"Category","method_id":"delete_category_permalink","path":"app/models/category.rb","lineno":754,"static":false,"thread_id":70097708498960,"parent_id":201007,"elapsed":0.004529},{"id":201019,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201020,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201021,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":201020,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201022,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":201019,"elapsed":0.000117},{"id":201023,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":201024,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":201023,"elapsed":0.000168,"return_value":{"class":"Integer","value":"2249","object_id":4499}},{"id":201025,"event":"call","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201026,"event":"return","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70097708498960,"parent_id":201025,"elapsed":8.1e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097733017680}},{"id":201027,"event":"call","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201028,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201029,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201030,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":201029,"elapsed":1.0e-05},{"id":201031,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":201028,"elapsed":0.000123,"return_value":{"class":"String","value":"Amazing Category 51","object_id":70097799132120}},{"id":201032,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201033,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201034,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":201033,"elapsed":7.0e-06},{"id":201035,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":201032,"elapsed":0.000112},{"id":201036,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201037,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201038,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":201037,"elapsed":6.0e-06},{"id":201039,"event":"call","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201040,"event":"return","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70097708498960,"parent_id":201039,"elapsed":5.0e-06},{"id":201041,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":201036,"elapsed":0.00021},{"id":201042,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201043,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201044,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":201043,"elapsed":6.0e-06},{"id":201045,"event":"call","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201046,"event":"return","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70097708498960,"parent_id":201045,"elapsed":5.0e-06},{"id":201047,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":201042,"elapsed":0.000205},{"id":201048,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201049,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parent_id":201048,"elapsed":3.1e-05},{"id":201050,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201051,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":201050,"elapsed":7.0e-06},{"id":201052,"event":"call","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201053,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201054,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201055,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":201054,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":201056,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":201053,"elapsed":0.000124,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":201057,"event":"return","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":201052,"elapsed":0.000238,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":201058,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201059,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":201058,"elapsed":4.0e-06},{"id":201060,"event":"call","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201061,"event":"return","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70097708498960,"parent_id":201060,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201062,"event":"call","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201063,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201064,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_custom_fields\".\"name\", \"category_custom_fields\".\"value\" FROM \"category_custom_fields\" WHERE \"category_custom_fields\".\"category_id\" = 65 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":201065,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201064,"elapsed":0.0014},{"id":201066,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":201063,"elapsed":0.004712,"return_value":{"class":"Hash","value":"{}","object_id":70097607785640}},{"id":201067,"event":"return","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":201062,"elapsed":0.004866,"return_value":{"class":"Hash","value":"{}","object_id":70097607785640}},{"id":201068,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201069,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":201068,"elapsed":8.0e-06},{"id":201070,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201071,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":201070,"elapsed":5.0e-06},{"id":201072,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201073,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":201072,"elapsed":5.0e-06},{"id":201074,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201075,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":201074,"elapsed":3.0e-05},{"id":201076,"event":"call","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201077,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"name\" FROM \"groups\" ORDER BY \"groups\".\"name\" ASC","database_type":"postgres","server_version":110006}},{"id":201078,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201077,"elapsed":0.001326},{"id":201079,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201080,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_groups\".\"id\" AS t0_r0, \"category_groups\".\"category_id\" AS t0_r1, \"category_groups\".\"group_id\" AS t0_r2, \"category_groups\".\"created_at\" AS t0_r3, \"category_groups\".\"updated_at\" AS t0_r4, \"category_groups\".\"permission_type\" AS t0_r5, \"groups\".\"id\" AS t1_r0, \"groups\".\"name\" AS t1_r1, \"groups\".\"created_at\" AS t1_r2, \"groups\".\"updated_at\" AS t1_r3, \"groups\".\"automatic\" AS t1_r4, \"groups\".\"user_count\" AS t1_r5, \"groups\".\"automatic_membership_email_domains\" AS t1_r6, \"groups\".\"primary_group\" AS t1_r7, \"groups\".\"title\" AS t1_r8, \"groups\".\"grant_trust_level\" AS t1_r9, \"groups\".\"incoming_email\" AS t1_r10, \"groups\".\"has_messages\" AS t1_r11, \"groups\".\"flair_bg_color\" AS t1_r12, \"groups\".\"flair_color\" AS t1_r13, \"groups\".\"bio_raw\" AS t1_r14, \"groups\".\"bio_cooked\" AS t1_r15, \"groups\".\"allow_membership_requests\" AS t1_r16, \"groups\".\"full_name\" AS t1_r17, \"groups\".\"default_notification_level\" AS t1_r18, \"groups\".\"visibility_level\" AS t1_r19, \"groups\".\"public_exit\" AS t1_r20, \"groups\".\"public_admission\" AS t1_r21, \"groups\".\"membership_request_template\" AS t1_r22, \"groups\".\"messageable_level\" AS t1_r23, \"groups\".\"mentionable_level\" AS t1_r24, \"groups\".\"publish_read_state\" AS t1_r25, \"groups\".\"members_visibility_level\" AS t1_r26, \"groups\".\"flair_icon\" AS t1_r27, \"groups\".\"flair_upload_id\" AS t1_r28 FROM \"category_groups\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"category_groups\".\"group_id\" WHERE \"category_groups\".\"category_id\" = 65 ORDER BY groups.name","database_type":"postgres","server_version":110006}},{"id":201081,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201080,"elapsed":0.001465},{"id":201082,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795899800,"value":"CategoryGroup"}},{"id":201083,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":201082,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70097796292820}},{"id":201084,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":201085,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"Symbol","object_id":13353948,"value":"everyone","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":201086,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 0 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201087,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201086,"elapsed":0.001509},{"id":201088,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70097708498960,"parent_id":201085,"elapsed":0.004846,"return_value":{"class":"Group","value":"#<Group:0x00007f81d4e0dc80>","object_id":70097799507520}},{"id":201089,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70097708498960,"parent_id":201084,"elapsed":0.005011,"return_value":{"class":"Group","value":"#<Group:0x00007f81d4e0dc80>","object_id":70097799507520}},{"id":201090,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":201079,"elapsed":0.01071,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"everyone\"}]","object_id":70097827841860}},{"id":201091,"event":"return","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":201076,"elapsed":0.014997,"return_value":{"class":"Array","value":"[\"admins\", \"moderators\", \"staff\", \"trust_level_0\", \"trust_level_1\", \"trust_level_2\", \"trust_level_3\"","object_id":70097799505160}},{"id":201092,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201093,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":201092,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"everyone\"}]","object_id":70097827841860}},{"id":201094,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201095,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":201094,"elapsed":3.0e-06},{"id":201096,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201097,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":201096,"elapsed":4.0e-06},{"id":201098,"event":"call","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201099,"event":"return","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":201098,"elapsed":3.0e-06},{"id":201100,"event":"call","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201101,"event":"return","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":201100,"elapsed":3.0e-06},{"id":201102,"event":"call","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201103,"event":"return","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70097708498960,"parent_id":201102,"elapsed":1.2e-05},{"id":201104,"event":"call","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70097799112140,"value":"#<CategorySerializer:0x00007f81d4d4cb98>"}},{"id":201105,"event":"return","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":201104,"elapsed":6.0e-06},{"id":201106,"event":"return","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70097708498960,"parent_id":201027,"elapsed":0.023485,"return_value":{"class":"Integer","value":"2251","object_id":4503}},{"id":201107,"event":"call","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201108,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"topic_id\" FROM \"categories\"","database_type":"postgres","server_version":110006}},{"id":201109,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201108,"elapsed":0.001407},{"id":201110,"event":"return","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":201107,"elapsed":0.004151,"return_value":{"class":"Set","value":"#<Set: {}>","object_id":70097828551940}},{"id":201111,"event":"call","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201112,"event":"return","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":201111,"elapsed":6.9e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097586635020}},{"id":201113,"event":"call","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201114,"event":"return","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70097708498960,"parent_id":201113,"elapsed":7.3e-05,"return_value":{"class":"Hash","value":"{}","object_id":70097586658820}},{"id":201115,"event":"call","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201116,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201117,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201116,"elapsed":4.0e-06},{"id":201118,"event":"return","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70097708498960,"parent_id":201115,"elapsed":0.000119},{"id":201119,"event":"call","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201120,"event":"return","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70097708498960,"parent_id":201119,"elapsed":7.0e-06},{"id":201121,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":201122,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201121,"elapsed":0.00116},{"id":201123,"event":"call","defined_class":"Category","method_id":"trigger_category_created_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>"}},{"id":201124,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":11024988,"value":"category","kind":"req"},{"name":"object","class":"Category","object_id":70097566997880,"value":"#<Category:0x00007f81b9293af0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12691868,"value":"category_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":201125,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":11024988,"value":"category","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":201126,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":201125,"elapsed":0.00022,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bea71c68>","object_id":70097613065780}},{"id":201127,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'category') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201128,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201127,"elapsed":0.001404},{"id":201129,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":201124,"elapsed":0.004847},{"id":201130,"event":"return","defined_class":"Category","method_id":"trigger_category_created_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70097708498960,"parent_id":201123,"elapsed":0.005013,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201131,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201132,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201131,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201133,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201134,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201133,"elapsed":1.1e-05},{"id":201135,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/t/234/publish.json"},"message":[{"name":"destination_category_id","class":"String","value":"65","object_id":70097613967360},{"name":"controller","class":"String","value":"topics","object_id":70097804370760},{"name":"action","class":"String","value":"publish","object_id":70097804370740},{"name":"id","class":"String","value":"234","object_id":70097613949680},{"name":"format","class":"String","value":"json","object_id":70097613949660}]},{"id":201136,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201137,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201138,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201139,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201140,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097613999740,"value":"24aee2d9b19d2e4aeba4e4488975f057","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613999080,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":201141,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097613999740,"value":"24aee2d9b19d2e4aeba4e4488975f057","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":201142,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":201143,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":201142,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":201144,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":201141,"elapsed":0.000123,"return_value":{"class":"String","value":"QQiEUVKHve4PadCyC+Etzoj5YzE=","object_id":70097614017260}},{"id":201145,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'QQiEUVKHve4PadCyC+Etzoj5YzE=' OR\n                          prev_auth_token = 'QQiEUVKHve4PadCyC+Etzoj5YzE=') AND rotated_at > '2020-03-29 18:51:36.712503') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201146,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201145,"elapsed":0.001199},{"id":201147,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:51:36.717473' WHERE \"user_auth_tokens\".\"id\" = 479 AND \"user_auth_tokens\".\"auth_token\" = 'QQiEUVKHve4PadCyC+Etzoj5YzE='","database_type":"postgres","server_version":110006}},{"id":201148,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201147,"elapsed":0.001132},{"id":201149,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097800098200,"value":"{:action=>\"seen token\", :user_auth_token_id=>479, :user_id=>187, :auth_token=>\"QQiEUVKHve4PadCyC+Etz","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":201150,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":201151,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201150,"elapsed":0.000884},{"id":201152,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 479, 187, '127.0.0.1/32', 'QQiEUVKHve4PadCyC+Etzoj5YzE=', '2020-05-28 18:51:36.726426') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":201153,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201152,"elapsed":0.001284},{"id":201154,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":201155,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201154,"elapsed":0.000848},{"id":201156,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":201149,"elapsed":0.013927,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d4f2cc88>","object_id":70097800095300}},{"id":201157,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":201140,"elapsed":0.023513,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be254af8>","object_id":70097608811900}},{"id":201158,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 187 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201159,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201158,"elapsed":0.001283},{"id":201160,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201161,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":201160,"elapsed":1.9e-05},{"id":201162,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201163,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":201162,"elapsed":0.001005,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201164,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201165,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":201164,"elapsed":0.00102},{"id":201166,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097589354260,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201167,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 187","database_type":"postgres","server_version":110006}},{"id":201168,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201167,"elapsed":0.001479},{"id":201169,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":201166,"elapsed":0.004567,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201170,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201139,"elapsed":0.036155,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201171,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":201138,"elapsed":0.03629,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bbde1040>","object_id":70097589700640}},{"id":201172,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201173,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":201172,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201174,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":201137,"elapsed":0.036542},{"id":201175,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201176,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201175,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201177,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 187 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201178,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201177,"elapsed":0.001258},{"id":201179,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201180,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":201179,"elapsed":9.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bbde1040>","object_id":70097589700640}},{"id":201181,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097609289340,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201182,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":201181,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201183,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":201136,"elapsed":0.041664,"return_value":{"class":"Array","value":"[2]","object_id":70097609289340}},{"id":201184,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201185,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201186,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201185,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201187,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201188,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201187,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201189,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201190,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201189,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201191,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":201184,"elapsed":0.000376,"return_value":{"class":"String","value":"topics/publish","object_id":70097589939320}},{"id":201192,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201193,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201194,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201193,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201195,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":201192,"elapsed":0.000114},{"id":201196,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201197,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201198,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201197,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201199,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201200,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201199,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201201,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201202,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":201201,"elapsed":1.2e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":201203,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201204,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201203,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201205,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201206,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201205,"elapsed":1.0e-05},{"id":201207,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201208,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201207,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201209,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201210,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201209,"elapsed":7.0e-06},{"id":201211,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":201196,"elapsed":0.000722,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097609322900}},{"id":201212,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201213,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":201212,"elapsed":7.0e-06},{"id":201214,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201215,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201216,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201215,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201217,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201214,"elapsed":0.0001},{"id":201218,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201219,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201218,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201220,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201221,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201220,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201222,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201223,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201222,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201224,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097776516660,"value":"TopicsController"}},{"id":201225,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":201224,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:timings, :destroy_timings, :update, :update_shared_draft, :destroy, :recover, :status, :in","object_id":70097776871500}},{"id":201226,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201227,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201226,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201228,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201229,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":201228,"elapsed":9.0e-06},{"id":201230,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201231,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201232,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201231,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201233,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201230,"elapsed":9.9e-05},{"id":201234,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201235,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201236,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201235,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201237,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":201234,"elapsed":9.7e-05},{"id":201238,"event":"call","defined_class":"TopicsController","method_id":"publish","path":"app/controllers/topics_controller.rb","lineno":163,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201239,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":201240,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201239,"elapsed":5.7e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097615351760}},{"id":201241,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 234 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201242,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201241,"elapsed":0.001692},{"id":201243,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 65 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201244,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201243,"elapsed":0.001449},{"id":201245,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201246,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":201245,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bbde1040>","object_id":70097589700640}},{"id":201247,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"method","class":"Symbol","object_id":17286068,"value":"ensure_can_publish_topic!","kind":"req"},{"name":"args","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"rest"},{"name":"block","class":"Category","object_id":70097829836060,"value":"#<Category:0x00007f81d87e6a38>","kind":"block"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201248,"event":"call","defined_class":"TopicGuardian","method_id":"can_publish_topic?","path":"lib/guardian/topic_guardian.rb","lineno":33,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"category","class":"Category","object_id":70097829836060,"value":"#<Category:0x00007f81d87e6a38>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201249,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201250,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201251,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201250,"elapsed":2.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201252,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":201249,"elapsed":0.000118,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201253,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201254,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"hide_deleted","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201255,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201256,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201257,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201256,"elapsed":4.0e-06},{"id":201258,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":201255,"elapsed":9.2e-05},{"id":201259,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201260,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201259,"elapsed":1.3e-05},{"id":201261,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 64 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201262,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201261,"elapsed":0.001378},{"id":201263,"event":"call","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category","class":"Category","object_id":70097714113840,"value":"#<Category:0x00007f81cab2da60>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201264,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201265,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201266,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201265,"elapsed":9.0e-06},{"id":201267,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":201264,"elapsed":0.000137},{"id":201268,"event":"return","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70097708498960,"parent_id":201263,"elapsed":0.000274,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201269,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":201254,"elapsed":0.043809,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201270,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":201253,"elapsed":0.043936,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201271,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_topic?","path":"lib/guardian/topic_guardian.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[{"name":"parent","class":"Category","object_id":70097829836060,"value":"#<Category:0x00007f81d87e6a38>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201272,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097589700640,"value":"#<Guardian:0x00007f81bbde1040>"}},{"id":201273,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201274,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201273,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201275,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":201272,"elapsed":0.00013,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201276,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_topic?","path":"lib/guardian/topic_guardian.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":201271,"elapsed":0.000247,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201277,"event":"return","defined_class":"TopicGuardian","method_id":"can_publish_topic?","path":"lib/guardian/topic_guardian.rb","lineno":33,"static":false,"thread_id":70097708498960,"parent_id":201248,"elapsed":0.044619,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201278,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":201247,"elapsed":0.04474},{"id":201279,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201280,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201279,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201281,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201282,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201281,"elapsed":7.8e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097723255680}},{"id":201283,"event":"call","defined_class":"TopicTimestampChanger","method_id":"change!","path":"app/services/topic_timestamp_changer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicTimestampChanger","object_id":70097703631980,"value":"#<TopicTimestampChanger:0x00007f81c972f8d8>"}},{"id":201284,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":201285,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201284,"elapsed":0.001298},{"id":201286,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201287,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201286,"elapsed":5.2e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097793120720}},{"id":201288,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 234","database_type":"postgres","server_version":110006}},{"id":201289,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201288,"elapsed":0.002905},{"id":201290,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201291,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":201290,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201292,"event":"call","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201293,"event":"call","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201294,"event":"return","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":201293,"elapsed":8.0e-06},{"id":201295,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201296,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 238 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201297,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201296,"elapsed":0.00124},{"id":201298,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201295,"elapsed":0.007192,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201299,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201300,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201299,"elapsed":1.4e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201301,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201302,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201301,"elapsed":1.1e-05},{"id":201303,"event":"call","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201304,"event":"call","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201305,"event":"return","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parent_id":201304,"elapsed":0.001433},{"id":201306,"event":"call","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201307,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201308,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201307,"elapsed":1.4e-05},{"id":201309,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201310,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":201309,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201311,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"first_post_length","path":"app/models/site_setting.rb","lineno":48,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":201312,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"first_post_length","path":"app/models/site_setting.rb","lineno":48,"static":true,"thread_id":70097708498960,"parent_id":201311,"elapsed":8.0e-06,"return_value":{"class":"Range","value":"5..32000","object_id":70097565991920}},{"id":201313,"event":"call","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097565977460,"value":"Hello world","kind":"req"},{"name":"range","class":"Range","object_id":70097565991920,"value":"5..32000","kind":"req"}],"receiver":{"class":"Class","object_id":70097567701840,"value":"StrippedLengthValidator"}},{"id":201314,"event":"return","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":201313,"elapsed":5.0e-06},{"id":201315,"event":"return","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":201306,"elapsed":0.000562},{"id":201316,"event":"call","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201317,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201318,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201317,"elapsed":5.0e-06},{"id":201319,"event":"return","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":201316,"elapsed":0.000185},{"id":201320,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201321,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201320,"elapsed":1.1e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201322,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097565977460,"value":"Hello world","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097795584740,"value":"#<WatchedWordsValidator:0x00007f81d46925c8>"}},{"id":201323,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097795476720,"value":"#<WordWatcher:0x00007f81d465d9e0>"}},{"id":201324,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097795486640,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097795476720,"value":"#<WordWatcher:0x00007f81d465d9e0>"}},{"id":201325,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201326,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201327,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201328,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":201327,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097826256500}},{"id":201329,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":201326,"elapsed":0.001069},{"id":201330,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":201325,"elapsed":0.001193},{"id":201331,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":201324,"elapsed":0.001303},{"id":201332,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":201323,"elapsed":0.001415},{"id":201333,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":201322,"elapsed":0.00152},{"id":201334,"event":"return","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":201303,"elapsed":0.004365,"return_value":{"class":"Array","value":"[:raw]","object_id":70097795584840}},{"id":201335,"event":"call","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201336,"event":"return","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":201335,"elapsed":5.0e-06},{"id":201337,"event":"call","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201338,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201339,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201338,"elapsed":9.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201340,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201341,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201340,"elapsed":1.4e-05},{"id":201342,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201343,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201342,"elapsed":9.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201344,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201345,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201344,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201346,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201347,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201348,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201347,"elapsed":5.0e-06},{"id":201349,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":201346,"elapsed":0.000124,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201350,"event":"call","defined_class":"Post","method_id":"raw_mentions","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201351,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201352,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201353,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":201352,"elapsed":1.7e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097813541380}},{"id":201354,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":201351,"elapsed":0.000133,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81d68d0ce8>","object_id":70097813538420}},{"id":201355,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_mentions","path":"app/models/post_analyzer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201356,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201357,"event":"call","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097565977460,"value":"Hello world","kind":"req"},{"name":"opts","class":"Hash","object_id":70097712319920,"value":"{:topic_id=>234}","kind":"opt"}],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201358,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201359,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":201358,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":201360,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201361,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":201360,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":201362,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":201363,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":201364,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":201363,"elapsed":8.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097712333680}},{"id":201365,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":201362,"elapsed":0.001099,"return_value":{"class":"Array","value":"[]","object_id":70097826295440}},{"id":201366,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":201367,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":201366,"elapsed":9.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":201368,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":201369,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":201370,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":201369,"elapsed":4.0e-06},{"id":201371,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":201368,"elapsed":0.000107},{"id":201372,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201373,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201374,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201375,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":201374,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097712236320}},{"id":201376,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":201373,"elapsed":0.000976},{"id":201377,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":201372,"elapsed":0.001099},{"id":201378,"event":"return","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":201357,"elapsed":0.010949,"return_value":{"class":"String","value":"<p>Hello world</p>","object_id":70097795751760}},{"id":201379,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":201356,"elapsed":0.011368,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097795824300}},{"id":201380,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_mentions","path":"app/models/post_analyzer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":201355,"elapsed":0.011622,"return_value":{"class":"Array","value":"[]","object_id":70097795836120}},{"id":201381,"event":"return","defined_class":"Post","method_id":"raw_mentions","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201350,"elapsed":0.011977,"return_value":{"class":"Array","value":"[]","object_id":70097795836120}},{"id":201382,"event":"return","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parent_id":201337,"elapsed":0.012795},{"id":201383,"event":"call","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201384,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201385,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201384,"elapsed":2.0e-05,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201386,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201387,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201386,"elapsed":9.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201388,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201389,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201388,"elapsed":8.0e-06},{"id":201390,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201391,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201390,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201392,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201393,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201392,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201394,"event":"return","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":201383,"elapsed":0.000564},{"id":201395,"event":"call","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201396,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201397,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201396,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201398,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201399,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201398,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201400,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201401,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201402,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201401,"elapsed":5.0e-06},{"id":201403,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":201400,"elapsed":0.000111,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201404,"event":"return","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parent_id":201395,"elapsed":0.000438},{"id":201405,"event":"call","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201406,"event":"call","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201407,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201408,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201409,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":201408,"elapsed":1.3e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097813690560}},{"id":201410,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":201407,"elapsed":0.000114,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81d68d0ce8>","object_id":70097813538420}},{"id":201411,"event":"call","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201412,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201413,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201414,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":201413,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097795824300}},{"id":201415,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":201412,"elapsed":0.000188,"return_value":{"class":"Array","value":"[]","object_id":70097813674060}},{"id":201416,"event":"return","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parent_id":201411,"elapsed":0.000292,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201417,"event":"return","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201406,"elapsed":0.000604,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201418,"event":"call","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201419,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201420,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201421,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":201420,"elapsed":1.0e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097813736340}},{"id":201422,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":201419,"elapsed":0.000109,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81d68d0ce8>","object_id":70097813538420}},{"id":201423,"event":"call","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201424,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201425,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":201424,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097795824300}},{"id":201426,"event":"call","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097813538420,"value":"#<PostAnalyzer:0x00007f81d68d0ce8>"}},{"id":201427,"event":"return","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":201426,"elapsed":3.0e-06},{"id":201428,"event":"return","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":201423,"elapsed":0.000229},{"id":201429,"event":"return","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201418,"elapsed":0.000527},{"id":201430,"event":"call","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201431,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201432,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201431,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201433,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201434,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201433,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b9009b90>","object_id":70097565666760}},{"id":201435,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201436,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097565666760,"value":"#<User:0x00007f81b9009b90>"}},{"id":201437,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201436,"elapsed":5.0e-06},{"id":201438,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":201435,"elapsed":0.000108,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201439,"event":"return","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":201430,"elapsed":0.000423},{"id":201440,"event":"return","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parent_id":201405,"elapsed":0.00184},{"id":201441,"event":"call","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201442,"event":"return","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parent_id":201441,"elapsed":6.0e-06},{"id":201443,"event":"call","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201444,"event":"return","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parent_id":201443,"elapsed":5.0e-06},{"id":201445,"event":"return","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":201292,"elapsed":0.028715},{"id":201446,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET \"created_at\" = '2020-05-28 18:51:36.812864', \"updated_at\" = '2020-05-28 18:51:36.812864', \"baked_at\" = '2020-05-28 18:51:36.858094' WHERE \"posts\".\"id\" = 304","database_type":"postgres","server_version":110006}},{"id":201447,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201446,"elapsed":0.001247},{"id":201448,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201449,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201450,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":201449,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201451,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":201448,"elapsed":0.000122},{"id":201452,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>"}},{"id":201453,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097756858480,"value":"#<Post:0x00007f81cfcb50e0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201454,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201453,"elapsed":3.0e-06},{"id":201455,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":201452,"elapsed":0.000113},{"id":201456,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097731640060,"value":"This is a test topic 61","kind":"req"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201457,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201458,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201457,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201459,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201460,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201459,"elapsed":2.5e-05},{"id":201461,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201462,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201461,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201463,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201464,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201463,"elapsed":8.0e-06},{"id":201465,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":201456,"elapsed":0.000567,"return_value":{"class":"String","value":"This is a test topic 61","object_id":70097731640060}},{"id":201466,"event":"call","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201467,"event":"return","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parent_id":201466,"elapsed":7.0e-06},{"id":201468,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"created_at\" = '2020-05-28 18:51:36.812864', \"updated_at\" = '2020-05-28 18:51:36.812864', \"bumped_at\" = '2020-05-28 18:51:36.812864', \"last_posted_at\" = '2020-05-28 18:51:36.812864', \"fancy_title\" = NULL WHERE \"topics\".\"id\" = 234","database_type":"postgres","server_version":110006}},{"id":201469,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201468,"elapsed":0.001279},{"id":201470,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201471,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201472,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":201471,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201473,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":201470,"elapsed":0.000122},{"id":201474,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201475,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201474,"elapsed":4.0e-06},{"id":201476,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201477,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201476,"elapsed":5.0e-06},{"id":201478,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201479,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201478,"elapsed":5.4e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097813383440}},{"id":201480,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 234 AND \"posts\".\"post_number\" = 1 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201481,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201480,"elapsed":0.001434},{"id":201482,"event":"call","defined_class":"Post","method_id":"advance_draft_sequence","path":"app/models/post.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201483,"event":"call","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201484,"event":"return","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parent_id":201483,"elapsed":1.2e-05,"return_value":{"class":"String","value":"topic_234","object_id":70097815411040}},{"id":201485,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"Integer","object_id":477,"value":"238","kind":"req"},{"name":"key","class":"String","object_id":70097815411040,"value":"topic_234","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":201486,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":477,"value":"238","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":201487,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":201486,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201488,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 238 AND \"draft_sequences\".\"draft_key\" = 'topic_234' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201489,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201488,"elapsed":0.00102},{"id":201490,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"draft_sequences\" (\"user_id\", \"draft_key\", \"sequence\") VALUES (238, 'topic_234', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":201491,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201490,"elapsed":0.000927},{"id":201492,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":201485,"elapsed":0.010645,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":201493,"event":"return","defined_class":"Post","method_id":"advance_draft_sequence","path":"app/models/post.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":201482,"elapsed":0.010965,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":201494,"event":"call","defined_class":"Post","method_id":"acting_user=","path":"app/models/post.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[{"name":"pu","class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>","kind":"req"}],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201495,"event":"return","defined_class":"Post","method_id":"acting_user=","path":"app/models/post.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":201494,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201496,"event":"call","defined_class":"Topic","method_id":"acting_user=","path":"app/models/topic.rb","lineno":1304,"static":false,"thread_id":70097708498960,"parameters":[{"name":"u","class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>","kind":"req"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201497,"event":"return","defined_class":"Topic","method_id":"acting_user=","path":"app/models/topic.rb","lineno":1304,"static":false,"thread_id":70097708498960,"parent_id":201496,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201498,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 238 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201499,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201498,"elapsed":0.000976},{"id":201500,"event":"call","defined_class":"Post","method_id":"extract_quoted_post_numbers","path":"app/models/post.rb","lineno":722,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201501,"event":"return","defined_class":"Post","method_id":"extract_quoted_post_numbers","path":"app/models/post.rb","lineno":722,"static":false,"thread_id":70097708498960,"parent_id":201500,"elapsed":2.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201502,"event":"call","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201503,"event":"call","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201504,"event":"return","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":201503,"elapsed":8.0e-06},{"id":201505,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201506,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201505,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201507,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201508,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201507,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201509,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201510,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201509,"elapsed":6.0e-06},{"id":201511,"event":"call","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201512,"event":"call","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201513,"event":"return","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parent_id":201512,"elapsed":0.001118},{"id":201514,"event":"call","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201515,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201516,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201515,"elapsed":7.0e-06},{"id":201517,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201518,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":201517,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201519,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"first_post_length","path":"app/models/site_setting.rb","lineno":48,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":201520,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"first_post_length","path":"app/models/site_setting.rb","lineno":48,"static":true,"thread_id":70097708498960,"parent_id":201519,"elapsed":7.0e-06,"return_value":{"class":"Range","value":"5..32000","object_id":70097593932880}},{"id":201521,"event":"call","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097592014560,"value":"Hello world","kind":"req"},{"name":"range","class":"Range","object_id":70097593932880,"value":"5..32000","kind":"req"}],"receiver":{"class":"Class","object_id":70097567701840,"value":"StrippedLengthValidator"}},{"id":201522,"event":"return","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":201521,"elapsed":5.0e-06},{"id":201523,"event":"return","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":201514,"elapsed":0.000466},{"id":201524,"event":"call","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201525,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201526,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201525,"elapsed":5.0e-06},{"id":201527,"event":"return","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":201524,"elapsed":0.00016},{"id":201528,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201529,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201528,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201530,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097592014560,"value":"Hello world","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097594046680,"value":"#<WatchedWordsValidator:0x00007f81bc62b1b0>"}},{"id":201531,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097594062160,"value":"#<WordWatcher:0x00007f81bc632aa0>"}},{"id":201532,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097594058240,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097594062160,"value":"#<WordWatcher:0x00007f81bc632aa0>"}},{"id":201533,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201534,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201535,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201536,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":201535,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097594106240}},{"id":201537,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":201534,"elapsed":0.001151},{"id":201538,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":201533,"elapsed":0.001262},{"id":201539,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":201532,"elapsed":0.00136},{"id":201540,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":201531,"elapsed":0.001462},{"id":201541,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":201530,"elapsed":0.001557},{"id":201542,"event":"return","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":201511,"elapsed":0.003836,"return_value":{"class":"Array","value":"[:raw]","object_id":70097594046780}},{"id":201543,"event":"call","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201544,"event":"return","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":201543,"elapsed":5.0e-06},{"id":201545,"event":"call","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201546,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201547,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201546,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201548,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201549,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201548,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201550,"event":"return","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parent_id":201545,"elapsed":0.00021},{"id":201551,"event":"call","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201552,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201553,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201552,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201554,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201555,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201554,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201556,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201557,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201556,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201558,"event":"return","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":201551,"elapsed":0.000289},{"id":201559,"event":"call","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201560,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201561,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201560,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201562,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201563,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201562,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201564,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201565,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201566,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201565,"elapsed":5.0e-06},{"id":201567,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":201564,"elapsed":0.000101,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201568,"event":"return","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parent_id":201559,"elapsed":0.000395},{"id":201569,"event":"call","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201570,"event":"call","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201571,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201572,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201573,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":201572,"elapsed":1.2e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097594340420}},{"id":201574,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":201571,"elapsed":0.000114,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81bc6b97f8>","object_id":70097594338300}},{"id":201575,"event":"call","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201576,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201577,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201578,"event":"call","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097592014560,"value":"Hello world","kind":"req"},{"name":"opts","class":"Hash","object_id":70097594352620,"value":"{:topic_id=>234}","kind":"opt"}],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201579,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201580,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":201579,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":201581,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201582,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":201581,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":201583,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":201584,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":201585,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":201584,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097594404040}},{"id":201586,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":201583,"elapsed":0.001212,"return_value":{"class":"Array","value":"[]","object_id":70097594423820}},{"id":201587,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":201588,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":201587,"elapsed":5.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":201589,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":201590,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":201591,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":201590,"elapsed":3.0e-06},{"id":201592,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":201589,"elapsed":0.000104},{"id":201593,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201594,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201595,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":201596,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":201595,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097594490720}},{"id":201597,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":201594,"elapsed":0.000884},{"id":201598,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":201593,"elapsed":0.000998},{"id":201599,"event":"return","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":201578,"elapsed":0.007811,"return_value":{"class":"String","value":"<p>Hello world</p>","object_id":70097587236360}},{"id":201600,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":201577,"elapsed":0.00817,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097587261440}},{"id":201601,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":201576,"elapsed":0.008352,"return_value":{"class":"Array","value":"[]","object_id":70097594355980}},{"id":201602,"event":"return","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parent_id":201575,"elapsed":0.008455,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201603,"event":"return","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201570,"elapsed":0.008763,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201604,"event":"call","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201605,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201606,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201607,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":201606,"elapsed":1.7e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097587277780}},{"id":201608,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":201605,"elapsed":0.000117,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81bc6b97f8>","object_id":70097594338300}},{"id":201609,"event":"call","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201610,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201611,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":201610,"elapsed":4.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097587261440}},{"id":201612,"event":"call","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097594338300,"value":"#<PostAnalyzer:0x00007f81bc6b97f8>"}},{"id":201613,"event":"return","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":201612,"elapsed":4.0e-06},{"id":201614,"event":"return","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":201609,"elapsed":0.000217},{"id":201615,"event":"return","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201604,"elapsed":0.000521},{"id":201616,"event":"call","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201617,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201618,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201617,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201619,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201620,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":201619,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201621,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201622,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201623,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":201622,"elapsed":7.0e-06},{"id":201624,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":201621,"elapsed":0.000104,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201625,"event":"return","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":201616,"elapsed":0.000399},{"id":201626,"event":"return","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parent_id":201569,"elapsed":0.009973},{"id":201627,"event":"call","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201628,"event":"return","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parent_id":201627,"elapsed":7.0e-06},{"id":201629,"event":"call","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":201630,"event":"return","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parent_id":201629,"elapsed":5.0e-06},{"id":201631,"event":"return","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":201502,"elapsed":0.015889},{"id":201632,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET \"last_editor_id\" = 187, \"last_version_at\" = '2020-05-28 18:51:36.889985', \"version\" = 2, \"public_version\" = 2, \"baked_at\" = '2020-05-28 18:51:36.911672', \"updated_at\" = '2020-05-28 18:51:36.911796' WHERE \"posts\".\"id\" = 304","database_type":"postgres","server_version":110006}},{"id":201633,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201632,"elapsed":0.001462},{"id":201634,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201635,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201636,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":201635,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201637,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":201634,"elapsed":0.000114},{"id":201638,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201639,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201640,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201639,"elapsed":3.0e-06},{"id":201641,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":201638,"elapsed":0.000109},{"id":201642,"event":"call","defined_class":"Post","method_id":"save_reply_relationships","path":"app/models/post.rb","lineno":739,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201643,"event":"return","defined_class":"Post","method_id":"save_reply_relationships","path":"app/models/post.rb","lineno":739,"static":false,"thread_id":70097708498960,"parent_id":201642,"elapsed":8.0e-06},{"id":201644,"event":"call","defined_class":"TopicGuardian","method_id":"can_move_topic_to_category?","path":"lib/guardian/topic_guardian.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category","class":"Integer","object_id":131,"value":"65","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097566445120,"value":"#<Guardian:0x00007f81b9185c80>"}},{"id":201645,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 65 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201646,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201645,"elapsed":0.001266},{"id":201647,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097566445120,"value":"#<Guardian:0x00007f81b9185c80>"}},{"id":201648,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201649,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201648,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201650,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":201647,"elapsed":0.000121,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201651,"event":"return","defined_class":"TopicGuardian","method_id":"can_move_topic_to_category?","path":"lib/guardian/topic_guardian.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":201644,"elapsed":0.005296,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201652,"event":"call","defined_class":"Topic","method_id":"change_category_to_id","path":"app/models/topic.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[{"name":"category_id","class":"Integer","object_id":131,"value":"65","kind":"req"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201653,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201654,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201653,"elapsed":6.0e-06},{"id":201655,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 65 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201656,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201655,"elapsed":3.7e-05},{"id":201657,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"reviewables\" SET \"category_id\" = 65 WHERE \"reviewables\".\"topic_id\" = 234","database_type":"postgres","server_version":110006}},{"id":201658,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201657,"elapsed":0.001138},{"id":201659,"event":"call","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_category","class":"Category","object_id":70097798033540,"value":"#<Category:0x00007f81d4b3e108>","kind":"req"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201660,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE \"categories\".\"topic_id\" = 234 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201661,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201660,"elapsed":0.00081},{"id":201662,"event":"call","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201663,"event":"return","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parent_id":201662,"elapsed":6.0e-06},{"id":201664,"event":"call","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201665,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 65 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201666,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201665,"elapsed":0.001355},{"id":201667,"event":"return","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parent_id":201664,"elapsed":0.006355},{"id":201668,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"category_id\" = 65, \"updated_at\" = '2020-05-28 18:51:36.943315' WHERE \"topics\".\"id\" = 234","database_type":"postgres","server_version":110006}},{"id":201669,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201668,"elapsed":0.001479},{"id":201670,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" INNER JOIN \"topic_tags\" ON \"tags\".\"id\" = \"topic_tags\".\"tag_id\" WHERE \"topic_tags\".\"topic_id\" = 234","database_type":"postgres","server_version":110006}},{"id":201671,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201670,"elapsed":0.000935},{"id":201672,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201673,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201674,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":201673,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201675,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":201672,"elapsed":0.00013},{"id":201676,"event":"call","defined_class":"SearchIndexer","method_id":"queue_post_reindex","path":"app/services/search_indexer.rb","lineno":114,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":469,"value":"234","kind":"req"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201677,"event":"return","defined_class":"SearchIndexer","method_id":"queue_post_reindex","path":"app/services/search_indexer.rb","lineno":114,"static":true,"thread_id":70097708498960,"parent_id":201676,"elapsed":4.0e-06},{"id":201678,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201679,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201678,"elapsed":4.0e-06},{"id":201680,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"categories\" SET topic_count = topic_count - 1 WHERE \"categories\".\"id\" = 64","database_type":"postgres","server_version":110006}},{"id":201681,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201680,"elapsed":0.001244},{"id":201682,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"auto_watch","path":"app/models/category_user.rb","lineno":128,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097799593420,"value":"{:category_id=>65, :topic_id=>234}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201683,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201684,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":201683,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":201685,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201686,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":201685,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":201687,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201688,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":201687,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":201689,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_reasons","path":"app/models/topic_user.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":201690,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_reasons","path":"app/models/topic_user.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":201689,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:created_topic=>1, :user_changed=>2, :user_interacted=>3, :created_post=>4, :auto_watch=>5, :auto_w","object_id":70097797845980}},{"id":201691,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"auto_watch","path":"app/models/category_user.rb","lineno":128,"static":true,"thread_id":70097708498960,"parent_id":201682,"elapsed":0.001964,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201692,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"auto_track","path":"app/models/category_user.rb","lineno":93,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097799622720,"value":"{:category_id=>65, :topic_id=>234}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201693,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201694,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":201693,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":201695,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":201696,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":201695,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":201697,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_reasons","path":"app/models/topic_user.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":201698,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_reasons","path":"app/models/topic_user.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":201697,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:created_topic=>1, :user_changed=>2, :user_interacted=>3, :created_post=>4, :auto_watch=>5, :auto_w","object_id":70097797845980}},{"id":201699,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"auto_track","path":"app/models/category_user.rb","lineno":93,"static":true,"thread_id":70097708498960,"parent_id":201692,"elapsed":0.001379,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201700,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201701,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201700,"elapsed":6.4e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097799674860}},{"id":201702,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201703,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201702,"elapsed":3.3e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097799684240}},{"id":201704,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 234 ORDER BY \"posts\".\"post_number\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201705,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201704,"elapsed":0.001066},{"id":201706,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"categories\" SET topic_count = topic_count + 1 WHERE \"categories\".\"id\" = 65","database_type":"postgres","server_version":110006}},{"id":201707,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201706,"elapsed":0.001287},{"id":201708,"event":"return","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parent_id":201659,"elapsed":0.042634,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201709,"event":"return","defined_class":"Topic","method_id":"change_category_to_id","path":"app/models/topic.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":201652,"elapsed":0.05138,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201710,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097614110840,"value":"This is a test topic 61","kind":"req"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201711,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201712,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201711,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201713,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201714,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201713,"elapsed":1.2e-05},{"id":201715,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201716,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201715,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":201717,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":201718,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":201717,"elapsed":8.0e-06},{"id":201719,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":201710,"elapsed":0.000532,"return_value":{"class":"String","value":"This is a test topic 61","object_id":70097614110840}},{"id":201720,"event":"call","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201721,"event":"return","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parent_id":201720,"elapsed":7.0e-06},{"id":201722,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201723,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201724,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":201723,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201725,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":201722,"elapsed":0.000107},{"id":201726,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":201727,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201726,"elapsed":4.0e-06},{"id":201728,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"name\" FROM \"tags\" INNER JOIN \"tag_group_memberships\" ON \"tag_group_memberships\".\"tag_id\" = \"tags\".\"id\" INNER JOIN \"tag_groups\" ON \"tag_groups\".\"id\" = \"tag_group_memberships\".\"tag_group_id\" WHERE (tag_groups.id NOT IN (\n        SELECT tag_group_id\n        FROM tag_group_permissions\n        WHERE group_id = 0))","database_type":"postgres","server_version":110006}},{"id":201729,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201728,"elapsed":0.001315},{"id":201730,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"post_revisions\" (\"user_id\", \"post_id\", \"modifications\", \"number\", \"created_at\", \"updated_at\") VALUES (187, 304, '--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\ncategory_id:\n- 64\n- 65\n', 2, '2020-05-28 18:51:36.982180', '2020-05-28 18:51:36.982180') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":201731,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201730,"elapsed":0.001439},{"id":201732,"event":"call","defined_class":"PostRevision","method_id":"create_notification","path":"app/models/post_revision.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostRevision","object_id":70097568545600,"value":"#<PostRevision:0x00007f81b9587680>"}},{"id":201733,"event":"call","defined_class":"PostActionNotifier","method_id":"after_create_post_revision","path":"app/services/post_action_notifier.rb","lineno":91,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post_revision","class":"PostRevision","object_id":70097568545600,"value":"#<PostRevision:0x00007f81b9587680>","kind":"req"}],"receiver":{"class":"Class","object_id":70097756334660,"value":"PostActionNotifier"}},{"id":201734,"event":"return","defined_class":"PostActionNotifier","method_id":"after_create_post_revision","path":"app/services/post_action_notifier.rb","lineno":91,"static":true,"thread_id":70097708498960,"parent_id":201733,"elapsed":4.0e-06},{"id":201735,"event":"return","defined_class":"PostRevision","method_id":"create_notification","path":"app/models/post_revision.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":201732,"elapsed":0.000115},{"id":201736,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201737,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201738,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":201737,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":201739,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":201736,"elapsed":0.000118},{"id":201740,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"name\" FROM \"tags\" INNER JOIN \"tag_group_memberships\" ON \"tag_group_memberships\".\"tag_id\" = \"tags\".\"id\" INNER JOIN \"tag_groups\" ON \"tag_groups\".\"id\" = \"tag_group_memberships\".\"tag_group_id\" WHERE (tag_groups.id NOT IN (\n        SELECT tag_group_id\n        FROM tag_group_permissions\n        WHERE group_id = 0))","database_type":"postgres","server_version":110006}},{"id":201741,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201740,"elapsed":0.00117},{"id":201742,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201743,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201742,"elapsed":4.8e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097614167220}},{"id":201744,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 234 AND (post_number > 1) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201745,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201744,"elapsed":0.001091},{"id":201746,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"bumped_at\" = '2020-05-28 18:51:36.997705' WHERE \"topics\".\"id\" = 234","database_type":"postgres","server_version":110006}},{"id":201747,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201746,"elapsed":0.001077},{"id":201748,"event":"call","defined_class":"TopicTrackingState","method_id":"publish_muted","path":"app/models/topic_tracking_state.rb","lineno":75,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":201749,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_users\".\"user_id\" FROM \"topic_users\" INNER JOIN \"users\" ON \"users\".\"id\" = \"topic_users\".\"user_id\" WHERE \"topic_users\".\"topic_id\" = 234 AND \"topic_users\".\"notification_level\" = 0 AND (users.last_seen_at > '2020-05-21 18:51:37.002214') ORDER BY users.last_seen_at DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":201750,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201749,"elapsed":0.001202},{"id":201751,"event":"return","defined_class":"TopicTrackingState","method_id":"publish_muted","path":"app/models/topic_tracking_state.rb","lineno":75,"static":true,"thread_id":70097708498960,"parent_id":201748,"elapsed":0.004752},{"id":201752,"event":"call","defined_class":"TopicTrackingState","method_id":"publish_latest","path":"app/models/topic_tracking_state.rb","lineno":48,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"staff_only","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":201753,"event":"call","defined_class":"Topic","method_id":"regular?","path":"app/models/topic.rb","lineno":555,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201754,"event":"return","defined_class":"Topic","method_id":"regular?","path":"app/models/topic.rb","lineno":555,"static":false,"thread_id":70097708498960,"parent_id":201753,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201755,"event":"call","defined_class":"Category","method_id":"secure_group_ids","path":"app/models/category.rb","lineno":651,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097827128120,"value":"#<Category:0x00007f81d82bc670>"}},{"id":201756,"event":"return","defined_class":"Category","method_id":"secure_group_ids","path":"app/models/category.rb","lineno":651,"static":false,"thread_id":70097708498960,"parent_id":201755,"elapsed":1.4e-05},{"id":201757,"event":"return","defined_class":"TopicTrackingState","method_id":"publish_latest","path":"app/models/topic_tracking_state.rb","lineno":48,"static":true,"thread_id":70097708498960,"parent_id":201752,"elapsed":0.000492,"return_value":{"class":"Integer","value":"2255","object_id":4511}},{"id":201758,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201759,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":201758,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201760,"event":"call","defined_class":"Post","method_id":"excerpt_for_topic","path":"app/models/post.rb","lineno":476,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201761,"event":"return","defined_class":"Post","method_id":"excerpt_for_topic","path":"app/models/post.rb","lineno":476,"static":false,"thread_id":70097708498960,"parent_id":201760,"elapsed":0.000427,"return_value":{"class":"String","value":"Hello world","object_id":70097614624940}},{"id":201762,"event":"call","defined_class":"Topic","method_id":"update_excerpt","path":"app/models/topic.rb","lineno":1479,"static":false,"thread_id":70097708498960,"parameters":[{"name":"excerpt","class":"String","object_id":70097614624940,"value":"Hello world","kind":"req"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201763,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"excerpt\" = 'Hello world' WHERE \"topics\".\"id\" = 234","database_type":"postgres","server_version":110006}},{"id":201764,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201763,"elapsed":0.00129},{"id":201765,"event":"return","defined_class":"Topic","method_id":"update_excerpt","path":"app/models/topic.rb","lineno":1479,"static":false,"thread_id":70097708498960,"parent_id":201762,"elapsed":0.004569},{"id":201766,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"topic_id\" = 234 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201767,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201766,"elapsed":0.001297},{"id":201768,"event":"call","defined_class":"Post","method_id":"advance_draft_sequence","path":"app/models/post.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201769,"event":"call","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201770,"event":"return","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parent_id":201769,"elapsed":8.0e-06,"return_value":{"class":"String","value":"topic_234","object_id":70097615598520}},{"id":201771,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"Integer","object_id":375,"value":"187","kind":"req"},{"name":"key","class":"String","object_id":70097615598520,"value":"topic_234","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":201772,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":375,"value":"187","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":201773,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":201772,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201774,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 187 AND \"draft_sequences\".\"draft_key\" = 'topic_234' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201775,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201774,"elapsed":0.000986},{"id":201776,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"draft_sequences\" (\"user_id\", \"draft_key\", \"sequence\") VALUES (187, 'topic_234', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":201777,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201776,"elapsed":0.001054},{"id":201778,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":201771,"elapsed":0.010431,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":201779,"event":"return","defined_class":"Post","method_id":"advance_draft_sequence","path":"app/models/post.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":201768,"elapsed":0.010736,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":201780,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>"}},{"id":201781,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":201780,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201782,"event":"call","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568991360,"value":"QuotedPost"}},{"id":201783,"event":"return","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":201782,"elapsed":0.000956},{"id":201784,"event":"call","defined_class":"Post","method_id":"trigger_post_process","path":"app/models/post.rb","lineno":751,"static":false,"thread_id":70097708498960,"parameters":[{"name":"bypass_bump","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"priority","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"new_post","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201785,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13535708,"value":"process_post","kind":"req"},{"name":"opts","class":"Hash","object_id":70097621433080,"value":"{:post_id=>304, :bypass_bump=>false, :new_post=>false, :invalidate_oneboxes=>true, :cooking_options=","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201786,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201787,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":201786,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201788,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":201785,"elapsed":0.000237,"return_value":{"class":"String","value":"d6bb4e476f5c1ef60c3860f3","object_id":70097621428880}},{"id":201789,"event":"return","defined_class":"Post","method_id":"trigger_post_process","path":"app/models/post.rb","lineno":751,"static":false,"thread_id":70097708498960,"parent_id":201784,"elapsed":0.000378},{"id":201790,"event":"call","defined_class":"Trashable","method_id":"trashed?","path":"app/models/concerns/trashable.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201791,"event":"return","defined_class":"Trashable","method_id":"trashed?","path":"app/models/concerns/trashable.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":201790,"elapsed":1.5e-05},{"id":201792,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_post_hooks","path":"app/models/web_hook.rb","lineno":87,"static":true,"thread_id":70097708498960,"parameters":[{"name":"event","class":"Symbol","object_id":12686108,"value":"post_edited","kind":"req"},{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"},{"name":"payload","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":201793,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"String","object_id":70097701909880,"value":"post","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":201794,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":201793,"elapsed":0.000215,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bfa6cb18>","object_id":70097621443980}},{"id":201795,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'post') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201796,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201795,"elapsed":0.001104},{"id":201797,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_post_hooks","path":"app/models/web_hook.rb","lineno":87,"static":true,"thread_id":70097708498960,"parent_id":201792,"elapsed":0.045223},{"id":201798,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201799,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":201798,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201800,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_topic_hooks","path":"app/models/web_hook.rb","lineno":71,"static":true,"thread_id":70097708498960,"parameters":[{"name":"event","class":"Symbol","object_id":12686428,"value":"topic_edited","kind":"req"},{"name":"topic","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"payload","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":201801,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"String","object_id":70097722917420,"value":"topic","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":201802,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":201801,"elapsed":0.000237,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81cf88d4e0>","object_id":70097754679920}},{"id":201803,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'topic') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201804,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201803,"elapsed":0.001381},{"id":201805,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_topic_hooks","path":"app/models/web_hook.rb","lineno":71,"static":true,"thread_id":70097708498960,"parent_id":201800,"elapsed":0.006678},{"id":201806,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13685468,"value":"post_alert","kind":"req"},{"name":"opts","class":"Hash","object_id":70097795136620,"value":"{:post_id=>304}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201807,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201808,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":201807,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201809,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":201806,"elapsed":0.000276,"return_value":{"class":"String","value":"5dd148ec6bc7e821bb5aa833","object_id":70097795195860}},{"id":201810,"event":"call","defined_class":"Post","method_id":"publish_change_to_clients!","path":"app/models/post.rb","lineno":181,"static":false,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":19812508,"value":"revised","kind":"req"},{"name":"opts","class":"Hash","object_id":70097795228520,"value":"{:reload_topic=>true}","kind":"opt"}],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201811,"event":"call","defined_class":"Post","method_id":"publish_message!","path":"app/models/post.rb","lineno":199,"static":false,"thread_id":70097708498960,"parameters":[{"name":"channel","class":"String","object_id":70097795279120,"value":"/topic/234","kind":"req"},{"name":"message","class":"Hash","object_id":70097795279960,"value":"{:id=>304, :post_number=>1, :updated_at=>2020-05-28 14:51:37 -0400, :user_id=>238, :last_editor_id=>","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201812,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parameters":[{"name":"viewed_by","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":201813,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201814,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":201813,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":201815,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parent_id":201812,"elapsed":0.000137,"return_value":{"class":"Array","value":"[1, 2, 3]","object_id":70097755454160}},{"id":201816,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201817,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":201816,"elapsed":7.0e-06},{"id":201818,"event":"call","defined_class":"Topic","method_id":"secure_group_ids","path":"app/models/topic.rb","lineno":1308,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201819,"event":"return","defined_class":"Topic","method_id":"secure_group_ids","path":"app/models/topic.rb","lineno":1308,"static":false,"thread_id":70097708498960,"parent_id":201818,"elapsed":2.4e-05},{"id":201820,"event":"return","defined_class":"Post","method_id":"publish_message!","path":"app/models/post.rb","lineno":199,"static":false,"thread_id":70097708498960,"parent_id":201811,"elapsed":0.000678,"return_value":{"class":"Integer","value":"2256","object_id":4513}},{"id":201821,"event":"return","defined_class":"Post","method_id":"publish_change_to_clients!","path":"app/models/post.rb","lineno":181,"static":false,"thread_id":70097708498960,"parent_id":201810,"elapsed":0.000871,"return_value":{"class":"Integer","value":"2256","object_id":4513}},{"id":201822,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":5,"value":"2","kind":"req"},{"name":"opt","class":"Hash","object_id":70097755550580,"value":"{:post=>#<Post id: 304, user_id: 238, topic_id: 234, post_number: 1, raw: \"Hello world\", cooked: \"<p","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":201823,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":201822,"elapsed":1.1e-05},{"id":201824,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":201825,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>"}},{"id":201826,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":201827,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":201826,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":201828,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":201825,"elapsed":0.000135},{"id":201829,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"cleanup_entries","path":"app/models/topic_link.rb","lineno":346,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097815372220,"value":"#<Post:0x00007f81d6c50378>","kind":"req"},{"name":"current_urls","class":"Array","object_id":70097755891340,"value":"[]","kind":"req"},{"name":"current_reflected_ids","class":"Array","object_id":70097755890960,"value":"[]","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":201830,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"topic_links\" WHERE ((post_id = 304 AND NOT reflection) OR (link_post_id = 304 AND reflection))","database_type":"postgres","server_version":110006}},{"id":201831,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201830,"elapsed":0.001316},{"id":201832,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"cleanup_entries","path":"app/models/topic_link.rb","lineno":346,"static":true,"thread_id":70097708498960,"parent_id":201829,"elapsed":0.005617,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201833,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parent_id":201824,"elapsed":0.006424,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":201834,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"visible\" = TRUE WHERE \"topics\".\"id\" = 234","database_type":"postgres","server_version":110006}},{"id":201835,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201834,"elapsed":0.00153},{"id":201836,"event":"call","defined_class":"StaffActionLogger","method_id":"log_topic_published","path":"app/services/staff_action_logger.rb","lineno":116,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"StaffActionLogger","object_id":70097813707060,"value":"#<StaffActionLogger:0x00007f81d6923268>"}},{"id":201837,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":201838,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":201837,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":201839,"event":"call","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserHistory","object_id":70097813754500,"value":"#<UserHistory:0x00007f81d693a508>"}},{"id":201840,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":201841,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":201840,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[3]","object_id":70097608682780}},{"id":201842,"event":"return","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":201839,"elapsed":0.00014,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d693a508>","object_id":70097813754500}},{"id":201843,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_histories\" (\"action\", \"acting_user_id\", \"created_at\", \"updated_at\", \"topic_id\") VALUES (54, 187, '2020-05-28 18:51:37.098783', '2020-05-28 18:51:37.098783', 234) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":201844,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201843,"elapsed":0.001157},{"id":201845,"event":"return","defined_class":"StaffActionLogger","method_id":"log_topic_published","path":"app/services/staff_action_logger.rb","lineno":116,"static":false,"thread_id":70097708498960,"parent_id":201836,"elapsed":0.006485,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d693a508>","object_id":70097813754500}},{"id":201846,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"shared_drafts\" WHERE \"shared_drafts\".\"topic_id\" = 234","database_type":"postgres","server_version":110006}},{"id":201847,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201846,"elapsed":0.000997},{"id":201848,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":201849,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":201848,"elapsed":5.9e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097815437440}},{"id":201850,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_timers\" SET \"deleted_at\" = '2020-05-28 18:51:37.121559', \"deleted_by_id\" = 187 WHERE (\"topic_timers\".\"deleted_at\" IS NULL) AND \"topic_timers\".\"topic_id\" = 234","database_type":"postgres","server_version":110006}},{"id":201851,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201850,"elapsed":0.000991},{"id":201852,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"post_revisions\".* FROM \"post_revisions\" WHERE \"post_revisions\".\"post_id\" = 304 ORDER BY \"post_revisions\".\"number\" ASC","database_type":"postgres","server_version":110006}},{"id":201853,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201852,"elapsed":0.000991},{"id":201854,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"post_revisions\" WHERE \"post_revisions\".\"id\" = 75","database_type":"postgres","server_version":110006}},{"id":201855,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201854,"elapsed":0.001029},{"id":201856,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET \"version\" = 1, \"public_version\" = 1, \"last_version_at\" = '2020-05-28 18:51:36.812864' WHERE \"posts\".\"id\" = 304","database_type":"postgres","server_version":110006}},{"id":201857,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201856,"elapsed":0.001097},{"id":201858,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":201859,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201858,"elapsed":0.000745},{"id":201860,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13678108,"value":"notify_category_change","kind":"req"},{"name":"opts","class":"Hash","object_id":70097566447960,"value":"{:post_id=>304, :notified_user_ids=>[238, 187]}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201861,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201862,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":201861,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201863,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":201860,"elapsed":0.001331,"return_value":{"class":"String","value":"e6866ad82522a60e10fe0cbb","object_id":70097566667400}},{"id":201864,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13678428,"value":"update_topic_upload_security","kind":"req"},{"name":"opts","class":"Hash","object_id":70097566664240,"value":"{:topic_id=>234}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201865,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":201866,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":201865,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":201867,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":201864,"elapsed":0.000173,"return_value":{"class":"String","value":"c1aaced846ac7961e19cf42e","object_id":70097566679100}},{"id":201868,"event":"call","defined_class":"AdminDashboardData","method_id":"add_problem_check","path":"app/models/admin_dashboard_data.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"syms","class":"Symbol","object_id":20904028,"value":"rails_env_check","kind":"rest"},{"name":"blk","class":"Symbol","object_id":20904348,"value":"host_names_check","kind":"block"}],"receiver":{"class":"Class","object_id":70097804619800,"value":"AdminDashboardData"}},{"id":201869,"event":"return","defined_class":"AdminDashboardData","method_id":"add_problem_check","path":"app/models/admin_dashboard_data.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":201868,"elapsed":5.0e-06},{"id":201870,"event":"call","defined_class":"AdminDashboardData","method_id":"add_problem_check","path":"app/models/admin_dashboard_data.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"syms","class":"NilClass","object_id":8,"value":null,"kind":"rest"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097804619800,"value":"AdminDashboardData"}},{"id":201871,"event":"return","defined_class":"AdminDashboardData","method_id":"add_problem_check","path":"app/models/admin_dashboard_data.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":201870,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[#<Proc:0x00007f81b90563c8@/Users/kgilpin/source/appland/discourse/app/models/admin_dashboard_data.r","object_id":70097565802900}},{"id":201872,"event":"call","defined_class":"AdminDashboardData","method_id":"stats_cache_key","path":"app/models/admin_dashboard_data.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097804619800,"value":"AdminDashboardData"}},{"id":201873,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097567891500,"value":"visits","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201874,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201873,"elapsed":1.2e-05,"return_value":{"class":"Symbol","value":"report_visits","object_id":20944028}},{"id":201875,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097567908400,"value":"mobile_visits","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201876,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201875,"elapsed":9.0e-06,"return_value":{"class":"Symbol","value":"report_mobile_visits","object_id":20944348}},{"id":201877,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097567964800,"value":"consolidated_page_views","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201878,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201877,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_consolidated_page_views","object_id":20945308}},{"id":201879,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097568012620,"value":"top_ignored_users","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201880,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201879,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_top_ignored_users","object_id":20946908}},{"id":201881,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097568046800,"value":"top_uploads","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201882,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201881,"elapsed":1.2e-05,"return_value":{"class":"Symbol","value":"report_top_uploads","object_id":20949148}},{"id":201883,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097568075520,"value":"moderators_activity","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201884,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201883,"elapsed":1.1e-05,"return_value":{"class":"Symbol","value":"report_moderators_activity","object_id":20950428}},{"id":201885,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097758191240,"value":"signups","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201886,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201885,"elapsed":9.0e-06,"return_value":{"class":"Symbol","value":"report_signups","object_id":20950748}},{"id":201887,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097766983900,"value":"storage_stats","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201888,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201887,"elapsed":9.0e-06,"return_value":{"class":"Symbol","value":"report_storage_stats","object_id":20952028}},{"id":201889,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797602640,"value":"suspicious_logins","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201890,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201889,"elapsed":1.1e-05,"return_value":{"class":"Symbol","value":"report_suspicious_logins","object_id":20952668}},{"id":201891,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797615720,"value":"new_contributors","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201892,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201891,"elapsed":9.0e-06,"return_value":{"class":"Symbol","value":"report_new_contributors","object_id":20953628}},{"id":201893,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797882000,"value":"users_by_trust_level","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201894,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201893,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_users_by_trust_level","object_id":20953948}},{"id":201895,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797917860,"value":"staff_logins","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201896,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201895,"elapsed":9.0e-06,"return_value":{"class":"Symbol","value":"report_staff_logins","object_id":20954588}},{"id":201897,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797933140,"value":"users_by_type","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201898,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201897,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_users_by_type","object_id":20954908}},{"id":201899,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797948040,"value":"user_flagging_ratio","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201900,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201899,"elapsed":1.1e-05,"return_value":{"class":"Symbol","value":"report_user_flagging_ratio","object_id":20956188}},{"id":201901,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797985360,"value":"post_edits","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201902,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201901,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_post_edits","object_id":20959068}},{"id":201903,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097797996720,"value":"daily_engaged_users","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201904,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201903,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_daily_engaged_users","object_id":20959388}},{"id":201905,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798052240,"value":"flags_status","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201906,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201905,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_flags_status","object_id":20964508}},{"id":201907,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798067000,"value":"trending_search","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201908,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201907,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_trending_search","object_id":20965468}},{"id":201909,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798082480,"value":"top_referrers","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201910,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201909,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_top_referrers","object_id":20966748}},{"id":201911,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798098880,"value":"top_traffic_sources","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201912,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201911,"elapsed":1.1e-05,"return_value":{"class":"Symbol","value":"report_top_traffic_sources","object_id":20967388}},{"id":201913,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798115920,"value":"top_referred_topics","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201914,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201913,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_top_referred_topics","object_id":20968028}},{"id":201915,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798133340,"value":"notify_user_private_messages","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201916,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201915,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_notify_user_private_messages","object_id":20968348}},{"id":201917,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798151760,"value":"user_to_user_private_messages","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201918,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201917,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_user_to_user_private_messages","object_id":20968668}},{"id":201919,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798168240,"value":"user_to_user_private_messages_with_replies","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201920,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201919,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_user_to_user_private_messages_with_replies","object_id":20968988}},{"id":201921,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798184020,"value":"system_private_messages","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201922,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201921,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_system_private_messages","object_id":20969308}},{"id":201923,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798200740,"value":"moderator_warning_private_messages","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201924,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201923,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_moderator_warning_private_messages","object_id":20969628}},{"id":201925,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798213300,"value":"notify_moderators_private_messages","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201926,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201925,"elapsed":1.2e-05,"return_value":{"class":"Symbol","value":"report_notify_moderators_private_messages","object_id":20969948}},{"id":201927,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097719436860,"value":"flags","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201928,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201927,"elapsed":1.1e-05,"return_value":{"class":"Symbol","value":"report_flags","object_id":20970268}},{"id":201929,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097718440600,"value":"likes","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201930,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201929,"elapsed":1.0e-05,"return_value":{"class":"Symbol","value":"report_likes","object_id":20970588}},{"id":201931,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190060,"value":"bookmarks","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201932,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201931,"elapsed":3.0e-05,"return_value":{"class":"Symbol","value":"report_bookmarks","object_id":20970908}},{"id":201933,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798317740,"value":"dau_by_mau","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201934,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201933,"elapsed":1.6e-05,"return_value":{"class":"Symbol","value":"report_dau_by_mau","object_id":20972508}},{"id":201935,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798333600,"value":"profile_views","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201936,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201935,"elapsed":1.4e-05,"return_value":{"class":"Symbol","value":"report_profile_views","object_id":20972828}},{"id":201937,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715168520,"value":"topics","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201938,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201937,"elapsed":1.3e-05,"return_value":{"class":"Symbol","value":"report_topics","object_id":20973148}},{"id":201939,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715168720,"value":"posts","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201940,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201939,"elapsed":1.8e-05,"return_value":{"class":"Symbol","value":"report_posts","object_id":20973468}},{"id":201941,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798378540,"value":"time_to_first_response","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201942,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201941,"elapsed":1.7e-05,"return_value":{"class":"Symbol","value":"report_time_to_first_response","object_id":20973788}},{"id":201943,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798396940,"value":"topics_with_no_response","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201944,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201943,"elapsed":1.3e-05,"return_value":{"class":"Symbol","value":"report_topics_with_no_response","object_id":20974108}},{"id":201945,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097757631040,"value":"emails","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201946,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201945,"elapsed":1.5e-05,"return_value":{"class":"Symbol","value":"report_emails","object_id":20974428}},{"id":201947,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097567288640,"value":"web_crawlers","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201948,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201947,"elapsed":2.0e-05,"return_value":{"class":"Symbol","value":"report_web_crawlers","object_id":20974748}},{"id":201949,"event":"call","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097798426220,"value":"trust_level_growth","kind":"req"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097567340900,"value":"Report"}},{"id":201950,"event":"return","defined_class":"Report","method_id":"add_report","path":"app/models/report.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":201949,"elapsed":1.5e-05,"return_value":{"class":"Symbol","value":"report_trust_level_growth","object_id":20975388}},{"id":201951,"event":"return","defined_class":"AdminDashboardData","method_id":"stats_cache_key","path":"app/models/admin_dashboard_data.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":201872,"elapsed":0.037539,"return_value":{"class":"String","value":"dashboard-data-4","object_id":70097798442500}},{"id":201952,"event":"call","defined_class":"About","method_id":"stats_cache_key","path":"app/models/about.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":201953,"event":"return","defined_class":"About","method_id":"stats_cache_key","path":"app/models/about.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":201952,"elapsed":6.0e-06,"return_value":{"class":"String","value":"about-stats","object_id":70097567043740}},{"id":201954,"event":"return","defined_class":"TopicTimestampChanger","method_id":"change!","path":"app/services/topic_timestamp_changer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":201283,"elapsed":0.377774,"return_value":{"class":"Array","value":"[AdminDashboardData, About]","object_id":70097567206240}},{"id":201955,"event":"call","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201956,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201957,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201958,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":201957,"elapsed":3.0e-06},{"id":201959,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 234 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":201960,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":201959,"elapsed":0.001223},{"id":201961,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":201956,"elapsed":0.005087,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81c0057bb8>","object_id":70097624546780}},{"id":201962,"event":"return","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parent_id":201955,"elapsed":0.005225,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81c0057bb8>","object_id":70097624546780}},{"id":201963,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097815769960,"value":"BasicTopicSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201964,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097815769960,"value":"BasicTopicSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201965,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201966,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":201965,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bbde1040>","object_id":70097589700640}},{"id":201967,"event":"call","defined_class":"Topic","method_id":"fancy_title","path":"app/models/topic.rb","lineno":438,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201968,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097733264440,"value":"This is a test topic 61","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":201969,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":201968,"elapsed":0.000141,"return_value":{"class":"String","value":"This is a test topic 61","object_id":70097733285600}},{"id":201970,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":201971,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parent_id":201970,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"400","object_id":801}},{"id":201972,"event":"return","defined_class":"Topic","method_id":"fancy_title","path":"app/models/topic.rb","lineno":438,"static":false,"thread_id":70097708498960,"parent_id":201967,"elapsed":0.002131,"return_value":{"class":"String","value":"This is a test topic 61","object_id":70097733285600}},{"id":201973,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097624546780,"value":"#<Topic:0x00007f81c0057bb8>"}},{"id":201974,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":201973,"elapsed":1.6e-05,"return_value":{"class":"String","value":"this-is-a-test-topic-61","object_id":70097733303740}},{"id":201975,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":201964,"elapsed":0.002701,"return_value":{"class":"Hash","value":"{:basic_topic=>{:id=>234, :title=>\"This is a test topic 61\", :fancy_title=>\"This is a test topic 61\"","object_id":70097733267780}},{"id":201976,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097733267780,"value":"{:basic_topic=>{:id=>234, :title=>\"This is a test topic 61\", :fancy_title=>\"This is a test topic 61\"","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201977,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":201976,"elapsed":0.000137,"return_value":{"class":"String","value":"{\"basic_topic\":{\"id\":234,\"title\":\"This is a test topic 61\",\"fancy_title\":\"This is a test topic 61\",\"","object_id":70097733299120}},{"id":201978,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":201963,"elapsed":0.003066,"return_value":{"class":"String","value":"{\"basic_topic\":{\"id\":234,\"title\":\"This is a test topic 61\",\"fancy_title\":\"This is a test topic 61\",\"","object_id":70097733299120}},{"id":201979,"event":"return","defined_class":"TopicsController","method_id":"publish","path":"app/controllers/topics_controller.rb","lineno":163,"static":false,"thread_id":70097708498960,"parent_id":201238,"elapsed":0.445044,"return_value":{"class":"String","value":"{\"basic_topic\":{\"id\":234,\"title\":\"This is a test topic 61\",\"fancy_title\":\"This is a test topic 61\",\"","object_id":70097733299120}},{"id":201980,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201981,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":201980,"elapsed":9.0e-06},{"id":201982,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201983,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":201982,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097733316340}},{"id":201984,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097613948720,"value":"#<TopicsController:0x00007f81bec20e60>"}},{"id":201985,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201986,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201985,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201987,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097589334720,"value":"#<User:0x00007f81bbd2e580>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097613867440,"value":"#<ActionDispatch::Request::Session:0x00007f81bebf9360>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097609289580,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81be33ded8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201988,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201989,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201990,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201989,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201991,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":201988,"elapsed":0.000109},{"id":201992,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201993,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097614002580,"value":"#<TestCurrentUserProvider:0x00007f81bec3b328>"}},{"id":201994,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":201993,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd2e580>","object_id":70097589334720}},{"id":201995,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":201992,"elapsed":9.0e-05},{"id":201996,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":201987,"elapsed":0.000443},{"id":201997,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":201984,"elapsed":0.00066},{"id":201998,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":201135,"elapsed":0.492092,"http_server_response":{"status":200}},{"id":201999,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733349660,"value":"#<TestCurrentUserProvider:0x00007f81ccfde238>"}},{"id":202000,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":201999,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":202001,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":202002,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":202001,"elapsed":5.0e-06},{"id":202003,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":202004,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":202003,"elapsed":3.0e-06},{"id":202005,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":202006,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":202005,"elapsed":5.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097733383760}},{"id":202007,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 234 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":202008,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":202007,"elapsed":0.001122}]}