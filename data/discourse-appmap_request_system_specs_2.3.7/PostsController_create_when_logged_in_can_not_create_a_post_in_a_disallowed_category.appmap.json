{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"PostsController #create when logged in can not create a post in a disallowed category","app":"Discourse","feature":"PostsController #create","feature_group":"Posts","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"Category","type":"class","children":[{"name":"set_permissions","type":"function","location":"app/models/category.rb:473","static":false},{"name":"parent_category_validator","type":"function","location":"app/models/category.rb:444","static":false},{"name":"email_in_validator","type":"function","location":"app/models/category.rb:628","static":false},{"name":"ensure_slug","type":"function","location":"app/models/category.rb:337","static":false},{"name":"duplicate_slug?","type":"function","location":"app/models/category.rb:333","static":false},{"name":"permissions_compatibility_validator","type":"function","location":"app/models/category.rb:813","static":false},{"name":"apply_permissions","type":"function","location":"app/models/category.rb:494","static":false},{"name":"downcase_email","type":"function","location":"app/models/category.rb:624","static":false},{"name":"downcase_name","type":"function","location":"app/models/category.rb:643","static":false},{"name":"publish_discourse_stylesheet","type":"function","location":"app/models/category.rb:759","static":false},{"name":"publish_category","type":"function","location":"app/models/category.rb:370","static":false},{"name":"uncategorized?","type":"function","location":"app/models/category.rb:699","static":false},{"name":"description_text","type":"function","location":"app/models/category.rb:305","static":false},{"name":"description_excerpt","type":"function","location":"app/models/category.rb:315","static":false},{"name":"topic_url","type":"function","location":"app/models/category.rb:297","static":false},{"name":"reset_topic_ids_cache","type":"function","location":"app/models/category.rb:154","static":false},{"name":"clear_subcategory_ids","type":"function","location":"app/models/category.rb:186","static":false},{"name":"clear_url_cache","type":"function","location":"app/models/category.rb:719","static":false},{"name":"index_search","type":"function","location":"app/models/category.rb:763","static":false},{"name":"update_reviewables","type":"function","location":"app/models/category.rb:767","static":false},{"name":"trigger_category_updated_event","type":"function","location":"app/models/category.rb:807","static":false},{"name":"require_topic_approval?","type":"function","location":"app/models/category.rb:528","static":false}]},{"name":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","type":"class","children":[{"name":"resolve_permissions","type":"function","location":"app/models/category.rb:504","static":true}]},{"name":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","type":"class","children":[{"name":"permission_types","type":"function","location":"app/models/category_group.rb:9","static":true}]},{"name":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","type":"class","children":[{"name":"group_id_from_param","type":"function","location":"app/models/group.rb:576","static":true},{"name":"[]","type":"function","location":"app/models/group.rb:515","static":true},{"name":"lookup_group","type":"function","location":"app/models/group.rb:525","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false},{"name":"custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:173","static":false}]},{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"default_notification_level","type":"function","location":"app/models/category_user.rb:200","static":true},{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"post_count","type":"function","location":"app/models/user.rb:824","static":false},{"name":"topic_count","type":"function","location":"app/models/user.rb:414","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"secure_category_ids","type":"function","location":"app/models/user.rb:999","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicCategorySerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/basic_category_serializer.rb:42","static":false},{"name":"description","type":"function","location":"app/serializers/basic_category_serializer.rb:50","static":false},{"name":"description_text","type":"function","location":"app/serializers/basic_category_serializer.rb:46","static":false},{"name":"description_excerpt","type":"function","location":"app/serializers/basic_category_serializer.rb:54","static":false},{"name":"include_parent_category_id?","type":"function","location":"app/serializers/basic_category_serializer.rb:38","static":false},{"name":"include_can_edit?","type":"function","location":"app/serializers/basic_category_serializer.rb:62","static":false}]},{"name":"CategorySerializer","type":"class","children":[{"name":"notification_level","type":"function","location":"app/serializers/category_serializer.rb:84","static":false},{"name":"include_custom_fields?","type":"function","location":"app/serializers/category_serializer.rb:95","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/category_serializer.rb:91","static":false},{"name":"available_groups","type":"function","location":"app/serializers/category_serializer.rb:47","static":false},{"name":"group_permissions","type":"function","location":"app/serializers/category_serializer.rb:32","static":false},{"name":"include_email_in?","type":"function","location":"app/serializers/category_serializer.rb:76","static":false},{"name":"include_email_in_allow_strangers?","type":"function","location":"app/serializers/category_serializer.rb:80","static":false},{"name":"include_can_delete?","type":"function","location":"app/serializers/category_serializer.rb:64","static":false},{"name":"cannot_delete_reason","type":"function","location":"app/serializers/category_serializer.rb:68","static":false},{"name":"include_is_special?","type":"function","location":"app/serializers/category_serializer.rb:55","static":false},{"name":"include_reviewable_by_group_name?","type":"function","location":"app/serializers/category_serializer.rb:28","static":false}]},{"name":"SiteCategorySerializer","type":"class","children":[{"name":"include_allowed_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:12","static":false},{"name":"include_allowed_tag_groups?","type":"function","location":"app/serializers/site_category_serializer.rb:20","static":false},{"name":"include_allow_global_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:28","static":false},{"name":"required_tag_group_name","type":"function","location":"app/serializers/site_category_serializer.rb:32","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]},{"name":"WordWatcher","type":"class","children":[{"name":"should_block?","type":"function","location":"app/services/word_watcher.rb:73","static":false},{"name":"word_matches_for_action?","type":"function","location":"app/services/word_watcher.rb:77","static":false},{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true},{"name":"requires_approval?","type":"function","location":"app/services/word_watcher.rb:65","static":false}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"rescue_discourse_actions","type":"function","location":"app/controllers/application_controller.rb:229","static":false}]},{"name":"PostsController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/posts_controller.rb:164","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"can_create?","type":"function","location":"lib/guardian.rb:129","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"can_see?","type":"function","location":"lib/guardian.rb:122","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"is_staged?","type":"function","location":"lib/guardian.rb:113","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"can_see_category?","type":"function","location":"lib/guardian/category_guardian.rb:49","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:57","static":false}]}]}],"events":[{"id":56599,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 8 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56600,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56599,"elapsed":0.001046},{"id":56601,"event":"call","defined_class":"Category","method_id":"set_permissions","path":"app/models/category.rb","lineno":473,"static":false,"thread_id":70159167627220,"parameters":[{"name":"permissions","class":"Hash","object_id":70159031527760,"value":"{:staff=>:full}","kind":"req"}],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56602,"event":"call","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"resolve_permissions","path":"app/models/category.rb","lineno":504,"static":true,"thread_id":70159167627220,"parameters":[{"name":"permissions","class":"Hash","object_id":70159031527760,"value":"{:staff=>:full}","kind":"req"}],"receiver":{"class":"Class","object_id":70159260375820,"value":"Category"}},{"id":56603,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159169825460,"value":"CategoryGroup"}},{"id":56604,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70159167627220,"parent_id":56603,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70159171158100}},{"id":56605,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"group_id_from_param","path":"app/models/group.rb","lineno":576,"static":true,"thread_id":70159167627220,"parameters":[{"name":"group_param","class":"Symbol","object_id":2673308,"value":"staff","kind":"req"}],"receiver":{"class":"Class","object_id":70159186697160,"value":"Group"}},{"id":56606,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70159167627220,"parameters":[{"name":"name","class":"Symbol","object_id":2673308,"value":"staff","kind":"req"}],"receiver":{"class":"Class","object_id":70159186697160,"value":"Group"}},{"id":56607,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70159167627220,"parameters":[{"name":"name","class":"Symbol","object_id":2673308,"value":"staff","kind":"req"}],"receiver":{"class":"Class","object_id":70159186697160,"value":"Group"}},{"id":56608,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"id\" = 3 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56609,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56608,"elapsed":0.000962},{"id":56610,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"lookup_group","path":"app/models/group.rb","lineno":525,"static":true,"thread_id":70159167627220,"parent_id":56607,"elapsed":0.002959,"return_value":{"class":"Group","value":"#<Group:0x00007f9e713b14f8>","object_id":70159240628860}},{"id":56611,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"[]","path":"app/models/group.rb","lineno":515,"static":true,"thread_id":70159167627220,"parent_id":56606,"elapsed":0.003082,"return_value":{"class":"Group","value":"#<Group:0x00007f9e713b14f8>","object_id":70159240628860}},{"id":56612,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"group_id_from_param","path":"app/models/group.rb","lineno":576,"static":true,"thread_id":70159167627220,"parent_id":56605,"elapsed":0.003206,"return_value":{"class":"Integer","value":"3","object_id":7}},{"id":56613,"event":"call","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159169825460,"value":"CategoryGroup"}},{"id":56614,"event":"return","defined_class":"CategoryGroup(id: integer, category_id: integer, group_id: integer, created_at: datetime, updated_at: datetime, permission_type: integer)","method_id":"permission_types","path":"app/models/category_group.rb","lineno":9,"static":true,"thread_id":70159167627220,"parent_id":56613,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:full=>1, :create_post=>2, :readonly=>3}","object_id":70159171158100}},{"id":56615,"event":"return","defined_class":"Category(id: integer, name: string, color: string, topic_id: integer, topic_count: integer, created_at: datetime, updated_at: datetime, user_id: integer, topics_year: integer, topics_month: integer, topics_week: integer, slug: string, description: text, text_color: string, read_restricted: boolean, auto_close_hours: float, post_count: integer, latest_post_id: integer, latest_topic_id: integer, position: integer, parent_category_id: integer, posts_year: integer, posts_month: integer, posts_week: integer, email_in: string, email_in_allow_strangers: boolean, topics_day: integer, posts_day: integer, allow_badges: boolean, name_lower: string, auto_close_based_on_last_post: boolean, topic_template: text, contains_messages: boolean, sort_order: string, sort_ascending: boolean, uploaded_logo_id: integer, uploaded_background_id: integer, topic_featured_link_allowed: boolean, all_topics_wiki: boolean, show_subcategory_list: boolean, num_featured_topics: integer, default_view: string, subcategory_list_style: string, default_top_period: string, mailinglist_mirror: boolean, minimum_required_tags: integer, navigate_to_first_post_after_read: boolean, search_priority: integer, allow_global_tags: boolean, reviewable_by_group_id: integer, required_tag_group_id: integer, min_tags_from_required_group: integer, read_only_banner: string, default_list_filter: string)","method_id":"resolve_permissions","path":"app/models/category.rb","lineno":504,"static":true,"thread_id":70159167627220,"parent_id":56602,"elapsed":0.00355,"return_value":{"class":"Array","value":"[true, [[3, 1]]]","object_id":70159240648800}},{"id":56616,"event":"return","defined_class":"Category","method_id":"set_permissions","path":"app/models/category.rb","lineno":473,"static":false,"thread_id":70159167627220,"parent_id":56601,"elapsed":0.003696,"return_value":{"class":"Array","value":"[true, [[3, 1]]]","object_id":70159240648800}},{"id":56617,"event":"call","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56618,"event":"return","defined_class":"Category","method_id":"parent_category_validator","path":"app/models/category.rb","lineno":444,"static":false,"thread_id":70159167627220,"parent_id":56617,"elapsed":9.0e-06},{"id":56619,"event":"call","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56620,"event":"return","defined_class":"Category","method_id":"email_in_validator","path":"app/models/category.rb","lineno":628,"static":false,"thread_id":70159167627220,"parent_id":56619,"elapsed":1.1e-05},{"id":56621,"event":"call","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56622,"event":"call","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56623,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":56624,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56623,"elapsed":0.000799},{"id":56625,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT 1 AS one FROM \"categories\" WHERE \"categories\".\"slug\" = 'amazing-category-0' AND \"categories\".\"parent_category_id\" IS NULL AND \"categories\".\"id\" != 8 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56626,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56625,"elapsed":0.000933},{"id":56627,"event":"return","defined_class":"Category","method_id":"duplicate_slug?","path":"app/models/category.rb","lineno":333,"static":false,"thread_id":70159167627220,"parent_id":56622,"elapsed":0.006611},{"id":56628,"event":"return","defined_class":"Category","method_id":"ensure_slug","path":"app/models/category.rb","lineno":337,"static":false,"thread_id":70159167627220,"parent_id":56621,"elapsed":0.006768},{"id":56629,"event":"call","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56630,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"parent_category_id\" = 8","database_type":"postgres","server_version":110006}},{"id":56631,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56630,"elapsed":0.001023},{"id":56632,"event":"return","defined_class":"Category","method_id":"permissions_compatibility_validator","path":"app/models/category.rb","lineno":813,"static":false,"thread_id":70159167627220,"parent_id":56629,"elapsed":0.003923},{"id":56633,"event":"call","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56634,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"category_groups\".* FROM \"category_groups\" WHERE \"category_groups\".\"category_id\" = 8","database_type":"postgres","server_version":110006}},{"id":56635,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56634,"elapsed":0.000901},{"id":56636,"event":"return","defined_class":"Category","method_id":"apply_permissions","path":"app/models/category.rb","lineno":494,"static":false,"thread_id":70159167627220,"parent_id":56633,"elapsed":0.006801},{"id":56637,"event":"call","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56638,"event":"return","defined_class":"Category","method_id":"downcase_email","path":"app/models/category.rb","lineno":624,"static":false,"thread_id":70159167627220,"parent_id":56637,"elapsed":1.4e-05},{"id":56639,"event":"call","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56640,"event":"return","defined_class":"Category","method_id":"downcase_name","path":"app/models/category.rb","lineno":643,"static":false,"thread_id":70159167627220,"parent_id":56639,"elapsed":1.5e-05,"return_value":{"class":"String","value":"amazing category 0","object_id":70159291996220}},{"id":56641,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"UPDATE \"categories\" SET \"read_restricted\" = TRUE, \"updated_at\" = '2020-05-28 18:45:52.749053' WHERE \"categories\".\"id\" = 8","database_type":"postgres","server_version":110006}},{"id":56642,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56641,"elapsed":0.001107},{"id":56643,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"category_groups\" (\"category_id\", \"group_id\", \"created_at\", \"updated_at\") VALUES (8, 3, '2020-05-28 18:45:52.752623', '2020-05-28 18:45:52.752623') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":56644,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56643,"elapsed":0.001006},{"id":56645,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70159167627220,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56646,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56647,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70159167627220,"parent_id":56646,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56648,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70159167627220,"parent_id":56645,"elapsed":0.000103},{"id":56649,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243560180,"value":"Site"}},{"id":56650,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70159167627220,"parent_id":56649,"elapsed":6.3e-05,"return_value":{"class":"Integer","value":"566","object_id":1133}},{"id":56651,"event":"call","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56652,"event":"return","defined_class":"Category","method_id":"publish_discourse_stylesheet","path":"app/models/category.rb","lineno":759,"static":false,"thread_id":70159167627220,"parent_id":56651,"elapsed":4.7e-05,"return_value":{"class":"Hash","value":"{}","object_id":70159030952320}},{"id":56653,"event":"call","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56654,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"groups\".\"id\" FROM \"groups\" INNER JOIN \"category_groups\" ON \"groups\".\"id\" = \"category_groups\".\"group_id\" WHERE \"category_groups\".\"category_id\" = 8","database_type":"postgres","server_version":110006}},{"id":56655,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56654,"elapsed":0.001071},{"id":56656,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56657,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56658,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parent_id":56657,"elapsed":9.0e-06},{"id":56659,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70159167627220,"parent_id":56656,"elapsed":0.000105,"return_value":{"class":"String","value":"Amazing Category 0","object_id":70159038076780}},{"id":56660,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56661,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56662,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parent_id":56661,"elapsed":6.0e-06},{"id":56663,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70159167627220,"parent_id":56660,"elapsed":9.4e-05},{"id":56664,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56665,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56666,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parent_id":56665,"elapsed":6.0e-06},{"id":56667,"event":"call","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56668,"event":"return","defined_class":"Category","method_id":"description_text","path":"app/models/category.rb","lineno":305,"static":false,"thread_id":70159167627220,"parent_id":56667,"elapsed":4.0e-06},{"id":56669,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70159167627220,"parent_id":56664,"elapsed":0.000169},{"id":56670,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56671,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56672,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70159167627220,"parent_id":56671,"elapsed":6.0e-06},{"id":56673,"event":"call","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56674,"event":"return","defined_class":"Category","method_id":"description_excerpt","path":"app/models/category.rb","lineno":315,"static":false,"thread_id":70159167627220,"parent_id":56673,"elapsed":4.0e-06},{"id":56675,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70159167627220,"parent_id":56670,"elapsed":0.000167},{"id":56676,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56677,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70159167627220,"parent_id":56676,"elapsed":2.3e-05},{"id":56678,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56679,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70159167627220,"parent_id":56678,"elapsed":7.0e-06},{"id":56680,"event":"call","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56681,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159031558800,"value":"CategoryUser"}},{"id":56682,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159031558800,"value":"CategoryUser"}},{"id":56683,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70159167627220,"parent_id":56682,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70159032233340}},{"id":56684,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70159167627220,"parent_id":56681,"elapsed":0.000113,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":56685,"event":"return","defined_class":"CategorySerializer","method_id":"notification_level","path":"app/serializers/category_serializer.rb","lineno":84,"static":false,"thread_id":70159167627220,"parent_id":56680,"elapsed":0.000209,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":56686,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56687,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70159167627220,"parent_id":56686,"elapsed":3.0e-06},{"id":56688,"event":"call","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56689,"event":"return","defined_class":"CategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/category_serializer.rb","lineno":95,"static":false,"thread_id":70159167627220,"parent_id":56688,"elapsed":2.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56690,"event":"call","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56691,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56692,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"category_custom_fields\".\"name\", \"category_custom_fields\".\"value\" FROM \"category_custom_fields\" WHERE \"category_custom_fields\".\"category_id\" = 8 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":56693,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56692,"elapsed":0.000872},{"id":56694,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70159167627220,"parent_id":56691,"elapsed":0.003078,"return_value":{"class":"Hash","value":"{}","object_id":70159038448960}},{"id":56695,"event":"return","defined_class":"CategorySerializer","method_id":"custom_fields","path":"app/serializers/category_serializer.rb","lineno":91,"static":false,"thread_id":70159167627220,"parent_id":56690,"elapsed":0.003184,"return_value":{"class":"Hash","value":"{}","object_id":70159038448960}},{"id":56696,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56697,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70159167627220,"parent_id":56696,"elapsed":5.0e-06},{"id":56698,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56699,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70159167627220,"parent_id":56698,"elapsed":4.0e-06},{"id":56700,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56701,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70159167627220,"parent_id":56700,"elapsed":4.0e-06},{"id":56702,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56703,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70159167627220,"parent_id":56702,"elapsed":2.0e-05},{"id":56704,"event":"call","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56705,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"groups\".\"name\" FROM \"groups\" ORDER BY \"groups\".\"name\" ASC","database_type":"postgres","server_version":110006}},{"id":56706,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56705,"elapsed":0.000833},{"id":56707,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56708,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"category_groups\".\"id\" AS t0_r0, \"category_groups\".\"category_id\" AS t0_r1, \"category_groups\".\"group_id\" AS t0_r2, \"category_groups\".\"created_at\" AS t0_r3, \"category_groups\".\"updated_at\" AS t0_r4, \"category_groups\".\"permission_type\" AS t0_r5, \"groups\".\"id\" AS t1_r0, \"groups\".\"name\" AS t1_r1, \"groups\".\"created_at\" AS t1_r2, \"groups\".\"updated_at\" AS t1_r3, \"groups\".\"automatic\" AS t1_r4, \"groups\".\"user_count\" AS t1_r5, \"groups\".\"automatic_membership_email_domains\" AS t1_r6, \"groups\".\"primary_group\" AS t1_r7, \"groups\".\"title\" AS t1_r8, \"groups\".\"grant_trust_level\" AS t1_r9, \"groups\".\"incoming_email\" AS t1_r10, \"groups\".\"has_messages\" AS t1_r11, \"groups\".\"flair_bg_color\" AS t1_r12, \"groups\".\"flair_color\" AS t1_r13, \"groups\".\"bio_raw\" AS t1_r14, \"groups\".\"bio_cooked\" AS t1_r15, \"groups\".\"allow_membership_requests\" AS t1_r16, \"groups\".\"full_name\" AS t1_r17, \"groups\".\"default_notification_level\" AS t1_r18, \"groups\".\"visibility_level\" AS t1_r19, \"groups\".\"public_exit\" AS t1_r20, \"groups\".\"public_admission\" AS t1_r21, \"groups\".\"membership_request_template\" AS t1_r22, \"groups\".\"messageable_level\" AS t1_r23, \"groups\".\"mentionable_level\" AS t1_r24, \"groups\".\"publish_read_state\" AS t1_r25, \"groups\".\"members_visibility_level\" AS t1_r26, \"groups\".\"flair_icon\" AS t1_r27, \"groups\".\"flair_upload_id\" AS t1_r28 FROM \"category_groups\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"category_groups\".\"group_id\" WHERE \"category_groups\".\"category_id\" = 8 ORDER BY groups.name","database_type":"postgres","server_version":110006}},{"id":56709,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56708,"elapsed":0.001066},{"id":56710,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70159167627220,"parent_id":56707,"elapsed":0.004048,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"staff\"}]","object_id":70159038828160}},{"id":56711,"event":"return","defined_class":"CategorySerializer","method_id":"available_groups","path":"app/serializers/category_serializer.rb","lineno":47,"static":false,"thread_id":70159167627220,"parent_id":56704,"elapsed":0.006986,"return_value":{"class":"Array","value":"[\"admins\", \"everyone\", \"moderators\", \"trust_level_0\", \"trust_level_1\", \"trust_level_2\", \"trust_level","object_id":70159039291160}},{"id":56712,"event":"call","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56713,"event":"return","defined_class":"CategorySerializer","method_id":"group_permissions","path":"app/serializers/category_serializer.rb","lineno":32,"static":false,"thread_id":70159167627220,"parent_id":56712,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[{:permission_type=>1, :group_name=>\"staff\"}]","object_id":70159038828160}},{"id":56714,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56715,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in?","path":"app/serializers/category_serializer.rb","lineno":76,"static":false,"thread_id":70159167627220,"parent_id":56714,"elapsed":3.0e-06},{"id":56716,"event":"call","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56717,"event":"return","defined_class":"CategorySerializer","method_id":"include_email_in_allow_strangers?","path":"app/serializers/category_serializer.rb","lineno":80,"static":false,"thread_id":70159167627220,"parent_id":56716,"elapsed":2.0e-06},{"id":56718,"event":"call","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56719,"event":"return","defined_class":"CategorySerializer","method_id":"include_can_delete?","path":"app/serializers/category_serializer.rb","lineno":64,"static":false,"thread_id":70159167627220,"parent_id":56718,"elapsed":2.0e-06},{"id":56720,"event":"call","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56721,"event":"return","defined_class":"CategorySerializer","method_id":"cannot_delete_reason","path":"app/serializers/category_serializer.rb","lineno":68,"static":false,"thread_id":70159167627220,"parent_id":56720,"elapsed":3.0e-06},{"id":56722,"event":"call","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56723,"event":"return","defined_class":"CategorySerializer","method_id":"include_is_special?","path":"app/serializers/category_serializer.rb","lineno":55,"static":false,"thread_id":70159167627220,"parent_id":56722,"elapsed":9.0e-06},{"id":56724,"event":"call","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"CategorySerializer","object_id":70159038078840,"value":"#<CategorySerializer:0x00007f9e5915bef0>"}},{"id":56725,"event":"return","defined_class":"CategorySerializer","method_id":"include_reviewable_by_group_name?","path":"app/serializers/category_serializer.rb","lineno":28,"static":false,"thread_id":70159167627220,"parent_id":56724,"elapsed":6.0e-06},{"id":56726,"event":"return","defined_class":"Category","method_id":"publish_category","path":"app/models/category.rb","lineno":370,"static":false,"thread_id":70159167627220,"parent_id":56653,"elapsed":0.016446,"return_value":{"class":"Integer","value":"568","object_id":1137}},{"id":56727,"event":"call","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56728,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"categories\".\"topic_id\" FROM \"categories\"","database_type":"postgres","server_version":110006}},{"id":56729,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56728,"elapsed":0.000863},{"id":56730,"event":"return","defined_class":"Category","method_id":"reset_topic_ids_cache","path":"app/models/category.rb","lineno":154,"static":false,"thread_id":70159167627220,"parent_id":56727,"elapsed":0.002701,"return_value":{"class":"Set","value":"#<Set: {}>","object_id":70159292840740}},{"id":56731,"event":"call","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56732,"event":"return","defined_class":"Category","method_id":"clear_subcategory_ids","path":"app/models/category.rb","lineno":186,"static":false,"thread_id":70159167627220,"parent_id":56731,"elapsed":4.2e-05,"return_value":{"class":"Hash","value":"{}","object_id":70159171329500}},{"id":56733,"event":"call","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56734,"event":"return","defined_class":"Category","method_id":"clear_url_cache","path":"app/models/category.rb","lineno":719,"static":false,"thread_id":70159167627220,"parent_id":56733,"elapsed":3.5e-05,"return_value":{"class":"Hash","value":"{}","object_id":70159171324080}},{"id":56735,"event":"call","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56736,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70159167627220,"parameters":[{"name":"obj","class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70159273152320,"value":"SearchIndexer"}},{"id":56737,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70159167627220,"parent_id":56736,"elapsed":4.0e-06},{"id":56738,"event":"return","defined_class":"Category","method_id":"index_search","path":"app/models/category.rb","lineno":763,"static":false,"thread_id":70159167627220,"parent_id":56735,"elapsed":9.4e-05},{"id":56739,"event":"call","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56740,"event":"return","defined_class":"Category","method_id":"update_reviewables","path":"app/models/category.rb","lineno":767,"static":false,"thread_id":70159167627220,"parent_id":56739,"elapsed":8.0e-06},{"id":56741,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":56742,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56741,"elapsed":0.000785},{"id":56743,"event":"call","defined_class":"Category","method_id":"trigger_category_updated_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>"}},{"id":56744,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":2642908,"value":"category","kind":"req"},{"name":"object","class":"Category","object_id":70159031527800,"value":"#<Category:0x00007f9e584dd2f0>","kind":"req"},{"name":"event","class":"Symbol","object_id":11067228,"value":"category_updated","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159187618820,"value":"WebHook"}},{"id":56745,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":2642908,"value":"category","kind":"req"}],"receiver":{"class":"Class","object_id":70159187618820,"value":"WebHook"}},{"id":56746,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70159167627220,"parent_id":56745,"elapsed":0.000176,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f9e777dfba0>","object_id":70159293152720}},{"id":56747,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'category') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56748,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56747,"elapsed":0.00098},{"id":56749,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70159167627220,"parent_id":56744,"elapsed":0.003558},{"id":56750,"event":"return","defined_class":"Category","method_id":"trigger_category_updated_event","path":"app/models/category.rb","lineno":807,"static":false,"thread_id":70159167627220,"parent_id":56743,"elapsed":0.003689,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56751,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56752,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56751,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":56753,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56754,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56753,"elapsed":1.0e-05},{"id":56755,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70159167627220,"http_server_request":{"request_method":"POST","path_info":"/posts.json"},"message":[{"name":"raw","class":"String","value":"this is the test content","object_id":70159285545460},{"name":"title","class":"String","value":"this is the test title for the topic","object_id":70159285544960},{"name":"category","class":"String","value":"8","object_id":70159285544520},{"name":"meta_data","class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"xyz\"=>\"abc\"}","object_id":70159286281180},{"name":"controller","class":"String","value":"posts","object_id":70159173182140},{"name":"action","class":"String","value":"create","object_id":70159167473840},{"name":"format","class":"String","value":"json","object_id":70159286272680}]},{"id":56756,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56757,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56758,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56759,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56760,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70159167627220,"parameters":[{"name":"unhashed_token","class":"String","object_id":70159032622920,"value":"26ec71f61c411197ba23fa1a7c1f14c4","kind":"req"},{"name":"opts","class":"Hash","object_id":70159032622480,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70159187995300,"value":"UserAuthToken"}},{"id":56761,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70159167627220,"parameters":[{"name":"token","class":"String","object_id":70159032622920,"value":"26ec71f61c411197ba23fa1a7c1f14c4","kind":"req"}],"receiver":{"class":"Class","object_id":70159187995300,"value":"UserAuthToken"}},{"id":56762,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":56763,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70159167627220,"parent_id":56762,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70159181206920}},{"id":56764,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70159167627220,"parent_id":56761,"elapsed":9.9e-05,"return_value":{"class":"String","value":"xUIxXPNUEul8OzAhZNPlGJG7Oas=","object_id":70159032617700}},{"id":56765,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'xUIxXPNUEul8OzAhZNPlGJG7Oas=' OR\n                          prev_auth_token = 'xUIxXPNUEul8OzAhZNPlGJG7Oas=') AND rotated_at > '2020-03-29 18:45:52.786510') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56766,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56765,"elapsed":0.000888},{"id":56767,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:45:52.790644' WHERE \"user_auth_tokens\".\"id\" = 156 AND \"user_auth_tokens\".\"auth_token\" = 'xUIxXPNUEul8OzAhZNPlGJG7Oas='","database_type":"postgres","server_version":110006}},{"id":56768,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56767,"elapsed":0.00087},{"id":56769,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"info","class":"Hash","object_id":70159062729240,"value":"{:action=>\"seen token\", :user_auth_token_id=>156, :user_id=>3, :auth_token=>\"xUIxXPNUEul8OzAhZNPlGJG","kind":"req"}],"receiver":{"class":"Class","object_id":70159187995300,"value":"UserAuthToken"}},{"id":56770,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":56771,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56770,"elapsed":0.000743},{"id":56772,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 156, 3, '127.0.0.1/32', 'xUIxXPNUEul8OzAhZNPlGJG7Oas=', '2020-05-28 18:45:52.794411') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":56773,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56772,"elapsed":0.000873},{"id":56774,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":56775,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56774,"elapsed":0.000703},{"id":56776,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":56769,"elapsed":0.011742,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f9e5c06b5d8>","object_id":70159062751980}},{"id":56777,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70159167627220,"parent_id":56760,"elapsed":0.019692,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f9e5b0a1d50>","object_id":70159054474920}},{"id":56778,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 3 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56779,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56778,"elapsed":0.000917},{"id":56780,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56781,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parent_id":56780,"elapsed":1.4e-05},{"id":56782,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56783,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70159167627220,"parent_id":56782,"elapsed":0.000703,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56784,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70159167627220,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56785,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70159167627220,"parent_id":56784,"elapsed":0.000664},{"id":56786,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70159167627220,"parameters":[{"name":"new_ip_address","class":"String","object_id":70159286299760,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56787,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 3","database_type":"postgres","server_version":110006}},{"id":56788,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56787,"elapsed":0.001024},{"id":56789,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70159167627220,"parent_id":56786,"elapsed":0.003726,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56790,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56759,"elapsed":0.029571,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56791,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parent_id":56758,"elapsed":0.029681,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f9e5caf1e80>","object_id":70159068270400}},{"id":56792,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159068270400,"value":"#<Guardian:0x00007f9e5caf1e80>"}},{"id":56793,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70159167627220,"parent_id":56792,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56794,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70159167627220,"parent_id":56757,"elapsed":0.029896},{"id":56795,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56796,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56795,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56797,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 3 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56798,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56797,"elapsed":0.000944},{"id":56799,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56800,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parent_id":56799,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f9e5caf1e80>","object_id":70159068270400}},{"id":56801,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70159167627220,"parameters":[{"name":"theme_ids","class":"Array","object_id":70159039337980,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70159068270400,"value":"#<Guardian:0x00007f9e5caf1e80>"}},{"id":56802,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70159167627220,"parent_id":56801,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56803,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70159167627220,"parent_id":56756,"elapsed":0.034214,"return_value":{"class":"Array","value":"[2]","object_id":70159039337980}},{"id":56804,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56805,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56806,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56805,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56807,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56808,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56807,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56809,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56810,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56809,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56811,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70159167627220,"parent_id":56804,"elapsed":0.000314,"return_value":{"class":"String","value":"posts/create","object_id":70159039353340}},{"id":56812,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56813,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56814,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56813,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56815,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70159167627220,"parent_id":56812,"elapsed":9.9e-05},{"id":56816,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56817,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56818,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56817,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56819,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56820,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56819,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56821,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56822,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70159167627220,"parent_id":56821,"elapsed":1.0e-05,"return_value":{"class":"String","value":"en_US","object_id":70159243988380}},{"id":56823,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56824,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56823,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":56825,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56826,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56825,"elapsed":8.0e-06},{"id":56827,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56828,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56827,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":56829,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56830,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56829,"elapsed":6.0e-06},{"id":56831,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70159167627220,"parent_id":56816,"elapsed":0.000629,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70159039387540}},{"id":56832,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56833,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70159167627220,"parent_id":56832,"elapsed":7.0e-06},{"id":56834,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56835,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56836,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56835,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56837,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":56834,"elapsed":8.8e-05},{"id":56838,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56839,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56838,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56840,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56841,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56840,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56842,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56843,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56842,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56844,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159275280740,"value":"PostsController"}},{"id":56845,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70159167627220,"parent_id":56844,"elapsed":2.0e-06,"return_value":{"class":"Hash","value":"{:except=>[:show, :replies, :by_number, :by_date, :short_link, :reply_history, :replyIids, :revision","object_id":70159262607200}},{"id":56846,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56847,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56846,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56848,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56849,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70159167627220,"parent_id":56848,"elapsed":9.0e-06},{"id":56850,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56851,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56852,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56851,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56853,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":56850,"elapsed":8.7e-05},{"id":56854,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56855,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56856,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56855,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56857,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70159167627220,"parent_id":56854,"elapsed":8.5e-05},{"id":56858,"event":"call","defined_class":"PostsController","method_id":"create","path":"app/controllers/posts_controller.rb","lineno":164,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56859,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56860,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56861,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56860,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56862,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":56859,"elapsed":8.6e-05},{"id":56863,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56864,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56863,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56865,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56866,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":56865,"elapsed":1.3e-05},{"id":56867,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56868,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56869,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56868,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56870,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":56867,"elapsed":9.3e-05},{"id":56871,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56872,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56871,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56873,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56874,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159032600580,"value":"#<TestCurrentUserProvider:0x00007f9e586e9008>"}},{"id":56875,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":56874,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e76acf438>","object_id":70159286303260}},{"id":56876,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":56873,"elapsed":8.6e-05},{"id":56877,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56878,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":56877,"elapsed":5.0e-06},{"id":56879,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70159039465880,"value":"#<WordWatcher:0x00007f9e59401330>"}},{"id":56880,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70159039465000,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70159039465880,"value":"#<WordWatcher:0x00007f9e59401330>"}},{"id":56881,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70159185702140,"value":"WordWatcher"}},{"id":56882,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70159185702140,"value":"WordWatcher"}},{"id":56883,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70159185702140,"value":"WordWatcher"}},{"id":56884,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70159167627220,"parent_id":56883,"elapsed":3.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70159039484820}},{"id":56885,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70159167627220,"parent_id":56882,"elapsed":0.000889},{"id":56886,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":56881,"elapsed":0.000988},{"id":56887,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70159167627220,"parent_id":56880,"elapsed":0.001074},{"id":56888,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70159167627220,"parent_id":56879,"elapsed":0.00116},{"id":56889,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56890,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":56889,"elapsed":7.0e-06},{"id":56891,"event":"call","defined_class":"User","method_id":"post_count","path":"app/models/user.rb","lineno":824,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56892,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 3 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56893,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56892,"elapsed":0.000831},{"id":56894,"event":"return","defined_class":"User","method_id":"post_count","path":"app/models/user.rb","lineno":824,"static":false,"thread_id":70159167627220,"parent_id":56891,"elapsed":0.003761,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":56895,"event":"call","defined_class":"User","method_id":"post_count","path":"app/models/user.rb","lineno":824,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56896,"event":"return","defined_class":"User","method_id":"post_count","path":"app/models/user.rb","lineno":824,"static":false,"thread_id":70159167627220,"parent_id":56895,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":56897,"event":"call","defined_class":"User","method_id":"topic_count","path":"app/models/user.rb","lineno":414,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56898,"event":"return","defined_class":"User","method_id":"topic_count","path":"app/models/user.rb","lineno":414,"static":false,"thread_id":70159167627220,"parent_id":56897,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":56899,"event":"call","defined_class":"WordWatcher","method_id":"requires_approval?","path":"app/services/word_watcher.rb","lineno":65,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70159241479620,"value":"#<WordWatcher:0x00007f9e71550b88>"}},{"id":56900,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":70159030259900,"value":"require_approval","kind":"req"},{"name":"all_matches","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70159241479620,"value":"#<WordWatcher:0x00007f9e71550b88>"}},{"id":56901,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":70159030259900,"value":"require_approval","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70159185702140,"value":"WordWatcher"}},{"id":56902,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":70159030259900,"value":"require_approval","kind":"req"}],"receiver":{"class":"Class","object_id":70159185702140,"value":"WordWatcher"}},{"id":56903,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70159167627220,"parameters":[{"name":"action","class":"Symbol","object_id":70159030259900,"value":"require_approval","kind":"req"}],"receiver":{"class":"Class","object_id":70159185702140,"value":"WordWatcher"}},{"id":56904,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70159167627220,"parent_id":56903,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:require_approval","object_id":70159241457620}},{"id":56905,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70159167627220,"parent_id":56902,"elapsed":0.000863},{"id":56906,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":56901,"elapsed":0.00096},{"id":56907,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70159167627220,"parent_id":56900,"elapsed":0.001043},{"id":56908,"event":"return","defined_class":"WordWatcher","method_id":"requires_approval?","path":"app/services/word_watcher.rb","lineno":65,"static":false,"thread_id":70159167627220,"parent_id":56899,"elapsed":0.001125},{"id":56909,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 8 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56910,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56909,"elapsed":0.001001},{"id":56911,"event":"call","defined_class":"Category","method_id":"require_topic_approval?","path":"app/models/category.rb","lineno":528,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159064280820,"value":"#<Category:0x00007f9e5c355de8>"}},{"id":56912,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Category","object_id":70159064280820,"value":"#<Category:0x00007f9e5c355de8>"}},{"id":56913,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"category_custom_fields\".\"name\", \"category_custom_fields\".\"value\" FROM \"category_custom_fields\" WHERE \"category_custom_fields\".\"category_id\" = 8 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":56914,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56913,"elapsed":0.000929},{"id":56915,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70159167627220,"parent_id":56912,"elapsed":0.003564,"return_value":{"class":"Hash","value":"{}","object_id":70159064428340}},{"id":56916,"event":"return","defined_class":"Category","method_id":"require_topic_approval?","path":"app/models/category.rb","lineno":528,"static":false,"thread_id":70159167627220,"parent_id":56911,"elapsed":0.003676},{"id":56917,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56918,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parent_id":56917,"elapsed":8.0e-06},{"id":56919,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"categories\".\"id\", \"categories\".\"name\", \"categories\".\"color\", \"categories\".\"topic_id\", \"categories\".\"topic_count\", \"categories\".\"created_at\", \"categories\".\"updated_at\", \"categories\".\"user_id\", \"categories\".\"topics_year\", \"categories\".\"topics_month\", \"categories\".\"topics_week\", \"categories\".\"slug\", \"categories\".\"description\", \"categories\".\"text_color\", \"categories\".\"read_restricted\", \"categories\".\"auto_close_hours\", \"categories\".\"post_count\", \"categories\".\"latest_post_id\", \"categories\".\"latest_topic_id\", \"categories\".\"position\", \"categories\".\"parent_category_id\", \"categories\".\"posts_year\", \"categories\".\"posts_month\", \"categories\".\"posts_week\", \"categories\".\"email_in\", \"categories\".\"email_in_allow_strangers\", \"categories\".\"topics_day\", \"categories\".\"posts_day\", \"categories\".\"allow_badges\", \"categories\".\"name_lower\", \"categories\".\"auto_close_based_on_last_post\", \"categories\".\"topic_template\", \"categories\".\"contains_messages\", \"categories\".\"sort_order\", \"categories\".\"sort_ascending\", \"categories\".\"uploaded_logo_id\", \"categories\".\"uploaded_background_id\", \"categories\".\"topic_featured_link_allowed\", \"categories\".\"all_topics_wiki\", \"categories\".\"show_subcategory_list\", \"categories\".\"num_featured_topics\", \"categories\".\"default_view\", \"categories\".\"subcategory_list_style\", \"categories\".\"default_top_period\", \"categories\".\"mailinglist_mirror\", \"categories\".\"minimum_required_tags\", \"categories\".\"navigate_to_first_post_after_read\", \"categories\".\"search_priority\", \"categories\".\"allow_global_tags\", \"categories\".\"reviewable_by_group_id\", \"categories\".\"required_tag_group_id\", \"categories\".\"min_tags_from_required_group\", \"categories\".\"read_only_banner\", \"categories\".\"default_list_filter\" FROM \"categories\" WHERE \"categories\".\"id\" = 8 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":56920,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56919,"elapsed":1.5e-05},{"id":56921,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70159167627220,"parameters":[{"name":"method","class":"Symbol","object_id":16482548,"value":"ensure_can_create!","kind":"req"},{"name":"args","class":"Class","object_id":70159256704680,"value":"Topic","kind":"rest"},{"name":"block","class":"Category","object_id":70159069282600,"value":"#<Category:0x00007f9e5cce0250>","kind":"block"}],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56922,"event":"call","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70159167627220,"parameters":[{"name":"klass","class":"Class","object_id":70159256704680,"value":"Topic","kind":"req"},{"name":"parent","class":"Category","object_id":70159069282600,"value":"#<Category:0x00007f9e5cce0250>","kind":"opt"}],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56923,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56924,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70159167627220,"parent_id":56923,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56925,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70159167627220,"parameters":[{"name":"obj","class":"Category","object_id":70159069282600,"value":"#<Category:0x00007f9e5cce0250>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56926,"event":"call","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70159167627220,"parameters":[{"name":"category","class":"Category","object_id":70159069282600,"value":"#<Category:0x00007f9e5cce0250>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56927,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56928,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56929,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70159167627220,"parent_id":56928,"elapsed":6.0e-06},{"id":56930,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70159167627220,"parent_id":56927,"elapsed":8.4e-05},{"id":56931,"event":"call","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56932,"event":"return","defined_class":"Guardian","method_id":"is_staged?","path":"lib/guardian.rb","lineno":113,"static":false,"thread_id":70159167627220,"parent_id":56931,"elapsed":1.6e-05},{"id":56933,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159064425800,"value":"#<Guardian:0x00007f9e5c39ca90>"}},{"id":56934,"event":"call","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56935,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286303260,"value":"#<User:0x00007f9e76acf438>"}},{"id":56936,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70159167627220,"parent_id":56935,"elapsed":4.0e-06},{"id":56937,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT categories.id FROM \"categories\" INNER JOIN \"category_groups\" ON \"categories\".\"id\" = \"category_groups\".\"category_id\" INNER JOIN \"groups\" ON \"category_groups\".\"group_id\" = \"groups\".\"id\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 3","database_type":"postgres","server_version":110006}},{"id":56938,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":56937,"elapsed":0.001156},{"id":56939,"event":"return","defined_class":"User","method_id":"secure_category_ids","path":"app/models/user.rb","lineno":999,"static":false,"thread_id":70159167627220,"parent_id":56934,"elapsed":0.004276,"return_value":{"class":"Array","value":"[]","object_id":70159069826520}},{"id":56940,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70159167627220,"parent_id":56933,"elapsed":0.00438,"return_value":{"class":"Array","value":"[]","object_id":70159069826520}},{"id":56941,"event":"return","defined_class":"CategoryGuardian","method_id":"can_see_category?","path":"lib/guardian/category_guardian.rb","lineno":49,"static":false,"thread_id":70159167627220,"parent_id":56926,"elapsed":0.004733},{"id":56942,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70159167627220,"parent_id":56925,"elapsed":0.004825},{"id":56943,"event":"return","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70159167627220,"parent_id":56922,"elapsed":0.005002},{"id":56944,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70159167627220,"parent_id":56921,"elapsed":0.005198,"exceptions":[{"class":"Discourse::InvalidAccess","message":"can_create? failed","object_id":70159069824080,"path":"/Users/kgilpin/source/appland/discourse/lib/guardian/ensure_magic.rb","lineno":11}]},{"id":56945,"event":"return","defined_class":"PostsController","method_id":"create","path":"app/controllers/posts_controller.rb","lineno":164,"static":false,"thread_id":70159167627220,"parent_id":56858,"elapsed":0.023552,"exceptions":[{"class":"Discourse::InvalidAccess","message":"can_create? failed","object_id":70159069824080,"path":"/Users/kgilpin/source/appland/discourse/lib/guardian/ensure_magic.rb","lineno":11}]},{"id":56946,"event":"call","defined_class":"ApplicationController","method_id":"rescue_discourse_actions","path":"app/controllers/application_controller.rb","lineno":229,"static":false,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":16415068,"value":"invalid_access","kind":"req"},{"name":"status_code","class":"Integer","object_id":807,"value":"403","kind":"req"},{"name":"opts","class":"Hash","object_id":70159069841320,"value":"{:include_ember=>true, :custom_message=>nil, :group=>nil}","kind":"opt"}],"receiver":{"class":"PostsController","object_id":70159286288020,"value":"#<PostsController:0x00007f9e76ac7d28>"}},{"id":56947,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56948,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56947,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":56949,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56950,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56949,"elapsed":8.0e-06},{"id":56951,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":56952,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":56951,"elapsed":3.0e-06},{"id":56953,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":56954,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":56953,"elapsed":2.0e-06},{"id":56955,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56956,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56955,"elapsed":2.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":56957,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":56958,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":56957,"elapsed":6.0e-06},{"id":56959,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":56960,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":56959,"elapsed":2.0e-06},{"id":56961,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":56962,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":56961,"elapsed":2.0e-06},{"id":56963,"event":"return","defined_class":"ApplicationController","method_id":"rescue_discourse_actions","path":"app/controllers/application_controller.rb","lineno":229,"static":false,"thread_id":70159167627220,"parent_id":56946,"elapsed":0.000841,"return_value":{"class":"String","value":"{\"errors\":[\"You are not permitted to view the requested resource.\"],\"error_type\":\"invalid_access\"}","object_id":70159069876520}},{"id":56964,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70159167627220,"parent_id":56755,"elapsed":0.062382,"http_server_response":{"status":403}},{"id":56965,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159069873960,"value":"#<TestCurrentUserProvider:0x00007f9e5ce00e50>"}},{"id":56966,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70159167627220,"parent_id":56965,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":56967,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":13079068,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159174700360,"value":"ApplicationRequest"}},{"id":56968,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":56967,"elapsed":4.0e-06},{"id":56969,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":13080348,"value":"http_4xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159174700360,"value":"ApplicationRequest"}},{"id":56970,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":56969,"elapsed":3.0e-06}]}