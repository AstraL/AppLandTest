{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"PostReadersController #index When the user has access to readers data doesn't include non-staff users when the post is a whisper","app":"Discourse","feature":"PostReadersController #index","feature_group":"Post readers","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","type":"class","children":[{"name":"types","type":"function","location":"app/models/post.rb:139","static":true}]},{"name":"Post","type":"class","children":[{"name":"acting_user","type":"function","location":"app/models/post.rb:324","static":false},{"name":"raw_mentions","type":"function","location":"app/models/post.rb:271","static":false},{"name":"post_analyzer","type":"function","location":"app/models/post.rb:259","static":false},{"name":"raw_hash","type":"function","location":"app/models/post.rb:250","static":false},{"name":"link_count","type":"function","location":"app/models/post.rb:271","static":false},{"name":"has_oneboxes?","type":"function","location":"app/models/post.rb:271","static":false},{"name":"index_search","type":"function","location":"app/models/post.rb:891","static":false},{"name":"whisper?","type":"function","location":"app/models/post.rb:162","static":false}]},{"name":"User","type":"class","children":[{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"has_trust_level?","type":"function","location":"app/models/user.rb:907","static":false},{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"Topic","type":"class","children":[{"name":"pm_with_non_human_user?","type":"function","location":"app/models/topic.rb:1486","static":false},{"name":"private_message?","type":"function","location":"app/models/topic.rb:551","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"private_message_post_length","type":"function","location":"app/models/site_setting.rb:52","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"PostAnalyzer","type":"class","children":[{"name":"raw_mentions","type":"function","location":"app/models/post_analyzer.rb:66","static":false},{"name":"cooked_stripped","type":"function","location":"app/models/post_analyzer.rb:132","static":false},{"name":"link_count","type":"function","location":"app/models/post_analyzer.rb:128","static":false},{"name":"raw_links","type":"function","location":"app/models/post_analyzer.rb:113","static":false},{"name":"has_oneboxes?","type":"function","location":"app/models/post_analyzer.rb:16","static":false},{"name":"found_oneboxes?","type":"function","location":"app/models/post_analyzer.rb:12","static":false}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PostValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/post_validator.rb:5","static":false},{"name":"presence","type":"function","location":"lib/validators/post_validator.rb:21","static":false},{"name":"post_body_validator","type":"function","location":"lib/validators/post_validator.rb:31","static":false},{"name":"stripped_length","type":"function","location":"lib/validators/post_validator.rb:38","static":false},{"name":"raw_quality","type":"function","location":"lib/validators/post_validator.rb:53","static":false},{"name":"max_posts_validator","type":"function","location":"lib/validators/post_validator.rb:69","static":false},{"name":"max_mention_validator","type":"function","location":"lib/validators/post_validator.rb:59","static":false},{"name":"max_images_validator","type":"function","location":"lib/validators/post_validator.rb:76","static":false},{"name":"max_attachments_validator","type":"function","location":"lib/validators/post_validator.rb:99","static":false},{"name":"can_post_links_validator","type":"function","location":"lib/validators/post_validator.rb:104","static":false},{"name":"newuser_links_validator","type":"function","location":"lib/validators/post_validator.rb:118","static":false},{"name":"unique_post_validator","type":"function","location":"lib/validators/post_validator.rb:124","static":false},{"name":"force_edit_last_validator","type":"function","location":"lib/validators/post_validator.rb:137","static":false}]},{"name":"StrippedLengthValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/stripped_length_validator.rb:4","static":true}]},{"name":"WatchedWordsValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/watched_words_validator.rb:4","static":false}]},{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"WordWatcher","type":"class","children":[{"name":"should_block?","type":"function","location":"app/services/word_watcher.rb:73","static":false},{"name":"word_matches_for_action?","type":"function","location":"app/services/word_watcher.rb:77","static":false},{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]},{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"PostReadersController","type":"class","children":[{"name":"index","type":"function","location":"app/controllers/post_readers_controller.rb:6","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]}],"events":[{"id":1299229,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1299230,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":1299229,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":1299231,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299232,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299231,"elapsed":0.000701},{"id":1299233,"event":"call","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299234,"event":"call","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299235,"event":"return","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":1299234,"elapsed":9.0e-06},{"id":1299236,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299237,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299236,"elapsed":1.5e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299238,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299239,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299238,"elapsed":9.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299240,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299241,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1299240,"elapsed":5.0e-06},{"id":1299242,"event":"call","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299243,"event":"call","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568192300,"value":"#<Topic:0x00007f81b94dae58>"}},{"id":1299244,"event":"return","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parent_id":1299243,"elapsed":0.001364},{"id":1299245,"event":"call","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299246,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568192300,"value":"#<Topic:0x00007f81b94dae58>"}},{"id":1299247,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":1299246,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299248,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_post_length","path":"app/models/site_setting.rb","lineno":52,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1299249,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_post_length","path":"app/models/site_setting.rb","lineno":52,"static":true,"thread_id":70097708498960,"parent_id":1299248,"elapsed":8.0e-06,"return_value":{"class":"Range","value":"10..32000","object_id":70097588169780}},{"id":1299250,"event":"call","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097588169140,"value":"Hello world","kind":"req"},{"name":"range","class":"Range","object_id":70097588169780,"value":"10..32000","kind":"req"}],"receiver":{"class":"Class","object_id":70097567701840,"value":"StrippedLengthValidator"}},{"id":1299251,"event":"return","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":1299250,"elapsed":5.0e-06},{"id":1299252,"event":"return","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":1299245,"elapsed":0.000411},{"id":1299253,"event":"call","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299254,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568192300,"value":"#<Topic:0x00007f81b94dae58>"}},{"id":1299255,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":1299254,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299256,"event":"return","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":1299253,"elapsed":0.000177},{"id":1299257,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299258,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299257,"elapsed":9.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299259,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097588169140,"value":"Hello world","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097588183240,"value":"#<WatchedWordsValidator:0x00007f81bbafc190>"}},{"id":1299260,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097588205720,"value":"#<WordWatcher:0x00007f81bbb07130>"}},{"id":1299261,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097588204540,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097588205720,"value":"#<WordWatcher:0x00007f81bbb07130>"}},{"id":1299262,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1299263,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1299264,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1299265,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":1299264,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097588222200}},{"id":1299266,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1299263,"elapsed":0.000951},{"id":1299267,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1299262,"elapsed":0.001073},{"id":1299268,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":1299261,"elapsed":0.001174},{"id":1299269,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":1299260,"elapsed":0.001279},{"id":1299270,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":1299259,"elapsed":0.001376},{"id":1299271,"event":"return","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":1299242,"elapsed":0.00395,"return_value":{"class":"Array","value":"[:raw]","object_id":70097588183280}},{"id":1299272,"event":"call","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299273,"event":"return","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":1299272,"elapsed":5.0e-06},{"id":1299274,"event":"call","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299275,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299276,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299275,"elapsed":1.3e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299277,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299278,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1299277,"elapsed":8.0e-06},{"id":1299279,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299280,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299279,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299281,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299282,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299281,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299283,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299284,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299285,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1299284,"elapsed":5.0e-06},{"id":1299286,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1299283,"elapsed":0.000109,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299287,"event":"call","defined_class":"Post","method_id":"raw_mentions","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299288,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299289,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299290,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":1299289,"elapsed":1.3e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097588284340}},{"id":1299291,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":1299288,"elapsed":0.000112,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81bea90398>","object_id":70097613128140}},{"id":1299292,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_mentions","path":"app/models/post_analyzer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299293,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299294,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":1299293,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097613261240}},{"id":1299295,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_mentions","path":"app/models/post_analyzer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":1299292,"elapsed":0.00027,"return_value":{"class":"Array","value":"[]","object_id":70097588298840}},{"id":1299296,"event":"return","defined_class":"Post","method_id":"raw_mentions","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1299287,"elapsed":0.000586,"return_value":{"class":"Array","value":"[]","object_id":70097588298840}},{"id":1299297,"event":"return","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parent_id":1299274,"elapsed":0.001328},{"id":1299298,"event":"call","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299299,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299300,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299299,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299301,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299302,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299301,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299303,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299304,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1299303,"elapsed":5.0e-06},{"id":1299305,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299306,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299305,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299307,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299308,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299307,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299309,"event":"return","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1299298,"elapsed":0.00046},{"id":1299310,"event":"call","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299311,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299312,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299311,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299313,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299314,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299313,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299315,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299316,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299317,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1299316,"elapsed":2.4e-05},{"id":1299318,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1299315,"elapsed":0.000119,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299319,"event":"return","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parent_id":1299310,"elapsed":0.000414},{"id":1299320,"event":"call","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299321,"event":"call","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299322,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299323,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299324,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":1299323,"elapsed":8.0e-06,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097588385120}},{"id":1299325,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":1299322,"elapsed":0.000102,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81bea90398>","object_id":70097613128140}},{"id":1299326,"event":"call","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299327,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299328,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299329,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":1299328,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097613261240}},{"id":1299330,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":1299327,"elapsed":0.000192,"return_value":{"class":"Array","value":"[]","object_id":70097588403500}},{"id":1299331,"event":"return","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parent_id":1299326,"elapsed":0.000292,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1299332,"event":"return","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1299321,"elapsed":0.000587,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1299333,"event":"call","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299334,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299335,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299336,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":1299335,"elapsed":8.0e-06,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097588414620}},{"id":1299337,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":1299334,"elapsed":0.000106,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81bea90398>","object_id":70097613128140}},{"id":1299338,"event":"call","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299339,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299340,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":1299339,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097613261240}},{"id":1299341,"event":"call","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097613128140,"value":"#<PostAnalyzer:0x00007f81bea90398>"}},{"id":1299342,"event":"return","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1299341,"elapsed":4.0e-06},{"id":1299343,"event":"return","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1299338,"elapsed":0.000226},{"id":1299344,"event":"return","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1299333,"elapsed":0.000553},{"id":1299345,"event":"call","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299346,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299347,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299346,"elapsed":1.1e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299348,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299349,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":1299348,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d85b8720>","object_id":70097828692880}},{"id":1299350,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299351,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828692880,"value":"#<User:0x00007f81d85b8720>"}},{"id":1299352,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1299351,"elapsed":5.0e-06},{"id":1299353,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":1299350,"elapsed":0.000109,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299354,"event":"return","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":1299345,"elapsed":0.000449},{"id":1299355,"event":"return","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parent_id":1299320,"elapsed":0.001894},{"id":1299356,"event":"call","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299357,"event":"return","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parent_id":1299356,"elapsed":7.0e-06},{"id":1299358,"event":"call","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":1299359,"event":"return","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parent_id":1299358,"elapsed":5.0e-06},{"id":1299360,"event":"return","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1299233,"elapsed":0.009278},{"id":1299361,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET \"updated_at\" = '2020-05-28 19:06:13.699307', \"post_type\" = 4, \"baked_at\" = '2020-05-28 19:06:13.699218' WHERE \"posts\".\"id\" = 1032","database_type":"postgres","server_version":110006}},{"id":1299362,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299361,"elapsed":0.001429},{"id":1299363,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299364,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299365,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1299364,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299366,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1299363,"elapsed":0.000114},{"id":1299367,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>"}},{"id":1299368,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097613101840,"value":"#<Post:0x00007f81bea83620>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1299369,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1299368,"elapsed":3.0e-06},{"id":1299370,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":1299367,"elapsed":0.000104},{"id":1299371,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299372,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299371,"elapsed":0.000924},{"id":1299373,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299374,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":1299373,"elapsed":6.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":1299375,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097799950160,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299376,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":1299375,"elapsed":0.000161,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81d4eeeb90>","object_id":70097799968200}},{"id":1299377,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299378,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299377,"elapsed":0.000978},{"id":1299379,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299380,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1299379,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299381,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299382,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1299383,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097828830320,"value":"#<UsernameValidator:0x00007f81d85fb8e0>"}},{"id":1299384,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1299385,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1299384,"elapsed":9.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097828828020}},{"id":1299386,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1299387,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1299386,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097828824960}},{"id":1299388,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1299389,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":1299388,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":1299390,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1299391,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":1299390,"elapsed":4.0e-06},{"id":1299392,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1299383,"elapsed":0.000414,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299393,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1299382,"elapsed":0.000589},{"id":1299394,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":1299381,"elapsed":0.000775},{"id":1299395,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097608879080,"value":"bruce1597","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1299396,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1299395,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce1597","object_id":70097828841420}},{"id":1299397,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097608879080,"value":"bruce1597","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299398,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1299397,"elapsed":9.0e-06},{"id":1299399,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097828859960,"value":"bruce1597","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299400,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1299399,"elapsed":5.0e-06},{"id":1299401,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299402,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097828856840,"value":"#<PasswordValidator:0x00007f81d8608810>"}},{"id":1299403,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299404,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299405,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1299404,"elapsed":4.0e-06},{"id":1299406,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1299403,"elapsed":0.000111,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299407,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299408,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1299407,"elapsed":1.2e-05,"return_value":{"class":"String","value":"bruce1557@wayne.com","object_id":70097828875620}},{"id":1299409,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299410,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1299409,"elapsed":6.0e-06,"return_value":{"class":"String","value":"bruce1557@wayne.com","object_id":70097828875620}},{"id":1299411,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299412,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1299411,"elapsed":5.0e-06},{"id":1299413,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1299402,"elapsed":0.002276},{"id":1299414,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1299401,"elapsed":0.002447},{"id":1299415,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1299416,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1299415,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1299417,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097800365260,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299418,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1299417,"elapsed":6.0e-06},{"id":1299419,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097800378700,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299420,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1299419,"elapsed":5.0e-06},{"id":1299421,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097828876500,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":1299422,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1299421,"elapsed":5.0e-06},{"id":1299423,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097800373200,"value":"99.232.23.213","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":1299424,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097800373200,"value":"99.232.23.213","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1299425,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097800373200,"value":"99.232.23.213","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1299426,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097800373200,"value":"99.232.23.213","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1299427,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.213' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299428,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299427,"elapsed":0.00099},{"id":1299429,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":1299426,"elapsed":0.003831},{"id":1299430,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":1299425,"elapsed":0.00398},{"id":1299431,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":1299424,"elapsed":0.004091},{"id":1299432,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1299423,"elapsed":0.004206},{"id":1299433,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097799968200,"value":"#<UserEmail:0x00007f81d4eeeb90>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097829033900,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1299434,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829033900,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1299435,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097829033900,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1299436,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1299435,"elapsed":2.7e-05},{"id":1299437,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1299434,"elapsed":0.000135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299438,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829033900,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1299439,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829033900,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1299440,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1299439,"elapsed":1.0e-05,"return_value":{"class":"String","value":"bruce1557@wayne.com","object_id":70097829048700}},{"id":1299441,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1299442,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299441,"elapsed":0.001125},{"id":1299443,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1299438,"elapsed":0.004397},{"id":1299444,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1299433,"elapsed":0.004842},{"id":1299445,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce1557@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299446,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299445,"elapsed":0.001056},{"id":1299447,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1299448,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1299447,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1299449,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce1597', '2020-05-28 19:06:13.730357', '2020-05-28 19:06:13.730357', 'Bruce Wayne', 'd38ab893c1c649f9a7dd05e8f17f90779427ca21bd36f453af5e05b9238d53c9', '6340eb7e3b34d423ac1d8a646b68638f', TRUE, 'bruce1597', 1, '99.232.23.213/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1299450,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299449,"elapsed":0.001331},{"id":1299451,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097799968200,"value":"#<UserEmail:0x00007f81d4eeeb90>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097588871480,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1299452,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588871480,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1299453,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097588871480,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1299454,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1299453,"elapsed":3.3e-05},{"id":1299455,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1299452,"elapsed":0.000156,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299456,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588871480,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1299457,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588871480,"value":"bruce1557@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1299458,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1299457,"elapsed":1.0e-05,"return_value":{"class":"String","value":"bruce1557@wayne.com","object_id":70097588906860}},{"id":1299459,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1299460,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299459,"elapsed":0.001252},{"id":1299461,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1299456,"elapsed":0.004887},{"id":1299462,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1299451,"elapsed":0.005344},{"id":1299463,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1752 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299464,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299463,"elapsed":0.001127},{"id":1299465,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce1557@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299466,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299465,"elapsed":0.001151},{"id":1299467,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1752, 'bruce1557@wayne.com', TRUE, '2020-05-28 19:06:13.749126', '2020-05-28 19:06:13.749126') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1299468,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299467,"elapsed":0.00113},{"id":1299469,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299470,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1299469,"elapsed":1.8e-05,"return_value":{"class":"String","value":"bruce1557@wayne.com","object_id":70097624607480}},{"id":1299471,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1299472,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1299473,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1299472,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1299474,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":1299471,"elapsed":0.000147,"return_value":{"class":"String","value":"15295fd665d6b73e0ffd880d32dc2b3b","object_id":70097624622940}},{"id":1299475,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1752, 'bruce1557@wayne.com', '15295fd665d6b73e0ffd880d32dc2b3b', '2020-05-28 19:06:13.754529', '2020-05-28 19:06:13.754529') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1299476,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299475,"elapsed":0.001227},{"id":1299477,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1752 AND (id != 2064)","database_type":"postgres","server_version":110006}},{"id":1299478,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299477,"elapsed":0.001059},{"id":1299479,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1752, '2020-05-28 19:06:13.804869') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1299480,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299479,"elapsed":0.001599},{"id":1299481,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1752 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299482,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299481,"elapsed":0.001445},{"id":1299483,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097793511980,"value":"{:user=>#<User id: 1752, username: \"bruce1597\", created_at: \"2020-05-28 19:06:13\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1299484,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1299483,"elapsed":1.1e-05},{"id":1299485,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097793641500,"value":"#<UserOption:0x00007f81d42dd838>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":1299486,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1299485,"elapsed":5.0e-06},{"id":1299487,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097793641500,"value":"#<UserOption:0x00007f81d42dd838>"}},{"id":1299488,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097793641500,"value":"#<UserOption:0x00007f81d42dd838>"}},{"id":1299489,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1299490,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":1299489,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":1299491,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1299488,"elapsed":0.00014,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1299492,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097793641500,"value":"#<UserOption:0x00007f81d42dd838>"}},{"id":1299493,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1299494,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1299493,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":1299495,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":1299492,"elapsed":0.000149,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1299496,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1299487,"elapsed":0.000649,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299497,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1752, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1299498,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299497,"elapsed":0.001341},{"id":1299499,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097802070760,"value":"#<TrackedTopicsUpdater:0x00007f81d52f15d0>"}},{"id":1299500,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1299501,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1299500,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1299502,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1299503,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1299502,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1299504,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1752","database_type":"postgres","server_version":110006}},{"id":1299505,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299504,"elapsed":0.001287},{"id":1299506,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1299499,"elapsed":0.005164,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1299507,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299508,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1752 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299509,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299508,"elapsed":0.001044},{"id":1299510,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1752) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1299511,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299510,"elapsed":0.001271},{"id":1299512,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097796075800,"value":"{:user=>#<UserProfile user_id: 1752, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1299513,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1299512,"elapsed":1.1e-05},{"id":1299514,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":1299507,"elapsed":0.010354,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81ccc758f8>","object_id":70097731562620}},{"id":1299515,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299516,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":1299515,"elapsed":7.0e-06},{"id":1299517,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1299518,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299517,"elapsed":0.000963},{"id":1299519,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1299520,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299519,"elapsed":0.000938},{"id":1299521,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1299522,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299521,"elapsed":0.001197},{"id":1299523,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1299524,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299523,"elapsed":0.001007},{"id":1299525,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299526,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299527,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1299526,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299528,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1299525,"elapsed":0.000125},{"id":1299529,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1752","database_type":"postgres","server_version":110006}},{"id":1299530,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299529,"elapsed":0.001176},{"id":1299531,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>"}},{"id":1299532,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1752 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299533,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299532,"elapsed":0.001417},{"id":1299534,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1752, '2020-05-28 19:06:13.863567', '2020-05-28 19:06:13.863567') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1299535,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299534,"elapsed":0.00105},{"id":1299536,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1299531,"elapsed":0.0089},{"id":1299537,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097593797800,"value":"{:user=>#<User id: 1752, username: \"bruce1597\", created_at: \"2020-05-28 19:06:13\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1299538,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1299537,"elapsed":7.0e-06},{"id":1299539,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1299540,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1299539,"elapsed":5.0e-06},{"id":1299541,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299542,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299541,"elapsed":0.000855},{"id":1299543,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097799949480,"value":"#<User:0x00007f81d4ee5950>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1299544,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1299545,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1299544,"elapsed":0.000265,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bb953b68>","object_id":70097587314100}},{"id":1299546,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299547,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299546,"elapsed":0.002345},{"id":1299548,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1299543,"elapsed":0.005831},{"id":1299549,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299550,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299549,"elapsed":0.000844},{"id":1299551,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_users\" (\"user_id\", \"topic_id\", \"last_read_post_number\") VALUES (1752, 1137, 4) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1299552,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299551,"elapsed":0.001102},{"id":1299553,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299554,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299553,"elapsed":0.002613},{"id":1299555,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1299556,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1299555,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1299557,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1299558,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1299557,"elapsed":1.1e-05},{"id":1299559,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/post_readers.json?id=1032"},"message":[{"name":"id","class":"String","value":"1032","object_id":70097797953600},{"name":"controller","class":"String","value":"post_readers","object_id":70097783593580},{"name":"action","class":"String","value":"index","object_id":70097708669400},{"name":"format","class":"String","value":"json","object_id":70097797917720}]},{"id":1299560,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299561,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299562,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299563,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299564,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097797982380,"value":"8a0349355f170836039bb5081ec55965","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797981180,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1299565,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097797982380,"value":"8a0349355f170836039bb5081ec55965","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1299566,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1299567,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1299566,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1299568,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1299565,"elapsed":0.000124,"return_value":{"class":"String","value":"UdIEZjOLwf3iSxECG7gdhu84cGk=","object_id":70097798020760}},{"id":1299569,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'UdIEZjOLwf3iSxECG7gdhu84cGk=' OR\n                          prev_auth_token = 'UdIEZjOLwf3iSxECG7gdhu84cGk=') AND rotated_at > '2020-03-29 19:06:13.892804') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299570,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299569,"elapsed":0.001019},{"id":1299571,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:06:13.897675' WHERE \"user_auth_tokens\".\"id\" = 1454 AND \"user_auth_tokens\".\"auth_token\" = 'UdIEZjOLwf3iSxECG7gdhu84cGk='","database_type":"postgres","server_version":110006}},{"id":1299572,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299571,"elapsed":0.001178},{"id":1299573,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097798936800,"value":"{:action=>\"seen token\", :user_auth_token_id=>1454, :user_id=>1716, :auth_token=>\"UdIEZjOLwf3iSxECG7g","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1299574,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299575,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299574,"elapsed":0.000888},{"id":1299576,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1454, 1716, '127.0.0.1/32', 'UdIEZjOLwf3iSxECG7gdhu84cGk=', '2020-05-28 19:06:13.906649') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1299577,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299576,"elapsed":0.001059},{"id":1299578,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1299579,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299578,"elapsed":0.000772},{"id":1299580,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1299573,"elapsed":0.013292,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d4cf5fa0>","object_id":70097798934480}},{"id":1299581,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1299564,"elapsed":0.02323,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81ccfb6b70>","object_id":70097733268920}},{"id":1299582,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1716 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299583,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299582,"elapsed":0.000983},{"id":1299584,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799590280,"value":"#<User:0x00007f81d4e36310>"}},{"id":1299585,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1299584,"elapsed":1.7e-05},{"id":1299586,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299587,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1299586,"elapsed":0.000868,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299588,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097799590280,"value":"#<User:0x00007f81d4e36310>"}},{"id":1299589,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1299588,"elapsed":0.000707},{"id":1299590,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097799609040,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097799590280,"value":"#<User:0x00007f81d4e36310>"}},{"id":1299591,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1716","database_type":"postgres","server_version":110006}},{"id":1299592,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299591,"elapsed":0.001325},{"id":1299593,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1299590,"elapsed":0.004403,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299594,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299563,"elapsed":0.034722,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299595,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1299562,"elapsed":0.034865,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bea08358>","object_id":70097612849580}},{"id":1299596,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097612849580,"value":"#<Guardian:0x00007f81bea08358>"}},{"id":1299597,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1299596,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299598,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1299561,"elapsed":0.035106},{"id":1299599,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299600,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299599,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299601,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1716 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299602,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299601,"elapsed":0.000983},{"id":1299603,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299604,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1299603,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bea08358>","object_id":70097612849580}},{"id":1299605,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097613587300,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097612849580,"value":"#<Guardian:0x00007f81bea08358>"}},{"id":1299606,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1299605,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299607,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1299560,"elapsed":0.040275,"return_value":{"class":"Array","value":"[2]","object_id":70097613587300}},{"id":1299608,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299609,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299610,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299609,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299611,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299612,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299611,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299613,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299614,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299613,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299615,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1299608,"elapsed":0.000357,"return_value":{"class":"String","value":"post_readers/index","object_id":70097613623640}},{"id":1299616,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299617,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299618,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299617,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299619,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1299616,"elapsed":0.000111},{"id":1299620,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299621,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299622,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299621,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299623,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299624,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299623,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299625,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799590280,"value":"#<User:0x00007f81d4e36310>"}},{"id":1299626,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1299625,"elapsed":1.2e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1299627,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1299628,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1299627,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1299629,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1299630,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1299629,"elapsed":1.0e-05},{"id":1299631,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1299632,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1299631,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1299633,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1299634,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1299633,"elapsed":6.0e-06},{"id":1299635,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1299620,"elapsed":0.000716,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097613675120}},{"id":1299636,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299637,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1299636,"elapsed":8.0e-06},{"id":1299638,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299639,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299640,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299639,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299641,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1299638,"elapsed":9.8e-05},{"id":1299642,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299643,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299642,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299644,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299645,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299644,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299646,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299647,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299646,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299648,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097711989480,"value":"PostReadersController"}},{"id":1299649,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1299648,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70097712024080}},{"id":1299650,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299651,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299650,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299652,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299653,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1299652,"elapsed":7.0e-06},{"id":1299654,"event":"call","defined_class":"PostReadersController","method_id":"index","path":"app/controllers/post_readers_controller.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299655,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1299656,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1299655,"elapsed":6.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097613724580}},{"id":1299657,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"id\" = 1032 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299658,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299657,"elapsed":0.001296},{"id":1299659,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1299660,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1299659,"elapsed":4.8e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097588499860}},{"id":1299661,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 1137","database_type":"postgres","server_version":110006}},{"id":1299662,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299661,"elapsed":0.001157},{"id":1299663,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_allowed_groups\".* FROM \"topic_allowed_groups\" WHERE \"topic_allowed_groups\".\"topic_id\" = 1137","database_type":"postgres","server_version":110006}},{"id":1299664,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299663,"elapsed":0.001037},{"id":1299665,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_allowed_users\".* FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 1137","database_type":"postgres","server_version":110006}},{"id":1299666,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299665,"elapsed":0.001058},{"id":1299667,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299668,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299667,"elapsed":6.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299669,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"group_users\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 1716 AND \"groups\".\"id\" = 196 AND \"groups\".\"publish_read_state\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1299670,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299669,"elapsed":0.001095},{"id":1299671,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097588479840,"value":"#<Post:0x00007f81bbb8cec0>"}},{"id":1299672,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1299673,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":1299672,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":1299674,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":1299671,"elapsed":0.000126,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299675,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"topic_users\" ON \"topic_users\".\"user_id\" = \"users\".\"id\" WHERE (users.id > 0) AND (NOT EXISTS(\n                     SELECT 1\n                     FROM anonymous_users a\n                     WHERE a.user_id = users.id\n                  )) AND \"users\".\"staged\" = FALSE AND \"users\".\"id\" != 1751 AND \"topic_users\".\"last_read_post_number\" IS NOT NULL AND (topic_users.topic_id = 1137 AND topic_users.last_read_post_number >= 3) AND (admin OR moderator)","database_type":"postgres","server_version":110006}},{"id":1299676,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1299675,"elapsed":0.001261},{"id":1299677,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097588776820,"value":"{:post_readers=>[]}","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299678,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1299677,"elapsed":0.000136,"return_value":{"class":"String","value":"{\"post_readers\":[]}","object_id":70097588775140}},{"id":1299679,"event":"return","defined_class":"PostReadersController","method_id":"index","path":"app/controllers/post_readers_controller.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1299654,"elapsed":0.031109,"return_value":{"class":"String","value":"{\"post_readers\":[]}","object_id":70097588775140}},{"id":1299680,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299681,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1299680,"elapsed":8.0e-06},{"id":1299682,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299683,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1299682,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097588793960}},{"id":1299684,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostReadersController","object_id":70097797916420,"value":"#<PostReadersController:0x00007f81d4b04e08>"}},{"id":1299685,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299686,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299685,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299687,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097799590280,"value":"#<User:0x00007f81d4e36310>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097568074380,"value":"#<ActionDispatch::Request::Session:0x00007f81b94a1518>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097613587580,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81beb708f8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299688,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299689,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299690,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299689,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299691,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1299688,"elapsed":9.4e-05},{"id":1299692,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299693,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097797985980,"value":"#<TestCurrentUserProvider:0x00007f81d4b26d78>"}},{"id":1299694,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1299693,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4e36310>","object_id":70097799590280}},{"id":1299695,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1299692,"elapsed":9.2e-05},{"id":1299696,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1299687,"elapsed":0.000431},{"id":1299697,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1299684,"elapsed":0.000643},{"id":1299698,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1299559,"elapsed":0.076142,"http_server_response":{"status":200}},{"id":1299699,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097588825660,"value":"#<TestCurrentUserProvider:0x00007f81bbc35c78>"}},{"id":1299700,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1299699,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1299701,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1299702,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1299701,"elapsed":4.0e-06},{"id":1299703,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1299704,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1299703,"elapsed":4.0e-06}]}