{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"GroupsController #index viewing as an admin filterable by type my groups should return the right response","app":"Discourse","feature":"GroupsController #index","feature_group":"Groups","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","type":"class","children":[{"name":"member_of","type":"function","location":"app/models/group.rb:726","static":true}]},{"name":"Group","type":"class","children":[{"name":"flair_url","type":"function","location":"app/models/group.rb:752","static":false}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"GroupsController","type":"class","children":[{"name":"index","type":"function","location":"app/controllers/groups_controller.rb:40","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"can_see_group_members?","type":"function","location":"lib/guardian.rb:198","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicGroupSerializer","type":"class","children":[{"name":"include_display_name?","type":"function","location":"app/serializers/basic_group_serializer.rb:36","static":false},{"name":"include_automatic_membership_email_domains?","type":"function","location":"app/serializers/basic_group_serializer.rb:54","static":false},{"name":"include_incoming_email?","type":"function","location":"app/serializers/basic_group_serializer.rb:50","static":false},{"name":"include_has_messages?","type":"function","location":"app/serializers/basic_group_serializer.rb:58","static":false},{"name":"include_bio_raw?","type":"function","location":"app/serializers/basic_group_serializer.rb:62","static":false},{"name":"bio_excerpt","type":"function","location":"app/serializers/basic_group_serializer.rb:46","static":false},{"name":"include_is_group_user?","type":"function","location":"app/serializers/basic_group_serializer.rb:66","static":false},{"name":"is_group_user","type":"function","location":"app/serializers/basic_group_serializer.rb:70","static":false},{"name":"include_is_group_owner?","type":"function","location":"app/serializers/basic_group_serializer.rb:74","static":false},{"name":"is_group_owner","type":"function","location":"app/serializers/basic_group_serializer.rb:78","static":false},{"name":"can_see_members","type":"function","location":"app/serializers/basic_group_serializer.rb:82","static":false}]}]}],"events":[{"id":1371435,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1371436,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1371435,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1371437,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1371438,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1371437,"elapsed":1.2e-05},{"id":1371439,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/groups.json?type=my"},"message":[{"name":"type","class":"String","value":"my","object_id":70097733003360},{"name":"controller","class":"String","value":"groups","object_id":70097708470500},{"name":"action","class":"String","value":"index","object_id":70097708669400},{"name":"format","class":"String","value":"json","object_id":70097732987320}]},{"id":1371440,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371441,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371442,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371443,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371444,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097733051900,"value":"f44bfcd55c06c818b0a170021a93fa2f","kind":"req"},{"name":"opts","class":"Hash","object_id":70097733051340,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1371445,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097733051900,"value":"f44bfcd55c06c818b0a170021a93fa2f","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1371446,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1371447,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1371446,"elapsed":9.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1371448,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1371445,"elapsed":0.000123,"return_value":{"class":"String","value":"b976UKpqWYhj1+4nQ26k58HO+Lk=","object_id":70097795901360}},{"id":1371449,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'b976UKpqWYhj1+4nQ26k58HO+Lk=' OR\n                          prev_auth_token = 'b976UKpqWYhj1+4nQ26k58HO+Lk=') AND rotated_at > '2020-03-29 19:07:21.045843') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1371450,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371449,"elapsed":0.001117},{"id":1371451,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:07:21.051080' WHERE \"user_auth_tokens\".\"id\" = 1490 AND \"user_auth_tokens\".\"auth_token\" = 'b976UKpqWYhj1+4nQ26k58HO+Lk='","database_type":"postgres","server_version":110006}},{"id":1371452,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371451,"elapsed":0.001077},{"id":1371453,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097816132860,"value":"{:action=>\"seen token\", :user_auth_token_id=>1490, :user_id=>1815, :auth_token=>\"b976UKpqWYhj1+4nQ26","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1371454,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1371455,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371454,"elapsed":0.000888},{"id":1371456,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1490, 1815, '127.0.0.1/32', 'b976UKpqWYhj1+4nQ26k58HO+Lk=', '2020-05-28 19:07:21.060432') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1371457,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371456,"elapsed":0.001501},{"id":1371458,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1371459,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371458,"elapsed":0.000732},{"id":1371460,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1371453,"elapsed":0.014565,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d6dc1518>","object_id":70097816128140}},{"id":1371461,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1371444,"elapsed":0.024822,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d6a98f08>","object_id":70097814472580}},{"id":1371462,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1815 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1371463,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371462,"elapsed":0.001318},{"id":1371464,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371465,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1371464,"elapsed":1.6e-05},{"id":1371466,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371467,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1371466,"elapsed":0.000634,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371468,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371469,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1371468,"elapsed":0.000679},{"id":1371470,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097566941700,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371471,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1815","database_type":"postgres","server_version":110006}},{"id":1371472,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371471,"elapsed":0.001015},{"id":1371473,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1371470,"elapsed":0.004155,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371474,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371443,"elapsed":0.036269,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371475,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1371442,"elapsed":0.0364,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4af7d98>","object_id":70097797889740}},{"id":1371476,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371477,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1371476,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371478,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1371441,"elapsed":0.036661},{"id":1371479,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371480,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371479,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371481,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1815 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1371482,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371481,"elapsed":0.001173},{"id":1371483,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371484,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1371483,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4af7d98>","object_id":70097797889740}},{"id":1371485,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097733133800,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371486,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1371485,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371487,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1371440,"elapsed":0.042105,"return_value":{"class":"Array","value":"[2]","object_id":70097733133800}},{"id":1371488,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371489,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371490,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371489,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371491,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371492,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371491,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371493,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371494,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371493,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371495,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1371488,"elapsed":0.000377,"return_value":{"class":"String","value":"groups/index","object_id":70097733185940}},{"id":1371496,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371497,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371498,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371497,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371499,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1371496,"elapsed":0.000115},{"id":1371500,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371501,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371502,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371501,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371503,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371504,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371503,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371505,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371506,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1371505,"elapsed":1.4e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1371507,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1371508,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1371507,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1371509,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1371510,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1371509,"elapsed":1.1e-05},{"id":1371511,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1371512,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1371511,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1371513,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1371514,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1371513,"elapsed":6.0e-06},{"id":1371515,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1371500,"elapsed":0.000733,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097733268260}},{"id":1371516,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371517,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1371516,"elapsed":8.0e-06},{"id":1371518,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371519,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371520,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371519,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371521,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1371518,"elapsed":0.000102},{"id":1371522,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371523,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371522,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371524,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371525,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371524,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371526,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371527,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371526,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371528,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097800665500,"value":"GroupsController"}},{"id":1371529,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1371528,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:set_notifications, :mentionable, :messageable, :check_name, :update, :histories, :request_","object_id":70097800677780}},{"id":1371530,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371531,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1371530,"elapsed":1.0e-05},{"id":1371532,"event":"call","defined_class":"GroupsController","method_id":"index","path":"app/controllers/groups_controller.rb","lineno":40,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371533,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371534,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371533,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371535,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371536,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1371535,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4af7d98>","object_id":70097797889740}},{"id":1371537,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371538,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371539,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1371538,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371540,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1371537,"elapsed":0.000113,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371541,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371542,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371541,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371543,"event":"call","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"member_of","path":"app/models/group.rb","lineno":726,"static":true,"thread_id":70097708498960,"parameters":[{"name":"groups","class":"ActiveRecord::Relation","object_id":70097733350780,"value":"#<Group::ActiveRecord_Relation:0x00007f81ccfdeaf8>","kind":"req"},{"name":"user","class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>","kind":"req"}],"receiver":{"class":"Class","object_id":70097792925560,"value":"Group"}},{"id":1371544,"event":"return","defined_class":"Group(id: integer, name: string, created_at: datetime, updated_at: datetime, automatic: boolean, user_count: integer, automatic_membership_email_domains: text, primary_group: boolean, title: string, grant_trust_level: integer, incoming_email: string, has_messages: boolean, flair_bg_color: string, flair_color: string, bio_raw: text, bio_cooked: text, allow_membership_requests: boolean, full_name: string, default_notification_level: integer, visibility_level: integer, public_exit: boolean, public_admission: boolean, membership_request_template: text, messageable_level: integer, mentionable_level: integer, publish_read_state: boolean, members_visibility_level: integer, flair_icon: string, flair_upload_id: integer)","method_id":"member_of","path":"app/models/group.rb","lineno":726,"static":true,"thread_id":70097708498960,"parent_id":1371543,"elapsed":6.5e-05,"return_value":{"class":"ActiveRecord::Relation","value":"#<Group::ActiveRecord_Relation:0x00007f81ccfedfd0>","object_id":70097733382120}},{"id":1371545,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371546,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371545,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371547,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371548,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371547,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371549,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"group_users\".\"group_id\" FROM \"group_users\" WHERE \"group_users\".\"group_id\" IN (SELECT \"groups\".\"id\" FROM \"groups\" LEFT JOIN group_users gu ON gu.group_id = groups.id WHERE (groups.id > 0) AND (gu.user_id = 1815) ORDER BY name ASC) AND \"group_users\".\"user_id\" = 1815","database_type":"postgres","server_version":110006}},{"id":1371550,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371549,"elapsed":0.001241},{"id":1371551,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"group_users\".\"group_id\" FROM \"group_users\" WHERE \"group_users\".\"group_id\" IN (SELECT \"groups\".\"id\" FROM \"groups\" LEFT JOIN group_users gu ON gu.group_id = groups.id WHERE (groups.id > 0) AND (gu.user_id = 1815) ORDER BY name ASC) AND \"group_users\".\"user_id\" = 1815 AND \"group_users\".\"owner\" = TRUE","database_type":"postgres","server_version":110006}},{"id":1371552,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371551,"elapsed":0.001192},{"id":1371553,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"groups\" LEFT JOIN group_users gu ON gu.group_id = groups.id WHERE (groups.id > 0) AND (gu.user_id = 1815)","database_type":"postgres","server_version":110006}},{"id":1371554,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371553,"elapsed":0.001277},{"id":1371555,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"ActiveRecord::Relation","object_id":70097827824460,"value":"#<Group::ActiveRecord_Relation:0x00007f81d8410698>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097799364340,"value":"BasicGroupSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097827824220,"value":"{:user_group_ids=>[269], :owner_group_ids=>[269]}","kind":"opt"}],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371556,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371557,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1371556,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4af7d98>","object_id":70097797889740}},{"id":1371558,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" LEFT JOIN group_users gu ON gu.group_id = groups.id WHERE (groups.id > 0) AND (gu.user_id = 1815) ORDER BY name ASC LIMIT 36 OFFSET 0","database_type":"postgres","server_version":110006}},{"id":1371559,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1371558,"elapsed":0.001423},{"id":1371560,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_display_name?","path":"app/serializers/basic_group_serializer.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371561,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_display_name?","path":"app/serializers/basic_group_serializer.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":1371560,"elapsed":6.0e-06},{"id":1371562,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_automatic_membership_email_domains?","path":"app/serializers/basic_group_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371563,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371564,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371565,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1371564,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371566,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1371563,"elapsed":0.000106,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371567,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_automatic_membership_email_domains?","path":"app/serializers/basic_group_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":1371562,"elapsed":0.000216,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371568,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_incoming_email?","path":"app/serializers/basic_group_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371569,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371570,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371571,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1371570,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371572,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":1371569,"elapsed":0.000102,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371573,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_incoming_email?","path":"app/serializers/basic_group_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1371568,"elapsed":0.000197,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371574,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_has_messages?","path":"app/serializers/basic_group_serializer.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371575,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_has_messages?","path":"app/serializers/basic_group_serializer.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1371574,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371576,"event":"call","defined_class":"Group","method_id":"flair_url","path":"app/models/group.rb","lineno":752,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Group","object_id":70097587035540,"value":"#<Group:0x00007f81bb8cbb28>"}},{"id":1371577,"event":"return","defined_class":"Group","method_id":"flair_url","path":"app/models/group.rb","lineno":752,"static":false,"thread_id":70097708498960,"parent_id":1371576,"elapsed":3.6e-05},{"id":1371578,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_bio_raw?","path":"app/serializers/basic_group_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371579,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_bio_raw?","path":"app/serializers/basic_group_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":1371578,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371580,"event":"call","defined_class":"BasicGroupSerializer","method_id":"bio_excerpt","path":"app/serializers/basic_group_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371581,"event":"return","defined_class":"BasicGroupSerializer","method_id":"bio_excerpt","path":"app/serializers/basic_group_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":1371580,"elapsed":5.0e-06},{"id":1371582,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_is_group_user?","path":"app/serializers/basic_group_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371583,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_is_group_user?","path":"app/serializers/basic_group_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":1371582,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371584,"event":"call","defined_class":"BasicGroupSerializer","method_id":"is_group_user","path":"app/serializers/basic_group_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371585,"event":"return","defined_class":"BasicGroupSerializer","method_id":"is_group_user","path":"app/serializers/basic_group_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":1371584,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371586,"event":"call","defined_class":"BasicGroupSerializer","method_id":"include_is_group_owner?","path":"app/serializers/basic_group_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371587,"event":"return","defined_class":"BasicGroupSerializer","method_id":"include_is_group_owner?","path":"app/serializers/basic_group_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":1371586,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371588,"event":"call","defined_class":"BasicGroupSerializer","method_id":"is_group_owner","path":"app/serializers/basic_group_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371589,"event":"return","defined_class":"BasicGroupSerializer","method_id":"is_group_owner","path":"app/serializers/basic_group_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parent_id":1371588,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371590,"event":"call","defined_class":"BasicGroupSerializer","method_id":"can_see_members","path":"app/serializers/basic_group_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BasicGroupSerializer","object_id":70097587035300,"value":"#<BasicGroupSerializer:0x00007f81bb8cb948>"}},{"id":1371591,"event":"call","defined_class":"Guardian","method_id":"can_see_group_members?","path":"lib/guardian.rb","lineno":198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"group","class":"Group","object_id":70097587035540,"value":"#<Group:0x00007f81bb8cbb28>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371592,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097797889740,"value":"#<Guardian:0x00007f81d4af7d98>"}},{"id":1371593,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>"}},{"id":1371594,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1371593,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371595,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":1371592,"elapsed":9.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371596,"event":"return","defined_class":"Guardian","method_id":"can_see_group_members?","path":"lib/guardian.rb","lineno":198,"static":false,"thread_id":70097708498960,"parent_id":1371591,"elapsed":0.000186,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371597,"event":"return","defined_class":"BasicGroupSerializer","method_id":"can_see_members","path":"app/serializers/basic_group_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parent_id":1371590,"elapsed":0.000281,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371598,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1371555,"elapsed":0.007031,"return_value":{"class":"Array","value":"[{:id=>269, :automatic=>false, :name=>\"my_group_159\", :user_count=>2, :mentionable_level=>0, :messag","object_id":70097587035320}},{"id":1371599,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097566508080,"value":"{:groups=>[{:id=>269, :automatic=>false, :name=>\"my_group_159\", :user_count=>2, :mentionable_level=>","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371600,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1371599,"elapsed":0.000132,"return_value":{"class":"String","value":"{\"groups\":[{\"id\":269,\"automatic\":false,\"name\":\"my_group_159\",\"user_count\":2,\"mentionable_level\":0,\"m","object_id":70097568132800}},{"id":1371601,"event":"return","defined_class":"GroupsController","method_id":"index","path":"app/controllers/groups_controller.rb","lineno":40,"static":false,"thread_id":70097708498960,"parent_id":1371532,"elapsed":0.021753,"return_value":{"class":"String","value":"{\"groups\":[{\"id\":269,\"automatic\":false,\"name\":\"my_group_159\",\"user_count\":2,\"mentionable_level\":0,\"m","object_id":70097568132800}},{"id":1371602,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371603,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1371602,"elapsed":5.0e-06},{"id":1371604,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371605,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1371604,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097568142040}},{"id":1371606,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"GroupsController","object_id":70097732986040,"value":"#<GroupsController:0x00007f81ccf2c970>"}},{"id":1371607,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371608,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371607,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371609,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097566929240,"value":"#<User:0x00007f81b92722b0>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097732851200,"value":"#<ActionDispatch::Request::Session:0x00007f81cceeac00>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097733134480,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81ccf75120>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371610,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371611,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371612,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371611,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371613,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1371610,"elapsed":9.2e-05},{"id":1371614,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371615,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733054260,"value":"#<TestCurrentUserProvider:0x00007f81ccf4de68>"}},{"id":1371616,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1371615,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81b92722b0>","object_id":70097566929240}},{"id":1371617,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1371614,"elapsed":0.000119},{"id":1371618,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1371609,"elapsed":0.000513},{"id":1371619,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1371606,"elapsed":0.000738},{"id":1371620,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1371439,"elapsed":0.068675,"http_server_response":{"status":200}},{"id":1371621,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587084080,"value":"#<TestCurrentUserProvider:0x00007f81bb8e3660>"}},{"id":1371622,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1371621,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1371623,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1371624,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1371623,"elapsed":5.0e-06},{"id":1371625,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1371626,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1371625,"elapsed":3.0e-06}]}