{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"TopicsController #move_posts moving to an existing message success returns success","app":"Discourse","feature":"TopicsController #move_posts","feature_group":"Topics","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"new_user?","type":"function","location":"app/models/user.rb:661","static":false},{"name":"new_user_posting_on_first_day?","type":"function","location":"app/models/user.rb:655","static":false},{"name":"first_post_created_at","type":"function","location":"app/models/user.rb:1067","static":false},{"name":"posted_too_much_in_topic?","type":"function","location":"app/models/user.rb:845","static":false},{"name":"has_trust_level?","type":"function","location":"app/models/user.rb:907","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"silenced?","type":"function","location":"app/models/user.rb:873","static":false},{"name":"anonymous?","type":"function","location":"app/models/user.rb:1155","static":false},{"name":"bot?","type":"function","location":"app/models/user.rb:317","static":false},{"name":"human?","type":"function","location":"app/models/user.rb:313","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true},{"name":"change","type":"function","location":"app/models/topic_user.rb:112","static":true},{"name":"create_missing_record","type":"function","location":"app/models/topic_user.rb:158","static":true},{"name":"update_post_action_cache","type":"function","location":"app/models/topic_user.rb:365","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false},{"name":"custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:173","static":false},{"name":"create_singular","type":"function","location":"app/models/concerns/has_custom_fields.rb:262","static":false},{"name":"Helpers","type":"class","children":[{"name":"append_field","type":"function","location":"app/models/concerns/has_custom_fields.rb:8","static":true},{"name":"cast_custom_field","type":"function","location":"app/models/concerns/has_custom_fields.rb:33","static":true},{"name":"get_custom_field_type","type":"function","location":"app/models/concerns/has_custom_fields.rb:19","static":true}]},{"name":"reload","type":"function","location":"app/models/concerns/has_custom_fields.rb:140","static":false},{"name":"clear_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:153","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true},{"name":"enqueue_post_hooks","type":"function","location":"app/models/web_hook.rb:87","static":true},{"name":"enqueue_topic_hooks","type":"function","location":"app/models/web_hook.rb:71","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false},{"name":"with_deleted","type":"function","location":"app/models/concerns/trashable.rb:14","static":false}]},{"name":"trashed?","type":"function","location":"app/models/concerns/trashable.rb:32","static":false}]},{"name":"Topic","type":"class","children":[{"name":"title=","type":"function","location":"app/models/topic.rb:1124","static":false},{"name":"private_message?","type":"function","location":"app/models/topic.rb:551","static":false},{"name":"ensure_topic_has_a_category","type":"function","location":"app/models/topic.rb:375","static":false},{"name":"regular?","type":"function","location":"app/models/topic.rb:555","static":false},{"name":"inherit_auto_close_from_category","type":"function","location":"app/models/topic.rb:348","static":false},{"name":"initialize_default_values","type":"function","location":"app/models/topic.rb:343","static":false},{"name":"limit_topics_per_day","type":"function","location":"app/models/topic.rb:419","static":false},{"name":"limit_private_messages_per_day","type":"function","location":"app/models/topic.rb:427","static":false},{"name":"changed_to_category","type":"function","location":"app/models/topic.rb:784","static":false},{"name":"advance_draft_sequence","type":"function","location":"app/models/topic.rb:367","static":false},{"name":"pm_with_non_human_user?","type":"function","location":"app/models/topic.rb:1486","static":false},{"name":"move_posts","type":"function","location":"app/models/topic.rb:1029","static":false},{"name":"max_post_number","type":"function","location":"app/models/topic.rb:1025","static":false},{"name":"relative_url","type":"function","location":"app/models/topic.rb:1159","static":false},{"name":"slug","type":"function","location":"app/models/topic.rb:1101","static":false},{"name":"add_moderator_post","type":"function","location":"app/models/topic.rb:843","static":false},{"name":"public_topic_timer","type":"function","location":"app/models/topic.rb:1210","static":false},{"name":"draft_key","type":"function","location":"app/models/topic.rb:1191","static":false},{"name":"reload","type":"function","location":"app/models/topic.rb:528","static":false},{"name":"update_statistics","type":"function","location":"app/models/topic.rb:1049","static":false},{"name":"featured_users","type":"function","location":"app/models/topic.rb:112","static":false},{"name":"update_action_counts","type":"function","location":"app/models/topic.rb:1055","static":false},{"name":"update_status","type":"function","location":"app/models/topic.rb:601","static":false},{"name":"delete_topic_timer","type":"function","location":"app/models/topic.rb:1218","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"private_message_title_length","type":"function","location":"app/models/site_setting.rb:40","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"private_message_post_length","type":"function","location":"app/models/site_setting.rb:52","static":true}]},{"name":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"actions","type":"function","location":"app/models/watched_word.rb:5","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"unicode_unescape","type":"function","location":"app/models/emoji.rb:185","static":true},{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"GlobalSetting","type":"class","children":[{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true},{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","type":"class","children":[{"name":"max_fancy_title_length","type":"function","location":"app/models/topic.rb:27","static":true},{"name":"next_post_number","type":"function","location":"app/models/topic.rb:618","static":true},{"name":"visible_post_types","type":"function","location":"app/models/topic.rb:381","static":true},{"name":"reset_highest","type":"function","location":"app/models/topic.rb:726","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","type":"class","children":[{"name":"next!","type":"function","location":"app/models/draft_sequence.rb:4","static":true}]},{"name":"Post","type":"class","children":[{"name":"acting_user","type":"function","location":"app/models/post.rb:324","static":false},{"name":"raw_mentions","type":"function","location":"app/models/post.rb:271","static":false},{"name":"post_analyzer","type":"function","location":"app/models/post.rb:259","static":false},{"name":"raw_hash","type":"function","location":"app/models/post.rb:250","static":false},{"name":"link_count","type":"function","location":"app/models/post.rb:271","static":false},{"name":"has_oneboxes?","type":"function","location":"app/models/post.rb:271","static":false},{"name":"cook","type":"function","location":"app/models/post.rb:285","static":false},{"name":"omit_nofollow?","type":"function","location":"app/models/post.rb:281","static":false},{"name":"add_nofollow?","type":"function","location":"app/models/post.rb:276","static":false},{"name":"with_secure_media?","type":"function","location":"app/models/post.rb:498","static":false},{"name":"limit_posts_per_day","type":"function","location":"app/models/post.rb:170","static":false},{"name":"index_search","type":"function","location":"app/models/post.rb:891","static":false},{"name":"is_first_post?","type":"function","location":"app/models/post.rb:480","static":false},{"name":"extract_quoted_post_numbers","type":"function","location":"app/models/post.rb:722","static":false},{"name":"custom_fields_fk","type":"function","location":"app/models/concerns/has_custom_fields.rb:69","static":false},{"name":"whisper?","type":"function","location":"app/models/post.rb:162","static":false},{"name":"link_post_uploads","type":"function","location":"app/models/post.rb:899","static":false},{"name":"each_upload_url","type":"function","location":"app/models/post.rb:945","static":false},{"name":"downloaded_images","type":"function","location":"app/models/post.rb:939","static":false},{"name":"save_reply_relationships","type":"function","location":"app/models/post.rb:739","static":false},{"name":"store_unique_post_key","type":"function","location":"app/models/post.rb:239","static":false},{"name":"trigger_post_process","type":"function","location":"app/models/post.rb:751","static":false},{"name":"publish_change_to_clients!","type":"function","location":"app/models/post.rb:181","static":false},{"name":"publish_message!","type":"function","location":"app/models/post.rb:199","static":false}]},{"name":"PostAnalyzer","type":"class","children":[{"name":"raw_mentions","type":"function","location":"app/models/post_analyzer.rb:66","static":false},{"name":"cooked_stripped","type":"function","location":"app/models/post_analyzer.rb:132","static":false},{"name":"cook","type":"function","location":"app/models/post_analyzer.rb:24","static":false},{"name":"link_count","type":"function","location":"app/models/post_analyzer.rb:128","static":false},{"name":"raw_links","type":"function","location":"app/models/post_analyzer.rb:113","static":false},{"name":"has_oneboxes?","type":"function","location":"app/models/post_analyzer.rb:16","static":false},{"name":"found_oneboxes?","type":"function","location":"app/models/post_analyzer.rb:12","static":false}]},{"name":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","type":"class","children":[{"name":"cook_methods","type":"function","location":"app/models/post.rb:146","static":true},{"name":"types","type":"function","location":"app/models/post.rb:139","static":true},{"name":"notices","type":"function","location":"app/models/post.rb:152","static":true},{"name":"get_custom_field_type","type":"function","location":"app/models/concerns/has_custom_fields.rb:101","static":true},{"name":"append_custom_field","type":"function","location":"app/models/concerns/has_custom_fields.rb:92","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"PostMover","type":"class","children":[{"name":"to_topic","type":"function","location":"app/models/post_mover.rb:17","static":false},{"name":"move_types","type":"function","location":"app/models/post_mover.rb:6","static":true}]},{"name":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","type":"class","children":[{"name":"types","type":"function","location":"app/models/notification.rb:89","static":true}]},{"name":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","type":"class","children":[{"name":"extract_from","type":"function","location":"app/models/topic_link.rb:110","static":true},{"name":"cleanup_entries","type":"function","location":"app/models/topic_link.rb:346","static":true}]},{"name":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"extract_from","type":"function","location":"app/models/quoted_post.rb:10","static":true}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true}]},{"name":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","type":"class","children":[{"name":"record_timing","type":"function","location":"app/models/post_timing.rb:47","static":true},{"name":"record_new_timing","type":"function","location":"app/models/post_timing.rb:33","static":true}]},{"name":"TopicTrackingState","type":"class","children":[{"name":"publish_private_message","type":"function","location":"app/models/topic_tracking_state.rb:345","static":true},{"name":"publish_read_indicator_on_write","type":"function","location":"app/models/topic_tracking_state.rb:396","static":true},{"name":"read_allowed_groups_of","type":"function","location":"app/models/topic_tracking_state.rb:416","static":true},{"name":"update_topic_list_read_indicator","type":"function","location":"app/models/topic_tracking_state.rb:424","static":true}]},{"name":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"new_message_update","type":"function","location":"app/models/topic_group.rb:13","static":true},{"name":"update_read_count","type":"function","location":"app/models/topic_group.rb:19","static":true},{"name":"create_topic_group","type":"function","location":"app/models/topic_group.rb:40","static":true}]},{"name":"TopicFeaturedUsers","type":"class","children":[{"name":"choose","type":"function","location":"app/models/topic_featured_users.rb:15","static":false},{"name":"ensure_consistency!","type":"function","location":"app/models/topic_featured_users.rb:27","static":true},{"name":"count","type":"function","location":"app/models/topic_featured_users.rb:10","static":true}]},{"name":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","type":"class","children":[{"name":"types","type":"function","location":"app/models/post_action_type.rb:67","static":true}]},{"name":"UserAction(id: integer, action_type: integer, user_id: integer, target_topic_id: integer, target_post_id: integer, target_user_id: integer, acting_user_id: integer, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"synchronize_target_topic_ids","type":"function","location":"app/models/user_action.rb:300","static":true}]},{"name":"TopicTimer(id: integer, execute_at: datetime, status_type: integer, user_id: integer, topic_id: integer, based_on_last_post: boolean, deleted_at: datetime, deleted_by_id: integer, created_at: datetime, updated_at: datetime, category_id: integer, public_type: boolean, duration: integer)","type":"class","children":[{"name":"types","type":"function","location":"app/models/topic_timer.rb:45","static":true},{"name":"public_types","type":"function","location":"app/models/topic_timer.rb:57","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]},{"name":"TopicTitleLengthValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/topic_title_length_validator.rb:5","static":false}]},{"name":"CensoredWordsValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/censored_words_validator.rb:4","static":false}]},{"name":"WatchedWordsValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/watched_words_validator.rb:4","static":false}]},{"name":"MaxEmojisValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/max_emojis_validator.rb:5","static":false}]},{"name":"PostValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/post_validator.rb:5","static":false},{"name":"presence","type":"function","location":"lib/validators/post_validator.rb:21","static":false},{"name":"post_body_validator","type":"function","location":"lib/validators/post_validator.rb:31","static":false},{"name":"stripped_length","type":"function","location":"lib/validators/post_validator.rb:38","static":false},{"name":"raw_quality","type":"function","location":"lib/validators/post_validator.rb:53","static":false},{"name":"max_posts_validator","type":"function","location":"lib/validators/post_validator.rb:69","static":false},{"name":"max_mention_validator","type":"function","location":"lib/validators/post_validator.rb:59","static":false},{"name":"max_images_validator","type":"function","location":"lib/validators/post_validator.rb:76","static":false},{"name":"max_attachments_validator","type":"function","location":"lib/validators/post_validator.rb:99","static":false},{"name":"can_post_links_validator","type":"function","location":"lib/validators/post_validator.rb:104","static":false},{"name":"newuser_links_validator","type":"function","location":"lib/validators/post_validator.rb:118","static":false},{"name":"unique_post_validator","type":"function","location":"lib/validators/post_validator.rb:124","static":false},{"name":"force_edit_last_validator","type":"function","location":"lib/validators/post_validator.rb:137","static":false}]},{"name":"StrippedLengthValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/stripped_length_validator.rb:4","static":true}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]},{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true},{"name":"words_for_action","type":"function","location":"app/services/word_watcher.rb:9","static":true},{"name":"should_block?","type":"function","location":"app/services/word_watcher.rb:73","static":false},{"name":"word_matches_for_action?","type":"function","location":"app/services/word_watcher.rb:77","static":false}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"post_ids_including_replies","type":"function","location":"app/controllers/application_controller.rb:494","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"TopicsController","type":"class","children":[{"name":"move_posts","type":"function","location":"app/controllers/topics_controller.rb:717","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"can_move_posts?","type":"function","location":"lib/guardian.rb:163","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"is_silenced?","type":"function","location":"lib/guardian.rb:96","static":false},{"name":"can_see?","type":"function","location":"lib/guardian.rb:122","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"can_create?","type":"function","location":"lib/guardian.rb:129","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false},{"name":"ensure_can_see!","type":"function","location":"lib/guardian/ensure_magic.rb:20","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_see_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:146","static":false},{"name":"can_create_post_on_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:60","static":false}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]}],"events":[{"id":205181,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205182,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":205181,"elapsed":8.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":205183,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097608861100,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205184,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":205183,"elapsed":0.000174,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81b95360f0>","object_id":70097568379000}},{"id":205185,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205186,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":205185,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205187,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205188,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":205189,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097568464600,"value":"#<UsernameValidator:0x00007f81b955fdb0>"}},{"id":205190,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205191,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":205190,"elapsed":1.2e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097568461700}},{"id":205192,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205193,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":205192,"elapsed":6.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097568460180}},{"id":205194,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":205195,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":205194,"elapsed":6.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":205196,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":205197,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":205196,"elapsed":5.0e-06},{"id":205198,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":205189,"elapsed":0.000466,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205199,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":205188,"elapsed":0.000588},{"id":205200,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":205187,"elapsed":0.000708},{"id":205201,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568444100,"value":"bruce234","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205202,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":205201,"elapsed":9.0e-06,"return_value":{"class":"String","value":"bruce234","object_id":70097568477560}},{"id":205203,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205204,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205203,"elapsed":0.00097},{"id":205205,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097568444100,"value":"bruce234","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205206,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205205,"elapsed":1.3e-05},{"id":205207,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097800362800,"value":"bruce234","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205208,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205207,"elapsed":6.0e-06},{"id":205209,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205210,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097800358500,"value":"#<PasswordValidator:0x00007f81d4fad4c8>"}},{"id":205211,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205212,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205213,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":205212,"elapsed":3.0e-06},{"id":205214,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":205211,"elapsed":0.000106,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205215,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205216,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":205215,"elapsed":1.3e-05,"return_value":{"class":"String","value":"bruce234@wayne.com","object_id":70097608842600}},{"id":205217,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205218,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":205217,"elapsed":7.0e-06,"return_value":{"class":"String","value":"bruce234@wayne.com","object_id":70097608842600}},{"id":205219,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205220,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205219,"elapsed":5.0e-06},{"id":205221,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205210,"elapsed":0.00209},{"id":205222,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":205209,"elapsed":0.002248},{"id":205223,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205224,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":205223,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":205225,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097568833760,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205226,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205225,"elapsed":6.0e-06},{"id":205227,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097608848880,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205228,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205227,"elapsed":5.0e-06},{"id":205229,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097828807940,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":205230,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205229,"elapsed":7.0e-06},{"id":205231,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097608882560,"value":"99.232.23.248","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":205232,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097608882560,"value":"99.232.23.248","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":205233,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097608882560,"value":"99.232.23.248","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":205234,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097608882560,"value":"99.232.23.248","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":205235,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.248' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205236,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205235,"elapsed":0.001191},{"id":205237,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":205234,"elapsed":0.00509},{"id":205238,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":205233,"elapsed":0.005246},{"id":205239,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":205232,"elapsed":0.005369},{"id":205240,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205231,"elapsed":0.005503},{"id":205241,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097568379000,"value":"#<UserEmail:0x00007f81b95360f0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097829165020,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":205242,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829165020,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205243,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097829165020,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205244,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":205243,"elapsed":3.4e-05},{"id":205245,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":205242,"elapsed":0.000154,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205246,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829165020,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205247,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829165020,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205248,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":205247,"elapsed":1.1e-05,"return_value":{"class":"String","value":"bruce234@wayne.com","object_id":70097829175460}},{"id":205249,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":205250,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205249,"elapsed":0.001171},{"id":205251,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205246,"elapsed":0.005488},{"id":205252,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205241,"elapsed":0.005915},{"id":205253,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce234@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205254,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205253,"elapsed":0.001241},{"id":205255,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205256,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":205255,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":205257,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce234', '2020-05-28 18:51:40.095173', '2020-05-28 18:51:40.095173', 'Bruce Wayne', '4c261a9de7c03d4e7aad5090ea1c389e3f6038e6b91deee3aeebc74f18fb0885', '023dde2b5d31f2ea01ea00bac9175c27', TRUE, 'bruce234', 1, '99.232.23.248/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205258,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205257,"elapsed":0.001422},{"id":205259,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097568379000,"value":"#<UserEmail:0x00007f81b95360f0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097614674220,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":205260,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097614674220,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205261,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097614674220,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205262,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":205261,"elapsed":3.4e-05},{"id":205263,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":205260,"elapsed":0.000158,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205264,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097614674220,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205265,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097614674220,"value":"bruce234@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205266,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":205265,"elapsed":1.1e-05,"return_value":{"class":"String","value":"bruce234@wayne.com","object_id":70097614684380}},{"id":205267,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":205268,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205267,"elapsed":0.001347},{"id":205269,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205264,"elapsed":0.005461},{"id":205270,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205259,"elapsed":0.005896},{"id":205271,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205272,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205271,"elapsed":0.001227},{"id":205273,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce234@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205274,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205273,"elapsed":0.001273},{"id":205275,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (253, 'bruce234@wayne.com', TRUE, '2020-05-28 18:51:40.117142', '2020-05-28 18:51:40.117142') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205276,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205275,"elapsed":0.001305},{"id":205277,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205278,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":205277,"elapsed":2.3e-05,"return_value":{"class":"String","value":"bruce234@wayne.com","object_id":70097703679600}},{"id":205279,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":205280,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":205281,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":205280,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":205282,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":205279,"elapsed":0.00017,"return_value":{"class":"String","value":"5756058836cd426f1fc29a972ad32625","object_id":70097724830920}},{"id":205283,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (253, 'bruce234@wayne.com', '5756058836cd426f1fc29a972ad32625', '2020-05-28 18:51:40.160816', '2020-05-28 18:51:40.160816') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205284,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205283,"elapsed":0.001246},{"id":205285,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 253 AND (id != 449)","database_type":"postgres","server_version":110006}},{"id":205286,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205285,"elapsed":0.001209},{"id":205287,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (253, '2020-05-28 18:51:40.173226') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":205288,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205287,"elapsed":0.001274},{"id":205289,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205290,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205289,"elapsed":0.001428},{"id":205291,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097730551820,"value":"{:user=>#<User id: 253, username: \"bruce234\", created_at: \"2020-05-28 18:51:40\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":205292,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205291,"elapsed":1.3e-05},{"id":205293,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097731964960,"value":"#<UserOption:0x00007f81ccd3a040>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":205294,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":205293,"elapsed":5.0e-06},{"id":205295,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097731964960,"value":"#<UserOption:0x00007f81ccd3a040>"}},{"id":205296,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097731964960,"value":"#<UserOption:0x00007f81ccd3a040>"}},{"id":205297,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":205298,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":205297,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":205299,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":205296,"elapsed":0.000143,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205300,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097731964960,"value":"#<UserOption:0x00007f81ccd3a040>"}},{"id":205301,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":205302,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":205301,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":205303,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":205300,"elapsed":0.000128,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205304,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":205295,"elapsed":0.000592,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205305,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (253, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":205306,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205305,"elapsed":0.001248},{"id":205307,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097586899300,"value":"#<TrackedTopicsUpdater:0x00007f81bb8892c8>"}},{"id":205308,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":205309,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":205308,"elapsed":9.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":205310,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":205311,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":205310,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":205312,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 253","database_type":"postgres","server_version":110006}},{"id":205313,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205312,"elapsed":0.001262},{"id":205314,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":205307,"elapsed":0.005216,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205315,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205316,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205317,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205316,"elapsed":0.001347},{"id":205318,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (253) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":205319,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205318,"elapsed":0.00117},{"id":205320,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097591194100,"value":"{:user=>#<UserProfile user_id: 253, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":205321,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205320,"elapsed":1.1e-05},{"id":205322,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":205315,"elapsed":0.011216,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81d6a83e50>","object_id":70097814429480}},{"id":205323,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205324,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":205323,"elapsed":1.1e-05},{"id":205325,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205326,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205325,"elapsed":0.001295},{"id":205327,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205328,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205327,"elapsed":0.000955},{"id":205329,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205330,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205329,"elapsed":0.001054},{"id":205331,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205332,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205331,"elapsed":0.000997},{"id":205333,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205334,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205335,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":205334,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205336,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":205333,"elapsed":0.00011},{"id":205337,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 253","database_type":"postgres","server_version":110006}},{"id":205338,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205337,"elapsed":0.000975},{"id":205339,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205340,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205341,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205340,"elapsed":0.000975},{"id":205342,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (253, '2020-05-28 18:51:40.233527', '2020-05-28 18:51:40.233527') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205343,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205342,"elapsed":0.000983},{"id":205344,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":205339,"elapsed":0.008666},{"id":205345,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097733110720,"value":"{:user=>#<User id: 253, username: \"bruce234\", created_at: \"2020-05-28 18:51:40\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":205346,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205345,"elapsed":7.0e-06},{"id":205347,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":205348,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205347,"elapsed":3.0e-06},{"id":205349,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205350,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205349,"elapsed":0.001008},{"id":205351,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":205352,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":205353,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":205352,"elapsed":0.000221,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81be832d30>","object_id":70097611888280}},{"id":205354,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205355,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205354,"elapsed":0.001276},{"id":205356,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":205351,"elapsed":0.00475},{"id":205357,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097783082280,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205358,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":205357,"elapsed":0.000132,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81d4d1cf38>","object_id":70097799014300}},{"id":205359,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082240,"value":"mymoreawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205360,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":205359,"elapsed":5.0e-06,"return_value":{"class":"String","value":"mymoreawesomepassword","object_id":70097783082240}},{"id":205361,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205362,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205361,"elapsed":0.000894},{"id":205363,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205364,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":205363,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205365,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205366,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":205367,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097827615760,"value":"#<UsernameValidator:0x00007f81d83aa820>"}},{"id":205368,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205369,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":205368,"elapsed":8.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097827613120}},{"id":205370,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205371,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":205370,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097827611420}},{"id":205372,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":205373,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":205372,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":205374,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":205375,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":205374,"elapsed":4.0e-06},{"id":205376,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":205367,"elapsed":0.000402,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205377,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":205366,"elapsed":0.00051},{"id":205378,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":205365,"elapsed":0.000611},{"id":205379,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097827594260,"value":"CodingHorror","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205380,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":205379,"elapsed":8.0e-06,"return_value":{"class":"String","value":"codinghorror","object_id":70097827650280}},{"id":205381,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097827594260,"value":"CodingHorror","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205382,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205381,"elapsed":1.0e-05},{"id":205383,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097827646840,"value":"codinghorror","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205384,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205383,"elapsed":5.0e-06},{"id":205385,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205386,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082240,"value":"mymoreawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097827666700,"value":"#<PasswordValidator:0x00007f81d83c3618>"}},{"id":205387,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205388,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205389,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":205388,"elapsed":3.0e-06},{"id":205390,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":205387,"elapsed":9.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205391,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205392,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":205391,"elapsed":1.3e-05,"return_value":{"class":"String","value":"jeff@somewhere.com","object_id":70097827681520}},{"id":205393,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205394,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":205393,"elapsed":6.0e-06,"return_value":{"class":"String","value":"jeff@somewhere.com","object_id":70097827681520}},{"id":205395,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082240,"value":"mymoreawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205396,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205395,"elapsed":5.0e-06},{"id":205397,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205386,"elapsed":0.002061},{"id":205398,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":205385,"elapsed":0.002207},{"id":205399,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205400,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":205399,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":205401,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097827695020,"value":"Coding Horror","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205402,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205401,"elapsed":6.0e-06},{"id":205403,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097827692700,"value":"coding horror","kind":"req"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205404,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":205403,"elapsed":5.0e-06},{"id":205405,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097827683000,"value":"Coding Horror","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":205406,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205405,"elapsed":5.0e-06},{"id":205407,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097586990360,"value":"99.232.23.249","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":205408,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097586990360,"value":"99.232.23.249","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":205409,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097586990360,"value":"99.232.23.249","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":205410,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097586990360,"value":"99.232.23.249","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":205411,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.249' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205412,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205411,"elapsed":0.001019},{"id":205413,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":205410,"elapsed":0.00459},{"id":205414,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":205409,"elapsed":0.004731},{"id":205415,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":205408,"elapsed":0.00484},{"id":205416,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205407,"elapsed":0.004959},{"id":205417,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097799014300,"value":"#<UserEmail:0x00007f81d4d1cf38>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097828088820,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":205418,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097828088820,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205419,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097828088820,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205420,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":205419,"elapsed":3.0e-05},{"id":205421,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":205418,"elapsed":0.000136,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205422,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097828088820,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205423,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097828088820,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205424,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":205423,"elapsed":9.0e-06,"return_value":{"class":"String","value":"jeff@somewhere.com","object_id":70097828120800}},{"id":205425,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":205426,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205425,"elapsed":0.001087},{"id":205427,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205422,"elapsed":0.004766},{"id":205428,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205417,"elapsed":0.005131},{"id":205429,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'jeff@somewhere.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205430,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205429,"elapsed":0.001169},{"id":205431,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205432,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":205431,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":205433,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('CodingHorror', '2020-05-28 18:51:40.271477', '2020-05-28 18:51:40.271477', 'Coding Horror', '7080fdb4f51382e5b0325ada58c010b15677e1d8c632a7e96f4b3d91bee6d1f8', '4601ec11d5edb98b5ebaace7e7e0199a', TRUE, 'codinghorror', 1, '99.232.23.249/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205434,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205433,"elapsed":0.001097},{"id":205435,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097799014300,"value":"#<UserEmail:0x00007f81d4d1cf38>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097613292620,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":205436,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613292620,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205437,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097613292620,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":205438,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":205437,"elapsed":2.8e-05},{"id":205439,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":205436,"elapsed":0.000134,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205440,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613292620,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205441,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613292620,"value":"jeff@somewhere.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":205442,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":205441,"elapsed":9.0e-06,"return_value":{"class":"String","value":"jeff@somewhere.com","object_id":70097613341940}},{"id":205443,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":205444,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205443,"elapsed":0.001015},{"id":205445,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205440,"elapsed":0.004517},{"id":205446,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205435,"elapsed":0.004872},{"id":205447,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 254 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205448,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205447,"elapsed":0.000961},{"id":205449,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'jeff@somewhere.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205450,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205449,"elapsed":0.001019},{"id":205451,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (254, 'jeff@somewhere.com', TRUE, '2020-05-28 18:51:40.289687', '2020-05-28 18:51:40.289687') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205452,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205451,"elapsed":0.001186},{"id":205453,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205454,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":205453,"elapsed":1.9e-05,"return_value":{"class":"String","value":"jeff@somewhere.com","object_id":70097614406180}},{"id":205455,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":205456,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":205457,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":205456,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":205458,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":205455,"elapsed":0.000142,"return_value":{"class":"String","value":"5ad4c142abe7d793af15b70d43c722fb","object_id":70097614462520}},{"id":205459,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (254, 'jeff@somewhere.com', '5ad4c142abe7d793af15b70d43c722fb', '2020-05-28 18:51:40.295490', '2020-05-28 18:51:40.295490') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205460,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205459,"elapsed":0.001268},{"id":205461,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 254 AND (id != 450)","database_type":"postgres","server_version":110006}},{"id":205462,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205461,"elapsed":0.001133},{"id":205463,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (254, '2020-05-28 18:51:40.305119') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":205464,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205463,"elapsed":0.001304},{"id":205465,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 254 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205466,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205465,"elapsed":0.001254},{"id":205467,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097615435780,"value":"{:user=>#<User id: 254, username: \"CodingHorror\", created_at: \"2020-05-28 18:51:40\", updated_at: \"20","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":205468,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205467,"elapsed":1.1e-05},{"id":205469,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097615469120,"value":"#<UserOption:0x00007f81bef07480>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":205470,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":205469,"elapsed":4.0e-06},{"id":205471,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097615469120,"value":"#<UserOption:0x00007f81bef07480>"}},{"id":205472,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097615469120,"value":"#<UserOption:0x00007f81bef07480>"}},{"id":205473,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":205474,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":205473,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":205475,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":205472,"elapsed":0.000119,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205476,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097615469120,"value":"#<UserOption:0x00007f81bef07480>"}},{"id":205477,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":205478,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":205477,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":205479,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":205476,"elapsed":0.000105,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205480,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":205471,"elapsed":0.000483,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205481,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (254, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":205482,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205481,"elapsed":0.001212},{"id":205483,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097590052380,"value":"#<TrackedTopicsUpdater:0x00007f81bbe8cc38>"}},{"id":205484,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":205485,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":205484,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":205486,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":205487,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":205486,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":205488,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 254","database_type":"postgres","server_version":110006}},{"id":205489,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205488,"elapsed":0.001456},{"id":205490,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":205483,"elapsed":0.00509,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205491,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205492,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 254 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205493,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205492,"elapsed":0.001485},{"id":205494,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (254) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":205495,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205494,"elapsed":0.001725},{"id":205496,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097794526300,"value":"{:user=>#<UserProfile user_id: 254, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":205497,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205496,"elapsed":1.2e-05},{"id":205498,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":205491,"elapsed":0.049509,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81bfa249a8>","object_id":70097621296340}},{"id":205499,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205500,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":205499,"elapsed":1.0e-05},{"id":205501,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205502,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205501,"elapsed":0.00182},{"id":205503,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205504,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205503,"elapsed":0.001302},{"id":205505,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205506,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205505,"elapsed":0.001296},{"id":205507,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":205508,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205507,"elapsed":0.001425},{"id":205509,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205510,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205511,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":205510,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205512,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":205509,"elapsed":0.000136},{"id":205513,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 254","database_type":"postgres","server_version":110006}},{"id":205514,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205513,"elapsed":0.001252},{"id":205515,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>"}},{"id":205516,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 254 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205517,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205516,"elapsed":0.001154},{"id":205518,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (254, '2020-05-28 18:51:40.406558', '2020-05-28 18:51:40.406558') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205519,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205518,"elapsed":0.001065},{"id":205520,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":205515,"elapsed":0.009924},{"id":205521,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097816652980,"value":"{:user=>#<User id: 254, username: \"CodingHorror\", created_at: \"2020-05-28 18:51:40\", updated_at: \"20","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":205522,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205521,"elapsed":8.0e-06},{"id":205523,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":205524,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205523,"elapsed":5.0e-06},{"id":205525,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205526,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205525,"elapsed":0.001087},{"id":205527,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097799020320,"value":"#<User:0x00007f81d4d1fe40>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":205528,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":205529,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":205528,"elapsed":0.000228,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bc1037c8>","object_id":70097591344100}},{"id":205530,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205531,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205530,"elapsed":0.001363},{"id":205532,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":205527,"elapsed":0.005383},{"id":205533,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":205534,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":205533,"elapsed":5.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097592704440}},{"id":205535,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097799000700,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205536,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":205535,"elapsed":9.4e-05,"return_value":{"class":"String","value":"This is a private message 66","object_id":70097799000700}},{"id":205537,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205538,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205537,"elapsed":0.001077},{"id":205539,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097594287040,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205540,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":205539,"elapsed":9.9e-05,"return_value":{"class":"String","value":"This is a private message 66","object_id":70097594287040}},{"id":205541,"event":"call","defined_class":"TopicTitleLengthValidator","method_id":"validate_each","path":"lib/validators/topic_title_length_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097594322720,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"TopicTitleLengthValidator","object_id":70097778412020,"value":"#<TopicTitleLengthValidator:0x00007f81d25d13e8>"}},{"id":205542,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205543,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205542,"elapsed":7.0e-06},{"id":205544,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205545,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205544,"elapsed":1.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205546,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_title_length","path":"app/models/site_setting.rb","lineno":40,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205547,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_title_length","path":"app/models/site_setting.rb","lineno":40,"static":true,"thread_id":70097708498960,"parent_id":205546,"elapsed":9.0e-06,"return_value":{"class":"Range","value":"2..255","object_id":70097594373780}},{"id":205548,"event":"return","defined_class":"TopicTitleLengthValidator","method_id":"validate_each","path":"lib/validators/topic_title_length_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205541,"elapsed":0.000575,"return_value":{"class":"Hash","value":"{:is=>:==, :minimum=>:>=, :maximum=>:<=}","object_id":70097718258080}},{"id":205549,"event":"call","defined_class":"CensoredWordsValidator","method_id":"validate_each","path":"lib/validators/censored_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097594322720,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"CensoredWordsValidator","object_id":70097778515220,"value":"#<CensoredWordsValidator:0x00007f81d2603a28>"}},{"id":205550,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205551,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205552,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205553,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205552,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097594419060}},{"id":205554,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205551,"elapsed":0.001354},{"id":205555,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205550,"elapsed":0.001478},{"id":205556,"event":"call","defined_class":"WordWatcher","method_id":"words_for_action","path":"app/services/word_watcher.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205557,"event":"call","defined_class":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","method_id":"actions","path":"app/models/watched_word.rb","lineno":5,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587074820,"value":"WatchedWord"}},{"id":205558,"event":"return","defined_class":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","method_id":"actions","path":"app/models/watched_word.rb","lineno":5,"static":true,"thread_id":70097708498960,"parent_id":205557,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:block=>1, :censor=>2, :require_approval=>3, :flag=>4}","object_id":70097568148260}},{"id":205559,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"watched_words\".\"word\" FROM \"watched_words\" WHERE \"watched_words\".\"action\" = 2 LIMIT 1000","database_type":"postgres","server_version":110006}},{"id":205560,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205559,"elapsed":0.001166},{"id":205561,"event":"return","defined_class":"WordWatcher","method_id":"words_for_action","path":"app/services/word_watcher.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":205556,"elapsed":0.004255,"return_value":{"class":"Array","value":"[]","object_id":70097804470420}},{"id":205562,"event":"return","defined_class":"CensoredWordsValidator","method_id":"validate_each","path":"lib/validators/censored_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":205549,"elapsed":0.005985},{"id":205563,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097594322720,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097778596560,"value":"#<WatchedWordsValidator:0x00007f81d262b5a0>"}},{"id":205564,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097804651640,"value":"#<WordWatcher:0x00007f81d57dd8f0>"}},{"id":205565,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097804649260,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097804651640,"value":"#<WordWatcher:0x00007f81d57dd8f0>"}},{"id":205566,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205567,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205568,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205569,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205568,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097804661760}},{"id":205570,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205567,"elapsed":0.001067},{"id":205571,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205566,"elapsed":0.001188},{"id":205572,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":205565,"elapsed":0.00129},{"id":205573,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":205564,"elapsed":0.001395},{"id":205574,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":205563,"elapsed":0.001494},{"id":205575,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205576,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205575,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205577,"event":"call","defined_class":"MaxEmojisValidator","method_id":"validate_each","path":"lib/validators/max_emojis_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097594322720,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"MaxEmojisValidator","object_id":70097778857220,"value":"#<MaxEmojisValidator:0x00007f81d26aaa08>"}},{"id":205578,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097565706700,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205579,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":205578,"elapsed":0.000218,"return_value":{"class":"String","value":"This is a private message 66","object_id":70097565720120}},{"id":205580,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205581,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205582,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":205581,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097565715260}},{"id":205583,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205580,"elapsed":0.001105,"return_value":{"class":"Array","value":"[]","object_id":70097565713040}},{"id":205584,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205585,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":205584,"elapsed":5.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":205586,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":205587,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":205588,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":205587,"elapsed":4.0e-06},{"id":205589,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205586,"elapsed":0.000106},{"id":205590,"event":"return","defined_class":"MaxEmojisValidator","method_id":"validate_each","path":"lib/validators/max_emojis_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205577,"elapsed":0.002126},{"id":205591,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205592,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205591,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205593,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" IS NULL AND \"topic_allowed_users\".\"user_id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205594,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205593,"elapsed":0.001252},{"id":205595,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" IS NULL AND \"topic_allowed_users\".\"user_id\" = 254 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205596,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205595,"elapsed":0.001246},{"id":205597,"event":"call","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205598,"event":"call","defined_class":"Topic","method_id":"regular?","path":"app/models/topic.rb","lineno":555,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205599,"event":"return","defined_class":"Topic","method_id":"regular?","path":"app/models/topic.rb","lineno":555,"static":false,"thread_id":70097708498960,"parent_id":205598,"elapsed":1.0e-05},{"id":205600,"event":"return","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parent_id":205597,"elapsed":0.00013},{"id":205601,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097797905880,"value":"This is a private message 66","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205602,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":205601,"elapsed":0.000168,"return_value":{"class":"String","value":"This is a private message 66","object_id":70097797900580}},{"id":205603,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":205604,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parent_id":205603,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"400","object_id":801}},{"id":205605,"event":"call","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205606,"event":"return","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parent_id":205605,"elapsed":3.6e-05},{"id":205607,"event":"call","defined_class":"Topic","method_id":"initialize_default_values","path":"app/models/topic.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205608,"event":"return","defined_class":"Topic","method_id":"initialize_default_values","path":"app/models/topic.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":205607,"elapsed":2.0e-05,"return_value":{"class":"Integer","value":"253","object_id":507}},{"id":205609,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topics\" (\"title\", \"created_at\", \"updated_at\", \"user_id\", \"last_post_user_id\", \"bumped_at\", \"archetype\", \"slug\", \"fancy_title\") VALUES ('This is a private message 66', '2020-05-28 18:51:40.448502', '2020-05-28 18:51:40.448502', 253, 253, '2020-05-28 18:51:40.448605', 'private_message', 'this-is-a-private-message-66', 'This is a private message 66') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205610,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205609,"elapsed":0.001369},{"id":205611,"event":"call","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205612,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205613,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205612,"elapsed":8.0e-06},{"id":205614,"event":"return","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parent_id":205611,"elapsed":0.000161,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205615,"event":"call","defined_class":"Topic","method_id":"limit_topics_per_day","path":"app/models/topic.rb","lineno":419,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205616,"event":"call","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205617,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205618,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205617,"elapsed":6.0e-06},{"id":205619,"event":"call","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>"}},{"id":205620,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205621,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205620,"elapsed":0.001259},{"id":205622,"event":"return","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parent_id":205619,"elapsed":0.004408},{"id":205623,"event":"return","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parent_id":205616,"elapsed":0.004624,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205624,"event":"return","defined_class":"Topic","method_id":"limit_topics_per_day","path":"app/models/topic.rb","lineno":419,"static":false,"thread_id":70097708498960,"parent_id":205615,"elapsed":0.00476,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81ccfbc188>","object_id":70097733279940}},{"id":205625,"event":"call","defined_class":"Topic","method_id":"limit_private_messages_per_day","path":"app/models/topic.rb","lineno":427,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205626,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205627,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205626,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205628,"event":"return","defined_class":"Topic","method_id":"limit_private_messages_per_day","path":"app/models/topic.rb","lineno":427,"static":false,"thread_id":70097708498960,"parent_id":205625,"elapsed":0.000125,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81ccfc5a58>","object_id":70097733299500}},{"id":205629,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 239 AND \"topic_allowed_users\".\"user_id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205630,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205629,"elapsed":0.001203},{"id":205631,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_allowed_users\" (\"user_id\", \"topic_id\", \"created_at\", \"updated_at\") VALUES (253, 239, '2020-05-28 18:51:40.463389', '2020-05-28 18:51:40.463389') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205632,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205631,"elapsed":0.001031},{"id":205633,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 239 AND \"topic_allowed_users\".\"user_id\" = 254 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205634,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205633,"elapsed":0.001224},{"id":205635,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_allowed_users\" (\"user_id\", \"topic_id\", \"created_at\", \"updated_at\") VALUES (254, 239, '2020-05-28 18:51:40.472519', '2020-05-28 18:51:40.472519') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205636,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205635,"elapsed":0.00098},{"id":205637,"event":"call","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_category","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205638,"event":"return","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parent_id":205637,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205639,"event":"call","defined_class":"Topic","method_id":"advance_draft_sequence","path":"app/models/topic.rb","lineno":367,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205640,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205641,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205640,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205642,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097608860240,"value":"#<User:0x00007f81be26c4a0>","kind":"req"},{"name":"key","class":"String","object_id":70097796284060,"value":"new_private_message","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":205643,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":507,"value":"253","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":205644,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":205643,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205645,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 253 AND \"draft_sequences\".\"draft_key\" = 'new_private_message' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205646,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205645,"elapsed":0.001145},{"id":205647,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"draft_sequences\" (\"user_id\", \"draft_key\", \"sequence\") VALUES (253, 'new_private_message', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205648,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205647,"elapsed":0.001029},{"id":205649,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":205642,"elapsed":0.009065,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":205650,"event":"return","defined_class":"Topic","method_id":"advance_draft_sequence","path":"app/models/topic.rb","lineno":367,"static":false,"thread_id":70097708498960,"parent_id":205639,"elapsed":0.009349,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":205651,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205652,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205653,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":205652,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205654,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":205651,"elapsed":0.000104},{"id":205655,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":205656,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205655,"elapsed":4.0e-06},{"id":205657,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205658,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205657,"elapsed":0.000813},{"id":205659,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 250 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205660,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205659,"elapsed":0.001037},{"id":205661,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205662,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":205661,"elapsed":5.1e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097614051440}},{"id":205663,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205664,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205663,"elapsed":0.000857},{"id":205665,"event":"call","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205666,"event":"call","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205667,"event":"return","defined_class":"PostValidator","method_id":"presence","path":"lib/validators/post_validator.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":205666,"elapsed":8.0e-06},{"id":205668,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205669,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205668,"elapsed":1.1e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205670,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205671,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205670,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205672,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205673,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205672,"elapsed":9.0e-06},{"id":205674,"event":"call","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205675,"event":"call","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205676,"event":"return","defined_class":"Topic","method_id":"pm_with_non_human_user?","path":"app/models/topic.rb","lineno":1486,"static":false,"thread_id":70097708498960,"parent_id":205675,"elapsed":0.001127},{"id":205677,"event":"call","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205678,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205679,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205678,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205680,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_post_length","path":"app/models/site_setting.rb","lineno":52,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205681,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_post_length","path":"app/models/site_setting.rb","lineno":52,"static":true,"thread_id":70097708498960,"parent_id":205680,"elapsed":6.0e-06,"return_value":{"class":"Range","value":"10..32000","object_id":70097608683040}},{"id":205682,"event":"call","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097608682260,"value":"Hello world","kind":"req"},{"name":"range","class":"Range","object_id":70097608683040,"value":"10..32000","kind":"req"}],"receiver":{"class":"Class","object_id":70097567701840,"value":"StrippedLengthValidator"}},{"id":205683,"event":"return","defined_class":"StrippedLengthValidator","method_id":"validate","path":"lib/validators/stripped_length_validator.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":205682,"elapsed":5.0e-06},{"id":205684,"event":"return","defined_class":"PostValidator","method_id":"stripped_length","path":"lib/validators/post_validator.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":205677,"elapsed":0.000331},{"id":205685,"event":"call","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205686,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205687,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205686,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205688,"event":"return","defined_class":"PostValidator","method_id":"raw_quality","path":"lib/validators/post_validator.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":205685,"elapsed":0.000153},{"id":205689,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205690,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205689,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205691,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3759708,"value":"raw","kind":"req"},{"name":"value","class":"String","object_id":70097608682260,"value":"Hello world","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097608719080,"value":"#<WatchedWordsValidator:0x00007f81be2275d0>"}},{"id":205692,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097608716460,"value":"#<WordWatcher:0x00007f81be226158>"}},{"id":205693,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097608714920,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097608716460,"value":"#<WordWatcher:0x00007f81be226158>"}},{"id":205694,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205695,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205696,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205697,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205696,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097608732600}},{"id":205698,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205695,"elapsed":0.001079},{"id":205699,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205694,"elapsed":0.001195},{"id":205700,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":205693,"elapsed":0.001295},{"id":205701,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":205692,"elapsed":0.00144},{"id":205702,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":205691,"elapsed":0.001629},{"id":205703,"event":"return","defined_class":"PostValidator","method_id":"post_body_validator","path":"lib/validators/post_validator.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":205674,"elapsed":0.003748,"return_value":{"class":"Array","value":"[:raw]","object_id":70097608719120}},{"id":205704,"event":"call","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205705,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205706,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205705,"elapsed":1.2e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205707,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205708,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205707,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205709,"event":"call","defined_class":"User","method_id":"posted_too_much_in_topic?","path":"app/models/user.rb","lineno":845,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"}],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205710,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205711,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205710,"elapsed":1.4e-05},{"id":205712,"event":"return","defined_class":"User","method_id":"posted_too_much_in_topic?","path":"app/models/user.rb","lineno":845,"static":false,"thread_id":70097708498960,"parent_id":205709,"elapsed":0.000114},{"id":205713,"event":"return","defined_class":"PostValidator","method_id":"max_posts_validator","path":"lib/validators/post_validator.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":205704,"elapsed":0.000419},{"id":205714,"event":"call","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205715,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205716,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205715,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205717,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205718,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205717,"elapsed":5.0e-06},{"id":205719,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205720,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205719,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205721,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205722,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205721,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205723,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205724,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205725,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205724,"elapsed":4.0e-06},{"id":205726,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":205723,"elapsed":0.000123,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205727,"event":"call","defined_class":"Post","method_id":"raw_mentions","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205728,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205729,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205730,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":205729,"elapsed":1.6e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097608830020}},{"id":205731,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":205728,"elapsed":0.000142,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81be25ccf8>","object_id":70097608828540}},{"id":205732,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_mentions","path":"app/models/post_analyzer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205733,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205734,"event":"call","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097608682260,"value":"Hello world","kind":"req"},{"name":"opts","class":"Hash","object_id":70097608864280,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205735,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205736,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205735,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":205737,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205738,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205737,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":205739,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205740,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205741,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":205740,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097568374860}},{"id":205742,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205739,"elapsed":0.001119,"return_value":{"class":"Array","value":"[]","object_id":70097568428520}},{"id":205743,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205744,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":205743,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":205745,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":205746,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":205747,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":205746,"elapsed":3.0e-06},{"id":205748,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205745,"elapsed":9.7e-05},{"id":205749,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205750,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205751,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205752,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205751,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097568462900}},{"id":205753,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205750,"elapsed":0.000895},{"id":205754,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205749,"elapsed":0.001002},{"id":205755,"event":"return","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":205734,"elapsed":0.007696,"return_value":{"class":"String","value":"<p>Hello world</p>","object_id":70097568545980}},{"id":205756,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":205733,"elapsed":0.008061,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097568540500}},{"id":205757,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_mentions","path":"app/models/post_analyzer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":205732,"elapsed":0.008285,"return_value":{"class":"Array","value":"[]","object_id":70097568559060}},{"id":205758,"event":"return","defined_class":"Post","method_id":"raw_mentions","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":205727,"elapsed":0.008625,"return_value":{"class":"Array","value":"[]","object_id":70097568559060}},{"id":205759,"event":"return","defined_class":"PostValidator","method_id":"max_mention_validator","path":"lib/validators/post_validator.rb","lineno":59,"static":false,"thread_id":70097708498960,"parent_id":205714,"elapsed":0.00933},{"id":205760,"event":"call","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205761,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205762,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205761,"elapsed":1.8e-05,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205763,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205764,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205763,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205765,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205766,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205765,"elapsed":9.0e-06},{"id":205767,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205768,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205767,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205769,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205770,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205769,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205771,"event":"return","defined_class":"PostValidator","method_id":"max_images_validator","path":"lib/validators/post_validator.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":205760,"elapsed":0.000517},{"id":205772,"event":"call","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205773,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205774,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205773,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205775,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205776,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205775,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205777,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205778,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205779,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205778,"elapsed":5.0e-06},{"id":205780,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":205777,"elapsed":0.000102,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205781,"event":"return","defined_class":"PostValidator","method_id":"max_attachments_validator","path":"lib/validators/post_validator.rb","lineno":99,"static":false,"thread_id":70097708498960,"parent_id":205772,"elapsed":0.000399},{"id":205782,"event":"call","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205783,"event":"call","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205784,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205785,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205786,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":205785,"elapsed":1.1e-05,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097568625780}},{"id":205787,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":205784,"elapsed":0.000102,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81be25ccf8>","object_id":70097608828540}},{"id":205788,"event":"call","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205789,"event":"call","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205790,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205791,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":205790,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097568540500}},{"id":205792,"event":"return","defined_class":"PostAnalyzer","method_id":"raw_links","path":"app/models/post_analyzer.rb","lineno":113,"static":false,"thread_id":70097708498960,"parent_id":205789,"elapsed":0.00017,"return_value":{"class":"Array","value":"[]","object_id":70097568621760}},{"id":205793,"event":"return","defined_class":"PostAnalyzer","method_id":"link_count","path":"app/models/post_analyzer.rb","lineno":128,"static":false,"thread_id":70097708498960,"parent_id":205788,"elapsed":0.000266,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205794,"event":"return","defined_class":"Post","method_id":"link_count","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":205783,"elapsed":0.00055,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":205795,"event":"call","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205796,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205797,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205798,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":205797,"elapsed":8.0e-06,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097568658860}},{"id":205799,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":205796,"elapsed":9.9e-05,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81be25ccf8>","object_id":70097608828540}},{"id":205800,"event":"call","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205801,"event":"call","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205802,"event":"return","defined_class":"PostAnalyzer","method_id":"cooked_stripped","path":"app/models/post_analyzer.rb","lineno":132,"static":false,"thread_id":70097708498960,"parent_id":205801,"elapsed":3.0e-06,"return_value":{"class":"Nokogiri::HTML5::DocumentFragment","value":"<p>Hello world</p>","object_id":70097568540500}},{"id":205803,"event":"call","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205804,"event":"return","defined_class":"PostAnalyzer","method_id":"found_oneboxes?","path":"app/models/post_analyzer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":205803,"elapsed":3.0e-06},{"id":205805,"event":"return","defined_class":"PostAnalyzer","method_id":"has_oneboxes?","path":"app/models/post_analyzer.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":205800,"elapsed":0.000214},{"id":205806,"event":"return","defined_class":"Post","method_id":"has_oneboxes?","path":"app/models/post.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":205795,"elapsed":0.000485},{"id":205807,"event":"call","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205808,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205809,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205808,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205810,"event":"call","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205811,"event":"return","defined_class":"Post","method_id":"acting_user","path":"app/models/post.rb","lineno":324,"static":false,"thread_id":70097708498960,"parent_id":205810,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bec49ba8>","object_id":70097614032340}},{"id":205812,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205813,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205814,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205813,"elapsed":5.0e-06},{"id":205815,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":205812,"elapsed":9.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205816,"event":"return","defined_class":"PostValidator","method_id":"newuser_links_validator","path":"lib/validators/post_validator.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":205807,"elapsed":0.000389},{"id":205817,"event":"return","defined_class":"PostValidator","method_id":"can_post_links_validator","path":"lib/validators/post_validator.rb","lineno":104,"static":false,"thread_id":70097708498960,"parent_id":205782,"elapsed":0.001684},{"id":205818,"event":"call","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205819,"event":"return","defined_class":"PostValidator","method_id":"unique_post_validator","path":"lib/validators/post_validator.rb","lineno":124,"static":false,"thread_id":70097708498960,"parent_id":205818,"elapsed":6.0e-06},{"id":205820,"event":"call","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"}],"receiver":{"class":"PostValidator","object_id":70097754977660,"value":"#<PostValidator:0x00007f81cf91eaf8>"}},{"id":205821,"event":"return","defined_class":"PostValidator","method_id":"force_edit_last_validator","path":"lib/validators/post_validator.rb","lineno":137,"static":false,"thread_id":70097708498960,"parent_id":205820,"elapsed":5.0e-06},{"id":205822,"event":"return","defined_class":"PostValidator","method_id":"validate","path":"lib/validators/post_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205665,"elapsed":0.017279},{"id":205823,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205824,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":205823,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":205825,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097592685960,"value":"#<Topic:0x00007f81bc392b10>"}},{"id":205826,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205825,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205827,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205828,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":205827,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":205829,"event":"call","defined_class":"Post","method_id":"cook","path":"app/models/post.rb","lineno":285,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097608682260,"value":"Hello world","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568770080,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205830,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205831,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205830,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":205832,"event":"call","defined_class":"Post","method_id":"omit_nofollow?","path":"app/models/post.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205833,"event":"call","defined_class":"Post","method_id":"add_nofollow?","path":"app/models/post.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205834,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205835,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205834,"elapsed":4.0e-06},{"id":205836,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":7,"value":"3","kind":"req"}],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205837,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205838,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205837,"elapsed":4.0e-06},{"id":205839,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":205836,"elapsed":9.5e-05},{"id":205840,"event":"return","defined_class":"Post","method_id":"add_nofollow?","path":"app/models/post.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":205833,"elapsed":0.000291,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205841,"event":"return","defined_class":"Post","method_id":"omit_nofollow?","path":"app/models/post.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":205832,"elapsed":0.000378},{"id":205842,"event":"call","defined_class":"Post","method_id":"with_secure_media?","path":"app/models/post.rb","lineno":498,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205843,"event":"return","defined_class":"Post","method_id":"with_secure_media?","path":"app/models/post.rb","lineno":498,"static":false,"thread_id":70097708498960,"parent_id":205842,"elapsed":8.0e-06},{"id":205844,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205845,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205846,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":205845,"elapsed":7.0e-06,"return_value":{"class":"String","value":"7b502c3a1f48c8609ae212cdfb639dee39673f5e","object_id":70097568822720}},{"id":205847,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":205844,"elapsed":9.5e-05,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81be25ccf8>","object_id":70097608828540}},{"id":205848,"event":"call","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097608682260,"value":"Hello world","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568789000,"value":"{:topic_id=>239, :cook_method=>1, :user_id=>250}","kind":"opt"}],"receiver":{"class":"PostAnalyzer","object_id":70097608828540,"value":"#<PostAnalyzer:0x00007f81be25ccf8>"}},{"id":205849,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205850,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205849,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":205851,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205852,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205851,"elapsed":2.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":205853,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205854,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205855,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":205854,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097799876060}},{"id":205856,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205853,"elapsed":0.00124,"return_value":{"class":"Array","value":"[]","object_id":70097799874560}},{"id":205857,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205858,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":205857,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":205859,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":205860,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":205861,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":205860,"elapsed":4.0e-06},{"id":205862,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205859,"elapsed":0.000111},{"id":205863,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205864,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205865,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205866,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205865,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097799731660}},{"id":205867,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205864,"elapsed":0.000959},{"id":205868,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205863,"elapsed":0.001082},{"id":205869,"event":"return","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":205848,"elapsed":0.008063,"return_value":{"class":"String","value":"<p>Hello world</p>","object_id":70097799967420}},{"id":205870,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":205871,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":205870,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":205872,"event":"return","defined_class":"Post","method_id":"cook","path":"app/models/post.rb","lineno":285,"static":false,"thread_id":70097708498960,"parent_id":205829,"elapsed":0.00925,"return_value":{"class":"String","value":"<p>Hello world</p>","object_id":70097799967420}},{"id":205873,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"posts\" (\"user_id\", \"topic_id\", \"post_number\", \"raw\", \"cooked\", \"created_at\", \"updated_at\", \"sort_order\", \"last_editor_id\", \"last_version_at\", \"word_count\", \"baked_at\", \"baked_version\") VALUES (250, 239, 2, 'Hello world', '<p>Hello world</p>', '2020-05-28 18:51:40.514031', '2020-05-28 18:51:40.514031', 2, 250, '2020-05-28 18:51:40.523768', 2, '2020-05-28 18:51:40.513980', 2) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205874,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205873,"elapsed":0.001417},{"id":205875,"event":"call","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205876,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205877,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205876,"elapsed":7.0e-06},{"id":205878,"event":"return","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parent_id":205875,"elapsed":0.000161,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205879,"event":"call","defined_class":"Post","method_id":"limit_posts_per_day","path":"app/models/post.rb","lineno":170,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205880,"event":"call","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205881,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205882,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205881,"elapsed":5.0e-06},{"id":205883,"event":"call","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097614032340,"value":"#<User:0x00007f81bec49ba8>"}},{"id":205884,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 250 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205885,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205884,"elapsed":0.001284},{"id":205886,"event":"return","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parent_id":205883,"elapsed":0.004445},{"id":205887,"event":"return","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parent_id":205880,"elapsed":0.004663,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205888,"event":"return","defined_class":"Post","method_id":"limit_posts_per_day","path":"app/models/post.rb","lineno":170,"static":false,"thread_id":70097708498960,"parent_id":205879,"elapsed":0.004803,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81becb9c78>","object_id":70097614261820}},{"id":205889,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205890,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205891,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":205890,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205892,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":205889,"elapsed":9.9e-05},{"id":205893,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>"}},{"id":205894,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097614030820,"value":"#<Post:0x00007f81bec48fc8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":205895,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":205894,"elapsed":4.0e-06},{"id":205896,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":205893,"elapsed":0.000101},{"id":205897,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205898,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205897,"elapsed":0.001103},{"id":205899,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 189 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205900,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205899,"elapsed":0.001173},{"id":205901,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":205902,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":205901,"elapsed":5.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097829575300}},{"id":205903,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097829554320,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205904,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":205903,"elapsed":7.6e-05,"return_value":{"class":"String","value":"This is a private message 67","object_id":70097829554320}},{"id":205905,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":205906,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205905,"elapsed":0.001012},{"id":205907,"event":"call","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parameters":[{"name":"t","class":"String","object_id":70097589092060,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205908,"event":"return","defined_class":"Topic","method_id":"title=","path":"app/models/topic.rb","lineno":1124,"static":false,"thread_id":70097708498960,"parent_id":205907,"elapsed":7.2e-05,"return_value":{"class":"String","value":"This is a private message 67","object_id":70097589092060}},{"id":205909,"event":"call","defined_class":"TopicTitleLengthValidator","method_id":"validate_each","path":"lib/validators/topic_title_length_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097589087580,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"TopicTitleLengthValidator","object_id":70097778412020,"value":"#<TopicTitleLengthValidator:0x00007f81d25d13e8>"}},{"id":205910,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829557180,"value":"#<User:0x00007f81d875e778>"}},{"id":205911,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":205910,"elapsed":1.2e-05},{"id":205912,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205913,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205912,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205914,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_title_length","path":"app/models/site_setting.rb","lineno":40,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205915,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"private_message_title_length","path":"app/models/site_setting.rb","lineno":40,"static":true,"thread_id":70097708498960,"parent_id":205914,"elapsed":6.0e-06,"return_value":{"class":"Range","value":"2..255","object_id":70097589104600}},{"id":205916,"event":"return","defined_class":"TopicTitleLengthValidator","method_id":"validate_each","path":"lib/validators/topic_title_length_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205909,"elapsed":0.000358,"return_value":{"class":"Hash","value":"{:is=>:==, :minimum=>:>=, :maximum=>:<=}","object_id":70097718258080}},{"id":205917,"event":"call","defined_class":"CensoredWordsValidator","method_id":"validate_each","path":"lib/validators/censored_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097589087580,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"CensoredWordsValidator","object_id":70097778515220,"value":"#<CensoredWordsValidator:0x00007f81d2603a28>"}},{"id":205918,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205919,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205920,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205921,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205920,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097589117040}},{"id":205922,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205919,"elapsed":0.001132},{"id":205923,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205918,"elapsed":0.001243},{"id":205924,"event":"call","defined_class":"WordWatcher","method_id":"words_for_action","path":"app/services/word_watcher.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205925,"event":"call","defined_class":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","method_id":"actions","path":"app/models/watched_word.rb","lineno":5,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587074820,"value":"WatchedWord"}},{"id":205926,"event":"return","defined_class":"WatchedWord(id: integer, word: string, action: integer, created_at: datetime, updated_at: datetime)","method_id":"actions","path":"app/models/watched_word.rb","lineno":5,"static":true,"thread_id":70097708498960,"parent_id":205925,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:block=>1, :censor=>2, :require_approval=>3, :flag=>4}","object_id":70097568148260}},{"id":205927,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"watched_words\".\"word\" FROM \"watched_words\" WHERE \"watched_words\".\"action\" = 2 LIMIT 1000","database_type":"postgres","server_version":110006}},{"id":205928,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205927,"elapsed":0.001119},{"id":205929,"event":"return","defined_class":"WordWatcher","method_id":"words_for_action","path":"app/services/word_watcher.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":205924,"elapsed":0.003855,"return_value":{"class":"Array","value":"[]","object_id":70097614837980}},{"id":205930,"event":"return","defined_class":"CensoredWordsValidator","method_id":"validate_each","path":"lib/validators/censored_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":205917,"elapsed":0.005322},{"id":205931,"event":"call","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097589087580,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"WatchedWordsValidator","object_id":70097778596560,"value":"#<WatchedWordsValidator:0x00007f81d262b5a0>"}},{"id":205932,"event":"call","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"WordWatcher","object_id":70097614833340,"value":"#<WordWatcher:0x00007f81bedd0d78>"}},{"id":205933,"event":"call","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"all_matches","class":"Hash","object_id":70097614831900,"value":"{:all_matches=>true}","kind":"key"}],"receiver":{"class":"WordWatcher","object_id":70097614833340,"value":"#<WordWatcher:0x00007f81bedd0d78>"}},{"id":205934,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205935,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205936,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":613788,"value":"block","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":205937,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":205936,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:block","object_id":70097614849180}},{"id":205938,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":205935,"elapsed":0.000994},{"id":205939,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":205934,"elapsed":0.001102},{"id":205940,"event":"return","defined_class":"WordWatcher","method_id":"word_matches_for_action?","path":"app/services/word_watcher.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":205933,"elapsed":0.00121},{"id":205941,"event":"return","defined_class":"WordWatcher","method_id":"should_block?","path":"app/services/word_watcher.rb","lineno":73,"static":false,"thread_id":70097708498960,"parent_id":205932,"elapsed":0.001308},{"id":205942,"event":"return","defined_class":"WatchedWordsValidator","method_id":"validate_each","path":"lib/validators/watched_words_validator.rb","lineno":4,"static":false,"thread_id":70097708498960,"parent_id":205931,"elapsed":0.001402},{"id":205943,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205944,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205943,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205945,"event":"call","defined_class":"MaxEmojisValidator","method_id":"validate_each","path":"lib/validators/max_emojis_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":6444188,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097589087580,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"MaxEmojisValidator","object_id":70097778857220,"value":"#<MaxEmojisValidator:0x00007f81d26aaa08>"}},{"id":205946,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097614864780,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205947,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":205946,"elapsed":0.00019,"return_value":{"class":"String","value":"This is a private message 67","object_id":70097614887460}},{"id":205948,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205949,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205950,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":205949,"elapsed":6.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097614884380}},{"id":205951,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":205948,"elapsed":0.001022,"return_value":{"class":"Array","value":"[]","object_id":70097614882660}},{"id":205952,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":205953,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":205952,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":205954,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":205955,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":205956,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":205955,"elapsed":3.0e-06},{"id":205957,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":205954,"elapsed":9.2e-05},{"id":205958,"event":"return","defined_class":"MaxEmojisValidator","method_id":"validate_each","path":"lib/validators/max_emojis_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":205945,"elapsed":0.001918},{"id":205959,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205960,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205959,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205961,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" IS NULL AND \"topic_allowed_users\".\"user_id\" = 250 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205962,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205961,"elapsed":0.001082},{"id":205963,"event":"call","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205964,"event":"call","defined_class":"Topic","method_id":"regular?","path":"app/models/topic.rb","lineno":555,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205965,"event":"return","defined_class":"Topic","method_id":"regular?","path":"app/models/topic.rb","lineno":555,"static":false,"thread_id":70097708498960,"parent_id":205964,"elapsed":5.0e-06},{"id":205966,"event":"return","defined_class":"Topic","method_id":"ensure_topic_has_a_category","path":"app/models/topic.rb","lineno":375,"static":false,"thread_id":70097708498960,"parent_id":205963,"elapsed":0.000106},{"id":205967,"event":"call","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097609237740,"value":"This is a private message 67","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":205968,"event":"return","defined_class":"Emoji","method_id":"unicode_unescape","path":"app/models/emoji.rb","lineno":185,"static":true,"thread_id":70097708498960,"parent_id":205967,"elapsed":0.00012,"return_value":{"class":"String","value":"This is a private message 67","object_id":70097609257720}},{"id":205969,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":205970,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"max_fancy_title_length","path":"app/models/topic.rb","lineno":27,"static":true,"thread_id":70097708498960,"parent_id":205969,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"400","object_id":801}},{"id":205971,"event":"call","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205972,"event":"return","defined_class":"Topic","method_id":"inherit_auto_close_from_category","path":"app/models/topic.rb","lineno":348,"static":false,"thread_id":70097708498960,"parent_id":205971,"elapsed":2.9e-05},{"id":205973,"event":"call","defined_class":"Topic","method_id":"initialize_default_values","path":"app/models/topic.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205974,"event":"return","defined_class":"Topic","method_id":"initialize_default_values","path":"app/models/topic.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":205973,"elapsed":1.6e-05,"return_value":{"class":"Integer","value":"189","object_id":379}},{"id":205975,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topics\" (\"title\", \"created_at\", \"updated_at\", \"user_id\", \"last_post_user_id\", \"bumped_at\", \"archetype\", \"slug\", \"fancy_title\") VALUES ('This is a private message 67', '2020-05-28 18:51:40.559694', '2020-05-28 18:51:40.559694', 189, 189, '2020-05-28 18:51:40.559789', 'private_message', 'this-is-a-private-message-67', 'This is a private message 67') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205976,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205975,"elapsed":0.001155},{"id":205977,"event":"call","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829557180,"value":"#<User:0x00007f81d875e778>"}},{"id":205978,"event":"return","defined_class":"User","method_id":"new_user?","path":"app/models/user.rb","lineno":661,"static":false,"thread_id":70097708498960,"parent_id":205977,"elapsed":5.6e-05},{"id":205979,"event":"call","defined_class":"Topic","method_id":"limit_topics_per_day","path":"app/models/topic.rb","lineno":419,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205980,"event":"call","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829557180,"value":"#<User:0x00007f81d875e778>"}},{"id":205981,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097829557180,"value":"#<User:0x00007f81d875e778>"}},{"id":205982,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":205981,"elapsed":1.1e-05},{"id":205983,"event":"return","defined_class":"User","method_id":"new_user_posting_on_first_day?","path":"app/models/user.rb","lineno":655,"static":false,"thread_id":70097708498960,"parent_id":205980,"elapsed":0.000104},{"id":205984,"event":"return","defined_class":"Topic","method_id":"limit_topics_per_day","path":"app/models/topic.rb","lineno":419,"static":false,"thread_id":70097708498960,"parent_id":205979,"elapsed":0.000215,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81bee85d40>","object_id":70097615204000}},{"id":205985,"event":"call","defined_class":"Topic","method_id":"limit_private_messages_per_day","path":"app/models/topic.rb","lineno":427,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205986,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205987,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205986,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205988,"event":"return","defined_class":"Topic","method_id":"limit_private_messages_per_day","path":"app/models/topic.rb","lineno":427,"static":false,"thread_id":70097708498960,"parent_id":205985,"elapsed":0.000116,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81bee8fb10>","object_id":70097615224200}},{"id":205989,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 240 AND \"topic_allowed_users\".\"user_id\" = 250 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":205990,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205989,"elapsed":0.001101},{"id":205991,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_allowed_users\" (\"user_id\", \"topic_id\", \"created_at\", \"updated_at\") VALUES (250, 240, '2020-05-28 18:51:40.568879', '2020-05-28 18:51:40.568879') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":205992,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":205991,"elapsed":0.001112},{"id":205993,"event":"call","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_category","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205994,"event":"return","defined_class":"Topic","method_id":"changed_to_category","path":"app/models/topic.rb","lineno":784,"static":false,"thread_id":70097708498960,"parent_id":205993,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205995,"event":"call","defined_class":"Topic","method_id":"advance_draft_sequence","path":"app/models/topic.rb","lineno":367,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205996,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":205997,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":205996,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":205998,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097829557180,"value":"#<User:0x00007f81d875e778>","kind":"req"},{"name":"key","class":"String","object_id":70097796284060,"value":"new_private_message","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":205999,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":379,"value":"189","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":206000,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":205999,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206001,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 189 AND \"draft_sequences\".\"draft_key\" = 'new_private_message' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206002,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206001,"elapsed":0.001348},{"id":206003,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"draft_sequences\" (\"user_id\", \"draft_key\", \"sequence\") VALUES (189, 'new_private_message', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206004,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206003,"elapsed":0.001098},{"id":206005,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":205998,"elapsed":0.011511,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206006,"event":"return","defined_class":"Topic","method_id":"advance_draft_sequence","path":"app/models/topic.rb","lineno":367,"static":false,"thread_id":70097708498960,"parent_id":205995,"elapsed":0.011839,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206007,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":206008,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>"}},{"id":206009,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":206008,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206010,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":206007,"elapsed":0.000127},{"id":206011,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097829554060,"value":"#<Topic:0x00007f81d875cf18>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":206012,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206011,"elapsed":5.0e-06},{"id":206013,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":206014,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206013,"elapsed":0.000888},{"id":206015,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206016,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206015,"elapsed":7.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206017,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206018,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206017,"elapsed":1.2e-05},{"id":206019,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/t/239/move-posts.json"},"message":[{"name":"post_ids","class":"Array","value":"[\"306\"]","object_id":70097730620220},{"name":"destination_topic_id","class":"String","value":"240","object_id":70097803736640},{"name":"archetype","class":"String","value":"private_message","object_id":70097803735920},{"name":"controller","class":"String","value":"topics","object_id":70097781576700},{"name":"action","class":"String","value":"move_posts","object_id":70097781576620},{"name":"topic_id","class":"String","value":"239","object_id":70097804339460},{"name":"format","class":"String","value":"json","object_id":70097804338740}]},{"id":206020,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206021,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206022,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206023,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206024,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097730783340,"value":"cf7fdd67cd3383b4a53fad2cd32ebd46","kind":"req"},{"name":"opts","class":"Hash","object_id":70097730805380,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":206025,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097730783340,"value":"cf7fdd67cd3383b4a53fad2cd32ebd46","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":206026,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":206027,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":206026,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":206028,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":206025,"elapsed":0.000136,"return_value":{"class":"String","value":"cVQ6IQfjvKo40CVGua7az4jy3FI=","object_id":70097730849500}},{"id":206029,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'cVQ6IQfjvKo40CVGua7az4jy3FI=' OR\n                          prev_auth_token = 'cVQ6IQfjvKo40CVGua7az4jy3FI=') AND rotated_at > '2020-03-29 18:51:40.629250') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206030,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206029,"elapsed":0.001079},{"id":206031,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:51:40.634857' WHERE \"user_auth_tokens\".\"id\" = 483 AND \"user_auth_tokens\".\"auth_token\" = 'cVQ6IQfjvKo40CVGua7az4jy3FI='","database_type":"postgres","server_version":110006}},{"id":206032,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206031,"elapsed":0.001064},{"id":206033,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097732733060,"value":"{:action=>\"seen token\", :user_auth_token_id=>483, :user_id=>188, :auth_token=>\"cVQ6IQfjvKo40CVGua7az","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":206034,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":206035,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206034,"elapsed":0.000808},{"id":206036,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 483, 188, '127.0.0.1/32', 'cVQ6IQfjvKo40CVGua7az4jy3FI=', '2020-05-28 18:51:40.643987') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206037,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206036,"elapsed":0.000927},{"id":206038,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":206039,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206038,"elapsed":0.000763},{"id":206040,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":206033,"elapsed":0.01371,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81ccebb630>","object_id":70097732754200}},{"id":206041,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":206024,"elapsed":0.024416,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d699e4e0>","object_id":70097813959280}},{"id":206042,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206043,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206042,"elapsed":0.001213},{"id":206044,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206045,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":206044,"elapsed":1.7e-05},{"id":206046,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206047,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":206046,"elapsed":0.000915,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206048,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206049,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":206048,"elapsed":0.000833},{"id":206050,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097591540840,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206051,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 188","database_type":"postgres","server_version":110006}},{"id":206052,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206051,"elapsed":0.001104},{"id":206053,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":206050,"elapsed":0.004395,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206054,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206023,"elapsed":0.03646,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206055,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":206022,"elapsed":0.036598,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc4433c0>","object_id":70097593047520}},{"id":206056,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206057,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":206056,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206058,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":206021,"elapsed":0.036862},{"id":206059,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206060,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206059,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206061,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206062,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206061,"elapsed":0.001031},{"id":206063,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206064,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":206063,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc4433c0>","object_id":70097593047520}},{"id":206065,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097587540820,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206066,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":206065,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206067,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":206020,"elapsed":0.042087,"return_value":{"class":"Array","value":"[2]","object_id":70097587540820}},{"id":206068,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206069,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206070,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206069,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206071,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206072,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206071,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206073,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206074,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206073,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206075,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":206068,"elapsed":0.000361,"return_value":{"class":"String","value":"topics/move_posts","object_id":70097587589980}},{"id":206076,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206077,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206078,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206077,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206079,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":206076,"elapsed":0.000113},{"id":206080,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206081,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206082,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206081,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206083,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206084,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206083,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206085,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206086,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":206085,"elapsed":1.1e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":206087,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206088,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206087,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206089,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206090,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206089,"elapsed":9.0e-06},{"id":206091,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206092,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206091,"elapsed":1.7e-05,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206093,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206094,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206093,"elapsed":7.0e-06},{"id":206095,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":206080,"elapsed":0.000743,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097587653360}},{"id":206096,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206097,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":206096,"elapsed":7.0e-06},{"id":206098,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206099,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206100,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206099,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206101,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":206098,"elapsed":9.8e-05},{"id":206102,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206103,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206102,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206104,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206105,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206104,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206106,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206107,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206106,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206108,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097776516660,"value":"TopicsController"}},{"id":206109,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":206108,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:timings, :destroy_timings, :update, :update_shared_draft, :destroy, :recover, :status, :in","object_id":70097776871500}},{"id":206110,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206111,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206110,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206112,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206113,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":206112,"elapsed":7.0e-06},{"id":206114,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206115,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206116,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206115,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206117,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":206114,"elapsed":9.9e-05},{"id":206118,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206119,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206120,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206119,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206121,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":206118,"elapsed":9.8e-05},{"id":206122,"event":"call","defined_class":"TopicsController","method_id":"move_posts","path":"app/controllers/topics_controller.rb","lineno":717,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206123,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206124,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":206123,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc4433c0>","object_id":70097593047520}},{"id":206125,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206126,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206127,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":206126,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206128,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":206125,"elapsed":0.000109,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206129,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206130,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206131,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206130,"elapsed":4.8e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097797810900}},{"id":206132,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206133,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206134,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206133,"elapsed":3.0e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097797818180}},{"id":206135,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206132,"elapsed":0.000181,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097797831760}},{"id":206136,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":206129,"elapsed":0.000498,"return_value":{"class":"ActiveRecord::Relation","value":"#<Topic::ActiveRecord_Relation:0x00007f81d4ad01d0>","object_id":70097797808360}},{"id":206137,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206138,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206137,"elapsed":0.001129},{"id":206139,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206140,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":206139,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bc4433c0>","object_id":70097593047520}},{"id":206141,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"method","class":"Symbol","object_id":17299508,"value":"ensure_can_move_posts!","kind":"req"},{"name":"args","class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>","kind":"rest"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206142,"event":"call","defined_class":"Guardian","method_id":"can_move_posts?","path":"lib/guardian.rb","lineno":163,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206143,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206144,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":206143,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206145,"event":"call","defined_class":"Guardian","method_id":"is_silenced?","path":"lib/guardian.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206146,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206147,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":206146,"elapsed":1.9e-05},{"id":206148,"event":"return","defined_class":"Guardian","method_id":"is_silenced?","path":"lib/guardian.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":206145,"elapsed":0.00012},{"id":206149,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097593047520,"value":"#<Guardian:0x00007f81bc4433c0>"}},{"id":206150,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206151,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":206150,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206152,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":206149,"elapsed":0.000103,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206153,"event":"return","defined_class":"Guardian","method_id":"can_move_posts?","path":"lib/guardian.rb","lineno":163,"static":false,"thread_id":70097708498960,"parent_id":206142,"elapsed":0.000592,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206154,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":206141,"elapsed":0.000695},{"id":206155,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":206156,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":206155,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":206157,"event":"call","defined_class":"ApplicationController","method_id":"post_ids_including_replies","path":"app/controllers/application_controller.rb","lineno":494,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":206158,"event":"return","defined_class":"ApplicationController","method_id":"post_ids_including_replies","path":"app/controllers/application_controller.rb","lineno":494,"static":false,"thread_id":70097708498960,"parent_id":206157,"elapsed":1.1e-05,"return_value":{"class":"Array","value":"[306]","object_id":70097566931160}},{"id":206159,"event":"call","defined_class":"Topic","method_id":"move_posts","path":"app/models/topic.rb","lineno":1029,"static":false,"thread_id":70097708498960,"parameters":[{"name":"moved_by","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"post_ids","class":"Array","object_id":70097566931160,"value":"[306]","kind":"req"},{"name":"opts","class":"Hash","object_id":70097566913100,"value":"{:destination_topic_id=>240, :archetype=>\"private_message\"}","kind":"req"}],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206160,"event":"call","defined_class":"PostMover","method_id":"to_topic","path":"app/models/post_mover.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[{"name":"id","class":"Integer","object_id":481,"value":"240","kind":"req"},{"name":"participants","class":"Hash","object_id":70097566927340,"value":"{:participants=>nil}","kind":"key"}],"receiver":{"class":"PostMover","object_id":70097566927380,"value":"#<PostMover:0x00007f81b9271428>"}},{"id":206161,"event":"call","defined_class":"PostMover","method_id":"move_types","path":"app/models/post_mover.rb","lineno":6,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097624446540,"value":"PostMover"}},{"id":206162,"event":"return","defined_class":"PostMover","method_id":"move_types","path":"app/models/post_mover.rb","lineno":6,"static":true,"thread_id":70097708498960,"parent_id":206161,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:new_topic=>1, :existing_topic=>2}","object_id":70097624525520}},{"id":206163,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206164,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206163,"elapsed":4.2e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097566945180}},{"id":206165,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 240 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206166,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206165,"elapsed":0.001368},{"id":206167,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":206168,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206167,"elapsed":0.000831},{"id":206169,"event":"call","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097798463680,"value":"#<Guardian:0x00007f81d4c10180>"}},{"id":206170,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097798463680,"value":"#<Guardian:0x00007f81d4c10180>"}},{"id":206171,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>","kind":"req"},{"name":"hide_deleted","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097798463680,"value":"#<Guardian:0x00007f81d4c10180>"}},{"id":206172,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097798463680,"value":"#<Guardian:0x00007f81d4c10180>"}},{"id":206173,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206174,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":206173,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206175,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":206172,"elapsed":0.000113,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206176,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":206171,"elapsed":0.000206,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206177,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":206170,"elapsed":0.000325,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206178,"event":"return","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":206169,"elapsed":0.000429},{"id":206179,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206180,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206179,"elapsed":5.5e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097798476540}},{"id":206181,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206182,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206181,"elapsed":3.4e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097798528420}},{"id":206183,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206184,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206183,"elapsed":0.001155},{"id":206185,"event":"call","defined_class":"Topic","method_id":"max_post_number","path":"app/models/topic.rb","lineno":1025,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":206186,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206187,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206186,"elapsed":5.1e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097733319400}},{"id":206188,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206189,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206188,"elapsed":2.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097733314980}},{"id":206190,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206191,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206192,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206191,"elapsed":2.6e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097733332520}},{"id":206193,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":206190,"elapsed":0.000133,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<Post::ActiveRecord_AssociationRelation:0x00007f81ccfd68f8>","object_id":70097733334140}},{"id":206194,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT MAX(\"posts\".\"post_number\") FROM \"posts\" WHERE \"posts\".\"topic_id\" = 240","database_type":"postgres","server_version":110006}},{"id":206195,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206194,"elapsed":0.000922},{"id":206196,"event":"return","defined_class":"Topic","method_id":"max_post_number","path":"app/models/topic.rb","lineno":1025,"static":false,"thread_id":70097708498960,"parent_id":206185,"elapsed":0.004957,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206197,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206198,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206197,"elapsed":3.6e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097612293320}},{"id":206199,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206200,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206199,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206201,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 239 AND \"posts\".\"id\" = 306 AND \"posts\".\"post_type\" != 3 AND \"posts\".\"raw\" != '' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206202,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206201,"elapsed":0.000855},{"id":206203,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 239 AND \"posts\".\"id\" = 306 AND \"posts\".\"post_type\" != 3 AND \"posts\".\"raw\" != '' ORDER BY \"posts\".\"created_at\" ASC","database_type":"postgres","server_version":110006}},{"id":206204,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206203,"elapsed":0.001069},{"id":206205,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097827972260,"value":"#<Post:0x00007f81d8458948>"}},{"id":206206,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":206205,"elapsed":8.0e-06},{"id":206207,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET \"post_number\" = 1, \"topic_id\" = 240, \"sort_order\" = 1, \"baked_at\" = '2020-05-28 18:51:40.713342', \"updated_at\" = '2020-05-28 18:51:40.713455' WHERE \"posts\".\"id\" = 306","database_type":"postgres","server_version":110006}},{"id":206208,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206207,"elapsed":0.001117},{"id":206209,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097827972260,"value":"#<Post:0x00007f81d8458948>"}},{"id":206210,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097827972260,"value":"#<Post:0x00007f81d8458948>"}},{"id":206211,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":206210,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206212,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":206209,"elapsed":0.000108},{"id":206213,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097827972260,"value":"#<Post:0x00007f81d8458948>"}},{"id":206214,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097827972260,"value":"#<Post:0x00007f81d8458948>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":206215,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206214,"elapsed":4.0e-06},{"id":206216,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":206213,"elapsed":0.000103},{"id":206217,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_links\" SET \"topic_id\" = 240 WHERE \"topic_links\".\"post_id\" = 306","database_type":"postgres","server_version":110006}},{"id":206218,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206217,"elapsed":0.000933},{"id":206219,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 240 AND \"topic_allowed_users\".\"user_id\" = 250 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206220,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206219,"elapsed":0.000837},{"id":206221,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":206222,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":206221,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":206223,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":20873308,"value":"notify_moved_posts","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613359020,"value":"{:post_ids=>[306], :moved_by_id=>188}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206224,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206225,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206224,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206226,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206223,"elapsed":0.000226,"return_value":{"class":"String","value":"f6839f9bf871279d24493b9f","object_id":70097613397900}},{"id":206227,"event":"call","defined_class":"PostMover","method_id":"move_types","path":"app/models/post_mover.rb","lineno":6,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097624446540,"value":"PostMover"}},{"id":206228,"event":"return","defined_class":"PostMover","method_id":"move_types","path":"app/models/post_mover.rb","lineno":6,"static":true,"thread_id":70097708498960,"parent_id":206227,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:new_topic=>1, :existing_topic=>2}","object_id":70097624525520}},{"id":206229,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206230,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206229,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206231,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206232,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206231,"elapsed":9.0e-06},{"id":206233,"event":"call","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097827972260,"value":"#<Post:0x00007f81d8458948>"}},{"id":206234,"event":"return","defined_class":"Post","method_id":"is_first_post?","path":"app/models/post.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":206233,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206235,"event":"call","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post_number","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":206236,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":206237,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":206236,"elapsed":1.5e-05,"return_value":{"class":"String","value":"this-is-a-private-message-67","object_id":70097613430600}},{"id":206238,"event":"return","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parent_id":206235,"elapsed":0.000121,"return_value":{"class":"String","value":"/t/this-is-a-private-message-67/240","object_id":70097613429460}},{"id":206239,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206240,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206239,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206241,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206242,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206241,"elapsed":7.0e-06},{"id":206243,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":206244,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":206243,"elapsed":3.0e-06},{"id":206245,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":206246,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":206245,"elapsed":3.0e-06},{"id":206247,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206248,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206247,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206249,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206250,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206249,"elapsed":7.0e-06},{"id":206251,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206252,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206251,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":206253,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":206254,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":206253,"elapsed":6.0e-06},{"id":206255,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206256,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206255,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206257,"event":"call","defined_class":"Topic","method_id":"add_moderator_post","path":"app/models/topic.rb","lineno":843,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"text","class":"String","object_id":70097613457360,"value":"A post was merged into an existing message: [This is a private message 67](/t/this-is-a-private-mess","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613496240,"value":"{:post_type=>4, :action_code=>\"split_topic\", :post_number=>2}","kind":"opt"}],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206258,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206259,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":206258,"elapsed":5.0e-06},{"id":206260,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206261,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206260,"elapsed":5.0e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097613505380}},{"id":206262,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206263,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206262,"elapsed":0.001039},{"id":206264,"event":"call","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70097708498960,"parameters":[{"name":"klass","class":"Class","object_id":70097792338860,"value":"Post","kind":"req"},{"name":"parent","class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>","kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206265,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206266,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":206265,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206267,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206268,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>","kind":"req"},{"name":"hide_deleted","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206269,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206270,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206271,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":206270,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206272,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":206269,"elapsed":9.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206273,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":206268,"elapsed":0.00018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206274,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":206267,"elapsed":0.000282,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206275,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_post_on_topic?","path":"lib/guardian/topic_guardian.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206276,"event":"call","defined_class":"Trashable","method_id":"trashed?","path":"app/models/concerns/trashable.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206277,"event":"return","defined_class":"Trashable","method_id":"trashed?","path":"app/models/concerns/trashable.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":206276,"elapsed":1.4e-05},{"id":206278,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206279,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206280,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":206279,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206281,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":206278,"elapsed":8.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206282,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_post_on_topic?","path":"lib/guardian/topic_guardian.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":206275,"elapsed":0.00027,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206283,"event":"return","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70097708498960,"parent_id":206264,"elapsed":0.000846,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206284,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206285,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206284,"elapsed":3.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097608521700}},{"id":206286,"event":"call","defined_class":"Post","method_id":"extract_quoted_post_numbers","path":"app/models/post.rb","lineno":722,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206287,"event":"return","defined_class":"Post","method_id":"extract_quoted_post_numbers","path":"app/models/post.rb","lineno":722,"static":false,"thread_id":70097708498960,"parent_id":206286,"elapsed":1.3e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206288,"event":"call","defined_class":"User","method_id":"anonymous?","path":"app/models/user.rb","lineno":1155,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206289,"event":"return","defined_class":"User","method_id":"anonymous?","path":"app/models/user.rb","lineno":1155,"static":false,"thread_id":70097708498960,"parent_id":206288,"elapsed":1.2e-05},{"id":206290,"event":"call","defined_class":"User","method_id":"bot?","path":"app/models/user.rb","lineno":317,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206291,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206292,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":206293,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":206292,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206294,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":206291,"elapsed":0.000107,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206295,"event":"return","defined_class":"User","method_id":"bot?","path":"app/models/user.rb","lineno":317,"static":false,"thread_id":70097708498960,"parent_id":206290,"elapsed":0.000194},{"id":206296,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206297,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206296,"elapsed":3.4e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097608585100}},{"id":206298,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"created_at\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"user_id\" = 188 ORDER BY \"posts\".\"created_at\" DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206299,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206298,"elapsed":0.000842},{"id":206300,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206301,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":206300,"elapsed":0.000294,"return_value":{"class":"Hash","value":"{}","object_id":70097800230000}},{"id":206302,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"notices","path":"app/models/post.rb","lineno":152,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206303,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"notices","path":"app/models/post.rb","lineno":152,"static":true,"thread_id":70097708498960,"parent_id":206302,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:custom=>\"custom\", :new_user=>\"new_user\", :returning_user=>\"returning_user\"}","object_id":70097613031700}},{"id":206304,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206305,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206304,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206306,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206307,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206306,"elapsed":4.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097800277440}},{"id":206308,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206309,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206308,"elapsed":2.4e-05},{"id":206310,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097614180460,"value":"#<Topic:0x00007f81bec920d8>"}},{"id":206311,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206310,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206312,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206313,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206312,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206314,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"next_post_number","path":"app/models/topic.rb","lineno":618,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614200060,"value":"{:reply=>false, :whisper=>true, :post=>true}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206315,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"next_post_number","path":"app/models/topic.rb","lineno":618,"static":true,"thread_id":70097708498960,"parent_id":206314,"elapsed":0.002154,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206316,"event":"call","defined_class":"Post","method_id":"cook","path":"app/models/post.rb","lineno":285,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097608517080,"value":"A post was merged into an existing message: [This is a private message 67](/t/this-is-a-private-mess","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614194920,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206317,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206318,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206317,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":206319,"event":"call","defined_class":"Post","method_id":"omit_nofollow?","path":"app/models/post.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206320,"event":"call","defined_class":"Post","method_id":"add_nofollow?","path":"app/models/post.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206321,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206322,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":206321,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206323,"event":"return","defined_class":"Post","method_id":"add_nofollow?","path":"app/models/post.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":206320,"elapsed":0.000104},{"id":206324,"event":"return","defined_class":"Post","method_id":"omit_nofollow?","path":"app/models/post.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":206319,"elapsed":0.000186,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206325,"event":"call","defined_class":"Post","method_id":"with_secure_media?","path":"app/models/post.rb","lineno":498,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206326,"event":"return","defined_class":"Post","method_id":"with_secure_media?","path":"app/models/post.rb","lineno":498,"static":false,"thread_id":70097708498960,"parent_id":206325,"elapsed":7.0e-06},{"id":206327,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206328,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206329,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":206328,"elapsed":1.2e-05,"return_value":{"class":"String","value":"ff69f892b6ff7f006345d24459c291d7ea423440","object_id":70097614227540}},{"id":206330,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":206327,"elapsed":0.000102,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81beca8ae0>","object_id":70097614226800}},{"id":206331,"event":"call","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097608517080,"value":"A post was merged into an existing message: [This is a private message 67](/t/this-is-a-private-mess","kind":"req"},{"name":"opts","class":"Hash","object_id":70097614214640,"value":"{:topic_id=>239, :cook_method=>1, :user_id=>188, :omit_nofollow=>true}","kind":"opt"}],"receiver":{"class":"PostAnalyzer","object_id":70097614226800,"value":"#<PostAnalyzer:0x00007f81beca8ae0>"}},{"id":206332,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206333,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206332,"elapsed":2.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":206334,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206335,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206334,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":206336,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":206337,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":206338,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":206337,"elapsed":5.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097614264600}},{"id":206339,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":206336,"elapsed":0.000833,"return_value":{"class":"Array","value":"[]","object_id":70097614262440}},{"id":206340,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":206341,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":206340,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":206342,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":206343,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":206344,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":206343,"elapsed":4.0e-06},{"id":206345,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206342,"elapsed":9.8e-05},{"id":206346,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":206347,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":206348,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":206349,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":206348,"elapsed":4.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097614298360}},{"id":206350,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":206347,"elapsed":0.000849},{"id":206351,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":206346,"elapsed":0.000954},{"id":206352,"event":"return","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":206331,"elapsed":0.009211,"return_value":{"class":"String","value":"<p>A post was merged into an existing message: <a href=\"/t/this-is-a-private-message-67/240\">This is","object_id":70097614393440}},{"id":206353,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206354,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206353,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206355,"event":"return","defined_class":"Post","method_id":"cook","path":"app/models/post.rb","lineno":285,"static":false,"thread_id":70097708498960,"parent_id":206316,"elapsed":0.010155,"return_value":{"class":"String","value":"<p>A post was merged into an existing message: <a href=\"/t/this-is-a-private-message-67/240\">This is","object_id":70097614393440}},{"id":206356,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"posts\" (\"user_id\", \"topic_id\", \"post_number\", \"raw\", \"cooked\", \"created_at\", \"updated_at\", \"post_type\", \"sort_order\", \"last_editor_id\", \"last_version_at\", \"word_count\", \"baked_at\", \"baked_version\", \"action_code\") VALUES (188, 239, 1, 'A post was merged into an existing message: [This is a private message 67](/t/this-is-a-private-message-67/240)', '<p>A post was merged into an existing message: <a href=\"/t/this-is-a-private-message-67/240\">This is a private message 67</a></p>', '2020-05-28 18:51:40.753894', '2020-05-28 18:51:40.753894', 4, 1, 188, '2020-05-28 18:51:40.771073', 22, '2020-05-28 18:51:40.753864', 2, 'split_topic') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206357,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206356,"elapsed":0.001139},{"id":206358,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206359,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206360,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":206359,"elapsed":6.0e-06},{"id":206361,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"post_custom_fields\".* FROM \"post_custom_fields\" WHERE \"post_custom_fields\".\"post_id\" = 307","database_type":"postgres","server_version":110006}},{"id":206362,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206361,"elapsed":0.001035},{"id":206363,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"get_custom_field_type","path":"app/models/concerns/has_custom_fields.rb","lineno":101,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097792271160,"value":"notice_type","kind":"req"}],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206364,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"get_custom_field_type","path":"app/models/concerns/has_custom_fields.rb","lineno":101,"static":true,"thread_id":70097708498960,"parent_id":206363,"elapsed":5.0e-06},{"id":206365,"event":"call","defined_class":"HasCustomFields","method_id":"create_singular","path":"app/models/concerns/has_custom_fields.rb","lineno":262,"static":false,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097792271160,"value":"notice_type","kind":"req"},{"name":"value","class":"String","object_id":70097792291580,"value":"new_user","kind":"req"},{"name":"field_type","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206366,"event":"call","defined_class":"Post","method_id":"custom_fields_fk","path":"app/models/concerns/has_custom_fields.rb","lineno":69,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206367,"event":"return","defined_class":"Post","method_id":"custom_fields_fk","path":"app/models/concerns/has_custom_fields.rb","lineno":69,"static":false,"thread_id":70097708498960,"parent_id":206366,"elapsed":5.0e-05,"return_value":{"class":"String","value":"post_id","object_id":70097614625720}},{"id":206368,"event":"return","defined_class":"HasCustomFields","method_id":"create_singular","path":"app/models/concerns/has_custom_fields.rb","lineno":262,"static":false,"thread_id":70097708498960,"parent_id":206365,"elapsed":0.001091},{"id":206369,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"post_custom_fields\".\"name\", \"post_custom_fields\".\"value\" FROM \"post_custom_fields\" WHERE \"post_custom_fields\".\"post_id\" = 307 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":206370,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206369,"elapsed":0.001023},{"id":206371,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"append_custom_field","path":"app/models/concerns/has_custom_fields.rb","lineno":92,"static":true,"thread_id":70097708498960,"parameters":[{"name":"target","class":"Hash","object_id":70097614623060,"value":"{}","kind":"req"},{"name":"key","class":"String","object_id":70097609129220,"value":"notice_type","kind":"req"},{"name":"value","class":"String","object_id":70097609129180,"value":"new_user","kind":"req"}],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206372,"event":"call","defined_class":"HasCustomFields::Helpers","method_id":"append_field","path":"app/models/concerns/has_custom_fields.rb","lineno":8,"static":true,"thread_id":70097708498960,"parameters":[{"name":"target","class":"Hash","object_id":70097614623060,"value":"{}","kind":"req"},{"name":"key","class":"String","object_id":70097609129220,"value":"notice_type","kind":"req"},{"name":"value","class":"String","object_id":70097609129180,"value":"new_user","kind":"req"},{"name":"types","class":"Hash","object_id":70097754975080,"value":"{\"missing uploads\"=>:json, \"missing uploads ignored\"=>:boolean}","kind":"req"}],"receiver":{"class":"Module","object_id":70097724107520,"value":"HasCustomFields::Helpers"}},{"id":206373,"event":"call","defined_class":"HasCustomFields::Helpers","method_id":"cast_custom_field","path":"app/models/concerns/has_custom_fields.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097609129220,"value":"notice_type","kind":"req"},{"name":"value","class":"String","object_id":70097609129180,"value":"new_user","kind":"req"},{"name":"types","class":"Hash","object_id":70097754975080,"value":"{\"missing uploads\"=>:json, \"missing uploads ignored\"=>:boolean}","kind":"req"},{"name":"return_array","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Module","object_id":70097724107520,"value":"HasCustomFields::Helpers"}},{"id":206374,"event":"call","defined_class":"HasCustomFields::Helpers","method_id":"get_custom_field_type","path":"app/models/concerns/has_custom_fields.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[{"name":"types","class":"Hash","object_id":70097754975080,"value":"{\"missing uploads\"=>:json, \"missing uploads ignored\"=>:boolean}","kind":"req"},{"name":"key","class":"String","object_id":70097609129220,"value":"notice_type","kind":"req"}],"receiver":{"class":"Module","object_id":70097724107520,"value":"HasCustomFields::Helpers"}},{"id":206375,"event":"return","defined_class":"HasCustomFields::Helpers","method_id":"get_custom_field_type","path":"app/models/concerns/has_custom_fields.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":206374,"elapsed":6.0e-06},{"id":206376,"event":"return","defined_class":"HasCustomFields::Helpers","method_id":"cast_custom_field","path":"app/models/concerns/has_custom_fields.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":206373,"elapsed":0.000101,"return_value":{"class":"String","value":"new_user","object_id":70097609129180}},{"id":206377,"event":"return","defined_class":"HasCustomFields::Helpers","method_id":"append_field","path":"app/models/concerns/has_custom_fields.rb","lineno":8,"static":true,"thread_id":70097708498960,"parent_id":206372,"elapsed":0.000202,"return_value":{"class":"String","value":"new_user","object_id":70097609129180}},{"id":206378,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"append_custom_field","path":"app/models/concerns/has_custom_fields.rb","lineno":92,"static":true,"thread_id":70097708498960,"parent_id":206371,"elapsed":0.000311,"return_value":{"class":"String","value":"new_user","object_id":70097609129180}},{"id":206379,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":206358,"elapsed":0.011374,"return_value":{"class":"Hash","value":"{\"notice_type\"=>\"new_user\"}","object_id":70097609141460}},{"id":206380,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206381,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":206382,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206381,"elapsed":4.0e-06},{"id":206383,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":206380,"elapsed":9.6e-05},{"id":206384,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":206385,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206386,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206387,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206386,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206388,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":206385,"elapsed":0.000109,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206389,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parent_id":206384,"elapsed":0.000198},{"id":206390,"event":"call","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568991360,"value":"QuotedPost"}},{"id":206391,"event":"return","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":206390,"elapsed":0.001083},{"id":206392,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"change","path":"app/models/topic_user.rb","lineno":112,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"attrs","class":"Hash","object_id":70097609175120,"value":"{:posted=>true, :last_read_post_number=>1, :highest_seen_post_number=>1}","kind":"req"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206393,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET posted = TRUE, last_read_post_number = 1, highest_seen_post_number = 1 WHERE \"topic_users\".\"topic_id\" = 239 AND \"topic_users\".\"user_id\" = 188","database_type":"postgres","server_version":110006}},{"id":206394,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206393,"elapsed":0.001124},{"id":206395,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"create_missing_record","path":"app/models/topic_user.rb","lineno":158,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"attrs","class":"Hash","object_id":70097609173280,"value":"{:posted=>true, :last_read_post_number=>1, :highest_seen_post_number=>1}","kind":"req"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206396,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":206397,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":206396,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":206398,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":206399,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":206398,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":206400,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_users\".\"notification_level\" FROM \"category_users\" WHERE \"category_users\".\"user_id\" = 188 AND (category_id IN (SELECT category_id FROM topics WHERE id = 239)) AND (notification_level IN (3,2)) ORDER BY notification_level DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206401,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206400,"elapsed":0.001816},{"id":206402,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":206403,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":206402,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":206404,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":206405,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":206404,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":206406,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tag_users\".\"notification_level\" FROM \"tag_users\" WHERE \"tag_users\".\"user_id\" = 188 AND (tag_id IN (SELECT tag_id FROM topic_tags WHERE topic_id = 239)) AND (notification_level IN (3,2)) ORDER BY notification_level DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206407,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206406,"elapsed":0.000966},{"id":206408,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206409,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206408,"elapsed":6.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097780622600}},{"id":206410,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"archetype\" = 'private_message' AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206411,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206410,"elapsed":0.00136},{"id":206412,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":206413,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":206412,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":206414,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"notifications\" WHERE \"notifications\".\"user_id\" = 188 AND \"notifications\".\"topic_id\" = 239 AND \"notifications\".\"notification_type\" = 7 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206415,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206414,"elapsed":0.001017},{"id":206416,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".\"auto_track_topics_after_msecs\" FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206417,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206416,"elapsed":0.000969},{"id":206418,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_users\" (\"user_id\", \"topic_id\", \"posted\", \"last_read_post_number\", \"highest_seen_post_number\", \"last_visited_at\", \"first_visited_at\") VALUES (188, 239, TRUE, 1, 1, '2020-05-28 18:51:40.794439', '2020-05-28 18:51:40.794439') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206419,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206418,"elapsed":0.000951},{"id":206420,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"create_missing_record","path":"app/models/topic_user.rb","lineno":158,"static":true,"thread_id":70097708498960,"parent_id":206395,"elapsed":0.069354,"return_value":{"class":"TopicUser","value":"#<TopicUser:0x00007f81d69ac810>","object_id":70097813988360}},{"id":206421,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"change","path":"app/models/topic_user.rb","lineno":112,"static":true,"thread_id":70097708498960,"parent_id":206392,"elapsed":0.074097},{"id":206422,"event":"call","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_timing","path":"app/models/post_timing.rb","lineno":47,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097733003280,"value":"{:topic_id=>239, :user_id=>188, :post_number=>1, :msecs=>5000}","kind":"req"}],"receiver":{"class":"Class","object_id":70097614340900,"value":"PostTiming"}},{"id":206423,"event":"call","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_new_timing","path":"app/models/post_timing.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097733003280,"value":"{:topic_id=>239, :user_id=>188, :post_number=>1, :msecs=>5000}","kind":"req"}],"receiver":{"class":"Class","object_id":70097614340900,"value":"PostTiming"}},{"id":206424,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206425,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206424,"elapsed":7.0e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097733017840}},{"id":206426,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET reads = reads + 1 WHERE (\"posts\".\"deleted_at\" IS NULL) AND (topic_id = 239 and post_number = 1)","database_type":"postgres","server_version":110006}},{"id":206427,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206426,"elapsed":0.001084},{"id":206428,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_stats\" SET posts_read_count = posts_read_count + 1 WHERE \"user_stats\".\"user_id\" = 188","database_type":"postgres","server_version":110006}},{"id":206429,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206428,"elapsed":0.000964},{"id":206430,"event":"return","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_new_timing","path":"app/models/post_timing.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":206423,"elapsed":0.010739,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206431,"event":"return","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_timing","path":"app/models/post_timing.rb","lineno":47,"static":true,"thread_id":70097708498960,"parent_id":206422,"elapsed":0.012083,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206432,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206433,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206432,"elapsed":2.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206434,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206435,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206434,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206436,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"updated_at\" = '2020-05-28 18:51:40.876323' WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":206437,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206436,"elapsed":0.001354},{"id":206438,"event":"call","defined_class":"Topic","method_id":"public_topic_timer","path":"app/models/topic.rb","lineno":1210,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206439,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206440,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206439,"elapsed":4.8e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097590816380}},{"id":206441,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206442,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206441,"elapsed":2.9e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097590832440}},{"id":206443,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_timers\".* FROM \"topic_timers\" WHERE (\"topic_timers\".\"deleted_at\" IS NULL) AND \"topic_timers\".\"topic_id\" = 239 AND \"topic_timers\".\"deleted_at\" IS NULL AND \"topic_timers\".\"public_type\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206444,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206443,"elapsed":0.000975},{"id":206445,"event":"return","defined_class":"Topic","method_id":"public_topic_timer","path":"app/models/topic.rb","lineno":1210,"static":false,"thread_id":70097708498960,"parent_id":206438,"elapsed":0.005523},{"id":206446,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206447,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206446,"elapsed":0.000966},{"id":206448,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097614180460,"value":"#<Topic:0x00007f81bec920d8>"}},{"id":206449,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206448,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206450,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_stats\" SET \"first_post_created_at\" = '2020-05-28 18:51:40.753894' WHERE \"user_stats\".\"user_id\" = 188","database_type":"postgres","server_version":110006}},{"id":206451,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206450,"elapsed":0.000904},{"id":206452,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097565808360,"value":"{:user=>#<User id: 188, username: \"anne174\", created_at: \"2020-05-28 18:51:07\", updated_at: \"2020-05","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":206453,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206452,"elapsed":1.0e-05},{"id":206454,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206455,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206454,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206456,"event":"call","defined_class":"Post","method_id":"link_post_uploads","path":"app/models/post.rb","lineno":899,"static":false,"thread_id":70097708498960,"parameters":[{"name":"fragments","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206457,"event":"call","defined_class":"Post","method_id":"each_upload_url","path":"app/models/post.rb","lineno":945,"static":false,"thread_id":70097708498960,"parameters":[{"name":"fragments","class":"Hash","object_id":70097565836080,"value":"{:fragments=>nil}","kind":"key"},{"name":"include_local_upload","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206458,"event":"return","defined_class":"Post","method_id":"each_upload_url","path":"app/models/post.rb","lineno":945,"static":false,"thread_id":70097708498960,"parent_id":206457,"elapsed":0.000238,"return_value":{"class":"Array","value":"[\"/t/this-is-a-private-message-67/240\"]","object_id":70097565853640}},{"id":206459,"event":"call","defined_class":"Post","method_id":"downloaded_images","path":"app/models/post.rb","lineno":939,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206460,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206461,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":206460,"elapsed":4.0e-06,"return_value":{"class":"Hash","value":"{\"notice_type\"=>\"new_user\"}","object_id":70097609141460}},{"id":206462,"event":"return","defined_class":"Post","method_id":"downloaded_images","path":"app/models/post.rb","lineno":939,"static":false,"thread_id":70097708498960,"parent_id":206459,"elapsed":0.000118,"return_value":{"class":"Hash","value":"{}","object_id":70097566798560}},{"id":206463,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"uploads\".\"id\" FROM \"uploads\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":206464,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206463,"elapsed":0.001031},{"id":206465,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"post_uploads\" WHERE \"post_uploads\".\"post_id\" = 307","database_type":"postgres","server_version":110006}},{"id":206466,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206465,"elapsed":0.000895},{"id":206467,"event":"return","defined_class":"Post","method_id":"link_post_uploads","path":"app/models/post.rb","lineno":899,"static":false,"thread_id":70097708498960,"parent_id":206456,"elapsed":0.009321},{"id":206468,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097588544540,"value":"#<Guardian:0x00007f81bbbac838>"}},{"id":206469,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206470,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":206469,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206471,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":206468,"elapsed":0.000114,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206472,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206473,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206472,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206474,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 239 AND \"topic_allowed_users\".\"user_id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206475,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206474,"elapsed":0.001073},{"id":206476,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_groups\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239 AND (group_id IN (\n                                              SELECT group_id FROM group_users where user_id = 188\n                                           )) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206477,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206476,"elapsed":0.001121},{"id":206478,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 239 AND \"topic_allowed_users\".\"user_id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206479,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206478,"elapsed":1.8e-05},{"id":206480,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_allowed_users\" (\"user_id\", \"topic_id\", \"created_at\", \"updated_at\") VALUES (188, 239, '2020-05-28 18:51:40.922388', '2020-05-28 18:51:40.922388') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206481,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206480,"elapsed":0.000967},{"id":206482,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206483,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206482,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206484,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_archived_messages\".\"user_id\" FROM \"user_archived_messages\" WHERE \"user_archived_messages\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206485,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206484,"elapsed":0.001035},{"id":206486,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"group_archived_messages\".\"group_id\" FROM \"group_archived_messages\" WHERE \"group_archived_messages\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206487,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206486,"elapsed":0.000819},{"id":206488,"event":"call","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206489,"event":"return","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parent_id":206488,"elapsed":1.7e-05,"return_value":{"class":"String","value":"topic_239","object_id":70097612918920}},{"id":206490,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"key","class":"String","object_id":70097612918920,"value":"topic_239","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":206491,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":206492,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":206491,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206493,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 188 AND \"draft_sequences\".\"draft_key\" = 'topic_239' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206494,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206493,"elapsed":0.001811},{"id":206495,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"draft_sequences\" (\"user_id\", \"draft_key\", \"sequence\") VALUES (188, 'topic_239', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206496,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206495,"elapsed":0.001029},{"id":206497,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":206490,"elapsed":0.011096,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206498,"event":"call","defined_class":"Post","method_id":"save_reply_relationships","path":"app/models/post.rb","lineno":739,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206499,"event":"return","defined_class":"Post","method_id":"save_reply_relationships","path":"app/models/post.rb","lineno":739,"static":false,"thread_id":70097708498960,"parent_id":206498,"elapsed":9.0e-06},{"id":206500,"event":"call","defined_class":"Post","method_id":"store_unique_post_key","path":"app/models/post.rb","lineno":239,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206501,"event":"return","defined_class":"Post","method_id":"store_unique_post_key","path":"app/models/post.rb","lineno":239,"static":false,"thread_id":70097708498960,"parent_id":206500,"elapsed":1.5e-05},{"id":206502,"event":"call","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097614180460,"value":"#<Topic:0x00007f81bec920d8>"}},{"id":206503,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097614180460,"value":"#<Topic:0x00007f81bec920d8>"}},{"id":206504,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097614180460,"value":"#<Topic:0x00007f81bec920d8>"}},{"id":206505,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":206504,"elapsed":3.0e-06},{"id":206506,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206507,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206506,"elapsed":0.000938},{"id":206508,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":206503,"elapsed":0.004959,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81bec920d8>","object_id":70097614180460}},{"id":206509,"event":"return","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parent_id":206502,"elapsed":0.005087,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81bec920d8>","object_id":70097614180460}},{"id":206510,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13685468,"value":"post_alert","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568965080,"value":"{:post_id=>307, :new_record=>true, :options=>nil}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206511,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206512,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206511,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206513,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206510,"elapsed":0.000226,"return_value":{"class":"String","value":"4afeeb2e2801630953474cbb","object_id":70097568982440}},{"id":206514,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13633628,"value":"feature_topic_users","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568995300,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206515,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206516,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206515,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206517,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206514,"elapsed":0.000163,"return_value":{"class":"String","value":"c45ae1fbe0d659d80643dca6","object_id":70097588678100}},{"id":206518,"event":"call","defined_class":"Post","method_id":"trigger_post_process","path":"app/models/post.rb","lineno":751,"static":false,"thread_id":70097708498960,"parameters":[{"name":"bypass_bump","class":"Hash","object_id":70097588675220,"value":"{:new_post=>true}","kind":"key"},{"name":"priority","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"new_post","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206519,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13535708,"value":"process_post","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613182200,"value":"{:post_id=>307, :bypass_bump=>false, :new_post=>true, :cooking_options=>nil}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206520,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206521,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206520,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206522,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206519,"elapsed":0.000156,"return_value":{"class":"String","value":"6c42cf2d88c77777011931a9","object_id":70097613177000}},{"id":206523,"event":"return","defined_class":"Post","method_id":"trigger_post_process","path":"app/models/post.rb","lineno":751,"static":false,"thread_id":70097708498960,"parent_id":206518,"elapsed":0.000274},{"id":206524,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206525,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206524,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206526,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206527,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206526,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206528,"event":"call","defined_class":"TopicTrackingState","method_id":"publish_private_message","path":"app/models/topic_tracking_state.rb","lineno":345,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>","kind":"req"},{"name":"archive_user_id","class":"Hash","object_id":70097569047560,"value":"{:post=>#<Post id: 307, user_id: 188, topic_id: 239, post_number: 1, raw: \"A post was merged into an","kind":"key"},{"name":"post","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"group_archive","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206529,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097588544620,"value":"#<Topic:0x00007f81bbbac8d8>"}},{"id":206530,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206529,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206531,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" INNER JOIN \"topic_allowed_users\" ON \"users\".\"id\" = \"topic_allowed_users\".\"user_id\" WHERE \"topic_allowed_users\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206532,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206531,"elapsed":0.002028},{"id":206533,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" INNER JOIN \"topic_allowed_groups\" ON \"groups\".\"id\" = \"topic_allowed_groups\".\"group_id\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206534,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206533,"elapsed":0.001079},{"id":206535,"event":"return","defined_class":"TopicTrackingState","method_id":"publish_private_message","path":"app/models/topic_tracking_state.rb","lineno":345,"static":true,"thread_id":70097708498960,"parent_id":206528,"elapsed":0.010625,"return_value":{"class":"Hash","value":"{\"/private-messages/sent\"=>[188], \"/private-messages/inbox\"=>[188, 253, 254]}","object_id":70097569084420}},{"id":206536,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 253 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206537,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206536,"elapsed":0.001085},{"id":206538,"event":"call","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"new_message_update","path":"app/models/topic_group.rb","lineno":13,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097614539640,"value":"#<User:0x00007f81bed416f0>","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"post_number","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Class","object_id":70097816148740,"value":"TopicGroup"}},{"id":206539,"event":"call","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"update_read_count","path":"app/models/topic_group.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097614539640,"value":"#<User:0x00007f81bed416f0>","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"post_number","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Class","object_id":70097816148740,"value":"TopicGroup"}},{"id":206540,"event":"return","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"update_read_count","path":"app/models/topic_group.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":206539,"elapsed":0.001161,"return_value":{"class":"Array","value":"[]","object_id":70097614555200}},{"id":206541,"event":"call","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"create_topic_group","path":"app/models/topic_group.rb","lineno":40,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097614539640,"value":"#<User:0x00007f81bed416f0>","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"post_number","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"updated_group_ids","class":"Array","object_id":70097614553140,"value":"[]","kind":"req"}],"receiver":{"class":"Class","object_id":70097816148740,"value":"TopicGroup"}},{"id":206542,"event":"return","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"create_topic_group","path":"app/models/topic_group.rb","lineno":40,"static":true,"thread_id":70097708498960,"parent_id":206541,"elapsed":0.001072,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206543,"event":"call","defined_class":"TopicTrackingState","method_id":"publish_read_indicator_on_write","path":"app/models/topic_tracking_state.rb","lineno":396,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"last_read_post_number","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"user_id","class":"Integer","object_id":507,"value":"253","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206544,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206545,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206544,"elapsed":5.6e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097614604640}},{"id":206546,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"highest_post_number\", \"topics\".\"archetype\", \"topics\".\"id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206547,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206546,"elapsed":0.000956},{"id":206548,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_allowed_groups\".* FROM \"topic_allowed_groups\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206549,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206548,"elapsed":0.000845},{"id":206550,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097609095000,"value":"#<Topic:0x00007f81be2deeb0>"}},{"id":206551,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206550,"elapsed":1.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206552,"event":"call","defined_class":"TopicTrackingState","method_id":"read_allowed_groups_of","path":"app/models/topic_tracking_state.rb","lineno":416,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097609095000,"value":"#<Topic:0x00007f81be2deeb0>","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206553,"event":"return","defined_class":"TopicTrackingState","method_id":"read_allowed_groups_of","path":"app/models/topic_tracking_state.rb","lineno":416,"static":true,"thread_id":70097708498960,"parent_id":206552,"elapsed":0.000348,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<Group::ActiveRecord_AssociationRelation:0x00007f81c0094db0>","object_id":70097624671960}},{"id":206554,"event":"call","defined_class":"TopicTrackingState","method_id":"update_topic_list_read_indicator","path":"app/models/topic_tracking_state.rb","lineno":424,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097609095000,"value":"#<Topic:0x00007f81be2deeb0>","kind":"req"},{"name":"groups","class":"ActiveRecord::AssociationRelation","object_id":70097624671960,"value":"#<Group::ActiveRecord_AssociationRelation:0x00007f81c0094db0>","kind":"req"},{"name":"last_read_post_number","class":"Integer","object_id":1,"value":"0","kind":"req"},{"name":"user_id","class":"Integer","object_id":507,"value":"253","kind":"req"},{"name":"write_event","class":"TrueClass","object_id":20,"value":"true","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206555,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT ARRAY_AGG(group_users.user_id) AS members, \"groups\".\"name\", \"groups\".\"id\" FROM \"groups\" INNER JOIN \"topic_allowed_groups\" ON \"groups\".\"id\" = \"topic_allowed_groups\".\"group_id\" INNER JOIN \"group_users\" ON \"group_users\".\"group_id\" = \"groups\".\"id\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239 AND \"groups\".\"publish_read_state\" = TRUE GROUP BY groups.id","database_type":"postgres","server_version":110006}},{"id":206556,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206555,"elapsed":0.001106},{"id":206557,"event":"return","defined_class":"TopicTrackingState","method_id":"update_topic_list_read_indicator","path":"app/models/topic_tracking_state.rb","lineno":424,"static":true,"thread_id":70097708498960,"parent_id":206554,"elapsed":0.004509},{"id":206558,"event":"return","defined_class":"TopicTrackingState","method_id":"publish_read_indicator_on_write","path":"app/models/topic_tracking_state.rb","lineno":396,"static":true,"thread_id":70097708498960,"parent_id":206543,"elapsed":0.015376},{"id":206559,"event":"return","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"new_message_update","path":"app/models/topic_group.rb","lineno":13,"static":true,"thread_id":70097708498960,"parent_id":206538,"elapsed":0.01803},{"id":206560,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":5,"value":"2","kind":"req"},{"name":"opt","class":"Hash","object_id":70097621302520,"value":"{:post=>#<Post id: 307, user_id: 188, topic_id: 239, post_number: 1, raw: \"A post was merged into an","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":206561,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206560,"elapsed":8.0e-06},{"id":206562,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_post_hooks","path":"app/models/web_hook.rb","lineno":87,"static":true,"thread_id":70097708498960,"parameters":[{"name":"event","class":"Symbol","object_id":12690268,"value":"post_created","kind":"req"},{"name":"post","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"},{"name":"payload","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":206563,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"String","object_id":70097701909880,"value":"post","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":206564,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":206563,"elapsed":0.000168,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bfa2d418>","object_id":70097621314060}},{"id":206565,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'post') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206566,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206565,"elapsed":0.000946},{"id":206567,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_post_hooks","path":"app/models/web_hook.rb","lineno":87,"static":true,"thread_id":70097708498960,"parent_id":206562,"elapsed":0.039924},{"id":206568,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097614180460,"value":"#<Topic:0x00007f81bec920d8>"}},{"id":206569,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206568,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206570,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"moderator_posts_count\" = COALESCE(\"moderator_posts_count\", 0) + 1 WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":206571,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206570,"elapsed":0.001426},{"id":206572,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET \"post_number\" = 2, \"updated_at\" = '2020-05-28 18:51:41.038159', \"sort_order\" = 2, \"baked_at\" = '2020-05-28 18:51:41.038074' WHERE \"posts\".\"id\" = 307","database_type":"postgres","server_version":110006}},{"id":206573,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206572,"elapsed":0.001326},{"id":206574,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206575,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206576,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":206575,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206577,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":206574,"elapsed":0.000134},{"id":206578,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206579,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":206580,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206579,"elapsed":5.0e-06},{"id":206581,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":206578,"elapsed":0.000121},{"id":206582,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":206583,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>"}},{"id":206584,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206585,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206584,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206586,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":206583,"elapsed":0.000132,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206587,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parent_id":206582,"elapsed":0.000241},{"id":206588,"event":"call","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097608501980,"value":"#<Post:0x00007f81be1bd5b8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568991360,"value":"QuotedPost"}},{"id":206589,"event":"return","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":206588,"elapsed":0.001122},{"id":206590,"event":"return","defined_class":"Topic","method_id":"add_moderator_post","path":"app/models/topic.rb","lineno":843,"static":false,"thread_id":70097708498960,"parent_id":206257,"elapsed":0.307725,"return_value":{"class":"Post","value":"#<Post:0x00007f81be1bd5b8>","object_id":70097608501980}},{"id":206591,"event":"call","defined_class":"Topic","method_id":"update_statistics","path":"app/models/topic.rb","lineno":1049,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":206592,"event":"call","defined_class":"Topic","method_id":"featured_users","path":"app/models/topic.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":206593,"event":"return","defined_class":"Topic","method_id":"featured_users","path":"app/models/topic.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":206592,"elapsed":1.1e-05,"return_value":{"class":"TopicFeaturedUsers","value":"#<TopicFeaturedUsers:0x00007f81d68f07f0>","object_id":70097813603320}},{"id":206594,"event":"call","defined_class":"TopicFeaturedUsers","method_id":"choose","path":"app/models/topic_featured_users.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[{"name":"args","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"TopicFeaturedUsers","object_id":70097813603320,"value":"#<TopicFeaturedUsers:0x00007f81d68f07f0>"}},{"id":206595,"event":"call","defined_class":"TopicFeaturedUsers","method_id":"ensure_consistency!","path":"app/models/topic_featured_users.rb","lineno":27,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":481,"value":"240","kind":"opt"}],"receiver":{"class":"Class","object_id":70097587293980,"value":"TopicFeaturedUsers"}},{"id":206596,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parameters":[{"name":"viewed_by","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206597,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206598,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206597,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206599,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parent_id":206596,"elapsed":0.000125,"return_value":{"class":"Array","value":"[1, 2, 3]","object_id":70097813635980}},{"id":206600,"event":"call","defined_class":"TopicFeaturedUsers","method_id":"count","path":"app/models/topic_featured_users.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587293980,"value":"TopicFeaturedUsers"}},{"id":206601,"event":"return","defined_class":"TopicFeaturedUsers","method_id":"count","path":"app/models/topic_featured_users.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":206600,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":206602,"event":"return","defined_class":"TopicFeaturedUsers","method_id":"ensure_consistency!","path":"app/models/topic_featured_users.rb","lineno":27,"static":true,"thread_id":70097708498960,"parent_id":206595,"elapsed":0.002364,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206603,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parameters":[{"name":"viewed_by","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206604,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206605,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206604,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206606,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parent_id":206603,"elapsed":0.000133,"return_value":{"class":"Array","value":"[1, 2, 3]","object_id":70097814280680}},{"id":206607,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206608,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206607,"elapsed":6.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097814275300}},{"id":206609,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(distinct user_id) FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 240 AND (NOT hidden AND post_type in (1,2,3))","database_type":"postgres","server_version":110006}},{"id":206610,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206609,"elapsed":0.000969},{"id":206611,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"participant_count\" = 1 WHERE \"topics\".\"id\" = 240","database_type":"postgres","server_version":110006}},{"id":206612,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206611,"elapsed":0.001134},{"id":206613,"event":"return","defined_class":"TopicFeaturedUsers","method_id":"choose","path":"app/models/topic_featured_users.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":206594,"elapsed":0.01297,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206614,"event":"call","defined_class":"Topic","method_id":"update_action_counts","path":"app/models/topic.rb","lineno":1055,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":206615,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206616,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206615,"elapsed":5.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097587456160}},{"id":206617,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT SUM(\"posts\".\"like_count\") FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 240","database_type":"postgres","server_version":110006}},{"id":206618,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206617,"elapsed":0.001099},{"id":206619,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"like_count\" = 0 WHERE \"topics\".\"id\" = 240","database_type":"postgres","server_version":110006}},{"id":206620,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206619,"elapsed":0.001094},{"id":206621,"event":"return","defined_class":"Topic","method_id":"update_action_counts","path":"app/models/topic.rb","lineno":1055,"static":false,"thread_id":70097708498960,"parent_id":206614,"elapsed":0.010208,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206622,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"reset_highest","path":"app/models/topic.rb","lineno":726,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":481,"value":"240","kind":"req"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206623,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206624,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206623,"elapsed":6.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097733214340}},{"id":206625,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"archetype\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 240 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206626,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206625,"elapsed":0.001793},{"id":206627,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206628,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206627,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206629,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"reset_highest","path":"app/models/topic.rb","lineno":726,"static":true,"thread_id":70097708498960,"parent_id":206622,"elapsed":0.008722,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206630,"event":"return","defined_class":"Topic","method_id":"update_statistics","path":"app/models/topic.rb","lineno":1049,"static":false,"thread_id":70097708498960,"parent_id":206591,"elapsed":0.03257,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206631,"event":"call","defined_class":"Topic","method_id":"update_statistics","path":"app/models/topic.rb","lineno":1049,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206632,"event":"call","defined_class":"Topic","method_id":"featured_users","path":"app/models/topic.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206633,"event":"return","defined_class":"Topic","method_id":"featured_users","path":"app/models/topic.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":206632,"elapsed":7.0e-06,"return_value":{"class":"TopicFeaturedUsers","value":"#<TopicFeaturedUsers:0x00007f81d8341dc0>","object_id":70097827401440}},{"id":206634,"event":"call","defined_class":"TopicFeaturedUsers","method_id":"choose","path":"app/models/topic_featured_users.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[{"name":"args","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"TopicFeaturedUsers","object_id":70097827401440,"value":"#<TopicFeaturedUsers:0x00007f81d8341dc0>"}},{"id":206635,"event":"call","defined_class":"TopicFeaturedUsers","method_id":"ensure_consistency!","path":"app/models/topic_featured_users.rb","lineno":27,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"opt"}],"receiver":{"class":"Class","object_id":70097587293980,"value":"TopicFeaturedUsers"}},{"id":206636,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parameters":[{"name":"viewed_by","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206637,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206638,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206637,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206639,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parent_id":206636,"elapsed":0.000118,"return_value":{"class":"Array","value":"[1, 2, 3]","object_id":70097827433420}},{"id":206640,"event":"call","defined_class":"TopicFeaturedUsers","method_id":"count","path":"app/models/topic_featured_users.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587293980,"value":"TopicFeaturedUsers"}},{"id":206641,"event":"return","defined_class":"TopicFeaturedUsers","method_id":"count","path":"app/models/topic_featured_users.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":206640,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":206642,"event":"return","defined_class":"TopicFeaturedUsers","method_id":"ensure_consistency!","path":"app/models/topic_featured_users.rb","lineno":27,"static":true,"thread_id":70097708498960,"parent_id":206635,"elapsed":0.002021,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206643,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parameters":[{"name":"viewed_by","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206644,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206645,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206644,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206646,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parent_id":206643,"elapsed":0.000123,"return_value":{"class":"Array","value":"[1, 2, 3]","object_id":70097827465600}},{"id":206647,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206648,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206647,"elapsed":6.2e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097827502180}},{"id":206649,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(distinct user_id) FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 239 AND (NOT hidden AND post_type in (1,2,3))","database_type":"postgres","server_version":110006}},{"id":206650,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206649,"elapsed":0.000943},{"id":206651,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"participant_count\" = 0 WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":206652,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206651,"elapsed":0.001037},{"id":206653,"event":"return","defined_class":"TopicFeaturedUsers","method_id":"choose","path":"app/models/topic_featured_users.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":206634,"elapsed":0.011442,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206654,"event":"call","defined_class":"Topic","method_id":"update_action_counts","path":"app/models/topic.rb","lineno":1055,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206655,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206656,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206655,"elapsed":4.6e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097613131500}},{"id":206657,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT SUM(\"posts\".\"like_count\") FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206658,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206657,"elapsed":0.001053},{"id":206659,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"like_count\" = 0 WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":206660,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206659,"elapsed":0.001269},{"id":206661,"event":"return","defined_class":"Topic","method_id":"update_action_counts","path":"app/models/topic.rb","lineno":1055,"static":false,"thread_id":70097708498960,"parent_id":206654,"elapsed":0.009691,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206662,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"reset_highest","path":"app/models/topic.rb","lineno":726,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206663,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206664,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206663,"elapsed":6.1e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097614330380}},{"id":206665,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"archetype\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206666,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206665,"elapsed":0.001122},{"id":206667,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206668,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206667,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206669,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"reset_highest","path":"app/models/topic.rb","lineno":726,"static":true,"thread_id":70097708498960,"parent_id":206662,"elapsed":0.008136,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206670,"event":"return","defined_class":"Topic","method_id":"update_statistics","path":"app/models/topic.rb","lineno":1049,"static":false,"thread_id":70097708498960,"parent_id":206631,"elapsed":0.029919,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206671,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097589084640,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206672,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097589123260,"value":"{:topic_id=>239, :post_action_type=>:like}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206673,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":206674,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parent_id":206673,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:bookmark=>1, :like=>2, :off_topic=>3, :inappropriate=>4, :spam=>8, :notify_user=>6, :notify_modera","object_id":70097796636760}},{"id":206675,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parent_id":206672,"elapsed":0.002961,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206676,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097589152580,"value":"{:topic_id=>239, :post_action_type=>:bookmark}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206677,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":206678,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parent_id":206677,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:bookmark=>1, :like=>2, :off_topic=>3, :inappropriate=>4, :spam=>8, :notify_user=>6, :notify_modera","object_id":70097796636760}},{"id":206679,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parent_id":206676,"elapsed":0.003312,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206680,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parent_id":206671,"elapsed":0.006699},{"id":206681,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097589185800,"value":"{:topic_id=>240}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206682,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097589184220,"value":"{:topic_id=>240, :post_action_type=>:like}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206683,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":206684,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parent_id":206683,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:bookmark=>1, :like=>2, :off_topic=>3, :inappropriate=>4, :spam=>8, :notify_user=>6, :notify_modera","object_id":70097796636760}},{"id":206685,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parent_id":206682,"elapsed":0.003482,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206686,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097589218360,"value":"{:topic_id=>240, :post_action_type=>:bookmark}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206687,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":206688,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"types","path":"app/models/post_action_type.rb","lineno":67,"static":true,"thread_id":70097708498960,"parent_id":206687,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:bookmark=>1, :like=>2, :off_topic=>3, :inappropriate=>4, :spam=>8, :notify_user=>6, :notify_modera","object_id":70097796636760}},{"id":206689,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parent_id":206686,"elapsed":0.003453,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206690,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"update_post_action_cache","path":"app/models/topic_user.rb","lineno":365,"static":true,"thread_id":70097708498960,"parent_id":206681,"elapsed":0.007522},{"id":206691,"event":"call","defined_class":"UserAction(id: integer, action_type: integer, user_id: integer, target_topic_id: integer, target_post_id: integer, target_user_id: integer, acting_user_id: integer, created_at: datetime, updated_at: datetime)","method_id":"synchronize_target_topic_ids","path":"app/models/user_action.rb","lineno":300,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post_ids","class":"Array","object_id":70097589251520,"value":"[306]","kind":"opt"},{"name":"limit","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097733033540,"value":"UserAction"}},{"id":206692,"event":"return","defined_class":"UserAction(id: integer, action_type: integer, user_id: integer, target_topic_id: integer, target_post_id: integer, target_user_id: integer, acting_user_id: integer, created_at: datetime, updated_at: datetime)","method_id":"synchronize_target_topic_ids","path":"app/models/user_action.rb","lineno":300,"static":true,"thread_id":70097708498960,"parent_id":206691,"elapsed":0.003039,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206693,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206694,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206693,"elapsed":6.8e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097589285020}},{"id":206695,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206696,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206695,"elapsed":3.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097589319980}},{"id":206697,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206698,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206697,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206699,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"id\", \"posts\".\"user_id\", \"posts\".\"topic_id\", \"posts\".\"post_number\", \"posts\".\"raw\", \"posts\".\"cooked\", \"posts\".\"created_at\", \"posts\".\"updated_at\", \"posts\".\"reply_to_post_number\", \"posts\".\"reply_count\", \"posts\".\"quote_count\", \"posts\".\"deleted_at\", \"posts\".\"off_topic_count\", \"posts\".\"like_count\", \"posts\".\"incoming_link_count\", \"posts\".\"bookmark_count\", \"posts\".\"score\", \"posts\".\"reads\", \"posts\".\"post_type\", \"posts\".\"sort_order\", \"posts\".\"last_editor_id\", \"posts\".\"hidden\", \"posts\".\"hidden_reason_id\", \"posts\".\"notify_moderators_count\", \"posts\".\"spam_count\", \"posts\".\"illegal_count\", \"posts\".\"inappropriate_count\", \"posts\".\"last_version_at\", \"posts\".\"user_deleted\", \"posts\".\"reply_to_user_id\", \"posts\".\"percent_rank\", \"posts\".\"notify_user_count\", \"posts\".\"like_score\", \"posts\".\"deleted_by_id\", \"posts\".\"edit_reason\", \"posts\".\"word_count\", \"posts\".\"version\", \"posts\".\"cook_method\", \"posts\".\"wiki\", \"posts\".\"baked_at\", \"posts\".\"baked_version\", \"posts\".\"hidden_at\", \"posts\".\"self_edits\", \"posts\".\"reply_quoted\", \"posts\".\"via_email\", \"posts\".\"raw_email\", \"posts\".\"public_version\", \"posts\".\"action_code\", \"posts\".\"image_url\", \"posts\".\"locked_by_id\", \"posts\".\"image_upload_id\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"topic_id\" = 240 AND \"posts\".\"post_type\" != 4 ORDER BY \"posts\".\"post_number\" DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206700,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206699,"elapsed":0.001451},{"id":206701,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"last_posted_at\" = '2020-05-28 18:51:40.514031', \"last_post_user_id\" = 250, \"bumped_at\" = '2020-05-28 18:51:41.134206', \"updated_at\" = '2020-05-28 18:51:41.134207' WHERE \"topics\".\"id\" = 240","database_type":"postgres","server_version":110006}},{"id":206702,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206701,"elapsed":0.001731},{"id":206703,"event":"call","defined_class":"Topic","method_id":"update_status","path":"app/models/topic.rb","lineno":601,"static":false,"thread_id":70097708498960,"parameters":[{"name":"status","class":"String","object_id":70097777630600,"value":"closed","kind":"req"},{"name":"enabled","class":"TrueClass","object_id":20,"value":"true","kind":"req"},{"name":"user","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206704,"event":"call","defined_class":"Topic","method_id":"public_topic_timer","path":"app/models/topic.rb","lineno":1210,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206705,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206706,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206705,"elapsed":6.1e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097621464640}},{"id":206707,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206708,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206707,"elapsed":3.6e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097621493680}},{"id":206709,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_timers\".* FROM \"topic_timers\" WHERE (\"topic_timers\".\"deleted_at\" IS NULL) AND \"topic_timers\".\"topic_id\" = 239 AND \"topic_timers\".\"deleted_at\" IS NULL AND \"topic_timers\".\"public_type\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206710,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206709,"elapsed":0.001401},{"id":206711,"event":"return","defined_class":"Topic","method_id":"public_topic_timer","path":"app/models/topic.rb","lineno":1210,"static":false,"thread_id":70097708498960,"parent_id":206704,"elapsed":0.020721},{"id":206712,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206713,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206712,"elapsed":7.3e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097800675720}},{"id":206714,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"closed\" = TRUE WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 AND \"topics\".\"closed\" = FALSE","database_type":"postgres","server_version":110006}},{"id":206715,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206714,"elapsed":0.001406},{"id":206716,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"category_featured_topics\" WHERE \"category_featured_topics\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206717,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206716,"elapsed":0.001451},{"id":206718,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206719,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206718,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206720,"event":"call","defined_class":"Topic","method_id":"add_moderator_post","path":"app/models/topic.rb","lineno":843,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"text","class":"NilClass","object_id":8,"value":null,"kind":"req"},{"name":"opts","class":"Hash","object_id":70097826938200,"value":"{:bump=>false, :post_type=>3, :action_code=>\"closed.enabled\"}","kind":"opt"}],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":206721,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206722,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":206721,"elapsed":8.0e-06},{"id":206723,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206724,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206723,"elapsed":6.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097813387600}},{"id":206725,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206726,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206725,"elapsed":0.001672},{"id":206727,"event":"call","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70097708498960,"parameters":[{"name":"klass","class":"Class","object_id":70097792338860,"value":"Post","kind":"req"},{"name":"parent","class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>","kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206728,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206729,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":206728,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206730,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206731,"event":"call","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>","kind":"req"},{"name":"hide_deleted","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206732,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206733,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206734,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":206733,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206735,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":206732,"elapsed":0.000127,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206736,"event":"return","defined_class":"TopicGuardian","method_id":"can_see_topic?","path":"lib/guardian/topic_guardian.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":206731,"elapsed":0.000238,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206737,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":206730,"elapsed":0.000413,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206738,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_post_on_topic?","path":"lib/guardian/topic_guardian.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206739,"event":"call","defined_class":"Trashable","method_id":"trashed?","path":"app/models/concerns/trashable.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206740,"event":"return","defined_class":"Trashable","method_id":"trashed?","path":"app/models/concerns/trashable.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":206739,"elapsed":2.2e-05},{"id":206741,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206742,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206743,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":206742,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206744,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":206741,"elapsed":0.00011,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206745,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_post_on_topic?","path":"lib/guardian/topic_guardian.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":206738,"elapsed":0.001212,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206746,"event":"return","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70097708498960,"parent_id":206727,"elapsed":0.002907,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206747,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206748,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206747,"elapsed":9.8e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097590895180}},{"id":206749,"event":"call","defined_class":"Post","method_id":"extract_quoted_post_numbers","path":"app/models/post.rb","lineno":722,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206750,"event":"return","defined_class":"Post","method_id":"extract_quoted_post_numbers","path":"app/models/post.rb","lineno":722,"static":false,"thread_id":70097708498960,"parent_id":206749,"elapsed":1.8e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206751,"event":"call","defined_class":"User","method_id":"anonymous?","path":"app/models/user.rb","lineno":1155,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206752,"event":"return","defined_class":"User","method_id":"anonymous?","path":"app/models/user.rb","lineno":1155,"static":false,"thread_id":70097708498960,"parent_id":206751,"elapsed":1.2e-05},{"id":206753,"event":"call","defined_class":"User","method_id":"bot?","path":"app/models/user.rb","lineno":317,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206754,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206755,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":206756,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":206755,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206757,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":206754,"elapsed":0.000136,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206758,"event":"return","defined_class":"User","method_id":"bot?","path":"app/models/user.rb","lineno":317,"static":false,"thread_id":70097708498960,"parent_id":206753,"elapsed":0.001361},{"id":206759,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206760,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206759,"elapsed":6.9e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097591094800}},{"id":206761,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"posts\".\"created_at\" FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"user_id\" = 188 ORDER BY \"posts\".\"created_at\" DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206762,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206761,"elapsed":0.001452},{"id":206763,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206764,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206763,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206765,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206766,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206765,"elapsed":6.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097587191240}},{"id":206767,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206768,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206767,"elapsed":2.9e-05},{"id":206769,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":206770,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206769,"elapsed":2.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206771,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206772,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206771,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206773,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"next_post_number","path":"app/models/topic.rb","lineno":618,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797933660,"value":"{:reply=>false, :whisper=>false, :post=>false}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206774,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"next_post_number","path":"app/models/topic.rb","lineno":618,"static":true,"thread_id":70097708498960,"parent_id":206773,"elapsed":0.002946,"return_value":{"class":"Integer","value":"3","object_id":7}},{"id":206775,"event":"call","defined_class":"Post","method_id":"cook","path":"app/models/post.rb","lineno":285,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097590865500,"value":"","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797904940,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206776,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206777,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206776,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":206778,"event":"call","defined_class":"Post","method_id":"omit_nofollow?","path":"app/models/post.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206779,"event":"call","defined_class":"Post","method_id":"add_nofollow?","path":"app/models/post.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206780,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206781,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":206780,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206782,"event":"return","defined_class":"Post","method_id":"add_nofollow?","path":"app/models/post.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":206779,"elapsed":0.000141},{"id":206783,"event":"return","defined_class":"Post","method_id":"omit_nofollow?","path":"app/models/post.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":206778,"elapsed":0.000252,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206784,"event":"call","defined_class":"Post","method_id":"with_secure_media?","path":"app/models/post.rb","lineno":498,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206785,"event":"return","defined_class":"Post","method_id":"with_secure_media?","path":"app/models/post.rb","lineno":498,"static":false,"thread_id":70097708498960,"parent_id":206784,"elapsed":1.6e-05},{"id":206786,"event":"call","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206787,"event":"call","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206788,"event":"return","defined_class":"Post","method_id":"raw_hash","path":"app/models/post.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":206787,"elapsed":8.0e-06},{"id":206789,"event":"return","defined_class":"Post","method_id":"post_analyzer","path":"app/models/post.rb","lineno":259,"static":false,"thread_id":70097708498960,"parent_id":206786,"elapsed":0.000125,"return_value":{"class":"PostAnalyzer","value":"#<PostAnalyzer:0x00007f81d4b2cfc0>","object_id":70097797998560}},{"id":206790,"event":"call","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[{"name":"raw","class":"String","object_id":70097590865500,"value":"","kind":"req"},{"name":"opts","class":"Hash","object_id":70097797899380,"value":"{:topic_id=>239, :cook_method=>1, :user_id=>188, :omit_nofollow=>true}","kind":"opt"}],"receiver":{"class":"PostAnalyzer","object_id":70097797998560,"value":"#<PostAnalyzer:0x00007f81d4b2cfc0>"}},{"id":206791,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206792,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206791,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":206793,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206794,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"cook_methods","path":"app/models/post.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206793,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :raw_html=>2, :email=>3}","object_id":70097567897660}},{"id":206795,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":206796,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":206797,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":206796,"elapsed":8.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097797964420}},{"id":206798,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":206795,"elapsed":0.001578,"return_value":{"class":"Array","value":"[]","object_id":70097798068920}},{"id":206799,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":206800,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":206799,"elapsed":7.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":206801,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":206802,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":206803,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":206802,"elapsed":5.0e-06},{"id":206804,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":206801,"elapsed":0.000134},{"id":206805,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":206806,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":206807,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":206808,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":206807,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097798030160}},{"id":206809,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":206806,"elapsed":0.001951},{"id":206810,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":206805,"elapsed":0.002107},{"id":206811,"event":"return","defined_class":"PostAnalyzer","method_id":"cook","path":"app/models/post_analyzer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":206790,"elapsed":0.010209,"return_value":{"class":"String","value":"","object_id":70097798335920}},{"id":206812,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206813,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206812,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206814,"event":"return","defined_class":"Post","method_id":"cook","path":"app/models/post.rb","lineno":285,"static":false,"thread_id":70097708498960,"parent_id":206775,"elapsed":0.011814,"return_value":{"class":"String","value":"","object_id":70097798335920}},{"id":206815,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"posts\" (\"user_id\", \"topic_id\", \"post_number\", \"raw\", \"cooked\", \"created_at\", \"updated_at\", \"post_type\", \"sort_order\", \"last_editor_id\", \"last_version_at\", \"word_count\", \"baked_at\", \"baked_version\", \"action_code\") VALUES (188, 239, 3, '', '', '2020-05-28 18:51:41.255483', '2020-05-28 18:51:41.255483', 3, 3, 188, '2020-05-28 18:51:41.295443', 0, '2020-05-28 18:51:41.255448', 2, 'closed.enabled') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":206816,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206815,"elapsed":0.001851},{"id":206817,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206818,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206819,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":206818,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206820,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":206817,"elapsed":0.000141},{"id":206821,"event":"call","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206822,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":206823,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206822,"elapsed":5.0e-06},{"id":206824,"event":"return","defined_class":"Post","method_id":"index_search","path":"app/models/post.rb","lineno":891,"static":false,"thread_id":70097708498960,"parent_id":206821,"elapsed":0.000136},{"id":206825,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":206826,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206827,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206828,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206827,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206829,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":206826,"elapsed":0.000144},{"id":206830,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"cleanup_entries","path":"app/models/topic_link.rb","lineno":346,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"},{"name":"current_urls","class":"Array","object_id":70097798900020,"value":"[]","kind":"req"},{"name":"current_reflected_ids","class":"Array","object_id":70097798899980,"value":"[]","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":206831,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"topic_links\" WHERE ((post_id = 308 AND NOT reflection) OR (link_post_id = 308 AND reflection))","database_type":"postgres","server_version":110006}},{"id":206832,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206831,"elapsed":0.002061},{"id":206833,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"cleanup_entries","path":"app/models/topic_link.rb","lineno":346,"static":true,"thread_id":70097708498960,"parent_id":206830,"elapsed":0.025269,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206834,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parent_id":206825,"elapsed":0.026873,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206835,"event":"call","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568991360,"value":"QuotedPost"}},{"id":206836,"event":"return","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":206835,"elapsed":0.0018},{"id":206837,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"change","path":"app/models/topic_user.rb","lineno":112,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"attrs","class":"Hash","object_id":70097608328280,"value":"{:posted=>true, :last_read_post_number=>3, :highest_seen_post_number=>3}","kind":"req"}],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":206838,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET posted = TRUE, last_read_post_number = 3, highest_seen_post_number = 3 WHERE \"topic_users\".\"topic_id\" = 239 AND \"topic_users\".\"user_id\" = 188","database_type":"postgres","server_version":110006}},{"id":206839,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206838,"elapsed":0.001868},{"id":206840,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"change","path":"app/models/topic_user.rb","lineno":112,"static":true,"thread_id":70097708498960,"parent_id":206837,"elapsed":0.025941},{"id":206841,"event":"call","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_timing","path":"app/models/post_timing.rb","lineno":47,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097612784820,"value":"{:topic_id=>239, :user_id=>188, :post_number=>3, :msecs=>5000}","kind":"req"}],"receiver":{"class":"Class","object_id":70097614340900,"value":"PostTiming"}},{"id":206842,"event":"call","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_new_timing","path":"app/models/post_timing.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097612784820,"value":"{:topic_id=>239, :user_id=>188, :post_number=>3, :msecs=>5000}","kind":"req"}],"receiver":{"class":"Class","object_id":70097614340900,"value":"PostTiming"}},{"id":206843,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206844,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206843,"elapsed":7.3e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097828790740}},{"id":206845,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"posts\" SET reads = reads + 1 WHERE (\"posts\".\"deleted_at\" IS NULL) AND (topic_id = 239 and post_number = 3)","database_type":"postgres","server_version":110006}},{"id":206846,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206845,"elapsed":0.00155},{"id":206847,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_stats\" SET posts_read_count = posts_read_count + 1 WHERE \"user_stats\".\"user_id\" = 188","database_type":"postgres","server_version":110006}},{"id":206848,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206847,"elapsed":0.001286},{"id":206849,"event":"return","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_new_timing","path":"app/models/post_timing.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":206842,"elapsed":0.044701,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206850,"event":"return","defined_class":"PostTiming(topic_id: integer, post_number: integer, user_id: integer, msecs: integer)","method_id":"record_timing","path":"app/models/post_timing.rb","lineno":47,"static":true,"thread_id":70097708498960,"parent_id":206841,"elapsed":0.046292,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":206851,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206852,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206851,"elapsed":2.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206853,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206854,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206853,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206855,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"updated_at\" = '2020-05-28 18:51:41.423701', \"last_posted_at\" = '2020-05-28 18:51:41.255483', \"last_post_user_id\" = 188, \"word_count\" = 0 WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":206856,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206855,"elapsed":0.001825},{"id":206857,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"updated_at\" = '2020-05-28 18:51:41.423701', \"last_posted_at\" = '2020-05-28 18:51:41.255483', \"last_post_user_id\" = 188, \"word_count\" = 0 WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":206858,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206857,"elapsed":0.00185},{"id":206859,"event":"call","defined_class":"TopicTimer(id: integer, execute_at: datetime, status_type: integer, user_id: integer, topic_id: integer, based_on_last_post: boolean, deleted_at: datetime, deleted_by_id: integer, created_at: datetime, updated_at: datetime, category_id: integer, public_type: boolean, duration: integer)","method_id":"types","path":"app/models/topic_timer.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206860,"event":"return","defined_class":"TopicTimer(id: integer, execute_at: datetime, status_type: integer, user_id: integer, topic_id: integer, based_on_last_post: boolean, deleted_at: datetime, deleted_by_id: integer, created_at: datetime, updated_at: datetime, category_id: integer, public_type: boolean, duration: integer)","method_id":"types","path":"app/models/topic_timer.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":206859,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:close=>1, :open=>2, :publish_to_category=>3, :delete=>4, :reminder=>5, :bump=>6, :delete_replies=>","object_id":70097609041220}},{"id":206861,"event":"call","defined_class":"Topic","method_id":"delete_topic_timer","path":"app/models/topic.rb","lineno":1218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"status_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"by_user","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206862,"event":"call","defined_class":"TopicTimer(id: integer, execute_at: datetime, status_type: integer, user_id: integer, topic_id: integer, based_on_last_post: boolean, deleted_at: datetime, deleted_by_id: integer, created_at: datetime, updated_at: datetime, category_id: integer, public_type: boolean, duration: integer)","method_id":"public_types","path":"app/models/topic_timer.rb","lineno":57,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206863,"event":"return","defined_class":"TopicTimer(id: integer, execute_at: datetime, status_type: integer, user_id: integer, topic_id: integer, based_on_last_post: boolean, deleted_at: datetime, deleted_by_id: integer, created_at: datetime, updated_at: datetime, category_id: integer, public_type: boolean, duration: integer)","method_id":"public_types","path":"app/models/topic_timer.rb","lineno":57,"static":true,"thread_id":70097708498960,"parent_id":206862,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:close=>1, :open=>2, :publish_to_category=>3, :delete=>4, :bump=>6, :delete_replies=>7}","object_id":70097609058320}},{"id":206864,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206865,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206864,"elapsed":6.1e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097615399340}},{"id":206866,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097614785680,"value":"TopicTimer"}},{"id":206867,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206866,"elapsed":4.1e-05,"return_value":{"class":"String","value":"\"topic_timers\".\"deleted_at\" IS NULL","object_id":70097615502140}},{"id":206868,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_timers\".* FROM \"topic_timers\" WHERE (\"topic_timers\".\"deleted_at\" IS NULL) AND \"topic_timers\".\"topic_id\" = 239 AND \"topic_timers\".\"status_type\" = 1 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206869,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206868,"elapsed":0.001756},{"id":206870,"event":"return","defined_class":"Topic","method_id":"delete_topic_timer","path":"app/models/topic.rb","lineno":1218,"static":false,"thread_id":70097708498960,"parent_id":206861,"elapsed":0.008849},{"id":206871,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":206872,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206871,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206873,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097621613620,"value":"{:user=>#<User id: 188, username: \"anne174\", created_at: \"2020-05-28 18:51:07\", updated_at: \"2020-05","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":206874,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206873,"elapsed":1.0e-05},{"id":206875,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206876,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206875,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206877,"event":"call","defined_class":"Post","method_id":"link_post_uploads","path":"app/models/post.rb","lineno":899,"static":false,"thread_id":70097708498960,"parameters":[{"name":"fragments","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206878,"event":"call","defined_class":"Post","method_id":"each_upload_url","path":"app/models/post.rb","lineno":945,"static":false,"thread_id":70097708498960,"parameters":[{"name":"fragments","class":"Hash","object_id":70097621611040,"value":"{:fragments=>nil}","kind":"key"},{"name":"include_local_upload","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206879,"event":"return","defined_class":"Post","method_id":"each_upload_url","path":"app/models/post.rb","lineno":945,"static":false,"thread_id":70097708498960,"parent_id":206878,"elapsed":7.0e-05,"return_value":{"class":"Array","value":"[]","object_id":70097621608840}},{"id":206880,"event":"call","defined_class":"Post","method_id":"downloaded_images","path":"app/models/post.rb","lineno":939,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206881,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206882,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"post_custom_fields\".\"name\", \"post_custom_fields\".\"value\" FROM \"post_custom_fields\" WHERE \"post_custom_fields\".\"post_id\" = 308 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":206883,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206882,"elapsed":0.001609},{"id":206884,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":206881,"elapsed":0.006589,"return_value":{"class":"Hash","value":"{}","object_id":70097792387440}},{"id":206885,"event":"return","defined_class":"Post","method_id":"downloaded_images","path":"app/models/post.rb","lineno":939,"static":false,"thread_id":70097708498960,"parent_id":206880,"elapsed":0.006763,"return_value":{"class":"Hash","value":"{}","object_id":70097792385600}},{"id":206886,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"uploads\".\"id\" FROM \"uploads\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":206887,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206886,"elapsed":0.001131},{"id":206888,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"post_uploads\" WHERE \"post_uploads\".\"post_id\" = 308","database_type":"postgres","server_version":110006}},{"id":206889,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206888,"elapsed":0.00129},{"id":206890,"event":"return","defined_class":"Post","method_id":"link_post_uploads","path":"app/models/post.rb","lineno":899,"static":false,"thread_id":70097708498960,"parent_id":206877,"elapsed":0.018554},{"id":206891,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097817083760,"value":"#<Guardian:0x00007f81d6f93ee0>"}},{"id":206892,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>"}},{"id":206893,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":206892,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206894,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":206891,"elapsed":0.000142,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206895,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206896,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206895,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206897,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_allowed_users\" WHERE \"topic_allowed_users\".\"topic_id\" = 239 AND \"topic_allowed_users\".\"user_id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206898,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206897,"elapsed":0.001316},{"id":206899,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206900,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206899,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206901,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_archived_messages\".\"user_id\" FROM \"user_archived_messages\" WHERE \"user_archived_messages\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206902,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206901,"elapsed":0.001149},{"id":206903,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"group_archived_messages\".\"group_id\" FROM \"group_archived_messages\" WHERE \"group_archived_messages\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206904,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206903,"elapsed":0.001059},{"id":206905,"event":"call","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206906,"event":"return","defined_class":"Topic","method_id":"draft_key","path":"app/models/topic.rb","lineno":1191,"static":false,"thread_id":70097708498960,"parent_id":206905,"elapsed":1.5e-05,"return_value":{"class":"String","value":"topic_239","object_id":70097796077240}},{"id":206907,"event":"call","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"key","class":"String","object_id":70097796077240,"value":"topic_239","kind":"req"}],"receiver":{"class":"Class","object_id":70097730339440,"value":"DraftSequence"}},{"id":206908,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":206909,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":206908,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206910,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"draft_sequences\".* FROM \"draft_sequences\" WHERE \"draft_sequences\".\"user_id\" = 188 AND \"draft_sequences\".\"draft_key\" = 'topic_239' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206911,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206910,"elapsed":0.001092},{"id":206912,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"draft_sequences\" SET \"sequence\" = 2 WHERE \"draft_sequences\".\"id\" = 322","database_type":"postgres","server_version":110006}},{"id":206913,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206912,"elapsed":0.000972},{"id":206914,"event":"return","defined_class":"DraftSequence(id: integer, user_id: integer, draft_key: string, sequence: integer)","method_id":"next!","path":"app/models/draft_sequence.rb","lineno":4,"static":true,"thread_id":70097708498960,"parent_id":206907,"elapsed":0.011187,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":206915,"event":"call","defined_class":"Post","method_id":"save_reply_relationships","path":"app/models/post.rb","lineno":739,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206916,"event":"return","defined_class":"Post","method_id":"save_reply_relationships","path":"app/models/post.rb","lineno":739,"static":false,"thread_id":70097708498960,"parent_id":206915,"elapsed":1.2e-05},{"id":206917,"event":"call","defined_class":"Post","method_id":"store_unique_post_key","path":"app/models/post.rb","lineno":239,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206918,"event":"return","defined_class":"Post","method_id":"store_unique_post_key","path":"app/models/post.rb","lineno":239,"static":false,"thread_id":70097708498960,"parent_id":206917,"elapsed":1.0e-05},{"id":206919,"event":"call","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":206920,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":206921,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":206922,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":206921,"elapsed":4.0e-06},{"id":206923,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206924,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206923,"elapsed":0.00179},{"id":206925,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":206920,"elapsed":0.007345,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81d4b0efe8>","object_id":70097797937140}},{"id":206926,"event":"return","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parent_id":206919,"elapsed":0.007529,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81d4b0efe8>","object_id":70097797937140}},{"id":206927,"event":"call","defined_class":"Post","method_id":"publish_change_to_clients!","path":"app/models/post.rb","lineno":181,"static":false,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":1352988,"value":"created","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206928,"event":"call","defined_class":"Post","method_id":"publish_message!","path":"app/models/post.rb","lineno":199,"static":false,"thread_id":70097708498960,"parameters":[{"name":"channel","class":"String","object_id":70097814991320,"value":"/topic/239","kind":"req"},{"name":"message","class":"Hash","object_id":70097814991440,"value":"{:id=>308, :post_number=>3, :updated_at=>2020-05-28 14:51:41 -0400, :user_id=>188, :last_editor_id=>","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206929,"event":"call","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parameters":[{"name":"viewed_by","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206930,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":206931,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":206930,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":206932,"event":"return","defined_class":"Topic(id: integer, title: string, last_posted_at: datetime, created_at: datetime, updated_at: datetime, views: integer, posts_count: integer, user_id: integer, last_post_user_id: integer, reply_count: integer, featured_user1_id: integer, featured_user2_id: integer, featured_user3_id: integer, deleted_at: datetime, highest_post_number: integer, image_url: string, like_count: integer, incoming_link_count: integer, category_id: integer, visible: boolean, moderator_posts_count: integer, closed: boolean, archived: boolean, bumped_at: datetime, has_summary: boolean, archetype: string, featured_user4_id: integer, notify_moderators_count: integer, spam_count: integer, pinned_at: datetime, score: float, percent_rank: float, subtype: string, slug: string, deleted_by_id: integer, participant_count: integer, word_count: integer, excerpt: string, pinned_globally: boolean, pinned_until: datetime, fancy_title: string, highest_staff_post_number: integer, featured_link: string, reviewable_score: float, image_upload_id: integer)","method_id":"visible_post_types","path":"app/models/topic.rb","lineno":381,"static":true,"thread_id":70097708498960,"parent_id":206929,"elapsed":0.000129,"return_value":{"class":"Array","value":"[1, 2, 3]","object_id":70097815003460}},{"id":206933,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":206934,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206933,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206935,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" WHERE (users.id > 0) AND (admin OR moderator)","database_type":"postgres","server_version":110006}},{"id":206936,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206935,"elapsed":0.001502},{"id":206937,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" INNER JOIN \"topic_allowed_users\" ON \"users\".\"id\" = \"topic_allowed_users\".\"user_id\" WHERE \"topic_allowed_users\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206938,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206937,"elapsed":0.001557},{"id":206939,"event":"return","defined_class":"Post","method_id":"publish_message!","path":"app/models/post.rb","lineno":199,"static":false,"thread_id":70097708498960,"parent_id":206928,"elapsed":0.012715,"return_value":{"class":"Integer","value":"2353","object_id":4707}},{"id":206940,"event":"return","defined_class":"Post","method_id":"publish_change_to_clients!","path":"app/models/post.rb","lineno":181,"static":false,"thread_id":70097708498960,"parent_id":206927,"elapsed":0.012999,"return_value":{"class":"Integer","value":"2353","object_id":4707}},{"id":206941,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13685468,"value":"post_alert","kind":"req"},{"name":"opts","class":"Hash","object_id":70097591538540,"value":"{:post_id=>308, :new_record=>true, :options=>nil}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206942,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206943,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206942,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206944,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206941,"elapsed":0.000309,"return_value":{"class":"String","value":"d47a8d510b648fb07c547c60","object_id":70097591552520}},{"id":206945,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13633628,"value":"feature_topic_users","kind":"req"},{"name":"opts","class":"Hash","object_id":70097591572920,"value":"{:topic_id=>239}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206946,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206947,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206946,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206948,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206945,"elapsed":0.00022,"return_value":{"class":"String","value":"a1173e316eb364d34f5cc7c6","object_id":70097591589360}},{"id":206949,"event":"call","defined_class":"Post","method_id":"trigger_post_process","path":"app/models/post.rb","lineno":751,"static":false,"thread_id":70097708498960,"parameters":[{"name":"bypass_bump","class":"Hash","object_id":70097591586000,"value":"{:new_post=>true}","kind":"key"},{"name":"priority","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"new_post","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":206950,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13535708,"value":"process_post","kind":"req"},{"name":"opts","class":"Hash","object_id":70097591602120,"value":"{:post_id=>308, :bypass_bump=>false, :new_post=>true, :cooking_options=>nil}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206951,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":206952,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":206951,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206953,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":206950,"elapsed":0.000209,"return_value":{"class":"String","value":"f81747adfe5c4c43ec1f5d0e","object_id":70097591619120}},{"id":206954,"event":"return","defined_class":"Post","method_id":"trigger_post_process","path":"app/models/post.rb","lineno":751,"static":false,"thread_id":70097708498960,"parent_id":206949,"elapsed":0.000353},{"id":206955,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206956,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206955,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206957,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206958,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206957,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206959,"event":"call","defined_class":"TopicTrackingState","method_id":"publish_private_message","path":"app/models/topic_tracking_state.rb","lineno":345,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>","kind":"req"},{"name":"archive_user_id","class":"Hash","object_id":70097591634380,"value":"{:post=>#<Post id: 308, user_id: 188, topic_id: 239, post_number: 3, raw: \"\", cooked: \"\", created_at","kind":"key"},{"name":"post","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"group_archive","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206960,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097817108500,"value":"#<Topic:0x00007f81d6fa0028>"}},{"id":206961,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206960,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206962,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" INNER JOIN \"topic_allowed_users\" ON \"users\".\"id\" = \"topic_allowed_users\".\"user_id\" WHERE \"topic_allowed_users\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206963,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206962,"elapsed":0.001497},{"id":206964,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" INNER JOIN \"topic_allowed_groups\" ON \"groups\".\"id\" = \"topic_allowed_groups\".\"group_id\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206965,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206964,"elapsed":0.001618},{"id":206966,"event":"return","defined_class":"TopicTrackingState","method_id":"publish_private_message","path":"app/models/topic_tracking_state.rb","lineno":345,"static":true,"thread_id":70097708498960,"parent_id":206959,"elapsed":0.012964,"return_value":{"class":"Hash","value":"{\"/private-messages/sent\"=>[188], \"/private-messages/inbox\"=>[188, 253, 254]}","object_id":70097591668580}},{"id":206967,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 188 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206968,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206967,"elapsed":0.001664},{"id":206969,"event":"call","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"new_message_update","path":"app/models/topic_group.rb","lineno":13,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097797806160,"value":"#<User:0x00007f81d4acf0a0>","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"post_number","class":"Integer","object_id":7,"value":"3","kind":"req"}],"receiver":{"class":"Class","object_id":70097816148740,"value":"TopicGroup"}},{"id":206970,"event":"call","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"update_read_count","path":"app/models/topic_group.rb","lineno":19,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097797806160,"value":"#<User:0x00007f81d4acf0a0>","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"post_number","class":"Integer","object_id":7,"value":"3","kind":"req"}],"receiver":{"class":"Class","object_id":70097816148740,"value":"TopicGroup"}},{"id":206971,"event":"return","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"update_read_count","path":"app/models/topic_group.rb","lineno":19,"static":true,"thread_id":70097708498960,"parent_id":206970,"elapsed":0.001805,"return_value":{"class":"Array","value":"[]","object_id":70097797800720}},{"id":206972,"event":"call","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"create_topic_group","path":"app/models/topic_group.rb","lineno":40,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097797806160,"value":"#<User:0x00007f81d4acf0a0>","kind":"req"},{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"post_number","class":"Integer","object_id":7,"value":"3","kind":"req"},{"name":"updated_group_ids","class":"Array","object_id":70097797800040,"value":"[]","kind":"req"}],"receiver":{"class":"Class","object_id":70097816148740,"value":"TopicGroup"}},{"id":206973,"event":"return","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"create_topic_group","path":"app/models/topic_group.rb","lineno":40,"static":true,"thread_id":70097708498960,"parent_id":206972,"elapsed":0.001298,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":206974,"event":"call","defined_class":"TopicTrackingState","method_id":"publish_read_indicator_on_write","path":"app/models/topic_tracking_state.rb","lineno":396,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic_id","class":"Integer","object_id":479,"value":"239","kind":"req"},{"name":"last_read_post_number","class":"Integer","object_id":7,"value":"3","kind":"req"},{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206975,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":206976,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":206975,"elapsed":6.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097797823580}},{"id":206977,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"highest_post_number\", \"topics\".\"archetype\", \"topics\".\"id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206978,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206977,"elapsed":0.001403},{"id":206979,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_allowed_groups\".* FROM \"topic_allowed_groups\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239","database_type":"postgres","server_version":110006}},{"id":206980,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206979,"elapsed":0.001302},{"id":206981,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566726260,"value":"#<Topic:0x00007f81b920f0e8>"}},{"id":206982,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206981,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":206983,"event":"call","defined_class":"TopicTrackingState","method_id":"read_allowed_groups_of","path":"app/models/topic_tracking_state.rb","lineno":416,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097566726260,"value":"#<Topic:0x00007f81b920f0e8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206984,"event":"return","defined_class":"TopicTrackingState","method_id":"read_allowed_groups_of","path":"app/models/topic_tracking_state.rb","lineno":416,"static":true,"thread_id":70097708498960,"parent_id":206983,"elapsed":0.000507,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<Group::ActiveRecord_AssociationRelation:0x00007f81b93724a8>","object_id":70097567453780}},{"id":206985,"event":"call","defined_class":"TopicTrackingState","method_id":"update_topic_list_read_indicator","path":"app/models/topic_tracking_state.rb","lineno":424,"static":true,"thread_id":70097708498960,"parameters":[{"name":"topic","class":"Topic","object_id":70097566726260,"value":"#<Topic:0x00007f81b920f0e8>","kind":"req"},{"name":"groups","class":"ActiveRecord::AssociationRelation","object_id":70097567453780,"value":"#<Group::ActiveRecord_AssociationRelation:0x00007f81b93724a8>","kind":"req"},{"name":"last_read_post_number","class":"Integer","object_id":7,"value":"3","kind":"req"},{"name":"user_id","class":"Integer","object_id":377,"value":"188","kind":"req"},{"name":"write_event","class":"TrueClass","object_id":20,"value":"true","kind":"req"}],"receiver":{"class":"Class","object_id":70097826484260,"value":"TopicTrackingState"}},{"id":206986,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT ARRAY_AGG(group_users.user_id) AS members, \"groups\".\"name\", \"groups\".\"id\" FROM \"groups\" INNER JOIN \"topic_allowed_groups\" ON \"groups\".\"id\" = \"topic_allowed_groups\".\"group_id\" INNER JOIN \"group_users\" ON \"group_users\".\"group_id\" = \"groups\".\"id\" WHERE \"topic_allowed_groups\".\"topic_id\" = 239 AND \"groups\".\"publish_read_state\" = TRUE GROUP BY groups.id","database_type":"postgres","server_version":110006}},{"id":206987,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206986,"elapsed":0.002804},{"id":206988,"event":"return","defined_class":"TopicTrackingState","method_id":"update_topic_list_read_indicator","path":"app/models/topic_tracking_state.rb","lineno":424,"static":true,"thread_id":70097708498960,"parent_id":206985,"elapsed":0.007402},{"id":206989,"event":"return","defined_class":"TopicTrackingState","method_id":"publish_read_indicator_on_write","path":"app/models/topic_tracking_state.rb","lineno":396,"static":true,"thread_id":70097708498960,"parent_id":206974,"elapsed":0.02191},{"id":206990,"event":"return","defined_class":"TopicGroup(id: integer, group_id: integer, topic_id: integer, last_read_post_number: integer, created_at: datetime, updated_at: datetime)","method_id":"new_message_update","path":"app/models/topic_group.rb","lineno":13,"static":true,"thread_id":70097708498960,"parent_id":206969,"elapsed":0.025534},{"id":206991,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":5,"value":"2","kind":"req"},{"name":"opt","class":"Hash","object_id":70097797615340,"value":"{:post=>#<Post id: 308, user_id: 188, topic_id: 239, post_number: 3, raw: \"\", cooked: \"\", created_at","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":206992,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":206991,"elapsed":1.1e-05},{"id":206993,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_post_hooks","path":"app/models/web_hook.rb","lineno":87,"static":true,"thread_id":70097708498960,"parameters":[{"name":"event","class":"Symbol","object_id":12690268,"value":"post_created","kind":"req"},{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"},{"name":"payload","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":206994,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"String","object_id":70097701909880,"value":"post","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":206995,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":206994,"elapsed":0.000245,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d4aff0c0>","object_id":70097797904480}},{"id":206996,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'post') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":206997,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":206996,"elapsed":0.001523},{"id":206998,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_post_hooks","path":"app/models/web_hook.rb","lineno":87,"static":true,"thread_id":70097708498960,"parent_id":206993,"elapsed":0.00658},{"id":206999,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097797937140,"value":"#<Topic:0x00007f81d4b0efe8>"}},{"id":207000,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":206999,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":207001,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topics\" SET \"moderator_posts_count\" = COALESCE(\"moderator_posts_count\", 0) + 1 WHERE \"topics\".\"id\" = 239","database_type":"postgres","server_version":110006}},{"id":207002,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207001,"elapsed":0.001386},{"id":207003,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":207004,"event":"call","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>"}},{"id":207005,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":207006,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":207005,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":207007,"event":"return","defined_class":"Post","method_id":"whisper?","path":"app/models/post.rb","lineno":162,"static":false,"thread_id":70097708498960,"parent_id":207004,"elapsed":0.000141},{"id":207008,"event":"call","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"cleanup_entries","path":"app/models/topic_link.rb","lineno":346,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"},{"name":"current_urls","class":"Array","object_id":70097733231640,"value":"[]","kind":"req"},{"name":"current_reflected_ids","class":"Array","object_id":70097733231620,"value":"[]","kind":"req"}],"receiver":{"class":"Class","object_id":70097568690340,"value":"TopicLink"}},{"id":207009,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"topic_links\" WHERE ((post_id = 308 AND NOT reflection) OR (link_post_id = 308 AND reflection))","database_type":"postgres","server_version":110006}},{"id":207010,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207009,"elapsed":0.001194},{"id":207011,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"cleanup_entries","path":"app/models/topic_link.rb","lineno":346,"static":true,"thread_id":70097708498960,"parent_id":207008,"elapsed":0.004735,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":207012,"event":"return","defined_class":"TopicLink(id: integer, topic_id: integer, post_id: integer, user_id: integer, url: string, domain: string, internal: boolean, link_topic_id: integer, created_at: datetime, updated_at: datetime, reflection: boolean, clicks: integer, link_post_id: integer, title: string, crawled_at: datetime, quote: boolean, extension: string)","method_id":"extract_from","path":"app/models/topic_link.rb","lineno":110,"static":true,"thread_id":70097708498960,"parent_id":207003,"elapsed":0.005206,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":207013,"event":"call","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"post","class":"Post","object_id":70097590900160,"value":"#<Post:0x00007f81bc02ab80>","kind":"req"}],"receiver":{"class":"Class","object_id":70097568991360,"value":"QuotedPost"}},{"id":207014,"event":"return","defined_class":"QuotedPost(id: integer, post_id: integer, quoted_post_id: integer, created_at: datetime, updated_at: datetime)","method_id":"extract_from","path":"app/models/quoted_post.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":207013,"elapsed":0.001042},{"id":207015,"event":"return","defined_class":"Topic","method_id":"add_moderator_post","path":"app/models/topic.rb","lineno":843,"static":false,"thread_id":70097708498960,"parent_id":206720,"elapsed":0.483125,"return_value":{"class":"Post","value":"#<Post:0x00007f81bc02ab80>","object_id":70097590900160}},{"id":207016,"event":"call","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":207017,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":207018,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":207019,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":207018,"elapsed":3.0e-06},{"id":207020,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 239 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":207021,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207020,"elapsed":0.001319},{"id":207022,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":207017,"elapsed":0.005815,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81b9250958>","object_id":70097566860460}},{"id":207023,"event":"return","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parent_id":207016,"elapsed":0.005977,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81b9250958>","object_id":70097566860460}},{"id":207024,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_topic_hooks","path":"app/models/web_hook.rb","lineno":71,"static":true,"thread_id":70097708498960,"parameters":[{"name":"event","class":"String","object_id":70097799200520,"value":"topic_closed_status_updated","kind":"req"},{"name":"topic","class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>","kind":"req"},{"name":"payload","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":207025,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"String","object_id":70097722917420,"value":"topic","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":207026,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":207025,"elapsed":0.000221,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d4d74c88>","object_id":70097799194180}},{"id":207027,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'topic') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":207028,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207027,"elapsed":0.001275},{"id":207029,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_topic_hooks","path":"app/models/web_hook.rb","lineno":71,"static":true,"thread_id":70097708498960,"parent_id":207024,"elapsed":0.005656},{"id":207030,"event":"call","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097566860460,"value":"#<Topic:0x00007f81b9250958>"}},{"id":207031,"event":"return","defined_class":"Topic","method_id":"private_message?","path":"app/models/topic.rb","lineno":551,"static":false,"thread_id":70097708498960,"parent_id":207030,"elapsed":2.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":207032,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\" FROM \"groups\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 188","database_type":"postgres","server_version":110006}},{"id":207033,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207032,"elapsed":0.001335},{"id":207034,"event":"return","defined_class":"Topic","method_id":"update_status","path":"app/models/topic.rb","lineno":601,"static":false,"thread_id":70097708498960,"parent_id":206703,"elapsed":0.561103},{"id":207035,"event":"call","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":207036,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":207037,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":207038,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":207037,"elapsed":3.0e-06},{"id":207039,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 240 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":207040,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207039,"elapsed":0.001336},{"id":207041,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":207036,"elapsed":0.005681,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81b9483ce8>","object_id":70097568013940}},{"id":207042,"event":"return","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parent_id":207035,"elapsed":0.005843,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81b9483ce8>","object_id":70097568013940}},{"id":207043,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":207044,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":207043,"elapsed":0.000976},{"id":207045,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":13678428,"value":"update_topic_upload_security","kind":"req"},{"name":"opts","class":"Hash","object_id":70097587822340,"value":"{:topic_id=>240}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":207046,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":207047,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":207046,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":207048,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":207045,"elapsed":0.000238,"return_value":{"class":"String","value":"23b3b4cbdf5b03157043a4a8","object_id":70097587819160}},{"id":207049,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":20874268,"value":"delete_inaccessible_notifications","kind":"req"},{"name":"opts","class":"Hash","object_id":70097587818080,"value":"{:topic_id=>240}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":207050,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":207051,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":207050,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":207052,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":207049,"elapsed":0.000181,"return_value":{"class":"String","value":"9d03fdb9b5addd3c820b7a10","object_id":70097587814880}},{"id":207053,"event":"return","defined_class":"PostMover","method_id":"to_topic","path":"app/models/post_mover.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":206160,"elapsed":1.031488,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81b9483ce8>","object_id":70097568013940}},{"id":207054,"event":"return","defined_class":"Topic","method_id":"move_posts","path":"app/models/topic.rb","lineno":1029,"static":false,"thread_id":70097708498960,"parent_id":206159,"elapsed":1.031619,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81b9483ce8>","object_id":70097568013940}},{"id":207055,"event":"call","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post_number","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":207056,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097568013940,"value":"#<Topic:0x00007f81b9483ce8>"}},{"id":207057,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":207056,"elapsed":1.6e-05,"return_value":{"class":"String","value":"this-is-a-private-message-67","object_id":70097799377320}},{"id":207058,"event":"return","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parent_id":207055,"elapsed":0.00013,"return_value":{"class":"String","value":"/t/this-is-a-private-message-67/240","object_id":70097799376760}},{"id":207059,"event":"return","defined_class":"TopicsController","method_id":"move_posts","path":"app/controllers/topics_controller.rb","lineno":717,"static":false,"thread_id":70097708498960,"parent_id":206122,"elapsed":1.038758,"return_value":{"class":"String","value":"{\"success\":true,\"url\":\"/t/this-is-a-private-message-67/240\"}","object_id":70097799375340}},{"id":207060,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":207061,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":207060,"elapsed":8.0e-06},{"id":207062,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":207063,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":207062,"elapsed":1.4e-05,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097799396740}},{"id":207064,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TopicsController","object_id":70097804389960,"value":"#<TopicsController:0x00007f81d575dc90>"}},{"id":207065,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":207066,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":207065,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":207067,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591507880,"value":"#<User:0x00007f81bc153750>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097803734800,"value":"#<ActionDispatch::Request::Session:0x00007f81d561de20>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097587541140,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bb9c2928>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":207068,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":207069,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":207070,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":207069,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":207071,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":207068,"elapsed":0.0001},{"id":207072,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":207073,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730772460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf3bd8>"}},{"id":207074,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":207073,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc153750>","object_id":70097591507880}},{"id":207075,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":207072,"elapsed":9.8e-05},{"id":207076,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":207067,"elapsed":0.000457},{"id":207077,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":207064,"elapsed":0.000686},{"id":207078,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":206019,"elapsed":1.086142,"http_server_response":{"status":200}},{"id":207079,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799407160,"value":"#<TestCurrentUserProvider:0x00007f81d4ddcc70>"}},{"id":207080,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":207079,"elapsed":3.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":207081,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":207082,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":207081,"elapsed":5.0e-06},{"id":207083,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":207084,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":207083,"elapsed":4.0e-06}]}