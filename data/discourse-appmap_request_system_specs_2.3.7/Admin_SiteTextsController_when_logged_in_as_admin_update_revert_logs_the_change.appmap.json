{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::SiteTextsController when logged in as admin #update & #revert logs the change","app":"Discourse","feature":"Admin::SiteTextsController when logged in as admin","feature_group":"Admin site texts","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"supported_locales","type":"function","location":"app/models/locale_site_setting.rb:39","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"TranslationOverride(id: integer, locale: string, translation_key: string, value: string, created_at: datetime, updated_at: datetime, compiled_js: text)","type":"class","children":[{"name":"upsert!","type":"function","location":"app/models/translation_override.rb:20","static":true},{"name":"revert!","type":"function","location":"app/models/translation_override.rb:35","static":true}]},{"name":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","type":"class","children":[{"name":"actions","type":"function","location":"app/models/user_history.rb:20","static":true},{"name":"admin_only_action_ids","type":"function","location":"app/models/user_history.rb:198","static":true}]},{"name":"UserHistory","type":"class","children":[{"name":"set_admin_only","type":"function","location":"app/models/user_history.rb:250","static":false}]},{"name":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","type":"class","children":[{"name":"find_system_badge_id_from_translation_key","type":"function","location":"app/models/badge.rb:219","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"SiteTextsController","type":"class","children":[{"name":"update","type":"function","location":"app/controllers/admin/site_texts_controller.rb:64","static":false},{"name":"restricted_keys","type":"function","location":"app/controllers/admin/site_texts_controller.rb:12","static":true},{"name":"revert","type":"function","location":"app/controllers/admin/site_texts_controller.rb:90","static":false}]}]},{"name":"ExtraLocalesController","type":"class","children":[{"name":"clear_cache!","type":"function","location":"app/controllers/extra_locales_controller.rb:66","static":true}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"StaffActionLogger","type":"class","children":[{"name":"log_site_text_change","type":"function","location":"app/services/staff_action_logger.rb:235","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"SiteTextSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/site_text_serializer.rb:6","static":false},{"name":"value","type":"function","location":"app/serializers/site_text_serializer.rb:10","static":false},{"name":"overridden?","type":"function","location":"app/serializers/site_text_serializer.rb:14","static":false}]}]}],"events":[{"id":1003669,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003670,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003669,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003671,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003672,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003671,"elapsed":1.1e-05},{"id":1003673,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003674,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1003673,"elapsed":2.0e-06},{"id":1003675,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003676,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1003675,"elapsed":3.0e-06},{"id":1003677,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003678,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003677,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003679,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003680,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003679,"elapsed":7.0e-06},{"id":1003681,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733181980,"value":"#<TestCurrentUserProvider:0x00007f81ccf8c438>"}},{"id":1003682,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097733201340,"value":"9c05b2054beabee848f333f065757e4c","kind":"req"},{"name":"opts","class":"Hash","object_id":70097733200400,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1003683,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097733201340,"value":"9c05b2054beabee848f333f065757e4c","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1003684,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003685,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1003684,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1003686,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1003683,"elapsed":0.000111,"return_value":{"class":"String","value":"24c2GjYi83nMu0O4KQcsDbr6aJE=","object_id":70097733238040}},{"id":1003687,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = '24c2GjYi83nMu0O4KQcsDbr6aJE=' OR\n                          prev_auth_token = '24c2GjYi83nMu0O4KQcsDbr6aJE=') AND rotated_at > '2020-03-29 19:01:34.464864') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003688,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003687,"elapsed":0.001448},{"id":1003689,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:34.469650' WHERE \"user_auth_tokens\".\"id\" = 1143 AND \"user_auth_tokens\".\"auth_token\" = '24c2GjYi83nMu0O4KQcsDbr6aJE='","database_type":"postgres","server_version":110006}},{"id":1003690,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003689,"elapsed":0.00132},{"id":1003691,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097827134520,"value":"{:action=>\"seen token\", :user_auth_token_id=>1143, :user_id=>1330, :auth_token=>\"24c2GjYi83nMu0O4KQc","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1003692,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1003693,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003692,"elapsed":0.001146},{"id":1003694,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1143, 1330, '127.0.0.1/32', '24c2GjYi83nMu0O4KQcsDbr6aJE=', '2020-05-28 19:01:34.473961') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1003695,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003694,"elapsed":0.001224},{"id":1003696,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1003697,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003696,"elapsed":0.001112},{"id":1003698,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1003691,"elapsed":0.013281,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d82be3a8>","object_id":70097827131860}},{"id":1003699,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1003682,"elapsed":0.022382,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be8e9f30>","object_id":70097612263320}},{"id":1003700,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1330 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003701,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003700,"elapsed":0.001296},{"id":1003702,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003703,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1003702,"elapsed":1.5e-05},{"id":1003704,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733181980,"value":"#<TestCurrentUserProvider:0x00007f81ccf8c438>"}},{"id":1003705,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1003704,"elapsed":0.000943,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003706,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003707,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1003706,"elapsed":0.001042},{"id":1003708,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097568176080,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003709,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1330","database_type":"postgres","server_version":110006}},{"id":1003710,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003709,"elapsed":0.001204},{"id":1003711,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1003708,"elapsed":0.00368,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003712,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003681,"elapsed":0.033397,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003713,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097733181980,"value":"#<TestCurrentUserProvider:0x00007f81ccf8c438>"}},{"id":1003714,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003713,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003715,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003716,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1003715,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003717,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097612950280,"value":"#<TestCurrentUserProvider:0x00007f81bea39610>"}},{"id":1003718,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003717,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003719,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097612950280,"value":"#<TestCurrentUserProvider:0x00007f81bea39610>"}},{"id":1003720,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003719,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003721,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003722,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1003721,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003723,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003724,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003723,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003725,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003726,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003725,"elapsed":1.0e-05},{"id":1003727,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/admin/customize/site_texts/title.json"},"message":[{"name":"site_text","class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"value\"=>\"yay\"}","object_id":70097612983080},{"name":"controller","class":"String","value":"admin/site_texts","object_id":70097755336440},{"name":"action","class":"String","value":"update","object_id":70097755336500},{"name":"id","class":"String","value":"title","object_id":70097733182800}]},{"id":1003728,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003729,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003730,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003731,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003732,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003731,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003733,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1003730,"elapsed":0.000124,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bea50838>","object_id":70097612997660}},{"id":1003734,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097612997660,"value":"#<Guardian:0x00007f81bea50838>"}},{"id":1003735,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1003734,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003736,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1003729,"elapsed":0.000347},{"id":1003737,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003738,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003737,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003739,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1330 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003740,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003739,"elapsed":0.001158},{"id":1003741,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003742,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1003741,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bea50838>","object_id":70097612997660}},{"id":1003743,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097613703780,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097612997660,"value":"#<Guardian:0x00007f81bea50838>"}},{"id":1003744,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1003743,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003745,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1003728,"elapsed":0.005467,"return_value":{"class":"Array","value":"[2]","object_id":70097613703780}},{"id":1003746,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003747,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003748,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003747,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003749,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003750,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003749,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003751,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003752,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003751,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003753,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1003746,"elapsed":0.000401,"return_value":{"class":"String","value":"site_texts/update","object_id":70097613717960}},{"id":1003754,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003755,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003756,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003755,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003757,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1003754,"elapsed":0.000112},{"id":1003758,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003759,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003760,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003759,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003761,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003762,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003761,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003763,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003764,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1003763,"elapsed":1.2e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1003765,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003766,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003765,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003767,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003768,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003767,"elapsed":1.0e-05},{"id":1003769,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003770,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003769,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003771,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003772,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003771,"elapsed":6.0e-06},{"id":1003773,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1003758,"elapsed":0.000718,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097613750300}},{"id":1003774,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003775,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1003774,"elapsed":7.0e-06},{"id":1003776,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003777,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003778,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003777,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003779,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1003776,"elapsed":9.9e-05},{"id":1003780,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003781,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003780,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003782,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003783,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003782,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003784,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003785,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003784,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003786,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803564860,"value":"Admin::SiteTextsController"}},{"id":1003787,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1003786,"elapsed":3.0e-06},{"id":1003788,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003789,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1003788,"elapsed":7.0e-06},{"id":1003790,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003791,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003792,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003791,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003793,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1003790,"elapsed":9.8e-05},{"id":1003794,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003795,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003796,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003795,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003797,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1003794,"elapsed":9.5e-05},{"id":1003798,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003799,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003798,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003800,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003801,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003800,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003802,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>"}},{"id":1003803,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1003802,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003804,"event":"call","defined_class":"Admin::SiteTextsController","method_id":"update","path":"app/controllers/admin/site_texts_controller.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003805,"event":"call","defined_class":"Admin::SiteTextsController","method_id":"restricted_keys","path":"app/controllers/admin/site_texts_controller.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803564860,"value":"Admin::SiteTextsController"}},{"id":1003806,"event":"return","defined_class":"Admin::SiteTextsController","method_id":"restricted_keys","path":"app/controllers/admin/site_texts_controller.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1003805,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[\"user_notifications.confirm_old_email.title\", \"user_notifications.confirm_old_email.subject_templat","object_id":70097613837840}},{"id":1003807,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003808,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003807,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003809,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003810,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003809,"elapsed":7.0e-06},{"id":1003811,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003812,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003811,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003813,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003814,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003813,"elapsed":7.0e-06},{"id":1003815,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003816,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1003815,"elapsed":3.0e-06},{"id":1003817,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003818,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1003817,"elapsed":3.0e-06},{"id":1003819,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003820,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003819,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003821,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003822,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003821,"elapsed":7.0e-06},{"id":1003823,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003824,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1003823,"elapsed":3.0e-06},{"id":1003825,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003826,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1003825,"elapsed":3.0e-06},{"id":1003827,"event":"call","defined_class":"TranslationOverride(id: integer, locale: string, translation_key: string, value: string, created_at: datetime, updated_at: datetime, compiled_js: text)","method_id":"upsert!","path":"app/models/translation_override.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"},{"name":"key","class":"String","object_id":70097733182800,"value":"title","kind":"req"},{"name":"value","class":"String","object_id":70097733203560,"value":"yay","kind":"req"}],"receiver":{"class":"Class","object_id":70097566129160,"value":"TranslationOverride"}},{"id":1003828,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"translation_overrides\".* FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'title' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003829,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003828,"elapsed":0.001181},{"id":1003830,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1003831,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003830,"elapsed":0.000925},{"id":1003832,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"translation_key\" = 'title' AND \"translation_overrides\".\"locale\" = 'en_US' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003833,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003832,"elapsed":0.000913},{"id":1003834,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"translation_overrides\" (\"locale\", \"translation_key\", \"value\", \"created_at\", \"updated_at\") VALUES ('en_US', 'title', 'yay', '2020-05-28 19:01:34.524478', '2020-05-28 19:01:34.524478') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1003835,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003834,"elapsed":0.001108},{"id":1003836,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1003837,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003836,"elapsed":0.000768},{"id":1003838,"event":"call","defined_class":"ExtraLocalesController","method_id":"clear_cache!","path":"app/controllers/extra_locales_controller.rb","lineno":66,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097757450320,"value":"ExtraLocalesController"}},{"id":1003839,"event":"return","defined_class":"ExtraLocalesController","method_id":"clear_cache!","path":"app/controllers/extra_locales_controller.rb","lineno":66,"static":true,"thread_id":70097708498960,"parent_id":1003838,"elapsed":1.2e-05},{"id":1003840,"event":"return","defined_class":"TranslationOverride(id: integer, locale: string, translation_key: string, value: string, created_at: datetime, updated_at: datetime, compiled_js: text)","method_id":"upsert!","path":"app/models/translation_override.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1003827,"elapsed":0.022884,"return_value":{"class":"TranslationOverride","value":"#<TranslationOverride:0x00007f81b9574c60>","object_id":70097568507440}},{"id":1003841,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003842,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003841,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003843,"event":"call","defined_class":"StaffActionLogger","method_id":"log_site_text_change","path":"app/services/staff_action_logger.rb","lineno":235,"static":false,"thread_id":70097708498960,"parameters":[{"name":"subject","class":"String","object_id":70097733182800,"value":"title","kind":"req"},{"name":"new_text","class":"String","object_id":70097733203560,"value":"yay","kind":"opt"},{"name":"old_text","class":"String","object_id":70097733062680,"value":"Discourse","kind":"opt"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"StaffActionLogger","object_id":70097614789480,"value":"#<StaffActionLogger:0x00007f81bedbb6d0>"}},{"id":1003844,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":1003845,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1003844,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":1003846,"event":"call","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserHistory","object_id":70097614799980,"value":"#<UserHistory:0x00007f81bedc08d8>"}},{"id":1003847,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":1003848,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":1003847,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[3]","object_id":70097608682780}},{"id":1003849,"event":"return","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":1003846,"elapsed":0.00019,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81bedc08d8>","object_id":70097614799980}},{"id":1003850,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1003851,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003850,"elapsed":0.000833},{"id":1003852,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_histories\" (\"action\", \"acting_user_id\", \"created_at\", \"updated_at\", \"subject\", \"previous_value\", \"new_value\") VALUES (29, 1330, '2020-05-28 19:01:34.533893', '2020-05-28 19:01:34.533893', 'title', 'Discourse', 'yay') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1003853,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003852,"elapsed":0.001002},{"id":1003854,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1003855,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003854,"elapsed":0.000718},{"id":1003856,"event":"return","defined_class":"StaffActionLogger","method_id":"log_site_text_change","path":"app/services/staff_action_logger.rb","lineno":235,"static":false,"thread_id":70097708498960,"parent_id":1003843,"elapsed":0.012738,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81bedc08d8>","object_id":70097614799980}},{"id":1003857,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"find_system_badge_id_from_translation_key","path":"app/models/badge.rb","lineno":219,"static":true,"thread_id":70097708498960,"parameters":[{"name":"translation_key","class":"String","object_id":70097733182800,"value":"title","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":1003858,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"find_system_badge_id_from_translation_key","path":"app/models/badge.rb","lineno":219,"static":true,"thread_id":70097708498960,"parent_id":1003857,"elapsed":5.0e-06},{"id":1003859,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097613872980,"value":"{:id=>\"title\", :value=>\"yay\"}","kind":"req"},{"name":"serializer","class":"Class","object_id":70097732497100,"value":"SiteTextSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097620995120,"value":"{:root=>\"site_text\", :rest_serializer=>true}","kind":"opt"}],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003860,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097613872980,"value":"{:id=>\"title\", :value=>\"yay\"}","kind":"req"},{"name":"serializer","class":"Class","object_id":70097732497100,"value":"SiteTextSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097620995120,"value":"{:root=>\"site_text\", :rest_serializer=>true}","kind":"opt"}],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003861,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003862,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1003861,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bea50838>","object_id":70097612997660}},{"id":1003863,"event":"call","defined_class":"SiteTextSerializer","method_id":"id","path":"app/serializers/site_text_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097621010180,"value":"#<SiteTextSerializer:0x00007f81bf998e08>"}},{"id":1003864,"event":"return","defined_class":"SiteTextSerializer","method_id":"id","path":"app/serializers/site_text_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1003863,"elapsed":4.0e-06,"return_value":{"class":"String","value":"title","object_id":70097733182800}},{"id":1003865,"event":"call","defined_class":"SiteTextSerializer","method_id":"value","path":"app/serializers/site_text_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097621010180,"value":"#<SiteTextSerializer:0x00007f81bf998e08>"}},{"id":1003866,"event":"return","defined_class":"SiteTextSerializer","method_id":"value","path":"app/serializers/site_text_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1003865,"elapsed":3.0e-06,"return_value":{"class":"String","value":"yay","object_id":70097733203560}},{"id":1003867,"event":"call","defined_class":"SiteTextSerializer","method_id":"overridden?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097621010180,"value":"#<SiteTextSerializer:0x00007f81bf998e08>"}},{"id":1003868,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'title' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003869,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003868,"elapsed":0.001023},{"id":1003870,"event":"return","defined_class":"SiteTextSerializer","method_id":"overridden?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1003867,"elapsed":0.042298,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003871,"event":"call","defined_class":"SiteTextSerializer","method_id":"can_revert?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097621010180,"value":"#<SiteTextSerializer:0x00007f81bf998e08>"}},{"id":1003872,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'title' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003873,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003872,"elapsed":2.7e-05},{"id":1003874,"event":"return","defined_class":"SiteTextSerializer","method_id":"can_revert?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1003871,"elapsed":0.004106,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003875,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1003860,"elapsed":0.047079,"return_value":{"class":"Hash","value":"{\"site_text\"=>{:id=>\"title\", :value=>\"yay\", :overridden=>true, :can_revert=>true}}","object_id":70097621009860}},{"id":1003876,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097621009860,"value":"{\"site_text\"=>{:id=>\"title\", :value=>\"yay\", :overridden=>true, :can_revert=>true}}","kind":"req"},{"name":"opts","class":"Hash","object_id":70097620995120,"value":"{:root=>\"site_text\", :rest_serializer=>true}","kind":"opt"}],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003877,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1003876,"elapsed":0.000157,"return_value":{"class":"String","value":"{\"site_text\":{\"id\":\"title\",\"value\":\"yay\",\"overridden\":true,\"can_revert\":true},\"__rest_serializer\":\"1","object_id":70097756022260}},{"id":1003878,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":1003859,"elapsed":0.047537,"return_value":{"class":"String","value":"{\"site_text\":{\"id\":\"title\",\"value\":\"yay\",\"overridden\":true,\"can_revert\":true},\"__rest_serializer\":\"1","object_id":70097756022260}},{"id":1003879,"event":"return","defined_class":"Admin::SiteTextsController","method_id":"update","path":"app/controllers/admin/site_texts_controller.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":1003804,"elapsed":0.084966,"return_value":{"class":"String","value":"{\"site_text\":{\"id\":\"title\",\"value\":\"yay\",\"overridden\":true,\"can_revert\":true},\"__rest_serializer\":\"1","object_id":70097756022260}},{"id":1003880,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003881,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1003880,"elapsed":7.0e-06},{"id":1003882,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003883,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1003882,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097756219740}},{"id":1003884,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097612967600,"value":"#<Admin::SiteTextsController:0x00007f81bea41d60>"}},{"id":1003885,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003886,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003885,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003887,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097799865140,"value":"#<User:0x00007f81d4ebc668>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097733111260,"value":"#<ActionDispatch::Request::Session:0x00007f81ccf69bb8>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097613703980,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81beba9658>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003888,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003889,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003890,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003889,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003891,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1003888,"elapsed":9.2e-05},{"id":1003892,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003893,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613000160,"value":"#<TestCurrentUserProvider:0x00007f81bea51bc0>"}},{"id":1003894,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003893,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d4ebc668>","object_id":70097799865140}},{"id":1003895,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1003892,"elapsed":9.0e-05},{"id":1003896,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1003887,"elapsed":0.000344},{"id":1003897,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1003884,"elapsed":0.000553},{"id":1003898,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1003727,"elapsed":0.095725,"http_server_response":{"status":200}},{"id":1003899,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097756749340,"value":"#<TestCurrentUserProvider:0x00007f81cfc7fc38>"}},{"id":1003900,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1003899,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003901,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1003902,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1003901,"elapsed":6.0e-06},{"id":1003903,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1003904,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1003903,"elapsed":4.0e-06},{"id":1003905,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_histories\".* FROM \"user_histories\" ORDER BY \"user_histories\".\"id\" DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003906,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003905,"elapsed":0.001092},{"id":1003907,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":1003908,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1003907,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":1003909,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730766460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf0cf8>"}},{"id":1003910,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097730798460,"value":"9c05b2054beabee848f333f065757e4c","kind":"req"},{"name":"opts","class":"Hash","object_id":70097730838200,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1003911,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097730798460,"value":"9c05b2054beabee848f333f065757e4c","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1003912,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1003913,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1003912,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1003914,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1003911,"elapsed":0.000138,"return_value":{"class":"String","value":"24c2GjYi83nMu0O4KQcsDbr6aJE=","object_id":70097730932340}},{"id":1003915,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = '24c2GjYi83nMu0O4KQcsDbr6aJE=' OR\n                          prev_auth_token = '24c2GjYi83nMu0O4KQcsDbr6aJE=') AND rotated_at > '2020-03-29 19:01:34.603378') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003916,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003915,"elapsed":0.001175},{"id":1003917,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1003910,"elapsed":0.005332,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d463d898>","object_id":70097795411020}},{"id":1003918,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1330 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003919,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003918,"elapsed":0.001148},{"id":1003920,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1003921,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1003920,"elapsed":2.1e-05},{"id":1003922,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730766460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf0cf8>"}},{"id":1003923,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1003922,"elapsed":0.000929,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003924,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1003925,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1003924,"elapsed":0.000864},{"id":1003926,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097814275680,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1003927,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1003926,"elapsed":4.0e-05},{"id":1003928,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003909,"elapsed":0.012923,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003929,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730766460,"value":"#<TestCurrentUserProvider:0x00007f81ccaf0cf8>"}},{"id":1003930,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003929,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003931,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1003932,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1003931,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003933,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814410220,"value":"#<TestCurrentUserProvider:0x00007f81d6a7a7d8>"}},{"id":1003934,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003933,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003935,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814410220,"value":"#<TestCurrentUserProvider:0x00007f81d6a7a7d8>"}},{"id":1003936,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003935,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003937,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1003938,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1003937,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003939,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003940,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003939,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003941,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003942,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003941,"elapsed":1.0e-05},{"id":1003943,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"DELETE","path_info":"/admin/customize/site_texts/title.json"},"message":[{"name":"controller","class":"String","value":"admin/site_texts","object_id":70097755349880},{"name":"action","class":"String","value":"revert","object_id":70097755349940},{"name":"id","class":"String","value":"title","object_id":70097730767580}]},{"id":1003944,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003945,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003946,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003947,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003948,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003947,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003949,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1003946,"elapsed":0.000137,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6b33aa8>","object_id":70097814789460}},{"id":1003950,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097814789460,"value":"#<Guardian:0x00007f81d6b33aa8>"}},{"id":1003951,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1003950,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003952,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1003945,"elapsed":0.00039},{"id":1003953,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003954,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003953,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003955,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1330 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1003956,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1003955,"elapsed":0.00105},{"id":1003957,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003958,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1003957,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6b33aa8>","object_id":70097814789460}},{"id":1003959,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097592373160,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097814789460,"value":"#<Guardian:0x00007f81d6b33aa8>"}},{"id":1003960,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1003959,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1003961,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1003944,"elapsed":0.006038,"return_value":{"class":"Array","value":"[2]","object_id":70097592373160}},{"id":1003962,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003963,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003964,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003963,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003965,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003966,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003965,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003967,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003968,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003967,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003969,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1003962,"elapsed":0.000326,"return_value":{"class":"String","value":"site_texts/revert","object_id":70097592505820}},{"id":1003970,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003971,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003972,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003971,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003973,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1003970,"elapsed":0.000109},{"id":1003974,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003975,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003976,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003975,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003977,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003978,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003977,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1003979,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1003980,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1003979,"elapsed":7.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1003981,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003982,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003981,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003983,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003984,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003983,"elapsed":8.0e-06},{"id":1003985,"event":"call","defined_class":"LocaleSiteSetting","method_id":"supported_locales","path":"app/models/locale_site_setting.rb","lineno":39,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003986,"event":"return","defined_class":"LocaleSiteSetting","method_id":"supported_locales","path":"app/models/locale_site_setting.rb","lineno":39,"static":true,"thread_id":70097708498960,"parent_id":1003985,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"ar\", \"be\", \"bg\", \"bs_BA\", \"ca\", \"cs\", \"da\", \"de\", \"el\", \"en\", \"en_US\", \"es\", \"et\", \"fa_IR\", \"fi\", ","object_id":70097795581420}},{"id":1003987,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003988,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003987,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003989,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003990,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003989,"elapsed":1.0e-05},{"id":1003991,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003992,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003991,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1003993,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1003994,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1003993,"elapsed":6.0e-06},{"id":1003995,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1003974,"elapsed":0.064522,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097829002200}},{"id":1003996,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1003997,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1003996,"elapsed":7.0e-06},{"id":1003998,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1003999,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004000,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1003999,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004001,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1003998,"elapsed":0.000106},{"id":1004002,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004003,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004002,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004004,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004005,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004004,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004006,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004007,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004006,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004008,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803564860,"value":"Admin::SiteTextsController"}},{"id":1004009,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1004008,"elapsed":3.0e-06},{"id":1004010,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004011,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1004010,"elapsed":7.0e-06},{"id":1004012,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004013,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004014,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004013,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004015,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1004012,"elapsed":9.1e-05},{"id":1004016,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004017,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004018,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004017,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004019,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1004016,"elapsed":8.9e-05},{"id":1004020,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004021,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004020,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004022,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004023,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004022,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004024,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>"}},{"id":1004025,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1004024,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1004026,"event":"call","defined_class":"Admin::SiteTextsController","method_id":"revert","path":"app/controllers/admin/site_texts_controller.rb","lineno":90,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004027,"event":"call","defined_class":"Admin::SiteTextsController","method_id":"restricted_keys","path":"app/controllers/admin/site_texts_controller.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803564860,"value":"Admin::SiteTextsController"}},{"id":1004028,"event":"return","defined_class":"Admin::SiteTextsController","method_id":"restricted_keys","path":"app/controllers/admin/site_texts_controller.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1004027,"elapsed":2.0e-06,"return_value":{"class":"Array","value":"[\"user_notifications.confirm_old_email.title\", \"user_notifications.confirm_old_email.subject_templat","object_id":70097829131820}},{"id":1004029,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004030,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004029,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004031,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004032,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004031,"elapsed":7.0e-06},{"id":1004033,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004034,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004033,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004035,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004036,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004035,"elapsed":6.0e-06},{"id":1004037,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1004038,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1004037,"elapsed":2.0e-06},{"id":1004039,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"translation_overrides\".\"translation_key\", \"translation_overrides\".\"value\", \"translation_overrides\".\"compiled_js\" FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US'","database_type":"postgres","server_version":110006}},{"id":1004040,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004039,"elapsed":0.001071},{"id":1004041,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1004042,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1004041,"elapsed":4.0e-06},{"id":1004043,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"translation_overrides\".\"translation_key\", \"translation_overrides\".\"value\", \"translation_overrides\".\"compiled_js\" FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en'","database_type":"postgres","server_version":110006}},{"id":1004044,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004043,"elapsed":0.001044},{"id":1004045,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004046,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004045,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004047,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004048,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004047,"elapsed":1.0e-05},{"id":1004049,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1004050,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1004049,"elapsed":3.0e-06},{"id":1004051,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1004052,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1004051,"elapsed":4.0e-06},{"id":1004053,"event":"call","defined_class":"TranslationOverride(id: integer, locale: string, translation_key: string, value: string, created_at: datetime, updated_at: datetime, compiled_js: text)","method_id":"revert!","path":"app/models/translation_override.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"},{"name":"keys","class":"String","object_id":70097730767580,"value":"title","kind":"req"}],"receiver":{"class":"Class","object_id":70097566129160,"value":"TranslationOverride"}},{"id":1004054,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'title'","database_type":"postgres","server_version":110006}},{"id":1004055,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004054,"elapsed":0.001043},{"id":1004056,"event":"call","defined_class":"ExtraLocalesController","method_id":"clear_cache!","path":"app/controllers/extra_locales_controller.rb","lineno":66,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097757450320,"value":"ExtraLocalesController"}},{"id":1004057,"event":"return","defined_class":"ExtraLocalesController","method_id":"clear_cache!","path":"app/controllers/extra_locales_controller.rb","lineno":66,"static":true,"thread_id":70097708498960,"parent_id":1004056,"elapsed":6.0e-06},{"id":1004058,"event":"return","defined_class":"TranslationOverride(id: integer, locale: string, translation_key: string, value: string, created_at: datetime, updated_at: datetime, compiled_js: text)","method_id":"revert!","path":"app/models/translation_override.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1004053,"elapsed":0.004249},{"id":1004059,"event":"call","defined_class":"Admin::SiteTextsController","method_id":"restricted_keys","path":"app/controllers/admin/site_texts_controller.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803564860,"value":"Admin::SiteTextsController"}},{"id":1004060,"event":"return","defined_class":"Admin::SiteTextsController","method_id":"restricted_keys","path":"app/controllers/admin/site_texts_controller.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1004059,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[\"user_notifications.confirm_old_email.title\", \"user_notifications.confirm_old_email.subject_templat","object_id":70097624655020}},{"id":1004061,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004062,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004061,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004063,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004064,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004063,"elapsed":1.0e-05},{"id":1004065,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004066,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004065,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004067,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004068,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004067,"elapsed":1.1e-05},{"id":1004069,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004070,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004069,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004071,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004072,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004071,"elapsed":8.0e-06},{"id":1004073,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1004074,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1004073,"elapsed":4.0e-06},{"id":1004075,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"translation_overrides\".\"translation_key\", \"translation_overrides\".\"value\", \"translation_overrides\".\"compiled_js\" FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US'","database_type":"postgres","server_version":110006}},{"id":1004076,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004075,"elapsed":0.001393},{"id":1004077,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1004078,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1004077,"elapsed":6.0e-06},{"id":1004079,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"translation_overrides\".\"translation_key\", \"translation_overrides\".\"value\", \"translation_overrides\".\"compiled_js\" FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en'","database_type":"postgres","server_version":110006}},{"id":1004080,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004079,"elapsed":0.00137},{"id":1004081,"event":"call","defined_class":"LocaleSiteSetting","method_id":"supported_locales","path":"app/models/locale_site_setting.rb","lineno":39,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004082,"event":"return","defined_class":"LocaleSiteSetting","method_id":"supported_locales","path":"app/models/locale_site_setting.rb","lineno":39,"static":true,"thread_id":70097708498960,"parent_id":1004081,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"ar\", \"be\", \"bg\", \"bs_BA\", \"ca\", \"cs\", \"da\", \"de\", \"el\", \"en\", \"en_US\", \"es\", \"et\", \"fa_IR\", \"fi\", ","object_id":70097795581420}},{"id":1004083,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004084,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004083,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1004085,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1004086,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1004085,"elapsed":1.1e-05},{"id":1004087,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004088,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004087,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004089,"event":"call","defined_class":"StaffActionLogger","method_id":"log_site_text_change","path":"app/services/staff_action_logger.rb","lineno":235,"static":false,"thread_id":70097708498960,"parameters":[{"name":"subject","class":"String","object_id":70097730767580,"value":"title","kind":"req"},{"name":"new_text","class":"String","object_id":70097612327920,"value":"Discourse","kind":"opt"},{"name":"old_text","class":"String","object_id":70097588937600,"value":"yay","kind":"opt"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"StaffActionLogger","object_id":70097612324980,"value":"#<StaffActionLogger:0x00007f81be9080e8>"}},{"id":1004090,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":1004091,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1004090,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":1004092,"event":"call","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserHistory","object_id":70097798902080,"value":"#<UserHistory:0x00007f81d4ce6280>"}},{"id":1004093,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":1004094,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":1004093,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[3]","object_id":70097608682780}},{"id":1004095,"event":"return","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":1004092,"elapsed":0.000139,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d4ce6280>","object_id":70097798902080}},{"id":1004096,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1004097,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004096,"elapsed":0.001162},{"id":1004098,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_histories\" (\"action\", \"acting_user_id\", \"created_at\", \"updated_at\", \"subject\", \"previous_value\", \"new_value\") VALUES (29, 1330, '2020-05-28 19:01:34.891191', '2020-05-28 19:01:34.891191', 'title', 'yay', 'Discourse') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1004099,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004098,"elapsed":0.001449},{"id":1004100,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1004101,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004100,"elapsed":0.001085},{"id":1004102,"event":"return","defined_class":"StaffActionLogger","method_id":"log_site_text_change","path":"app/services/staff_action_logger.rb","lineno":235,"static":false,"thread_id":70097708498960,"parent_id":1004089,"elapsed":0.058741,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d4ce6280>","object_id":70097798902080}},{"id":1004103,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"find_system_badge_id_from_translation_key","path":"app/models/badge.rb","lineno":219,"static":true,"thread_id":70097708498960,"parameters":[{"name":"translation_key","class":"String","object_id":70097730767580,"value":"title","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":1004104,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"find_system_badge_id_from_translation_key","path":"app/models/badge.rb","lineno":219,"static":true,"thread_id":70097708498960,"parent_id":1004103,"elapsed":6.0e-06},{"id":1004105,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097612327640,"value":"{:id=>\"title\", :value=>\"Discourse\"}","kind":"req"},{"name":"serializer","class":"Class","object_id":70097732497100,"value":"SiteTextSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613723120,"value":"{:root=>\"site_text\", :rest_serializer=>true}","kind":"opt"}],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004106,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097612327640,"value":"{:id=>\"title\", :value=>\"Discourse\"}","kind":"req"},{"name":"serializer","class":"Class","object_id":70097732497100,"value":"SiteTextSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613723120,"value":"{:root=>\"site_text\", :rest_serializer=>true}","kind":"opt"}],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004107,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004108,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1004107,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6b33aa8>","object_id":70097814789460}},{"id":1004109,"event":"call","defined_class":"SiteTextSerializer","method_id":"id","path":"app/serializers/site_text_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097613821760,"value":"#<SiteTextSerializer:0x00007f81bebe2e80>"}},{"id":1004110,"event":"return","defined_class":"SiteTextSerializer","method_id":"id","path":"app/serializers/site_text_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1004109,"elapsed":4.0e-06,"return_value":{"class":"String","value":"title","object_id":70097730767580}},{"id":1004111,"event":"call","defined_class":"SiteTextSerializer","method_id":"value","path":"app/serializers/site_text_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097613821760,"value":"#<SiteTextSerializer:0x00007f81bebe2e80>"}},{"id":1004112,"event":"return","defined_class":"SiteTextSerializer","method_id":"value","path":"app/serializers/site_text_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1004111,"elapsed":3.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097612327920}},{"id":1004113,"event":"call","defined_class":"SiteTextSerializer","method_id":"overridden?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097613821760,"value":"#<SiteTextSerializer:0x00007f81bebe2e80>"}},{"id":1004114,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'title' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1004115,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004114,"elapsed":0.001236},{"id":1004116,"event":"return","defined_class":"SiteTextSerializer","method_id":"overridden?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1004113,"elapsed":0.020499},{"id":1004117,"event":"call","defined_class":"SiteTextSerializer","method_id":"can_revert?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteTextSerializer","object_id":70097613821760,"value":"#<SiteTextSerializer:0x00007f81bebe2e80>"}},{"id":1004118,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'title' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1004119,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004118,"elapsed":3.2e-05},{"id":1004120,"event":"return","defined_class":"SiteTextSerializer","method_id":"can_revert?","path":"app/serializers/site_text_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1004117,"elapsed":0.018474},{"id":1004121,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1004106,"elapsed":0.040405,"return_value":{"class":"Hash","value":"{\"site_text\"=>{:id=>\"title\", :value=>\"Discourse\", :overridden=>false, :can_revert=>false}}","object_id":70097613821460}},{"id":1004122,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097613821460,"value":"{\"site_text\"=>{:id=>\"title\", :value=>\"Discourse\", :overridden=>false, :can_revert=>false}}","kind":"req"},{"name":"opts","class":"Hash","object_id":70097613723120,"value":"{:root=>\"site_text\", :rest_serializer=>true}","kind":"opt"}],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004123,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1004122,"elapsed":0.000146,"return_value":{"class":"String","value":"{\"site_text\":{\"id\":\"title\",\"value\":\"Discourse\",\"overridden\":false,\"can_revert\":false},\"__rest_serial","object_id":70097829212680}},{"id":1004124,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":1004105,"elapsed":0.040886,"return_value":{"class":"String","value":"{\"site_text\":{\"id\":\"title\",\"value\":\"Discourse\",\"overridden\":false,\"can_revert\":false},\"__rest_serial","object_id":70097829212680}},{"id":1004125,"event":"return","defined_class":"Admin::SiteTextsController","method_id":"revert","path":"app/controllers/admin/site_texts_controller.rb","lineno":90,"static":false,"thread_id":70097708498960,"parent_id":1004026,"elapsed":0.299358,"return_value":{"class":"String","value":"{\"site_text\":{\"id\":\"title\",\"value\":\"Discourse\",\"overridden\":false,\"can_revert\":false},\"__rest_serial","object_id":70097829212680}},{"id":1004126,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004127,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1004126,"elapsed":8.0e-06},{"id":1004128,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004129,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1004128,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097829372880}},{"id":1004130,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::SiteTextsController","object_id":70097814474780,"value":"#<Admin::SiteTextsController:0x00007f81d6a9a038>"}},{"id":1004131,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004132,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004131,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004133,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097813650120,"value":"#<User:0x00007f81d6907590>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097803627160,"value":"#<ActionDispatch::Request::Session:0x00007f81d55e9530>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097592373640,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81bc2fa310>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004134,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004135,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004136,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004135,"elapsed":1.0e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004137,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1004134,"elapsed":0.000476},{"id":1004138,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004139,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097814694360,"value":"#<TestCurrentUserProvider:0x00007f81d6b053b0>"}},{"id":1004140,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1004139,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6907590>","object_id":70097813650120}},{"id":1004141,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1004138,"elapsed":0.000122},{"id":1004142,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1004133,"elapsed":0.000818},{"id":1004143,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1004130,"elapsed":0.001084},{"id":1004144,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1003943,"elapsed":0.374962,"http_server_response":{"status":200}},{"id":1004145,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097829412780,"value":"#<TestCurrentUserProvider:0x00007f81d8717f58>"}},{"id":1004146,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1004145,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1004147,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1004148,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1004147,"elapsed":5.0e-06},{"id":1004149,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1004150,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1004149,"elapsed":4.0e-06},{"id":1004151,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_histories\".* FROM \"user_histories\" ORDER BY \"user_histories\".\"id\" DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1004152,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1004151,"elapsed":0.001146},{"id":1004153,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":1004154,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1004153,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}}]}