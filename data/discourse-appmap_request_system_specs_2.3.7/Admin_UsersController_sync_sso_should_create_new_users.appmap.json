{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::UsersController #sync_sso should create new users","app":"Discourse","feature":"Admin::UsersController #sync_sso","feature_group":"Admin users","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/models","type":"package","children":[{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"unstage!","type":"function","location":"app/models/user.rb:341","static":false},{"name":"human?","type":"function","location":"app/models/user.rb:313","static":false},{"name":"enqueue_welcome_message","type":"function","location":"app/models/user.rb:386","static":false},{"name":"set_automatic_groups","type":"function","location":"app/models/user.rb:1178","static":false},{"name":"email_confirmed?","type":"function","location":"app/models/user.rb:928","static":false},{"name":"create_reviewable","type":"function","location":"app/models/user.rb:1253","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false},{"name":"silenced?","type":"function","location":"app/models/user.rb:873","static":false},{"name":"like_count","type":"function","location":"app/models/user.rb:816","static":false},{"name":"like_given_count","type":"function","location":"app/models/user.rb:820","static":false},{"name":"flags_given_count","type":"function","location":"app/models/user.rb:829","static":false},{"name":"flags_received_count","type":"function","location":"app/models/user.rb:837","static":false},{"name":"private_topics_count","type":"function","location":"app/models/user.rb:841","static":false},{"name":"first_post_created_at","type":"function","location":"app/models/user.rb:1067","static":false},{"name":"post_count","type":"function","location":"app/models/user.rb:824","static":false},{"name":"full_suspend_reason","type":"function","location":"app/models/user.rb:893","static":false},{"name":"silence_reason","type":"function","location":"app/models/user.rb:881","static":false},{"name":"badge_count","type":"function","location":"app/models/user.rb:958","static":false},{"name":"warnings_received_count","type":"function","location":"app/models/user.rb:833","static":false},{"name":"user_fields","type":"function","location":"app/models/user.rb:1089","static":false},{"name":"suspend_record","type":"function","location":"app/models/user.rb:889","static":false},{"name":"silenced_record","type":"function","location":"app/models/user.rb:877","static":false},{"name":"has_trust_level?","type":"function","location":"app/models/user.rb:907","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false},{"name":"regular?","type":"function","location":"app/models/concerns/roleable.rb:17","static":false}]},{"name":"DiscourseSingleSignOn","type":"class","children":[{"name":"sso_secret","type":"function","location":"app/models/discourse_single_sign_on.rb:12","static":true},{"name":"lookup_or_create_user","type":"function","location":"app/models/discourse_single_sign_on.rb:54","static":false}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"find_by_email","type":"function","location":"app/models/user.rb:367","static":true},{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"username_available?","type":"function","location":"app/models/user.rb:249","static":true},{"name":"reserved_username?","type":"function","location":"app/models/user.rb:258","static":true},{"name":"username_exists?","type":"function","location":"app/models/user.rb:1393","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true},{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true}]},{"name":"UsernameValidator","type":"class","children":[{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true},{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","type":"class","children":[{"name":"flag_types_without_custom","type":"function","location":"app/models/post_action_type.rb:91","static":true},{"name":"flag_settings","type":"function","location":"app/models/post_action_type.rb:16","static":true}]},{"name":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","type":"class","children":[{"name":"for","type":"function","location":"app/models/user_history.rb:216","static":true},{"name":"actions","type":"function","location":"app/models/user_history.rb:20","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"UsersController","type":"class","children":[{"name":"sync_sso","type":"function","location":"app/controllers/admin/users_controller.rb:417","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"user","type":"function","location":"lib/guardian.rb:71","static":false},{"name":"can_send_activation_email?","type":"function","location":"lib/guardian.rb:180","static":false},{"name":"can_activate?","type":"function","location":"lib/guardian.rb:264","static":false},{"name":"can_deactivate?","type":"function","location":"lib/guardian.rb:268","static":false},{"name":"can_grant_admin?","type":"function","location":"lib/guardian.rb:277","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"can_revoke_admin?","type":"function","location":"lib/guardian.rb:273","static":false},{"name":"can_grant_moderation?","type":"function","location":"lib/guardian.rb:285","static":false},{"name":"can_revoke_moderation?","type":"function","location":"lib/guardian.rb:281","static":false},{"name":"can_impersonate?","type":"function","location":"lib/guardian.rb:241","static":false},{"name":"can_view_action_logs?","type":"function","location":"lib/guardian.rb:255","static":false}]},{"name":"PostGuardian","type":"class","children":[{"name":"can_delete_all_posts?","type":"function","location":"lib/guardian/post_guardian.rb:99","static":false}]},{"name":"UserGuardian","type":"class","children":[{"name":"can_delete_user?","type":"function","location":"lib/guardian/user_guardian.rb:61","static":false},{"name":"can_anonymize_user?","type":"function","location":"lib/guardian/user_guardian.rb:75","static":false},{"name":"can_merge_user?","type":"function","location":"lib/guardian/user_guardian.rb:79","static":false}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"downcase","type":"function","location":"lib/email.rb:12","static":true},{"name":"is_valid?","type":"function","location":"lib/email.rb:7","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"EmailValidator","type":"class","children":[{"name":"email_regex","type":"function","location":"lib/validators/email_validator.rb:43","static":true},{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]},{"name":"app/serializers","type":"package","children":[{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]},{"name":"AdminUserListSerializer","type":"class","children":[{"name":"include_email?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:39","static":false},{"name":"last_seen_at","type":"function","location":"app/serializers/admin_user_list_serializer.rb:86","static":false},{"name":"last_emailed_at","type":"function","location":"app/serializers/admin_user_list_serializer.rb:76","static":false},{"name":"last_seen_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:91","static":false},{"name":"last_emailed_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:81","static":false},{"name":"created_at_age","type":"function","location":"app/serializers/admin_user_list_serializer.rb:101","static":false},{"name":"include_approved?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:105","static":false},{"name":"include_suspended_at?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:64","static":false},{"name":"include_suspended_till?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:68","static":false},{"name":"include_silenced?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:52","static":false},{"name":"include_silenced_till?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:60","static":false},{"name":"time_read","type":"function","location":"app/serializers/admin_user_list_serializer.rb:96","static":false},{"name":"include_second_factor_enabled?","type":"function","location":"app/serializers/admin_user_list_serializer.rb:109","static":false},{"name":"days_visited","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"posts_read_count","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"topics_entered","type":"function","location":"app/serializers/admin_user_list_serializer.rb:34","static":false},{"name":"can_impersonate","type":"function","location":"app/serializers/admin_user_list_serializer.rb:72","static":false}]},{"name":"AdminDetailedUserSerializer","type":"class","children":[{"name":"post_count","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:122","static":false},{"name":"can_grant_admin","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:54","static":false},{"name":"can_revoke_admin","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:50","static":false},{"name":"can_grant_moderation","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:62","static":false},{"name":"can_revoke_moderation","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:58","static":false},{"name":"topic_count","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:82","static":false},{"name":"can_delete_all_posts","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:66","static":false},{"name":"can_be_deleted","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:70","static":false},{"name":"can_be_anonymized","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:74","static":false},{"name":"can_be_merged","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:78","static":false},{"name":"silence_reason","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:94","static":false},{"name":"include_user_fields?","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:106","static":false},{"name":"bounce_score","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:110","static":false},{"name":"reset_bounce_score_after","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:114","static":false},{"name":"can_view_action_logs","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:118","static":false},{"name":"can_disable_second_factor","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:46","static":false},{"name":"api_key_count","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:126","static":false},{"name":"suspended_by","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:90","static":false},{"name":"silenced_by","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:98","static":false},{"name":"include_tl3_requirements?","type":"function","location":"app/serializers/admin_detailed_user_serializer.rb:102","static":false}]},{"name":"AdminUserSerializer","type":"class","children":[{"name":"can_send_activation_email","type":"function","location":"app/serializers/admin_user_serializer.rb:24","static":false},{"name":"can_activate","type":"function","location":"app/serializers/admin_user_serializer.rb:28","static":false},{"name":"can_deactivate","type":"function","location":"app/serializers/admin_user_serializer.rb:32","static":false},{"name":"include_can_approve?","type":"function","location":"app/serializers/admin_user_serializer.rb:20","static":false},{"name":"ip_address","type":"function","location":"app/serializers/admin_user_serializer.rb:36","static":false},{"name":"registration_ip_address","type":"function","location":"app/serializers/admin_user_serializer.rb:40","static":false}]},{"name":"SingleSignOnRecordSerializer","type":"class","children":[{"name":"include_external_email?","type":"function","location":"app/serializers/single_sign_on_record_serializer.rb:12","static":false}]}]}],"events":[{"id":114591,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798883920,"value":"#<TestCurrentUserProvider:0x00007f81d4cdd4a0>"}},{"id":114592,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097798882160,"value":"58fbb7410a6c57c61e8fa02a1dfc9534","kind":"req"},{"name":"opts","class":"Hash","object_id":70097798881720,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":114593,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097798882160,"value":"58fbb7410a6c57c61e8fa02a1dfc9534","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":114594,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":114595,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":114594,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":114596,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":114593,"elapsed":0.000122,"return_value":{"class":"String","value":"dXeKBwcEnPZ3UL5aSm9vZY1rOM0=","object_id":70097798901660}},{"id":114597,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'dXeKBwcEnPZ3UL5aSm9vZY1rOM0=' OR\n                          prev_auth_token = 'dXeKBwcEnPZ3UL5aSm9vZY1rOM0=') AND rotated_at > '2020-03-29 18:50:40.897244') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114598,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114597,"elapsed":0.001066},{"id":114599,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:50:40.901513' WHERE \"user_auth_tokens\".\"id\" = 399 AND \"user_auth_tokens\".\"auth_token\" = 'dXeKBwcEnPZ3UL5aSm9vZY1rOM0='","database_type":"postgres","server_version":110006}},{"id":114600,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114599,"elapsed":0.000886},{"id":114601,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097827597000,"value":"{:action=>\"seen token\", :user_auth_token_id=>399, :user_id=>140, :auth_token=>\"dXeKBwcEnPZ3UL5aSm9vZ","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":114602,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114603,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114602,"elapsed":0.000741},{"id":114604,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 399, 140, '127.0.0.1/32', 'dXeKBwcEnPZ3UL5aSm9vZY1rOM0=', '2020-05-28 18:50:40.905160') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":114605,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114604,"elapsed":0.000921},{"id":114606,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114607,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114606,"elapsed":0.000728},{"id":114608,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":114601,"elapsed":0.011265,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81d83a0aa0>","object_id":70097827595600}},{"id":114609,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":114592,"elapsed":0.019304,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d82bc288>","object_id":70097827127620}},{"id":114610,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 140 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114611,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114610,"elapsed":0.00093},{"id":114612,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":114613,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":114612,"elapsed":1.5e-05},{"id":114614,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798883920,"value":"#<TestCurrentUserProvider:0x00007f81d4cdd4a0>"}},{"id":114615,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":114614,"elapsed":0.000893,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114616,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":114617,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":114616,"elapsed":0.000841},{"id":114618,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097828240960,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":114619,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 140","database_type":"postgres","server_version":110006}},{"id":114620,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114619,"elapsed":0.000904},{"id":114621,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":114618,"elapsed":0.003134,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114622,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114591,"elapsed":0.028726,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114623,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798883920,"value":"#<TestCurrentUserProvider:0x00007f81d4cdd4a0>"}},{"id":114624,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114623,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114625,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":114626,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":114625,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114627,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":114628,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":114627,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":114629,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":114630,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":114629,"elapsed":1.0e-05},{"id":114631,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/admin/users/sync_sso.json"},"message":[{"name":"sso","class":"String","value":"ZW1haWw9ZHIlNDBjbGF3LmNvbSZleHRlcm5hbF9pZD0yJm5hbWU9RHIuK0NsYXcmdXNlcm5hbWU9ZHJfY2xhdw==","object_id":70097612360700},{"name":"sig","class":"String","value":"9a92d9cca02803e88190b6e72d9254fef547ccee5a0ee75986bc18289dfe99f8","object_id":70097612360320},{"name":"controller","class":"String","value":"admin/users","object_id":70097794196020},{"name":"action","class":"String","value":"sync_sso","object_id":70097794196080},{"name":"format","class":"String","value":"json","object_id":70097798884180}]},{"id":114632,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114633,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114634,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114635,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114636,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114635,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114637,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":114634,"elapsed":0.000109,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bba717e8>","object_id":70097587899380}},{"id":114638,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":114639,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":114638,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114640,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":114633,"elapsed":0.00031},{"id":114641,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114642,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114641,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114643,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 140 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114644,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114643,"elapsed":0.000883},{"id":114645,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114646,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":114645,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bba717e8>","object_id":70097587899380}},{"id":114647,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097799864060,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":114648,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":114647,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114649,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":114632,"elapsed":0.004637,"return_value":{"class":"Array","value":"[2]","object_id":70097799864060}},{"id":114650,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114651,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114652,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114651,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114653,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114654,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114653,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114655,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114656,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114655,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114657,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":114650,"elapsed":0.000325,"return_value":{"class":"String","value":"users/sync_sso","object_id":70097588086500}},{"id":114658,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114659,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114660,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114659,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114661,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":114658,"elapsed":0.000103},{"id":114662,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114663,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114664,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114663,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114665,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114666,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114665,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114667,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":114668,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":114667,"elapsed":1.0e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":114669,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":114670,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":114669,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":114671,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":114672,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":114671,"elapsed":8.0e-06},{"id":114673,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":114674,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":114673,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":114675,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":114676,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":114675,"elapsed":6.0e-06},{"id":114677,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":114662,"elapsed":0.000667,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097588105580}},{"id":114678,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114679,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":114678,"elapsed":8.0e-06},{"id":114680,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114681,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114682,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114681,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114683,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":114680,"elapsed":9.2e-05},{"id":114684,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114685,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114684,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114686,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114687,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114686,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114688,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114689,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114688,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114690,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703976700,"value":"Admin::UsersController"}},{"id":114691,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":114690,"elapsed":3.0e-06},{"id":114692,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114693,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":114692,"elapsed":7.0e-06},{"id":114694,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114695,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114696,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114695,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114697,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":114694,"elapsed":9.1e-05},{"id":114698,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114699,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114700,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114699,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114701,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":114698,"elapsed":9.0e-05},{"id":114702,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114703,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114702,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114704,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":114705,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":114704,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":114706,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":114707,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":114706,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114708,"event":"call","defined_class":"Admin::UsersController","method_id":"sync_sso","path":"app/controllers/admin/users_controller.rb","lineno":417,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":114709,"event":"call","defined_class":"DiscourseSingleSignOn","method_id":"sso_secret","path":"app/models/discourse_single_sign_on.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587280520,"value":"DiscourseSingleSignOn"}},{"id":114710,"event":"return","defined_class":"DiscourseSingleSignOn","method_id":"sso_secret","path":"app/models/discourse_single_sign_on.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":114709,"elapsed":6.0e-06,"return_value":{"class":"String","value":"sso secret","object_id":70097781741300}},{"id":114711,"event":"call","defined_class":"DiscourseSingleSignOn","method_id":"lookup_or_create_user","path":"app/models/discourse_single_sign_on.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"DiscourseSingleSignOn","object_id":70097568330760,"value":"#<DiscourseSingleSignOn:0x00007f81b951e810>"}},{"id":114712,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"single_sign_on_records\".* FROM \"single_sign_on_records\" WHERE \"single_sign_on_records\".\"external_id\" = '2' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114713,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114712,"elapsed":0.000917},{"id":114714,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_email","path":"app/models/user.rb","lineno":367,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097568325740,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114715,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097568325740,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":114716,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097568325740,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":114717,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":114718,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":114717,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":114719,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":114716,"elapsed":0.000109,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114720,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":114715,"elapsed":0.000205,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097612904280}},{"id":114721,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE (lower(user_emails.email) IN ('dr@claw.com')) ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114722,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114721,"elapsed":0.001038},{"id":114723,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_email","path":"app/models/user.rb","lineno":367,"static":true,"thread_id":70097708498960,"parent_id":114714,"elapsed":0.004558},{"id":114724,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":114725,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":114724,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":114726,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":114727,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":114726,"elapsed":4.0e-06},{"id":114728,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114729,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":114728,"elapsed":1.0e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097613489300}},{"id":114730,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114731,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":114730,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097613512000}},{"id":114732,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613493440,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114733,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114732,"elapsed":7.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613509060}},{"id":114734,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613493440,"value":"dr_claw","kind":"req"},{"name":"email","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"allow_reserved_username","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114735,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613493440,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114736,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114735,"elapsed":6.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613505900}},{"id":114737,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613505900,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114738,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613505900,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114739,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114738,"elapsed":6.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613527280}},{"id":114740,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parent_id":114737,"elapsed":0.000185},{"id":114741,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613505900,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114742,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613505900,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114743,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114742,"elapsed":6.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613543840}},{"id":114744,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parent_id":114741,"elapsed":0.001021},{"id":114745,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parent_id":114734,"elapsed":0.001491,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114746,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613493440,"value":"dr_claw","kind":"req"},{"name":"email","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"allow_reserved_username","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114747,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613493440,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114748,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114747,"elapsed":8.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613537920}},{"id":114749,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613537920,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114750,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613537920,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114751,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114750,"elapsed":6.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613558840}},{"id":114752,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parent_id":114749,"elapsed":0.000171},{"id":114753,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613537920,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114754,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097613537920,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114755,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114754,"elapsed":6.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097613575060}},{"id":114756,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parent_id":114753,"elapsed":0.000887},{"id":114757,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parent_id":114746,"elapsed":0.00135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114758,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114759,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114758,"elapsed":0.000671},{"id":114760,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114761,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":114760,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114762,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114763,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":114764,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097588203840,"value":"#<UsernameValidator:0x00007f81bbb06280>"}},{"id":114765,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114766,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":114765,"elapsed":6.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097588201680}},{"id":114767,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114768,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":114767,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097588199980}},{"id":114769,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":114770,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":114769,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":114771,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":114772,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":114771,"elapsed":4.0e-06},{"id":114773,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":114764,"elapsed":0.000376,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114774,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":114763,"elapsed":0.000474},{"id":114775,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":114762,"elapsed":0.000572},{"id":114776,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097588207060,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114777,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":114776,"elapsed":7.0e-06,"return_value":{"class":"String","value":"dr_claw","object_id":70097588217080}},{"id":114778,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097588207060,"value":"dr_claw","kind":"req"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114779,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":114778,"elapsed":7.0e-06},{"id":114780,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097588238120,"value":"dr_claw","kind":"req"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114781,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":114780,"elapsed":4.0e-06},{"id":114782,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114783,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097588234700,"value":"#<PasswordValidator:0x00007f81bbb15398>"}},{"id":114784,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114785,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114786,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":114785,"elapsed":3.0e-06},{"id":114787,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":114784,"elapsed":8.5e-05},{"id":114788,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114783,"elapsed":0.000168},{"id":114789,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":114782,"elapsed":0.000269},{"id":114790,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114791,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":114790,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":114792,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097588271900,"value":"Dr. Claw","kind":"req"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114793,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":114792,"elapsed":4.0e-06},{"id":114794,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097588269940,"value":"dr. claw","kind":"req"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114795,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":114794,"elapsed":4.0e-06},{"id":114796,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097588251260,"value":"Dr. Claw","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":114797,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114796,"elapsed":5.0e-06},{"id":114798,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":114799,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114798,"elapsed":4.0e-06},{"id":114800,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097613494500,"value":"#<UserEmail:0x00007f81beb431c8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097588285160,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":114801,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588285160,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":114802,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097588285160,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":114803,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":114802,"elapsed":2.4e-05},{"id":114804,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":114801,"elapsed":0.000119,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114805,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588285160,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":114806,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097588285160,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":114807,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":114806,"elapsed":9.0e-06,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097588299220}},{"id":114808,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":114809,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114808,"elapsed":0.000808},{"id":114810,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":114805,"elapsed":0.00482},{"id":114811,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114800,"elapsed":0.005141},{"id":114812,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'dr@claw.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114813,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114812,"elapsed":0.0009},{"id":114814,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"username_lower\", \"trust_level\") VALUES ('dr_claw', '2020-05-28 18:50:40.967302', '2020-05-28 18:50:40.967302', 'Dr. Claw', 'dr_claw', 0) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":114815,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114814,"elapsed":0.001052},{"id":114816,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097613494500,"value":"#<UserEmail:0x00007f81beb431c8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097829035260,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":114817,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829035260,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":114818,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097829035260,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":114819,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":114818,"elapsed":2.6e-05},{"id":114820,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":114817,"elapsed":0.000125,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114821,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829035260,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":114822,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829035260,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":114823,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":114822,"elapsed":8.0e-06,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097829048920}},{"id":114824,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":114825,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114824,"elapsed":0.000924},{"id":114826,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":114821,"elapsed":0.004932},{"id":114827,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114816,"elapsed":0.005265},{"id":114828,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114829,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114828,"elapsed":0.000947},{"id":114830,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'dr@claw.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114831,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114830,"elapsed":0.000884},{"id":114832,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (161, 'dr@claw.com', TRUE, '2020-05-28 18:50:40.986717', '2020-05-28 18:50:40.986717') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":114833,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114832,"elapsed":0.001384},{"id":114834,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114835,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":114834,"elapsed":1.7e-05,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097589830560}},{"id":114836,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":114837,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":114838,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":114837,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":114839,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":114836,"elapsed":0.00013,"return_value":{"class":"String","value":"6e2b51f903aeae82bb3df0eef01907bc","object_id":70097589865580}},{"id":114840,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (161, 'dr@claw.com', '6e2b51f903aeae82bb3df0eef01907bc', '2020-05-28 18:50:40.992877', '2020-05-28 18:50:40.992877') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":114841,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114840,"elapsed":0.00093},{"id":114842,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 161 AND (id != 357)","database_type":"postgres","server_version":110006}},{"id":114843,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114842,"elapsed":0.000937},{"id":114844,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (161, '2020-05-28 18:50:41.002430') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":114845,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114844,"elapsed":0.000881},{"id":114846,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114847,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114846,"elapsed":0.000911},{"id":114848,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097621546700,"value":"{:user=>#<User id: 161, username: \"dr_claw\", created_at: \"2020-05-28 18:50:40\", updated_at: \"2020-05","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":114849,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":114848,"elapsed":1.0e-05},{"id":114850,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097621564400,"value":"#<UserOption:0x00007f81bfaa77e0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":114851,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":114850,"elapsed":4.0e-06},{"id":114852,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097621564400,"value":"#<UserOption:0x00007f81bfaa77e0>"}},{"id":114853,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097621564400,"value":"#<UserOption:0x00007f81bfaa77e0>"}},{"id":114854,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":114855,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":114854,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":114856,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":114853,"elapsed":0.000111,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":114857,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097621564400,"value":"#<UserOption:0x00007f81bfaa77e0>"}},{"id":114858,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":114859,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":114858,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":114860,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":114857,"elapsed":9.9e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":114861,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":114852,"elapsed":0.000459,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114862,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (161, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":114863,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114862,"elapsed":0.000981},{"id":114864,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097716330700,"value":"#<TrackedTopicsUpdater:0x00007f81caf68198>"}},{"id":114865,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":114866,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":114865,"elapsed":9.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":114867,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":114868,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":114867,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":114869,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 161","database_type":"postgres","server_version":110006}},{"id":114870,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114869,"elapsed":0.001276},{"id":114871,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":114864,"elapsed":0.006669,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":114872,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114873,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114874,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114873,"elapsed":0.00138},{"id":114875,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (161) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":114876,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114875,"elapsed":0.001054},{"id":114877,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097712238400,"value":"{:user=>#<UserProfile user_id: 161, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dism","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":114878,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":114877,"elapsed":1.0e-05},{"id":114879,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":114872,"elapsed":0.013814,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81d44f6778>","object_id":70097794741180}},{"id":114880,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114881,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":114880,"elapsed":1.1e-05},{"id":114882,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":114883,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114882,"elapsed":0.000897},{"id":114884,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":114885,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114884,"elapsed":0.000928},{"id":114886,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":114887,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114886,"elapsed":0.00092},{"id":114888,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":114889,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114888,"elapsed":0.000952},{"id":114890,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114891,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114892,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":114891,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114893,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":114890,"elapsed":0.000109},{"id":114894,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114895,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114896,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114895,"elapsed":0.000926},{"id":114897,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (161, '2020-05-28 18:50:41.106846', '2020-05-28 18:50:41.106846') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":114898,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114897,"elapsed":0.000966},{"id":114899,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":114894,"elapsed":0.009836},{"id":114900,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097817064740,"value":"{:user=>#<User id: 161, username: \"dr_claw\", created_at: \"2020-05-28 18:50:40\", updated_at: \"2020-05","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":114901,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":114900,"elapsed":7.0e-06},{"id":114902,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":114903,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":114902,"elapsed":3.0e-06},{"id":114904,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114905,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114904,"elapsed":0.000755},{"id":114906,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":114907,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":114908,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":114907,"elapsed":0.000198,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bc163330>","object_id":70097591540120}},{"id":114909,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114910,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114909,"elapsed":0.001005},{"id":114911,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":114906,"elapsed":0.005029},{"id":114912,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"single_sign_on_records\".* FROM \"single_sign_on_records\" WHERE \"single_sign_on_records\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114913,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114912,"elapsed":0.000802},{"id":114914,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114915,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114914,"elapsed":0.000712},{"id":114916,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"single_sign_on_records\" WHERE \"single_sign_on_records\".\"external_id\" = '2' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114917,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114916,"elapsed":0.000908},{"id":114918,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"single_sign_on_records\" (\"user_id\", \"external_id\", \"last_payload\", \"created_at\", \"updated_at\", \"external_username\", \"external_email\", \"external_name\") VALUES (161, '2', 'email=dr%40claw.com&external_id=2&name=Dr.+Claw&username=dr_claw', '2020-05-28 18:50:41.144807', '2020-05-28 18:50:41.144807', 'dr_claw', 'dr@claw.com', 'Dr. Claw') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":114919,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114918,"elapsed":0.001119},{"id":114920,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114921,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114920,"elapsed":0.000731},{"id":114922,"event":"call","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114923,"event":"return","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parent_id":114922,"elapsed":8.0e-06},{"id":114924,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114925,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":114924,"elapsed":1.3e-05,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097589830560}},{"id":114926,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097568325740,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":114927,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097568325740,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":114928,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":114929,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":114928,"elapsed":3.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":114930,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":114927,"elapsed":0.000103,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114931,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":114926,"elapsed":0.000194,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097797952640}},{"id":114932,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_profiles\".* FROM \"user_profiles\" WHERE \"user_profiles\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114933,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114932,"elapsed":0.000824},{"id":114934,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114935,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114934,"elapsed":0.00075},{"id":114936,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114937,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":114936,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114938,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114939,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097733138760,"value":"#<PasswordValidator:0x00007f81ccf77290>"}},{"id":114940,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114941,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114942,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":114941,"elapsed":3.0e-06},{"id":114943,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":114940,"elapsed":8.6e-05},{"id":114944,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114939,"elapsed":0.000168},{"id":114945,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":114938,"elapsed":0.000268},{"id":114946,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 162 AND \"user_emails\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":114947,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114946,"elapsed":0.000864},{"id":114948,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"updated_at\" = '2020-05-28 18:50:41.169846', \"active\" = TRUE WHERE \"users\".\"id\" = 161","database_type":"postgres","server_version":110006}},{"id":114949,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114948,"elapsed":0.000953},{"id":114950,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114951,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":323,"value":"161","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":114952,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":114951,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114953,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":114950,"elapsed":0.000119,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114954,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114955,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114956,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":114955,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114957,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":114954,"elapsed":9.3e-05},{"id":114958,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114959,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":114958,"elapsed":1.7e-05},{"id":114960,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097799133480,"value":"{:user=>#<User id: 161, username: \"dr_claw\", created_at: \"2020-05-28 18:50:40\", updated_at: \"2020-05","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":114961,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":114960,"elapsed":6.0e-06},{"id":114962,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":114963,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":114962,"elapsed":3.0e-06},{"id":114964,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114965,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114964,"elapsed":0.000736},{"id":114966,"event":"call","defined_class":"User","method_id":"enqueue_welcome_message","path":"app/models/user.rb","lineno":386,"static":false,"thread_id":70097708498960,"parameters":[{"name":"message_type","class":"String","object_id":70097813801020,"value":"welcome_user","kind":"req"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114967,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":12178588,"value":"send_system_message","kind":"req"},{"name":"opts","class":"Hash","object_id":70097827465420,"value":"{:user_id=>161, :message_type=>\"welcome_user\"}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":114968,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":114969,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":114968,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114970,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":114967,"elapsed":0.000761,"return_value":{"class":"String","value":"e89e214168ca5f5e8f4b5b37","object_id":70097827500200}},{"id":114971,"event":"return","defined_class":"User","method_id":"enqueue_welcome_message","path":"app/models/user.rb","lineno":386,"static":false,"thread_id":70097708498960,"parent_id":114966,"elapsed":0.000892,"return_value":{"class":"String","value":"e89e214168ca5f5e8f4b5b37","object_id":70097827500200}},{"id":114972,"event":"call","defined_class":"User","method_id":"set_automatic_groups","path":"app/models/user.rb","lineno":1178,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114973,"event":"call","defined_class":"User","method_id":"email_confirmed?","path":"app/models/user.rb","lineno":928,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114974,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114975,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":114974,"elapsed":9.0e-06,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097733133000}},{"id":114976,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"email_tokens\".* FROM \"email_tokens\" WHERE \"email_tokens\".\"user_id\" = 161 AND \"email_tokens\".\"email\" = 'dr@claw.com' AND \"email_tokens\".\"confirmed\" = TRUE","database_type":"postgres","server_version":110006}},{"id":114977,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114976,"elapsed":0.000929},{"id":114978,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114979,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":114978,"elapsed":9.0e-06,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097733133000}},{"id":114980,"event":"return","defined_class":"User","method_id":"email_confirmed?","path":"app/models/user.rb","lineno":928,"static":false,"thread_id":70097708498960,"parent_id":114973,"elapsed":0.004216,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114981,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"automatic\" = FALSE AND (LENGTH(COALESCE(automatic_membership_email_domains, '')) > 0)","database_type":"postgres","server_version":110006}},{"id":114982,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114981,"elapsed":0.000928},{"id":114983,"event":"return","defined_class":"User","method_id":"set_automatic_groups","path":"app/models/user.rb","lineno":1178,"static":false,"thread_id":70097708498960,"parent_id":114972,"elapsed":0.008206,"return_value":{"class":"Array","value":"[]","object_id":70097828008740}},{"id":114984,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114985,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114984,"elapsed":0.000766},{"id":114986,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114987,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114986,"elapsed":0.00073},{"id":114988,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":114989,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":114988,"elapsed":0.000686},{"id":114990,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114991,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":114990,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":114992,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114993,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097587966700,"value":"#<PasswordValidator:0x00007f81bba925d8>"}},{"id":114994,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114995,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":114996,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":114995,"elapsed":2.0e-06},{"id":114997,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":114994,"elapsed":8.6e-05},{"id":114998,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":114993,"elapsed":0.000169},{"id":114999,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":114992,"elapsed":0.000274},{"id":115000,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 162 AND \"user_emails\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":115001,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115000,"elapsed":0.000899},{"id":115002,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115003,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":323,"value":"161","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115004,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":115003,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115005,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":115002,"elapsed":0.000112,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115006,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115007,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115008,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":115007,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115009,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":115006,"elapsed":9.1e-05},{"id":115010,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115011,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":115010,"elapsed":1.9e-05},{"id":115012,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097828631640,"value":"{:user=>#<User id: 161, username: \"dr_claw\", created_at: \"2020-05-28 18:50:40\", updated_at: \"2020-05","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":115013,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":115012,"elapsed":7.0e-06},{"id":115014,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":115015,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":115014,"elapsed":4.0e-06},{"id":115016,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":115017,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115016,"elapsed":0.000704},{"id":115018,"event":"call","defined_class":"User","method_id":"create_reviewable","path":"app/models/user.rb","lineno":1253,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115019,"event":"return","defined_class":"User","method_id":"create_reviewable","path":"app/models/user.rb","lineno":1253,"static":false,"thread_id":70097708498960,"parent_id":115018,"elapsed":1.1e-05},{"id":115020,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":115021,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115020,"elapsed":0.000711},{"id":115022,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"single_sign_on_records\" WHERE \"single_sign_on_records\".\"external_id\" = '2' AND \"single_sign_on_records\".\"id\" != 1 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":115023,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115022,"elapsed":0.000871},{"id":115024,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":115025,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115024,"elapsed":0.000903},{"id":115026,"event":"return","defined_class":"DiscourseSingleSignOn","method_id":"lookup_or_create_user","path":"app/models/discourse_single_sign_on.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":114711,"elapsed":0.284219,"return_value":{"class":"User","value":"#<User:0x00007f81beb69148>","object_id":70097613572260}},{"id":115027,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097799177580,"value":"AdminDetailedUserSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568429960,"value":"{:root=>false}","kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115028,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"serializer","class":"Class","object_id":70097799177580,"value":"AdminDetailedUserSerializer","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568429960,"value":"{:root=>false}","kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115029,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115030,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":115029,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81bba717e8>","object_id":70097587899380}},{"id":115031,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115032,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":115031,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115033,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115034,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115035,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":115034,"elapsed":2.7e-05,"return_value":{"class":"User","value":"#<User:0x00007f81beb69148>","object_id":70097613572260}},{"id":115036,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115037,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":115036,"elapsed":1.2e-05,"return_value":{"class":"User","value":"#<User:0x00007f81beb69148>","object_id":70097613572260}},{"id":115038,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":115033,"elapsed":0.000226,"return_value":{"class":"String","value":"Dr. Claw","object_id":70097828630520}},{"id":115039,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115040,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115041,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":115040,"elapsed":1.1e-05,"return_value":{"class":"User","value":"#<User:0x00007f81beb69148>","object_id":70097613572260}},{"id":115042,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115043,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828630880,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115044,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828630880,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115045,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828630880,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115046,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":115045,"elapsed":1.0e-05,"return_value":{"class":"String","value":"dr_claw","object_id":70097568457300}},{"id":115047,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568457300,"value":"dr_claw","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115048,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568457300,"value":"dr_claw","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115049,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":115048,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"185","object_id":371}},{"id":115050,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":115047,"elapsed":0.000115,"return_value":{"class":"String","value":"df705f","object_id":70097568477780}},{"id":115051,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":115044,"elapsed":0.000359,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/d/df705f/{size}.png","object_id":70097568481220}},{"id":115052,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":115043,"elapsed":0.000455,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/d/df705f/{size}.png","object_id":70097568481220}},{"id":115053,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":115042,"elapsed":0.000547,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/d/df705f/{size}.png","object_id":70097568481220}},{"id":115054,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":115039,"elapsed":0.000729,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/d/df705f/{size}.png","object_id":70097568481220}},{"id":115055,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115056,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115057,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115058,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115057,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115059,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115056,"elapsed":9.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115060,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115061,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":115060,"elapsed":6.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115062,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_email?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":115055,"elapsed":0.000278},{"id":115063,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115064,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115065,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115066,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115065,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115067,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115064,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115068,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115069,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":115068,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115070,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_secondary_emails?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":115063,"elapsed":0.000259},{"id":115071,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115072,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":115071,"elapsed":5.0e-06},{"id":115073,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115074,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_at","path":"app/serializers/admin_user_list_serializer.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":115073,"elapsed":5.0e-06},{"id":115075,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115076,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_seen_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":91,"static":false,"thread_id":70097708498960,"parent_id":115075,"elapsed":4.0e-06},{"id":115077,"event":"call","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115078,"event":"return","defined_class":"AdminUserListSerializer","method_id":"last_emailed_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":115077,"elapsed":4.0e-06},{"id":115079,"event":"call","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115080,"event":"return","defined_class":"AdminUserListSerializer","method_id":"created_at_age","path":"app/serializers/admin_user_list_serializer.rb","lineno":101,"static":false,"thread_id":70097708498960,"parent_id":115079,"elapsed":8.0e-06,"return_value":{"class":"Float","value":"0.254596","object_id":-107424037652495270}},{"id":115081,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115082,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_approved?","path":"app/serializers/admin_user_list_serializer.rb","lineno":105,"static":false,"thread_id":70097708498960,"parent_id":115081,"elapsed":5.0e-06},{"id":115083,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115084,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115085,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":115084,"elapsed":5.0e-06},{"id":115086,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_at?","path":"app/serializers/admin_user_list_serializer.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":115083,"elapsed":8.6e-05},{"id":115087,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115088,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115089,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":115088,"elapsed":4.0e-06},{"id":115090,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_suspended_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":68,"static":false,"thread_id":70097708498960,"parent_id":115087,"elapsed":8.2e-05},{"id":115091,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115092,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115093,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":115092,"elapsed":4.0e-06},{"id":115094,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced?","path":"app/serializers/admin_user_list_serializer.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":115091,"elapsed":8.4e-05},{"id":115095,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115096,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_silenced_till?","path":"app/serializers/admin_user_list_serializer.rb","lineno":60,"static":false,"thread_id":70097708498960,"parent_id":115095,"elapsed":7.0e-06},{"id":115097,"event":"call","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115098,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":115099,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115098,"elapsed":0.000996},{"id":115100,"event":"return","defined_class":"AdminUserListSerializer","method_id":"time_read","path":"app/serializers/admin_user_list_serializer.rb","lineno":96,"static":false,"thread_id":70097708498960,"parent_id":115097,"elapsed":0.00415,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115101,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115102,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_second_factor_enabled?","path":"app/serializers/admin_user_list_serializer.rb","lineno":109,"static":false,"thread_id":70097708498960,"parent_id":115101,"elapsed":7.0e-06},{"id":115103,"event":"call","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115104,"event":"return","defined_class":"AdminUserListSerializer","method_id":"days_visited","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":115103,"elapsed":1.1e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115105,"event":"call","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115106,"event":"return","defined_class":"AdminUserListSerializer","method_id":"posts_read_count","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":115105,"elapsed":1.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115107,"event":"call","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115108,"event":"return","defined_class":"AdminUserListSerializer","method_id":"topics_entered","path":"app/serializers/admin_user_list_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":115107,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115109,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"post_count","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115110,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":115111,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115110,"elapsed":5.2e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097800331120}},{"id":115112,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":115113,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115112,"elapsed":2.7e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097800328200}},{"id":115114,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"user_id\" = 161","database_type":"postgres","server_version":110006}},{"id":115115,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115114,"elapsed":0.00102},{"id":115116,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"post_count","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":115109,"elapsed":0.004392,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115117,"event":"call","defined_class":"AdminUserListSerializer","method_id":"include_associated_accounts?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115118,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115119,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115120,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115119,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115121,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115118,"elapsed":9.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115122,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115123,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":115122,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115124,"event":"return","defined_class":"AdminUserListSerializer","method_id":"include_associated_accounts?","path":"app/serializers/admin_user_list_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":115117,"elapsed":0.000281},{"id":115125,"event":"call","defined_class":"AdminUserSerializer","method_id":"can_send_activation_email","path":"app/serializers/admin_user_serializer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115126,"event":"call","defined_class":"Guardian","method_id":"can_send_activation_email?","path":"lib/guardian.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115127,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115128,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115129,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115128,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115130,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115127,"elapsed":8.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115131,"event":"return","defined_class":"Guardian","method_id":"can_send_activation_email?","path":"lib/guardian.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":115126,"elapsed":0.000175,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115132,"event":"return","defined_class":"AdminUserSerializer","method_id":"can_send_activation_email","path":"app/serializers/admin_user_serializer.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":115125,"elapsed":0.000267,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115133,"event":"call","defined_class":"AdminUserSerializer","method_id":"can_activate","path":"app/serializers/admin_user_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115134,"event":"call","defined_class":"Guardian","method_id":"can_activate?","path":"lib/guardian.rb","lineno":264,"static":false,"thread_id":70097708498960,"parameters":[{"name":"target","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115135,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115136,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115137,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115136,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115138,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115135,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115139,"event":"return","defined_class":"Guardian","method_id":"can_activate?","path":"lib/guardian.rb","lineno":264,"static":false,"thread_id":70097708498960,"parent_id":115134,"elapsed":0.000173},{"id":115140,"event":"return","defined_class":"AdminUserSerializer","method_id":"can_activate","path":"app/serializers/admin_user_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":115133,"elapsed":0.000257},{"id":115141,"event":"call","defined_class":"AdminUserSerializer","method_id":"can_deactivate","path":"app/serializers/admin_user_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115142,"event":"call","defined_class":"Guardian","method_id":"can_deactivate?","path":"lib/guardian.rb","lineno":268,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115143,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115144,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115145,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115144,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115146,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115143,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115147,"event":"call","defined_class":"Roleable","method_id":"regular?","path":"app/models/concerns/roleable.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115148,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115149,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115148,"elapsed":5.0e-06},{"id":115150,"event":"return","defined_class":"Roleable","method_id":"regular?","path":"app/models/concerns/roleable.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":115147,"elapsed":8.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115151,"event":"return","defined_class":"Guardian","method_id":"can_deactivate?","path":"lib/guardian.rb","lineno":268,"static":false,"thread_id":70097708498960,"parent_id":115142,"elapsed":0.000335,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115152,"event":"return","defined_class":"AdminUserSerializer","method_id":"can_deactivate","path":"app/serializers/admin_user_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":115141,"elapsed":0.000421,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115153,"event":"call","defined_class":"AdminUserSerializer","method_id":"include_can_approve?","path":"app/serializers/admin_user_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115154,"event":"return","defined_class":"AdminUserSerializer","method_id":"include_can_approve?","path":"app/serializers/admin_user_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":115153,"elapsed":6.0e-06},{"id":115155,"event":"call","defined_class":"AdminUserSerializer","method_id":"ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115156,"event":"return","defined_class":"AdminUserSerializer","method_id":"ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":115155,"elapsed":6.0e-06},{"id":115157,"event":"call","defined_class":"AdminUserSerializer","method_id":"registration_ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":40,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115158,"event":"return","defined_class":"AdminUserSerializer","method_id":"registration_ip_address","path":"app/serializers/admin_user_serializer.rb","lineno":40,"static":false,"thread_id":70097708498960,"parent_id":115157,"elapsed":5.0e-06},{"id":115159,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_grant_admin","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115160,"event":"call","defined_class":"Guardian","method_id":"can_grant_admin?","path":"lib/guardian.rb","lineno":277,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115161,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115162,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115163,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115162,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115164,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115161,"elapsed":8.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115165,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115166,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":115165,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115167,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115168,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115167,"elapsed":4.0e-06},{"id":115169,"event":"return","defined_class":"Guardian","method_id":"can_grant_admin?","path":"lib/guardian.rb","lineno":277,"static":false,"thread_id":70097708498960,"parent_id":115160,"elapsed":0.000348,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115170,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_grant_admin","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":115159,"elapsed":0.000436,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115171,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_revoke_admin","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115172,"event":"call","defined_class":"Guardian","method_id":"can_revoke_admin?","path":"lib/guardian.rb","lineno":273,"static":false,"thread_id":70097708498960,"parameters":[{"name":"admin","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115173,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115174,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115175,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115174,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115176,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115173,"elapsed":8.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115177,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115178,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":115177,"elapsed":2.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115179,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115180,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115179,"elapsed":4.0e-06},{"id":115181,"event":"return","defined_class":"Guardian","method_id":"can_revoke_admin?","path":"lib/guardian.rb","lineno":273,"static":false,"thread_id":70097708498960,"parent_id":115172,"elapsed":0.000344},{"id":115182,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_revoke_admin","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":115171,"elapsed":0.000426},{"id":115183,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_grant_moderation","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115184,"event":"call","defined_class":"Guardian","method_id":"can_grant_moderation?","path":"lib/guardian.rb","lineno":285,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115185,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115186,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115187,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115186,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115188,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115185,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115189,"event":"return","defined_class":"Guardian","method_id":"can_grant_moderation?","path":"lib/guardian.rb","lineno":285,"static":false,"thread_id":70097708498960,"parent_id":115184,"elapsed":0.000173,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115190,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_grant_moderation","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":115183,"elapsed":0.000258,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115191,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_revoke_moderation","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115192,"event":"call","defined_class":"Guardian","method_id":"can_revoke_moderation?","path":"lib/guardian.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[{"name":"moderator","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115193,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115194,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115195,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115194,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115196,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115193,"elapsed":8.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115197,"event":"return","defined_class":"Guardian","method_id":"can_revoke_moderation?","path":"lib/guardian.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":115192,"elapsed":0.000171},{"id":115198,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_revoke_moderation","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":115191,"elapsed":0.000253},{"id":115199,"event":"call","defined_class":"AdminUserListSerializer","method_id":"can_impersonate","path":"app/serializers/admin_user_list_serializer.rb","lineno":72,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115200,"event":"call","defined_class":"Guardian","method_id":"can_impersonate?","path":"lib/guardian.rb","lineno":241,"static":false,"thread_id":70097708498960,"parameters":[{"name":"target","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115201,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115202,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115203,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115202,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115204,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115201,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115205,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115206,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115205,"elapsed":4.0e-06},{"id":115207,"event":"return","defined_class":"Guardian","method_id":"can_impersonate?","path":"lib/guardian.rb","lineno":241,"static":false,"thread_id":70097708498960,"parent_id":115200,"elapsed":0.000248,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115208,"event":"return","defined_class":"AdminUserListSerializer","method_id":"can_impersonate","path":"app/serializers/admin_user_list_serializer.rb","lineno":72,"static":false,"thread_id":70097708498960,"parent_id":115199,"elapsed":0.000334,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115209,"event":"call","defined_class":"User","method_id":"like_count","path":"app/models/user.rb","lineno":816,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115210,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_actions\" WHERE \"user_actions\".\"user_id\" = 161 AND \"user_actions\".\"action_type\" = 2","database_type":"postgres","server_version":110006}},{"id":115211,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115210,"elapsed":0.00096},{"id":115212,"event":"return","defined_class":"User","method_id":"like_count","path":"app/models/user.rb","lineno":816,"static":false,"thread_id":70097708498960,"parent_id":115209,"elapsed":0.003944,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115213,"event":"call","defined_class":"User","method_id":"like_given_count","path":"app/models/user.rb","lineno":820,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115214,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_actions\" WHERE \"user_actions\".\"user_id\" = 161 AND \"user_actions\".\"action_type\" = 1","database_type":"postgres","server_version":110006}},{"id":115215,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115214,"elapsed":0.000976},{"id":115216,"event":"return","defined_class":"User","method_id":"like_given_count","path":"app/models/user.rb","lineno":820,"static":false,"thread_id":70097708498960,"parent_id":115213,"elapsed":0.003835,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115217,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"topic_count","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115218,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":115219,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115218,"elapsed":4.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097569589600}},{"id":115220,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":115221,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115220,"elapsed":2.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097569061860}},{"id":115222,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"user_id\" = 161","database_type":"postgres","server_version":110006}},{"id":115223,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115222,"elapsed":0.000983},{"id":115224,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"topic_count","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parent_id":115217,"elapsed":0.004303,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115225,"event":"call","defined_class":"User","method_id":"flags_given_count","path":"app/models/user.rb","lineno":829,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115226,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_types_without_custom","path":"app/models/post_action_type.rb","lineno":91,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":115227,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_settings","path":"app/models/post_action_type.rb","lineno":16,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":115228,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_settings","path":"app/models/post_action_type.rb","lineno":16,"static":true,"thread_id":70097708498960,"parent_id":115227,"elapsed":3.0e-06,"return_value":{"class":"FlagSettings","value":"#<FlagSettings:0x00007f81d48318c0>","object_id":70097796435040}},{"id":115229,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_types_without_custom","path":"app/models/post_action_type.rb","lineno":91,"static":true,"thread_id":70097708498960,"parent_id":115226,"elapsed":9.4e-05,"return_value":{"class":"Enum","value":"{:off_topic=>3, :inappropriate=>4, :spam=>8}","object_id":70097796433480}},{"id":115230,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097754606100,"value":"PostAction"}},{"id":115231,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115230,"elapsed":3.4e-05,"return_value":{"class":"String","value":"\"post_actions\".\"deleted_at\" IS NULL","object_id":70097588742260}},{"id":115232,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"post_actions\" WHERE (\"post_actions\".\"deleted_at\" IS NULL) AND \"post_actions\".\"user_id\" = 161 AND \"post_actions\".\"post_action_type_id\" IN (3, 4, 8)","database_type":"postgres","server_version":110006}},{"id":115233,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115232,"elapsed":0.000906},{"id":115234,"event":"return","defined_class":"User","method_id":"flags_given_count","path":"app/models/user.rb","lineno":829,"static":false,"thread_id":70097708498960,"parent_id":115225,"elapsed":0.004117,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115235,"event":"call","defined_class":"User","method_id":"flags_received_count","path":"app/models/user.rb","lineno":837,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115236,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":115237,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115236,"elapsed":3.3e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097589346500}},{"id":115238,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_types_without_custom","path":"app/models/post_action_type.rb","lineno":91,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":115239,"event":"call","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_settings","path":"app/models/post_action_type.rb","lineno":16,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097783259660,"value":"PostActionType"}},{"id":115240,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_settings","path":"app/models/post_action_type.rb","lineno":16,"static":true,"thread_id":70097708498960,"parent_id":115239,"elapsed":2.0e-06,"return_value":{"class":"FlagSettings","value":"#<FlagSettings:0x00007f81d48318c0>","object_id":70097796435040}},{"id":115241,"event":"return","defined_class":"PostActionType(name_key: string, is_flag: boolean, icon: string, created_at: datetime, updated_at: datetime, id: integer, position: integer, score_bonus: float, reviewable_priority: integer)","method_id":"flag_types_without_custom","path":"app/models/post_action_type.rb","lineno":91,"static":true,"thread_id":70097708498960,"parent_id":115238,"elapsed":9.5e-05,"return_value":{"class":"Enum","value":"{:off_topic=>3, :inappropriate=>4, :spam=>8}","object_id":70097796433480}},{"id":115242,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097754606100,"value":"PostAction"}},{"id":115243,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115242,"elapsed":3.2e-05,"return_value":{"class":"String","value":"\"post_actions\".\"deleted_at\" IS NULL","object_id":70097589379900}},{"id":115244,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(DISTINCT \"posts\".\"id\") FROM \"posts\" LEFT OUTER JOIN \"post_actions\" ON \"post_actions\".\"post_id\" = \"posts\".\"id\" AND (\"post_actions\".\"deleted_at\" IS NULL) WHERE (\"posts\".\"deleted_at\" IS NULL) AND \"posts\".\"user_id\" = 161 AND \"post_actions\".\"post_action_type_id\" IN (3, 4, 8)","database_type":"postgres","server_version":110006}},{"id":115245,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115244,"elapsed":0.001052},{"id":115246,"event":"return","defined_class":"User","method_id":"flags_received_count","path":"app/models/user.rb","lineno":837,"static":false,"thread_id":70097708498960,"parent_id":115235,"elapsed":0.004705,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115247,"event":"call","defined_class":"User","method_id":"private_topics_count","path":"app/models/user.rb","lineno":841,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115248,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":115249,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115248,"elapsed":3.4e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097614932340}},{"id":115250,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":115251,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":115250,"elapsed":2.6e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097614954000}},{"id":115252,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"topics\" INNER JOIN \"topic_allowed_users\" ON \"topics\".\"id\" = \"topic_allowed_users\".\"topic_id\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topic_allowed_users\".\"user_id\" = 161 AND \"topics\".\"archetype\" = 'private_message'","database_type":"postgres","server_version":110006}},{"id":115253,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115252,"elapsed":0.001059},{"id":115254,"event":"return","defined_class":"User","method_id":"private_topics_count","path":"app/models/user.rb","lineno":841,"static":false,"thread_id":70097708498960,"parent_id":115247,"elapsed":0.004539,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115255,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_delete_all_posts","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115256,"event":"call","defined_class":"PostGuardian","method_id":"can_delete_all_posts?","path":"lib/guardian/post_guardian.rb","lineno":99,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115257,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115258,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115259,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115258,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115260,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115257,"elapsed":9.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115261,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115262,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115261,"elapsed":5.0e-06},{"id":115263,"event":"call","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115264,"event":"return","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parent_id":115263,"elapsed":3.6e-05},{"id":115265,"event":"call","defined_class":"User","method_id":"post_count","path":"app/models/user.rb","lineno":824,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115266,"event":"return","defined_class":"User","method_id":"post_count","path":"app/models/user.rb","lineno":824,"static":false,"thread_id":70097708498960,"parent_id":115265,"elapsed":1.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115267,"event":"return","defined_class":"PostGuardian","method_id":"can_delete_all_posts?","path":"lib/guardian/post_guardian.rb","lineno":99,"static":false,"thread_id":70097708498960,"parent_id":115256,"elapsed":0.000494,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115268,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_delete_all_posts","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":115255,"elapsed":0.000592,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115269,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_be_deleted","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115270,"event":"call","defined_class":"UserGuardian","method_id":"can_delete_user?","path":"lib/guardian/user_guardian.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115271,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115272,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115271,"elapsed":5.0e-06},{"id":115273,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115274,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":115273,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115275,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115276,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115277,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115276,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115278,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115275,"elapsed":9.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115279,"event":"call","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115280,"event":"return","defined_class":"User","method_id":"first_post_created_at","path":"app/models/user.rb","lineno":1067,"static":false,"thread_id":70097708498960,"parent_id":115279,"elapsed":1.1e-05},{"id":115281,"event":"return","defined_class":"UserGuardian","method_id":"can_delete_user?","path":"lib/guardian/user_guardian.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":115270,"elapsed":0.000449,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115282,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_be_deleted","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":115269,"elapsed":0.00054,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115283,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_be_anonymized","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115284,"event":"call","defined_class":"UserGuardian","method_id":"can_anonymize_user?","path":"lib/guardian/user_guardian.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115285,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115286,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115287,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115286,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115288,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115285,"elapsed":8.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115289,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115290,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115289,"elapsed":5.0e-06},{"id":115291,"event":"return","defined_class":"UserGuardian","method_id":"can_anonymize_user?","path":"lib/guardian/user_guardian.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":115284,"elapsed":0.000258,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115292,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_be_anonymized","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":115283,"elapsed":0.000348,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115293,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_be_merged","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115294,"event":"call","defined_class":"UserGuardian","method_id":"can_merge_user?","path":"lib/guardian/user_guardian.rb","lineno":79,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115295,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115296,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115297,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115296,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115298,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115295,"elapsed":8.9e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115299,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115300,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115299,"elapsed":4.0e-06},{"id":115301,"event":"return","defined_class":"UserGuardian","method_id":"can_merge_user?","path":"lib/guardian/user_guardian.rb","lineno":79,"static":false,"thread_id":70097708498960,"parent_id":115294,"elapsed":0.000258,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115302,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_be_merged","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parent_id":115293,"elapsed":0.000346,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115303,"event":"call","defined_class":"User","method_id":"full_suspend_reason","path":"app/models/user.rb","lineno":893,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115304,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115305,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":115304,"elapsed":5.0e-06},{"id":115306,"event":"return","defined_class":"User","method_id":"full_suspend_reason","path":"app/models/user.rb","lineno":893,"static":false,"thread_id":70097708498960,"parent_id":115303,"elapsed":8.9e-05},{"id":115307,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"silence_reason","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115308,"event":"call","defined_class":"User","method_id":"silence_reason","path":"app/models/user.rb","lineno":881,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115309,"event":"call","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115310,"event":"return","defined_class":"User","method_id":"silenced?","path":"app/models/user.rb","lineno":873,"static":false,"thread_id":70097708498960,"parent_id":115309,"elapsed":5.0e-06},{"id":115311,"event":"return","defined_class":"User","method_id":"silence_reason","path":"app/models/user.rb","lineno":881,"static":false,"thread_id":70097708498960,"parent_id":115308,"elapsed":8.7e-05},{"id":115312,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"silence_reason","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parent_id":115307,"elapsed":0.000168},{"id":115313,"event":"call","defined_class":"User","method_id":"badge_count","path":"app/models/user.rb","lineno":958,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115314,"event":"return","defined_class":"User","method_id":"badge_count","path":"app/models/user.rb","lineno":958,"static":false,"thread_id":70097708498960,"parent_id":115313,"elapsed":1.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115315,"event":"call","defined_class":"User","method_id":"warnings_received_count","path":"app/models/user.rb","lineno":833,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115316,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_warnings\" WHERE \"user_warnings\".\"user_id\" = 161","database_type":"postgres","server_version":110006}},{"id":115317,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115316,"elapsed":0.000875},{"id":115318,"event":"return","defined_class":"User","method_id":"warnings_received_count","path":"app/models/user.rb","lineno":833,"static":false,"thread_id":70097708498960,"parent_id":115315,"elapsed":0.003898,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115319,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"include_user_fields?","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115320,"event":"call","defined_class":"User","method_id":"user_fields","path":"app/models/user.rb","lineno":1089,"static":false,"thread_id":70097708498960,"parameters":[{"name":"field_ids","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115321,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".\"id\" FROM \"user_fields\"","database_type":"postgres","server_version":110006}},{"id":115322,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115321,"elapsed":0.000835},{"id":115323,"event":"return","defined_class":"User","method_id":"user_fields","path":"app/models/user.rb","lineno":1089,"static":false,"thread_id":70097708498960,"parent_id":115320,"elapsed":0.003333,"return_value":{"class":"Hash","value":"{}","object_id":70097624577960}},{"id":115324,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"include_user_fields?","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parent_id":115319,"elapsed":0.003446},{"id":115325,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"bounce_score","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115326,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"bounce_score","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parent_id":115325,"elapsed":2.0e-05,"return_value":{"class":"Float","value":"0.0","object_id":-9223372036854775806}},{"id":115327,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"reset_bounce_score_after","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115328,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"reset_bounce_score_after","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parent_id":115327,"elapsed":1.5e-05},{"id":115329,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_view_action_logs","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115330,"event":"call","defined_class":"Guardian","method_id":"can_view_action_logs?","path":"lib/guardian.rb","lineno":255,"static":false,"thread_id":70097708498960,"parameters":[{"name":"target","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115331,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115332,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115333,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":115332,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115334,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":115331,"elapsed":9.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115335,"event":"return","defined_class":"Guardian","method_id":"can_view_action_logs?","path":"lib/guardian.rb","lineno":255,"static":false,"thread_id":70097708498960,"parent_id":115330,"elapsed":0.000175,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115336,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_view_action_logs","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":115329,"elapsed":0.000263,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115337,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"can_disable_second_factor","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115338,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115339,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":115338,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115340,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"can_disable_second_factor","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":115337,"elapsed":9.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115341,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"api_key_count","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":126,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115342,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"api_keys\" WHERE \"api_keys\".\"user_id\" = 161 AND (revoked_at IS NULL)","database_type":"postgres","server_version":110006}},{"id":115343,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115342,"elapsed":0.000845},{"id":115344,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"api_key_count","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":126,"static":false,"thread_id":70097708498960,"parent_id":115341,"elapsed":0.003845,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":115345,"event":"call","defined_class":"SingleSignOnRecordSerializer","method_id":"include_external_email?","path":"app/serializers/single_sign_on_record_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SingleSignOnRecordSerializer","object_id":70097829760260,"value":"#<SingleSignOnRecordSerializer:0x00007f81d87c1a08>"}},{"id":115346,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587899380,"value":"#<Guardian:0x00007f81bba717e8>"}},{"id":115347,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>"}},{"id":115348,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115347,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115349,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":115346,"elapsed":9.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115350,"event":"return","defined_class":"SingleSignOnRecordSerializer","method_id":"include_external_email?","path":"app/serializers/single_sign_on_record_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":115345,"elapsed":0.000191,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115351,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"suspended_by","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115352,"event":"call","defined_class":"User","method_id":"suspend_record","path":"app/models/user.rb","lineno":889,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115353,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"for","path":"app/models/user_history.rb","lineno":216,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"action_type","class":"Symbol","object_id":12220828,"value":"suspend_user","kind":"req"}],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":115354,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":115355,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":115354,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":115356,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"for","path":"app/models/user_history.rb","lineno":216,"static":true,"thread_id":70097708498960,"parent_id":115353,"elapsed":0.000252,"return_value":{"class":"ActiveRecord::Relation","value":"#<UserHistory::ActiveRecord_Relation:0x00007f81d87d1520>","object_id":70097829792400}},{"id":115357,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_histories\".* FROM \"user_histories\" WHERE \"user_histories\".\"target_user_id\" = 161 AND \"user_histories\".\"action\" = 10 ORDER BY id DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":115358,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115357,"elapsed":0.000956},{"id":115359,"event":"return","defined_class":"User","method_id":"suspend_record","path":"app/models/user.rb","lineno":889,"static":false,"thread_id":70097708498960,"parent_id":115352,"elapsed":0.004278},{"id":115360,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"suspended_by","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parent_id":115351,"elapsed":0.004383},{"id":115361,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"silenced_by","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115362,"event":"call","defined_class":"User","method_id":"silenced_record","path":"app/models/user.rb","lineno":877,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115363,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"for","path":"app/models/user_history.rb","lineno":216,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>","kind":"req"},{"name":"action_type","class":"Symbol","object_id":12219548,"value":"silence_user","kind":"req"}],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":115364,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":115365,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":115364,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":115366,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"for","path":"app/models/user_history.rb","lineno":216,"static":true,"thread_id":70097708498960,"parent_id":115363,"elapsed":0.000221,"return_value":{"class":"ActiveRecord::Relation","value":"#<UserHistory::ActiveRecord_Relation:0x00007f81bfa470c0>","object_id":70097621366880}},{"id":115367,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_histories\".* FROM \"user_histories\" WHERE \"user_histories\".\"target_user_id\" = 161 AND \"user_histories\".\"action\" = 30 ORDER BY id DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":115368,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115367,"elapsed":0.000906},{"id":115369,"event":"return","defined_class":"User","method_id":"silenced_record","path":"app/models/user.rb","lineno":877,"static":false,"thread_id":70097708498960,"parent_id":115362,"elapsed":0.047725},{"id":115370,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"silenced_by","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parent_id":115361,"elapsed":0.047872},{"id":115371,"event":"call","defined_class":"AdminDetailedUserSerializer","method_id":"include_tl3_requirements?","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AdminDetailedUserSerializer","object_id":70097568424460,"value":"#<AdminDetailedUserSerializer:0x00007f81b954c418>"}},{"id":115372,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":5,"value":"2","kind":"req"}],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115373,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097613572260,"value":"#<User:0x00007f81beb69148>"}},{"id":115374,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":115373,"elapsed":1.0e-05},{"id":115375,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":115372,"elapsed":0.000147},{"id":115376,"event":"return","defined_class":"AdminDetailedUserSerializer","method_id":"include_tl3_requirements?","path":"app/serializers/admin_detailed_user_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parent_id":115371,"elapsed":0.00028},{"id":115377,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" INNER JOIN \"group_users\" ON \"groups\".\"id\" = \"group_users\".\"group_id\" WHERE \"group_users\".\"user_id\" = 161","database_type":"postgres","server_version":110006}},{"id":115378,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115377,"elapsed":0.001416},{"id":115379,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":115028,"elapsed":0.116872,"return_value":{"class":"Hash","value":"{:id=>161, :username=>\"dr_claw\", :name=>\"Dr. Claw\", :avatar_template=>\"/letter_avatar_proxy/v4/lette","object_id":70097568424180}},{"id":115380,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Hash","object_id":70097568424180,"value":"{:id=>161, :username=>\"dr_claw\", :name=>\"Dr. Claw\", :avatar_template=>\"/letter_avatar_proxy/v4/lette","kind":"req"},{"name":"opts","class":"Hash","object_id":70097568429960,"value":"{:root=>false}","kind":"opt"}],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115381,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":115380,"elapsed":0.00022,"return_value":{"class":"String","value":"{\"id\":161,\"username\":\"dr_claw\",\"name\":\"Dr. Claw\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d","object_id":70097712076480}},{"id":115382,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":115027,"elapsed":0.117659,"return_value":{"class":"String","value":"{\"id\":161,\"username\":\"dr_claw\",\"name\":\"Dr. Claw\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d","object_id":70097712076480}},{"id":115383,"event":"return","defined_class":"Admin::UsersController","method_id":"sync_sso","path":"app/controllers/admin/users_controller.rb","lineno":417,"static":false,"thread_id":70097708498960,"parent_id":114708,"elapsed":0.402366,"return_value":{"class":"String","value":"{\"id\":161,\"username\":\"dr_claw\",\"name\":\"Dr. Claw\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d","object_id":70097712076480}},{"id":115384,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115385,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":115384,"elapsed":1.2e-05},{"id":115386,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115387,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":115386,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097719965480}},{"id":115388,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::UsersController","object_id":70097587869400,"value":"#<Admin::UsersController:0x00007f81bba62db0>"}},{"id":115389,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":115390,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":115389,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115391,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097828220340,"value":"#<User:0x00007f81d84d1b68>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097612359700,"value":"#<ActionDispatch::Request::Session:0x00007f81be919028>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097799839920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d4eb0160>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":115392,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":115393,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":115394,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":115393,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115395,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":115392,"elapsed":0.000115},{"id":115396,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":115397,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587901520,"value":"#<TestCurrentUserProvider:0x00007f81bba728a0>"}},{"id":115398,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":115397,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d84d1b68>","object_id":70097828220340}},{"id":115399,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":115396,"elapsed":0.000114},{"id":115400,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":115391,"elapsed":0.000433},{"id":115401,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":115388,"elapsed":0.000694},{"id":115402,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":114631,"elapsed":0.411906,"http_server_response":{"status":200}},{"id":115403,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097720210460,"value":"#<TestCurrentUserProvider:0x00007f81cb6ce838>"}},{"id":115404,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":115403,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115405,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":115406,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":115405,"elapsed":6.0e-06},{"id":115407,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":115408,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":115407,"elapsed":4.0e-06},{"id":115409,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_email","path":"app/models/user.rb","lineno":367,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097781739120,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":115410,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097781739120,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":115411,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097781739120,"value":"dr@claw.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":115412,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":115413,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":115412,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":115414,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":115411,"elapsed":0.000131,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":115415,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":115410,"elapsed":0.000248,"return_value":{"class":"String","value":"dr@claw.com","object_id":70097783366640}},{"id":115416,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE (lower(user_emails.email) IN ('dr@claw.com')) ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":115417,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":115416,"elapsed":0.001375},{"id":115418,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_email","path":"app/models/user.rb","lineno":367,"static":true,"thread_id":70097708498960,"parent_id":115409,"elapsed":0.00433,"return_value":{"class":"User","value":"#<User:0x00007f81d43d4c00>","object_id":70097794147840}}]}