{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"InvitesController #perform_accept_invitation with a valid invite id when redeem returns a user .post_process_invite without password sends password reset email","app":"Discourse","feature":"InvitesController #perform_accept_invitation","feature_group":"Invites","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false},{"name":"with_deleted","type":"function","location":"app/models/concerns/trashable.rb:14","static":false}]}]},{"name":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","type":"class","children":[{"name":"invite_by_email","type":"function","location":"app/models/invite.rb:68","static":true},{"name":"emailed_status_types","type":"function","location":"app/models/invite.rb:34","static":true},{"name":"create_invite_by_email","type":"function","location":"app/models/invite.rb:91","static":true},{"name":"find_user_by_email","type":"function","location":"app/models/invite.rb:163","static":true},{"name":"redeem_from_email","type":"function","location":"app/models/invite.rb:225","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"Invite","type":"class","children":[{"name":"user_doesnt_already_exist","type":"function","location":"app/models/invite.rb:38","static":false},{"name":"limit_invites_per_day","type":"function","location":"app/models/invite.rb:249","static":false},{"name":"redeem","type":"function","location":"app/models/invite.rb:62","static":false},{"name":"expired?","type":"function","location":"app/models/invite.rb:53","static":false},{"name":"link_valid?","type":"function","location":"app/models/invite.rb:58","static":false}]},{"name":"Topic","type":"class","children":[{"name":"reload","type":"function","location":"app/models/topic.rb:528","static":false},{"name":"relative_url","type":"function","location":"app/models/topic.rb:1159","static":false},{"name":"slug","type":"function","location":"app/models/topic.rb:1101","static":false}]},{"name":"HasCustomFields","type":"class","children":[{"name":"reload","type":"function","location":"app/models/concerns/has_custom_fields.rb:140","static":false},{"name":"clear_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:153","static":false},{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false},{"name":"custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:173","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"find_by_email","type":"function","location":"app/models/user.rb:367","static":true},{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"username_available?","type":"function","location":"app/models/user.rb:249","static":true},{"name":"reserved_username?","type":"function","location":"app/models/user.rb:258","static":true},{"name":"username_exists?","type":"function","location":"app/models/user.rb:1393","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true},{"name":"max_unread_notifications","type":"function","location":"app/models/user.rb:513","static":true}]},{"name":"UsernameValidator","type":"class","children":[{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true},{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false}]},{"name":"User","type":"class","children":[{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"activate","type":"function","location":"app/models/user.rb:934","static":false},{"name":"human?","type":"function","location":"app/models/user.rb:313","static":false},{"name":"set_automatic_groups","type":"function","location":"app/models/user.rb:1178","static":false},{"name":"email_confirmed?","type":"function","location":"app/models/user.rb:928","static":false},{"name":"reload","type":"function","location":"app/models/user.rb:444","static":false},{"name":"create_reviewable","type":"function","location":"app/models/user.rb:1253","static":false},{"name":"publish_notifications_state","type":"function","location":"app/models/user.rb:571","static":false},{"name":"unread_notifications","type":"function","location":"app/models/user.rb:521","static":false},{"name":"unread_private_messages","type":"function","location":"app/models/user.rb:500","static":false},{"name":"unread_high_priority_notifications","type":"function","location":"app/models/user.rb:504","static":false},{"name":"unread_notifications_of_priority","type":"function","location":"app/models/user.rb:480","static":false},{"name":"read_first_notification?","type":"function","location":"app/models/user.rb:561","static":false},{"name":"unstage!","type":"function","location":"app/models/user.rb:341","static":false},{"name":"logged_in","type":"function","location":"app/models/user.rb:1170","static":false},{"name":"seen_before?","type":"function","location":"app/models/user.rb:667","static":false},{"name":"update_timezone_if_missing","type":"function","location":"app/models/user.rb:684","static":false},{"name":"enqueue_welcome_message","type":"function","location":"app/models/user.rb:386","static":false},{"name":"has_password?","type":"function","location":"app/models/user.rb:642","static":false}]},{"name":"ReviewableUser(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"set_approved_fields!","type":"function","location":"app/models/reviewable_user.rb:91","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true},{"name":"active","type":"function","location":"app/models/email_token.rb:32","static":true},{"name":"valid_after","type":"function","location":"app/models/email_token.rb:24","static":true},{"name":"confirm","type":"function","location":"app/models/email_token.rb:62","static":true},{"name":"atomic_confirm","type":"function","location":"app/models/email_token.rb:44","static":true},{"name":"valid_token_format?","type":"function","location":"app/models/email_token.rb:40","static":true},{"name":"confirmable","type":"function","location":"app/models/email_token.rb:88","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","type":"class","children":[{"name":"types","type":"function","location":"app/models/notification.rb:89","static":true},{"name":"high_priority_types","type":"function","location":"app/models/notification.rb:117","static":true}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"Notification","type":"class","children":[{"name":"data_hash","type":"function","location":"app/models/notification.rb:186","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"generate!","type":"function","location":"app/models/user_auth_token.rb:68","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true},{"name":"enforce_session_count_limit!","type":"function","location":"app/models/user_auth_token.rb:226","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"downcase","type":"function","location":"lib/email.rb:12","static":true},{"name":"is_valid?","type":"function","location":"lib/email.rb:7","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"EmailValidator","type":"class","children":[{"name":"email_regex","type":"function","location":"lib/validators/email_validator.rb:43","static":true},{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"InvitesController","type":"class","children":[{"name":"ensure_new_registrations_allowed","type":"function","location":"app/controllers/invites_controller.rb:215","static":false},{"name":"ensure_not_logged_in","type":"function","location":"app/controllers/invites_controller.rb:223","static":false},{"name":"perform_accept_invitation","type":"function","location":"app/controllers/invites_controller.rb:41","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"log_on_user","type":"function","location":"lib/auth/default_current_user_provider.rb:198","static":false},{"name":"cookie_hash","type":"function","location":"lib/auth/default_current_user_provider.rb:217","static":false},{"name":"make_developer_admin","type":"function","location":"lib/auth/default_current_user_provider.rb:232","static":false},{"name":"enable_bootstrap_mode","type":"function","location":"lib/auth/default_current_user_provider.rb:242","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]},{"name":"NotificationConsolidator","type":"class","children":[{"name":"consolidate!","type":"function","location":"app/services/notification_consolidator.rb:30","static":false}]},{"name":"NotificationEmailer","type":"class","children":[{"name":"process_notification","type":"function","location":"app/services/notification_emailer.rb:126","static":true}]}]},{"name":"app/serializers","type":"package","children":[{"name":"NotificationSerializer","type":"class","children":[{"name":"include_fancy_title?","type":"function","location":"app/serializers/notification_serializer.rb:25","static":false},{"name":"slug","type":"function","location":"app/serializers/notification_serializer.rb:17","static":false},{"name":"data","type":"function","location":"app/serializers/notification_serializer.rb:37","static":false},{"name":"include_is_warning?","type":"function","location":"app/serializers/notification_serializer.rb:33","static":false},{"name":"is_warning","type":"function","location":"app/serializers/notification_serializer.rb:21","static":false}]}]}],"events":[{"id":1191373,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1191374,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191373,"elapsed":7.2e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097780052340}},{"id":1191375,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"id\" = 1120 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191376,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191375,"elapsed":0.001355},{"id":1191377,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1537 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191378,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191377,"elapsed":0.001138},{"id":1191379,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"invite_by_email","path":"app/models/invite.rb","lineno":68,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097802481080,"value":"iceking@adventuretime.ooo","kind":"req"},{"name":"invited_by","class":"User","object_id":70097794170140,"value":"#<User:0x00007f81d43dfa38>","kind":"req"},{"name":"topic","class":"Topic","object_id":70097793427420,"value":"#<Topic:0x00007f81d4274fb8>","kind":"opt"},{"name":"group_ids","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"custom_message","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191380,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191381,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1191380,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:not_required=>0, :pending=>1, :bulk_pending=>2, :sending=>3, :sent=>4}","object_id":70097613491480}},{"id":1191382,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"create_invite_by_email","path":"app/models/invite.rb","lineno":91,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097802481080,"value":"iceking@adventuretime.ooo","kind":"req"},{"name":"invited_by","class":"User","object_id":70097794170140,"value":"#<User:0x00007f81d43dfa38>","kind":"req"},{"name":"opts","class":"Hash","object_id":70097794262720,"value":"{:topic=>#<Topic id: 1120, title: \"This is a test topic 873\", last_posted_at: nil, created_at: \"2020","kind":"opt"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191383,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097802481080,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191384,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097802481080,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191385,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191386,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":1191385,"elapsed":6.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":1191387,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1191384,"elapsed":0.000154,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191388,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1191383,"elapsed":0.000283,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097794589360}},{"id":1191389,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097794589360,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191390,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097794589360,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191391,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097794589360,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191392,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191393,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":1191392,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":1191394,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1191391,"elapsed":0.000155,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191395,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1191390,"elapsed":0.000277,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097794756680}},{"id":1191396,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE (lower(user_emails.email) IN ('iceking@adventuretime.ooo')) AND \"users\".\"staged\" = FALSE ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191397,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191396,"elapsed":0.001756},{"id":1191398,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parent_id":1191389,"elapsed":0.006125},{"id":1191399,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191400,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191401,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191400,"elapsed":6.3e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097800895780}},{"id":1191402,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191403,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191404,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191403,"elapsed":3.7e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097800938320}},{"id":1191405,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191402,"elapsed":0.000213,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097800971300}},{"id":1191406,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted","path":"app/models/concerns/trashable.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1191399,"elapsed":0.000634,"return_value":{"class":"ActiveRecord::Relation","value":"#<Invite::ActiveRecord_Relation:0x00007f81d50b0a28>","object_id":70097800889620}},{"id":1191407,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"invites\".* FROM \"invites\" WHERE \"invites\".\"email\" = 'iceking@adventuretime.ooo' AND \"invites\".\"invited_by_id\" = 1537 ORDER BY created_at DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191408,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191407,"elapsed":0.001428},{"id":1191409,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191410,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191409,"elapsed":6.0e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097803416020}},{"id":1191411,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803451560,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191412,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803451560,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191413,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191414,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":1191413,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":1191415,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1191412,"elapsed":0.000135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191416,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1191411,"elapsed":0.000274,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097803498160}},{"id":1191417,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Invite","object_id":70097803400060,"value":"#<Invite:0x00007f81d557a6f8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097588920700,"value":"#<EmailValidator:0x00007f81bbc642f8>"}},{"id":1191418,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191419,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191420,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1191419,"elapsed":3.1e-05},{"id":1191421,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1191418,"elapsed":0.000151,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191422,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1191423,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1191424,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1191423,"elapsed":1.1e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097803594320}},{"id":1191425,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191426,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191425,"elapsed":0.001002},{"id":1191427,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1191428,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191427,"elapsed":0.001311},{"id":1191429,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1191422,"elapsed":0.010032},{"id":1191430,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191417,"elapsed":0.010528},{"id":1191431,"event":"call","defined_class":"Invite","method_id":"user_doesnt_already_exist","path":"app/models/invite.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097803400060,"value":"#<Invite:0x00007f81d557a6f8>"}},{"id":1191432,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191433,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191434,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803512220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191435,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191436,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":1191435,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":1191437,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1191434,"elapsed":0.000164,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191438,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1191433,"elapsed":0.000289,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097813940360}},{"id":1191439,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE (lower(user_emails.email) IN ('iceking@adventuretime.ooo')) AND \"users\".\"staged\" = FALSE ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191440,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191439,"elapsed":0.001676},{"id":1191441,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parent_id":1191432,"elapsed":0.006317},{"id":1191442,"event":"return","defined_class":"Invite","method_id":"user_doesnt_already_exist","path":"app/models/invite.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":1191431,"elapsed":0.006548},{"id":1191443,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"invites\" (\"invite_key\", \"email\", \"invited_by_id\", \"created_at\", \"updated_at\", \"emailed_status\") VALUES ('5b0d7096c3db216b6973696bd6328ef0', 'iceking@adventuretime.ooo', 1537, '2020-05-28 19:04:25.309774', '2020-05-28 19:04:25.309774', 1) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191444,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191443,"elapsed":0.001179},{"id":1191445,"event":"call","defined_class":"Invite","method_id":"limit_invites_per_day","path":"app/models/invite.rb","lineno":249,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097803400060,"value":"#<Invite:0x00007f81d557a6f8>"}},{"id":1191446,"event":"return","defined_class":"Invite","method_id":"limit_invites_per_day","path":"app/models/invite.rb","lineno":249,"static":false,"thread_id":70097708498960,"parent_id":1191445,"elapsed":5.1e-05,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81bb82a908>","object_id":70097586705540}},{"id":1191447,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191448,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191447,"elapsed":0.001219},{"id":1191449,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topic_invites\".\"topic_id\" FROM \"topic_invites\" WHERE \"topic_invites\".\"invite_id\" = 32","database_type":"postgres","server_version":110006}},{"id":1191450,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191449,"elapsed":0.001262},{"id":1191451,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191452,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191451,"elapsed":0.000964},{"id":1191453,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"topic_invites\" WHERE \"topic_invites\".\"topic_id\" = 1120 AND \"topic_invites\".\"invite_id\" = 32 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191454,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191453,"elapsed":0.001047},{"id":1191455,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"topic_invites\" (\"topic_id\", \"invite_id\", \"created_at\", \"updated_at\") VALUES (1120, 32, '2020-05-28 19:04:25.333045', '2020-05-28 19:04:25.333045') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191456,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191455,"elapsed":0.001252},{"id":1191457,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191458,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191457,"elapsed":0.000937},{"id":1191459,"event":"call","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097793427420,"value":"#<Topic:0x00007f81d4274fb8>"}},{"id":1191460,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097793427420,"value":"#<Topic:0x00007f81d4274fb8>"}},{"id":1191461,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097793427420,"value":"#<Topic:0x00007f81d4274fb8>"}},{"id":1191462,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":1191461,"elapsed":4.0e-06},{"id":1191463,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" WHERE \"topics\".\"id\" = 1120 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191464,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191463,"elapsed":0.001525},{"id":1191465,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":1191460,"elapsed":0.004854,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81d4274fb8>","object_id":70097793427420}},{"id":1191466,"event":"return","defined_class":"Topic","method_id":"reload","path":"app/models/topic.rb","lineno":528,"static":false,"thread_id":70097708498960,"parent_id":1191459,"elapsed":0.005036,"return_value":{"class":"Topic","value":"#<Topic:0x00007f81d4274fb8>","object_id":70097793427420}},{"id":1191467,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191468,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1191467,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:not_required=>0, :pending=>1, :bulk_pending=>2, :sending=>3, :sent=>4}","object_id":70097613491480}},{"id":1191469,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191470,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1191469,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:not_required=>0, :pending=>1, :bulk_pending=>2, :sending=>3, :sent=>4}","object_id":70097613491480}},{"id":1191471,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"invites\" SET \"emailed_status\" = 3 WHERE \"invites\".\"id\" = 32","database_type":"postgres","server_version":110006}},{"id":1191472,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191471,"elapsed":0.001172},{"id":1191473,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":20199708,"value":"invite_email","kind":"req"},{"name":"opts","class":"Hash","object_id":70097566764640,"value":"{:invite_id=>32}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1191474,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1191475,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1191474,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191476,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":1191473,"elapsed":0.000296,"return_value":{"class":"String","value":"eee0b012d236a9c5f1611ae2","object_id":70097566774540}},{"id":1191477,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"invites\".* FROM \"invites\" WHERE \"invites\".\"id\" = 32 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191478,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191477,"elapsed":0.001207},{"id":1191479,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"create_invite_by_email","path":"app/models/invite.rb","lineno":91,"static":true,"thread_id":70097708498960,"parent_id":1191382,"elapsed":0.076112,"return_value":{"class":"Invite","value":"#<Invite:0x00007f81d557a6f8>","object_id":70097803400060}},{"id":1191480,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"invite_by_email","path":"app/models/invite.rb","lineno":68,"static":true,"thread_id":70097708498960,"parent_id":1191379,"elapsed":0.076837,"return_value":{"class":"Invite","value":"#<Invite:0x00007f81d557a6f8>","object_id":70097803400060}},{"id":1191481,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1191482,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191481,"elapsed":7.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1191483,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1191484,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191483,"elapsed":1.2e-05},{"id":1191485,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/invites/show/5b0d7096c3db216b6973696bd6328ef0.json"},"message":[{"name":"controller","class":"String","value":"invites","object_id":70097783065500},{"name":"action","class":"String","value":"perform_accept_invitation","object_id":70097783065460},{"name":"id","class":"String","value":"5b0d7096c3db216b6973696bd6328ef0","object_id":70097567390380},{"name":"format","class":"String","value":"json","object_id":70097567390340}]},{"id":1191486,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191487,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191488,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191489,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191490,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191489,"elapsed":3.9e-05},{"id":1191491,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1191488,"elapsed":0.000182,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b9361888>","object_id":70097567419460}},{"id":1191492,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097567419460,"value":"#<Guardian:0x00007f81b9361888>"}},{"id":1191493,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1191492,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191494,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1191487,"elapsed":0.00045},{"id":1191495,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191496,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191495,"elapsed":5.0e-06},{"id":1191497,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191498,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1191497,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b9361888>","object_id":70097567419460}},{"id":1191499,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097567436840,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097567419460,"value":"#<Guardian:0x00007f81b9361888>"}},{"id":1191500,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1191499,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191501,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1191486,"elapsed":0.000956,"return_value":{"class":"Array","value":"[2]","object_id":70097567436840}},{"id":1191502,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191503,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191504,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191503,"elapsed":4.0e-06},{"id":1191505,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1191502,"elapsed":0.000117,"return_value":{"class":"String","value":"invites/perform_accept_invitation","object_id":70097567450440}},{"id":1191506,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191507,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191508,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191507,"elapsed":3.0e-06},{"id":1191509,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1191506,"elapsed":0.000121},{"id":1191510,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191511,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191512,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191511,"elapsed":3.0e-06},{"id":1191513,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1191514,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191513,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1191515,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1191516,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191515,"elapsed":1.1e-05},{"id":1191517,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1191518,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191517,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1191519,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1191520,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191519,"elapsed":7.0e-06},{"id":1191521,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1191510,"elapsed":0.000607,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097567522160}},{"id":1191522,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191523,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1191522,"elapsed":7.0e-06},{"id":1191524,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097802577640,"value":"InvitesController"}},{"id":1191525,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1191524,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:destroy, :create, :create_invite_link, :rescind_all_invites, :resend_invite, :resend_all_i","object_id":70097802611140}},{"id":1191526,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191527,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191528,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191527,"elapsed":4.0e-06},{"id":1191529,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1191526,"elapsed":0.000122},{"id":1191530,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191531,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191532,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191531,"elapsed":3.0e-06},{"id":1191533,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1191530,"elapsed":9.7e-05},{"id":1191534,"event":"call","defined_class":"InvitesController","method_id":"ensure_new_registrations_allowed","path":"app/controllers/invites_controller.rb","lineno":215,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191535,"event":"return","defined_class":"InvitesController","method_id":"ensure_new_registrations_allowed","path":"app/controllers/invites_controller.rb","lineno":215,"static":false,"thread_id":70097708498960,"parent_id":1191534,"elapsed":7.0e-06},{"id":1191536,"event":"call","defined_class":"InvitesController","method_id":"ensure_not_logged_in","path":"app/controllers/invites_controller.rb","lineno":223,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191537,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191538,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1191537,"elapsed":3.0e-06},{"id":1191539,"event":"return","defined_class":"InvitesController","method_id":"ensure_not_logged_in","path":"app/controllers/invites_controller.rb","lineno":223,"static":false,"thread_id":70097708498960,"parent_id":1191536,"elapsed":9.8e-05},{"id":1191540,"event":"call","defined_class":"InvitesController","method_id":"perform_accept_invitation","path":"app/controllers/invites_controller.rb","lineno":41,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1191541,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191542,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191541,"elapsed":6.0e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097567565800}},{"id":1191543,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"invites\".* FROM \"invites\" WHERE (\"invites\".\"deleted_at\" IS NULL) AND \"invites\".\"invite_key\" = '5b0d7096c3db216b6973696bd6328ef0' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191544,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191543,"elapsed":0.001135},{"id":1191545,"event":"call","defined_class":"Invite","method_id":"redeem","path":"app/models/invite.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[{"name":"username","class":"Hash","object_id":70097798477400,"value":"{:username=>nil, :name=>nil, :password=>nil, :user_custom_fields=>nil, :ip_address=>\"127.0.0.1\"}","kind":"key"},{"name":"name","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"password","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"user_custom_fields","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"ip_address","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Invite","object_id":70097798506200,"value":"#<Invite:0x00007f81d4c24db0>"}},{"id":1191546,"event":"call","defined_class":"Invite","method_id":"expired?","path":"app/models/invite.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097798506200,"value":"#<Invite:0x00007f81d4c24db0>"}},{"id":1191547,"event":"return","defined_class":"Invite","method_id":"expired?","path":"app/models/invite.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":1191546,"elapsed":0.000168},{"id":1191548,"event":"call","defined_class":"Invite","method_id":"link_valid?","path":"app/models/invite.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097798506200,"value":"#<Invite:0x00007f81d4c24db0>"}},{"id":1191549,"event":"return","defined_class":"Invite","method_id":"link_valid?","path":"app/models/invite.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1191548,"elapsed":2.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191550,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191551,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191550,"elapsed":6.0e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097798560900}},{"id":1191552,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191553,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191552,"elapsed":0.001021},{"id":1191554,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"invites\" SET redeemed_at = CURRENT_TIMESTAMP WHERE (\"invites\".\"deleted_at\" IS NULL) AND (id = 32 AND redeemed_at IS NULL AND updated_at >= '2020-04-28 19:04:25.368513')","database_type":"postgres","server_version":110006}},{"id":1191555,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191554,"elapsed":0.001141},{"id":1191556,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191557,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191556,"elapsed":5.9e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097827113860}},{"id":1191558,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"invites\" WHERE (\"invites\".\"deleted_at\" IS NULL) AND (invites.email = 'iceking@adventuretime.ooo' AND redeemed_at IS NULL AND invites.id != 32)","database_type":"postgres","server_version":110006}},{"id":1191559,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191558,"elapsed":0.001006},{"id":1191560,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_email","path":"app/models/user.rb","lineno":367,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097827117040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191561,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097827117040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191562,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097827117040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191563,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191564,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":1191563,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":1191565,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1191562,"elapsed":0.000127,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191566,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1191561,"elapsed":0.00024,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097608080660}},{"id":1191567,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE \"users\".\"admin\" = FALSE AND \"users\".\"staged\" = FALSE AND (lower(user_emails.email) IN ('iceking@adventuretime.ooo')) ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191568,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191567,"elapsed":0.001374},{"id":1191569,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_email","path":"app/models/user.rb","lineno":367,"static":true,"thread_id":70097708498960,"parent_id":1191560,"elapsed":0.006019},{"id":1191570,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE \"users\".\"staged\" = TRUE AND (lower(user_emails.email) IN ('iceking@adventuretime.ooo')) ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191571,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191570,"elapsed":0.00121},{"id":1191572,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1191573,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":1191572,"elapsed":7.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":1191574,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1191575,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":1191574,"elapsed":6.0e-06},{"id":1191576,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191577,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1191576,"elapsed":1.2e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097828320760}},{"id":1191578,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191579,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1191578,"elapsed":5.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097828316340}},{"id":1191580,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828303940,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191581,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191580,"elapsed":9.0e-06,"return_value":{"class":"String","value":"iceking","object_id":70097828336320}},{"id":1191582,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828303940,"value":"iceking","kind":"req"},{"name":"email","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"allow_reserved_username","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191583,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828303940,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191584,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191583,"elapsed":1.1e-05,"return_value":{"class":"String","value":"iceking","object_id":70097568210660}},{"id":1191585,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568210660,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191586,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568210660,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191587,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191586,"elapsed":8.0e-06,"return_value":{"class":"String","value":"iceking","object_id":70097568205540}},{"id":1191588,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parent_id":1191585,"elapsed":0.000216},{"id":1191589,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568210660,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191590,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097568210660,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191591,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191590,"elapsed":7.0e-06,"return_value":{"class":"String","value":"iceking","object_id":70097828345880}},{"id":1191592,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parent_id":1191589,"elapsed":0.001318},{"id":1191593,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parent_id":1191582,"elapsed":0.001947,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191594,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828303940,"value":"iceking","kind":"req"},{"name":"email","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"allow_reserved_username","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191595,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828303940,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191596,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191595,"elapsed":1.1e-05,"return_value":{"class":"String","value":"iceking","object_id":70097612709680}},{"id":1191597,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097612709680,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191598,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097612709680,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191599,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191598,"elapsed":7.0e-06,"return_value":{"class":"String","value":"iceking","object_id":70097612705000}},{"id":1191600,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"reserved_username?","path":"app/models/user.rb","lineno":258,"static":true,"thread_id":70097708498960,"parent_id":1191597,"elapsed":0.000201},{"id":1191601,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097612709680,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191602,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097612709680,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191603,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191602,"elapsed":7.0e-06,"return_value":{"class":"String","value":"iceking","object_id":70097612719640}},{"id":1191604,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_exists?","path":"app/models/user.rb","lineno":1393,"static":true,"thread_id":70097708498960,"parent_id":1191601,"elapsed":0.001187},{"id":1191605,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_available?","path":"app/models/user.rb","lineno":249,"static":true,"thread_id":70097708498960,"parent_id":1191594,"elapsed":0.001734,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191606,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097827117040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191607,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":1191606,"elapsed":0.000211,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81be9d0e08>","object_id":70097612736260}},{"id":1191608,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1537 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191609,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191608,"elapsed":0.00142},{"id":1191610,"event":"call","defined_class":"ReviewableUser(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"set_approved_fields!","path":"app/models/reviewable_user.rb","lineno":91,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"approved_by","class":"User","object_id":70097828550780,"value":"#<User:0x00007f81d85730f8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097586690280,"value":"ReviewableUser"}},{"id":1191611,"event":"return","defined_class":"ReviewableUser(id: integer, type: string, status: integer, created_by_id: integer, reviewable_by_moderator: boolean, reviewable_by_group_id: integer, category_id: integer, topic_id: integer, score: float, potential_spam: boolean, target_id: integer, target_type: string, target_created_by_id: integer, payload: json, version: integer, latest_score: datetime, created_at: datetime, updated_at: datetime)","method_id":"set_approved_fields!","path":"app/models/reviewable_user.rb","lineno":91,"static":true,"thread_id":70097708498960,"parent_id":1191610,"elapsed":9.5e-05,"return_value":{"class":"Time","value":"2020-05-28 19:04:25 UTC","object_id":70097828548820}},{"id":1191612,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191613,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1191612,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191614,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191615,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1191616,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097828585180,"value":"#<UsernameValidator:0x00007f81d8583db8>"}},{"id":1191617,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191618,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1191617,"elapsed":9.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097828582720}},{"id":1191619,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191620,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":1191619,"elapsed":6.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097828581280}},{"id":1191621,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1191622,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":1191621,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":1191623,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":1191624,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":1191623,"elapsed":4.0e-06},{"id":1191625,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1191616,"elapsed":0.00045,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191626,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":1191615,"elapsed":0.000569},{"id":1191627,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":1191614,"elapsed":0.00069},{"id":1191628,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097828563340,"value":"iceking","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191629,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":1191628,"elapsed":9.0e-06,"return_value":{"class":"String","value":"iceking","object_id":70097828599640}},{"id":1191630,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097828563340,"value":"iceking","kind":"req"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191631,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1191630,"elapsed":1.0e-05},{"id":1191632,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097828594480,"value":"iceking","kind":"req"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191633,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1191632,"elapsed":5.0e-06},{"id":1191634,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191635,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097828616260,"value":"#<PasswordValidator:0x00007f81d8593088>"}},{"id":1191636,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191637,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191638,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1191637,"elapsed":4.0e-06},{"id":1191639,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1191636,"elapsed":0.000103},{"id":1191640,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191635,"elapsed":0.000202},{"id":1191641,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1191634,"elapsed":0.000326},{"id":1191642,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191643,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":1191642,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":1191644,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097828633920,"value":"iceking","kind":"req"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191645,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1191644,"elapsed":5.0e-06},{"id":1191646,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097828632500,"value":"iceking","kind":"req"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191647,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":1191646,"elapsed":5.0e-06},{"id":1191648,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097828610940,"value":"iceking","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":1191649,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191648,"elapsed":8.0e-06},{"id":1191650,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097828628280,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":1191651,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097828628280,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1191652,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097828628280,"value":"127.0.0.1","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1191653,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097828628280,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":1191654,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('127.0.0.1' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191655,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191654,"elapsed":0.001072},{"id":1191656,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":1191653,"elapsed":0.006186,"return_value":{"class":"ScreenedIpAddress","value":"#<ScreenedIpAddress:0x00007f81beb52380>","object_id":70097613525440}},{"id":1191657,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":1191652,"elapsed":0.006371},{"id":1191658,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":1191651,"elapsed":0.006497},{"id":1191659,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191650,"elapsed":0.006636},{"id":1191660,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097612736260,"value":"#<UserEmail:0x00007f81be9d0e08>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097613545040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1191661,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613545040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191662,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097613545040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191663,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1191662,"elapsed":3.4e-05},{"id":1191664,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1191661,"elapsed":0.000153,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191665,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613545040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1191666,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613545040,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1191667,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1191666,"elapsed":1.1e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097613558240}},{"id":1191668,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1191669,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191668,"elapsed":0.001252},{"id":1191670,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1191665,"elapsed":0.007059},{"id":1191671,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191660,"elapsed":0.00748},{"id":1191672,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'iceking@adventuretime.ooo') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191673,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191672,"elapsed":0.001102},{"id":1191674,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"username_lower\", \"trust_level\", \"approved\", \"approved_by_id\", \"approved_at\", \"ip_address\", \"registration_ip_address\") VALUES ('iceking', '2020-05-28 19:04:25.431438', '2020-05-28 19:04:25.431438', 'iceking', 'iceking', 1, TRUE, 1537, '2020-05-28 19:04:25.406393', '127.0.0.1/32', '127.0.0.1/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191675,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191674,"elapsed":0.001372},{"id":1191676,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097612736260,"value":"#<UserEmail:0x00007f81be9d0e08>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097613193120,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":1191677,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613193120,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191678,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097613193120,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191679,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":1191678,"elapsed":3.2e-05},{"id":1191680,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":1191677,"elapsed":0.000151,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191681,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613193120,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1191682,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613193120,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":1191683,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":1191682,"elapsed":1.0e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097614131280}},{"id":1191684,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1191685,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191684,"elapsed":0.001097},{"id":1191686,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1191681,"elapsed":0.006238},{"id":1191687,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191676,"elapsed":0.006652},{"id":1191688,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191689,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191688,"elapsed":0.001349},{"id":1191690,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'iceking@adventuretime.ooo') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191691,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191690,"elapsed":0.002212},{"id":1191692,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1549, 'iceking@adventuretime.ooo', TRUE, '2020-05-28 19:04:25.458387', '2020-05-28 19:04:25.458387') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191693,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191692,"elapsed":0.001115},{"id":1191694,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191695,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1191694,"elapsed":2.1e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097615678860}},{"id":1191696,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191697,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191698,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1191697,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1191699,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":1191696,"elapsed":0.000147,"return_value":{"class":"String","value":"dcd29c00895ffb2055f0c44327e05a18","object_id":70097615713120}},{"id":1191700,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1549, 'iceking@adventuretime.ooo', 'dcd29c00895ffb2055f0c44327e05a18', '2020-05-28 19:04:25.465304', '2020-05-28 19:04:25.465304') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191701,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191700,"elapsed":0.00114},{"id":1191702,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1549 AND (id != 1808)","database_type":"postgres","server_version":110006}},{"id":1191703,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191702,"elapsed":0.001172},{"id":1191704,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1549, '2020-05-28 19:04:25.518003') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1191705,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191704,"elapsed":0.001203},{"id":1191706,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191707,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191706,"elapsed":0.001462},{"id":1191708,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097802152660,"value":"{:user=>#<User id: 1549, username: \"iceking\", created_at: \"2020-05-28 19:04:25\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1191709,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191708,"elapsed":1.3e-05},{"id":1191710,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097802236760,"value":"#<UserOption:0x00007f81d53426b0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":1191711,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":1191710,"elapsed":5.0e-06},{"id":1191712,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097802236760,"value":"#<UserOption:0x00007f81d53426b0>"}},{"id":1191713,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097802236760,"value":"#<UserOption:0x00007f81d53426b0>"}},{"id":1191714,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1191715,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":1191714,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":1191716,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1191713,"elapsed":0.000169,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191717,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097802236760,"value":"#<UserOption:0x00007f81d53426b0>"}},{"id":1191718,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":1191719,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1191718,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":1191720,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":1191717,"elapsed":0.000108,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191721,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":1191712,"elapsed":0.000703,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191722,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1549, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1191723,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191722,"elapsed":0.001208},{"id":1191724,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097731996680,"value":"#<TrackedTopicsUpdater:0x00007f81ccd49810>"}},{"id":1191725,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1191726,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1191725,"elapsed":9.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1191727,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":1191728,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":1191727,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":1191729,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1549","database_type":"postgres","server_version":110006}},{"id":1191730,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191729,"elapsed":0.001186},{"id":1191731,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1191724,"elapsed":0.006502,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191732,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191733,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191734,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191733,"elapsed":0.00136},{"id":1191735,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1549) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":1191736,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191735,"elapsed":0.001245},{"id":1191737,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097814714380,"value":"{:user=>#<UserProfile user_id: 1549, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1191738,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191737,"elapsed":1.2e-05},{"id":1191739,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":1191732,"elapsed":0.014274,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81d8191ef8>","object_id":70097826516860}},{"id":1191740,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191741,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":1191740,"elapsed":1.2e-05},{"id":1191742,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1191743,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191742,"elapsed":0.001455},{"id":1191744,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1191745,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191744,"elapsed":0.001142},{"id":1191746,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1191747,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191746,"elapsed":0.001028},{"id":1191748,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":1191749,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191748,"elapsed":0.001038},{"id":1191750,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191751,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191752,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1191751,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191753,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1191750,"elapsed":0.000134},{"id":1191754,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191755,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191756,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191755,"elapsed":0.001265},{"id":1191757,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1549, '2020-05-28 19:04:25.591584', '2020-05-28 19:04:25.591584') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191758,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191757,"elapsed":0.001127},{"id":1191759,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1191754,"elapsed":0.01196},{"id":1191760,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097798586840,"value":"{:user=>#<User id: 1549, username: \"iceking\", created_at: \"2020-05-28 19:04:25\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1191761,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191760,"elapsed":9.0e-06},{"id":1191762,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1191763,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191762,"elapsed":3.0e-06},{"id":1191764,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191765,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"emailed_status_types","path":"app/models/invite.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":1191764,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:not_required=>0, :pending=>1, :bulk_pending=>2, :sending=>3, :sent=>4}","object_id":70097613491480}},{"id":1191766,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191767,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1191766,"elapsed":1.2e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097615678860}},{"id":1191768,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191769,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191770,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1191769,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1191771,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":1191768,"elapsed":0.000145,"return_value":{"class":"String","value":"16ea9cad7fbacad33534c08401094ad8","object_id":70097798657580}},{"id":1191772,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1549, 'iceking@adventuretime.ooo', '16ea9cad7fbacad33534c08401094ad8', '2020-05-28 19:04:25.599208', '2020-05-28 19:04:25.599208') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191773,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191772,"elapsed":0.001294},{"id":1191774,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1549 AND (id != 1809)","database_type":"postgres","server_version":110006}},{"id":1191775,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191774,"elapsed":0.001061},{"id":1191776,"event":"call","defined_class":"User","method_id":"activate","path":"app/models/user.rb","lineno":934,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191777,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"active","path":"app/models/email_token.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191778,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"valid_after","path":"app/models/email_token.rb","lineno":24,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191779,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"valid_after","path":"app/models/email_token.rb","lineno":24,"static":true,"thread_id":70097708498960,"parent_id":1191778,"elapsed":4.3e-05,"return_value":{"class":"Time","value":"2020-05-26 19:04:25 UTC","object_id":70097827678640}},{"id":1191780,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"active","path":"app/models/email_token.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1191777,"elapsed":0.000331,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<EmailToken::ActiveRecord_AssociationRelation:0x00007f81d83c8ca8>","object_id":70097827677780}},{"id":1191781,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191782,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1191781,"elapsed":1.4e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097615678860}},{"id":1191783,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"email_tokens\".* FROM \"email_tokens\" WHERE \"email_tokens\".\"user_id\" = 1549 AND \"email_tokens\".\"expired\" = FALSE AND (created_at > '2020-05-26 19:04:25.610629') AND \"email_tokens\".\"email\" = 'iceking@adventuretime.ooo' ORDER BY \"email_tokens\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191784,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191783,"elapsed":0.001176},{"id":1191785,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"confirm","path":"app/models/email_token.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097827923580,"value":"16ea9cad7fbacad33534c08401094ad8","kind":"req"},{"name":"skip_reviewable","class":"Hash","object_id":70097827923540,"value":"{:skip_reviewable=>true}","kind":"key"}],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191786,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"atomic_confirm","path":"app/models/email_token.rb","lineno":44,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097827923580,"value":"16ea9cad7fbacad33534c08401094ad8","kind":"req"}],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191787,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"valid_token_format?","path":"app/models/email_token.rb","lineno":40,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097827923580,"value":"16ea9cad7fbacad33534c08401094ad8","kind":"req"}],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191788,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"valid_token_format?","path":"app/models/email_token.rb","lineno":40,"static":true,"thread_id":70097708498960,"parent_id":1191787,"elapsed":2.3e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191789,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"confirmable","path":"app/models/email_token.rb","lineno":88,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097827923580,"value":"16ea9cad7fbacad33534c08401094ad8","kind":"req"}],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191790,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"valid_after","path":"app/models/email_token.rb","lineno":24,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":1191791,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"valid_after","path":"app/models/email_token.rb","lineno":24,"static":true,"thread_id":70097708498960,"parent_id":1191790,"elapsed":4.2e-05,"return_value":{"class":"Time","value":"2020-05-26 19:04:25 UTC","object_id":70097827959780}},{"id":1191792,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"email_tokens\".* FROM \"email_tokens\" WHERE \"email_tokens\".\"token\" = '16ea9cad7fbacad33534c08401094ad8' AND \"email_tokens\".\"expired\" = FALSE AND \"email_tokens\".\"confirmed\" = FALSE AND (created_at >= '2020-05-26 19:04:25.617115') ORDER BY \"email_tokens\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191793,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191792,"elapsed":0.001264},{"id":1191794,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1549","database_type":"postgres","server_version":110006}},{"id":1191795,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191794,"elapsed":0.001157},{"id":1191796,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"confirmable","path":"app/models/email_token.rb","lineno":88,"static":true,"thread_id":70097708498960,"parent_id":1191789,"elapsed":0.012132,"return_value":{"class":"EmailToken","value":"#<EmailToken:0x00007f81d4dce968>","object_id":70097799378100}},{"id":1191797,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET confirmed = true WHERE \"email_tokens\".\"confirmed\" = FALSE AND \"email_tokens\".\"id\" = 1809 AND \"email_tokens\".\"expired\" = FALSE","database_type":"postgres","server_version":110006}},{"id":1191798,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191797,"elapsed":0.001118},{"id":1191799,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"atomic_confirm","path":"app/models/email_token.rb","lineno":44,"static":true,"thread_id":70097708498960,"parent_id":1191786,"elapsed":0.017492,"return_value":{"class":"Hash","value":"{:success=>true, :user=>#<User id: 1549, username: \"iceking\", created_at: \"2020-05-28 19:04:25\", upd","object_id":70097612987280}},{"id":1191800,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097613004220,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191801,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1549 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191802,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191801,"elapsed":0.001125},{"id":1191803,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 1550 AND \"user_emails\".\"user_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191804,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191803,"elapsed":0.00117},{"id":1191805,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":1191800,"elapsed":0.012084,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191806,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191807,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_custom_fields\".\"name\", \"user_custom_fields\".\"value\" FROM \"user_custom_fields\" WHERE \"user_custom_fields\".\"user_id\" = 1549 ORDER BY id asc","database_type":"postgres","server_version":110006}},{"id":1191808,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191807,"elapsed":0.001071},{"id":1191809,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1191806,"elapsed":0.005086,"return_value":{"class":"Hash","value":"{}","object_id":70097828812440}},{"id":1191810,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191811,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1191810,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191812,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191813,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097608836460,"value":"#<PasswordValidator:0x00007f81be260ad8>"}},{"id":1191814,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191815,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191816,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1191815,"elapsed":3.0e-06},{"id":1191817,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1191814,"elapsed":0.000162},{"id":1191818,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191813,"elapsed":0.00029},{"id":1191819,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1191812,"elapsed":0.000423},{"id":1191820,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 1550 AND \"user_emails\".\"user_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191821,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191820,"elapsed":3.0e-05},{"id":1191822,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"updated_at\" = '2020-05-28 19:04:25.658493', \"active\" = TRUE WHERE \"users\".\"id\" = 1549","database_type":"postgres","server_version":110006}},{"id":1191823,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191822,"elapsed":0.001334},{"id":1191824,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191825,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":3099,"value":"1549","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191826,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":1191825,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191827,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":1191824,"elapsed":0.00015,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191828,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191829,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191830,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1191829,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191831,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1191828,"elapsed":0.000171},{"id":1191832,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191833,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191834,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191833,"elapsed":0.00118},{"id":1191835,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1191832,"elapsed":0.00596},{"id":1191836,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097589298340,"value":"{:user=>#<User id: 1549, username: \"iceking\", created_at: \"2020-05-28 19:04:25\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1191837,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191836,"elapsed":7.0e-06},{"id":1191838,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1191839,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191838,"elapsed":4.0e-06},{"id":1191840,"event":"call","defined_class":"User","method_id":"set_automatic_groups","path":"app/models/user.rb","lineno":1178,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191841,"event":"call","defined_class":"User","method_id":"email_confirmed?","path":"app/models/user.rb","lineno":928,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191842,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191843,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1191842,"elapsed":1.1e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097608851080}},{"id":1191844,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"email_tokens\".* FROM \"email_tokens\" WHERE \"email_tokens\".\"user_id\" = 1549 AND \"email_tokens\".\"email\" = 'iceking@adventuretime.ooo' AND \"email_tokens\".\"confirmed\" = TRUE","database_type":"postgres","server_version":110006}},{"id":1191845,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191844,"elapsed":0.001181},{"id":1191846,"event":"return","defined_class":"User","method_id":"email_confirmed?","path":"app/models/user.rb","lineno":928,"static":false,"thread_id":70097708498960,"parent_id":1191841,"elapsed":0.005617,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191847,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\", \"groups\".\"name\", \"groups\".\"created_at\", \"groups\".\"updated_at\", \"groups\".\"automatic\", \"groups\".\"user_count\", \"groups\".\"automatic_membership_email_domains\", \"groups\".\"primary_group\", \"groups\".\"title\", \"groups\".\"grant_trust_level\", \"groups\".\"incoming_email\", \"groups\".\"has_messages\", \"groups\".\"flair_bg_color\", \"groups\".\"flair_color\", \"groups\".\"bio_raw\", \"groups\".\"bio_cooked\", \"groups\".\"allow_membership_requests\", \"groups\".\"full_name\", \"groups\".\"default_notification_level\", \"groups\".\"visibility_level\", \"groups\".\"public_exit\", \"groups\".\"public_admission\", \"groups\".\"membership_request_template\", \"groups\".\"messageable_level\", \"groups\".\"mentionable_level\", \"groups\".\"publish_read_state\", \"groups\".\"members_visibility_level\", \"groups\".\"flair_icon\", \"groups\".\"flair_upload_id\" FROM \"groups\" WHERE \"groups\".\"automatic\" = FALSE AND (LENGTH(COALESCE(automatic_membership_email_domains, '')) > 0)","database_type":"postgres","server_version":110006}},{"id":1191848,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191847,"elapsed":0.001184},{"id":1191849,"event":"return","defined_class":"User","method_id":"set_automatic_groups","path":"app/models/user.rb","lineno":1178,"static":false,"thread_id":70097708498960,"parent_id":1191840,"elapsed":0.011067,"return_value":{"class":"Array","value":"[]","object_id":70097615387020}},{"id":1191850,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191851,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1191850,"elapsed":1.7e-05,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097608851080}},{"id":1191852,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"redeem_from_email","path":"app/models/invite.rb","lineno":225,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608851080,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191853,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608851080,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191854,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097608851080,"value":"iceking@adventuretime.ooo","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1191855,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":1191856,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":1191855,"elapsed":3.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":1191857,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":1191854,"elapsed":0.000111,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191858,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":1191853,"elapsed":0.000205,"return_value":{"class":"String","value":"iceking@adventuretime.ooo","object_id":70097615403100}},{"id":1191859,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191860,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191859,"elapsed":6.1e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097615400320}},{"id":1191861,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"invites\".* FROM \"invites\" WHERE (\"invites\".\"deleted_at\" IS NULL) AND \"invites\".\"email\" = 'iceking@adventuretime.ooo' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191862,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191861,"elapsed":0.001287},{"id":1191863,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191864,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191863,"elapsed":5.1e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097590002380}},{"id":1191865,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"invites\" SET redeemed_at = CURRENT_TIMESTAMP WHERE (\"invites\".\"deleted_at\" IS NULL) AND (id = 32 AND redeemed_at IS NULL AND updated_at >= '2020-04-28 19:04:25.689621')","database_type":"postgres","server_version":110006}},{"id":1191866,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191865,"elapsed":0.00112},{"id":1191867,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"redeem_from_email","path":"app/models/invite.rb","lineno":225,"static":true,"thread_id":70097708498960,"parent_id":1191852,"elapsed":0.011195,"return_value":{"class":"Invite","value":"#<Invite:0x00007f81bbe76078>","object_id":70097590005820}},{"id":1191868,"event":"call","defined_class":"User","method_id":"reload","path":"app/models/user.rb","lineno":444,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191869,"event":"call","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[{"name":"options","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191870,"event":"call","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097568180700,"value":"#<User:0x00007f81b94d53b8>"}},{"id":1191871,"event":"return","defined_class":"HasCustomFields","method_id":"clear_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":153,"static":false,"thread_id":70097708498960,"parent_id":1191870,"elapsed":4.0e-06},{"id":1191872,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191873,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191872,"elapsed":0.001534},{"id":1191874,"event":"return","defined_class":"HasCustomFields","method_id":"reload","path":"app/models/concerns/has_custom_fields.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":1191869,"elapsed":0.047889,"return_value":{"class":"User","value":"#<User:0x00007f81b94d53b8>","object_id":70097568180700}},{"id":1191875,"event":"return","defined_class":"User","method_id":"reload","path":"app/models/user.rb","lineno":444,"static":false,"thread_id":70097708498960,"parent_id":1191868,"elapsed":0.048067,"return_value":{"class":"User","value":"#<User:0x00007f81b94d53b8>","object_id":70097568180700}},{"id":1191876,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"confirm","path":"app/models/email_token.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1191785,"elapsed":0.126522,"return_value":{"class":"User","value":"#<User:0x00007f81b94d53b8>","object_id":70097568180700}},{"id":1191877,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191878,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1191877,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191879,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191880,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097781131920,"value":"#<PasswordValidator:0x00007f81d2b01520>"}},{"id":1191881,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191882,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191883,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1191882,"elapsed":4.0e-06},{"id":1191884,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1191881,"elapsed":0.000118},{"id":1191885,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1191880,"elapsed":0.000233},{"id":1191886,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1191879,"elapsed":0.000373},{"id":1191887,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 1550 AND \"user_emails\".\"user_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191888,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191887,"elapsed":0.001309},{"id":1191889,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"updated_at\" = '2020-05-28 19:04:25.752498', \"active\" = TRUE WHERE \"users\".\"id\" = 1549","database_type":"postgres","server_version":110006}},{"id":1191890,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191889,"elapsed":0.00155},{"id":1191891,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191892,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":3099,"value":"1549","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191893,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":1191892,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191894,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":1191891,"elapsed":0.000154,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191895,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191896,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191897,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1191896,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1191898,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1191895,"elapsed":0.000122},{"id":1191899,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191900,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1191899,"elapsed":2.3e-05},{"id":1191901,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097803087160,"value":"{:user=>#<User id: 1549, username: \"iceking\", created_at: \"2020-05-28 19:04:25\", updated_at: \"2020-0","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1191902,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191901,"elapsed":7.0e-06},{"id":1191903,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1191904,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191903,"elapsed":5.0e-06},{"id":1191905,"event":"call","defined_class":"User","method_id":"create_reviewable","path":"app/models/user.rb","lineno":1253,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>"}},{"id":1191906,"event":"return","defined_class":"User","method_id":"create_reviewable","path":"app/models/user.rb","lineno":1253,"static":false,"thread_id":70097708498960,"parent_id":1191905,"elapsed":2.0e-05},{"id":1191907,"event":"return","defined_class":"User","method_id":"activate","path":"app/models/user.rb","lineno":934,"static":false,"thread_id":70097708498960,"parent_id":1191776,"elapsed":0.150978},{"id":1191908,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191909,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191908,"elapsed":0.001225},{"id":1191910,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"reviewables\".* FROM \"reviewables\" WHERE \"reviewables\".\"type\" = 'ReviewableUser' AND \"reviewables\".\"target_type\" = 'User' AND \"reviewables\".\"target_id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191911,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191910,"elapsed":0.001087},{"id":1191912,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1191913,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191912,"elapsed":6.6e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097732705560}},{"id":1191914,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191915,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191914,"elapsed":4.0e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097826377680}},{"id":1191916,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\" FROM \"topics\" LEFT OUTER JOIN \"topic_invites\" ON \"topic_invites\".\"topic_id\" = \"topics\".\"id\" LEFT OUTER JOIN \"invites\" ON \"invites\".\"id\" = \"topic_invites\".\"invite_id\" AND (\"invites\".\"deleted_at\" IS NULL) WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topics\".\"archetype\" = 'private_message' AND \"invites\".\"email\" = 'iceking@adventuretime.ooo'","database_type":"postgres","server_version":110006}},{"id":1191917,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191916,"elapsed":0.001628},{"id":1191918,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"groups\".\"id\" FROM \"groups\" INNER JOIN \"invited_groups\" ON \"groups\".\"id\" = \"invited_groups\".\"group_id\" WHERE \"invited_groups\".\"invite_id\" = 32","database_type":"postgres","server_version":110006}},{"id":1191919,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191918,"elapsed":0.001256},{"id":1191920,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"group_users\".\"group_id\" FROM \"group_users\" WHERE \"group_users\".\"user_id\" = 1549","database_type":"postgres","server_version":110006}},{"id":1191921,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191920,"elapsed":0.001183},{"id":1191922,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":1191923,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1191922,"elapsed":5.5e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097814946200}},{"id":1191924,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"invites\" SET user_id = 1549 WHERE (\"invites\".\"deleted_at\" IS NULL) AND (email = 'iceking@adventuretime.ooo')","database_type":"postgres","server_version":110006}},{"id":1191925,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191924,"elapsed":0.001177},{"id":1191926,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":1191927,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":1191926,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":1191928,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"high_priority_types","path":"app/models/notification.rb","lineno":117,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":1191929,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"high_priority_types","path":"app/models/notification.rb","lineno":117,"static":true,"thread_id":70097708498960,"parent_id":1191928,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[6, 24]","object_id":70097587984360}},{"id":1191930,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"notifications\" (\"notification_type\", \"user_id\", \"data\", \"created_at\", \"updated_at\") VALUES (8, 1537, '{\"display_username\":\"iceking\"}', '2020-05-28 19:04:25.795706', '2020-05-28 19:04:25.795706') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1191931,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191930,"elapsed":0.001216},{"id":1191932,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191933,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191932,"elapsed":0.001008},{"id":1191934,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097828283300,"value":"#<User:0x00007f81d84f0748>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1191935,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1191936,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1191935,"elapsed":0.000246,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bc5daeb8>","object_id":70097593882460}},{"id":1191937,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191938,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191937,"elapsed":0.002169},{"id":1191939,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1191934,"elapsed":0.007157},{"id":1191940,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":2116508,"value":"notification","kind":"req"},{"name":"object","class":"Notification","object_id":70097816699540,"value":"#<Notification:0x00007f81d6ed8528>","kind":"req"},{"name":"event","class":"Symbol","object_id":12689308,"value":"notification_created","kind":"req"},{"name":"serializer","class":"Class","object_id":70097828747320,"value":"NotificationSerializer","kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1191941,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":2116508,"value":"notification","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1191942,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1191941,"elapsed":0.00024,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d4ae5fd0>","object_id":70097797853160}},{"id":1191943,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'notification') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191944,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191943,"elapsed":0.001523},{"id":1191945,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1191940,"elapsed":0.006395},{"id":1191946,"event":"call","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Notification","object_id":70097816699540,"value":"#<Notification:0x00007f81d6ed8528>"}},{"id":1191947,"event":"return","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":1191946,"elapsed":3.4e-05,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"display_username\"=>\"iceking\"}","object_id":70097567341000}},{"id":1191948,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":1191949,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":1191948,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":1191950,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":1191951,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":1191950,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":1191952,"event":"call","defined_class":"NotificationConsolidator","method_id":"consolidate!","path":"app/services/notification_consolidator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationConsolidator","object_id":70097567318800,"value":"#<NotificationConsolidator:0x00007f81b9330620>"}},{"id":1191953,"event":"return","defined_class":"NotificationConsolidator","method_id":"consolidate!","path":"app/services/notification_consolidator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1191952,"elapsed":9.0e-06},{"id":1191954,"event":"call","defined_class":"NotificationEmailer","method_id":"process_notification","path":"app/services/notification_emailer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"notification","class":"Notification","object_id":70097816699540,"value":"#<Notification:0x00007f81d6ed8528>","kind":"req"}],"receiver":{"class":"Class","object_id":70097756944400,"value":"NotificationEmailer"}},{"id":1191955,"event":"return","defined_class":"NotificationEmailer","method_id":"process_notification","path":"app/services/notification_emailer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1191954,"elapsed":3.0e-06},{"id":1191956,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1537 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191957,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191956,"elapsed":0.001166},{"id":1191958,"event":"call","defined_class":"User","method_id":"publish_notifications_state","path":"app/models/user.rb","lineno":571,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191959,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" LEFT JOIN topics ON notifications.topic_id = topics.id WHERE \"notifications\".\"user_id\" = 1537 AND (topics.id IS NULL OR topics.deleted_at IS NULL) ORDER BY notifications.created_at desc LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1191960,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191959,"elapsed":0.001287},{"id":1191961,"event":"call","defined_class":"NotificationSerializer","method_id":"include_fancy_title?","path":"app/serializers/notification_serializer.rb","lineno":25,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097612086480,"value":"#<NotificationSerializer:0x00007f81be8939a0>"}},{"id":1191962,"event":"return","defined_class":"NotificationSerializer","method_id":"include_fancy_title?","path":"app/serializers/notification_serializer.rb","lineno":25,"static":false,"thread_id":70097708498960,"parent_id":1191961,"elapsed":2.3e-05},{"id":1191963,"event":"call","defined_class":"NotificationSerializer","method_id":"slug","path":"app/serializers/notification_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097612086480,"value":"#<NotificationSerializer:0x00007f81be8939a0>"}},{"id":1191964,"event":"return","defined_class":"NotificationSerializer","method_id":"slug","path":"app/serializers/notification_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1191963,"elapsed":1.1e-05},{"id":1191965,"event":"call","defined_class":"NotificationSerializer","method_id":"data","path":"app/serializers/notification_serializer.rb","lineno":37,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097612086480,"value":"#<NotificationSerializer:0x00007f81be8939a0>"}},{"id":1191966,"event":"call","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Notification","object_id":70097612086640,"value":"#<Notification:0x00007f81be893ae0>"}},{"id":1191967,"event":"return","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":1191966,"elapsed":2.7e-05,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"display_username\"=>\"iceking\"}","object_id":70097612054420}},{"id":1191968,"event":"return","defined_class":"NotificationSerializer","method_id":"data","path":"app/serializers/notification_serializer.rb","lineno":37,"static":false,"thread_id":70097708498960,"parent_id":1191965,"elapsed":0.000142,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"display_username\"=>\"iceking\"}","object_id":70097612054420}},{"id":1191969,"event":"call","defined_class":"NotificationSerializer","method_id":"include_is_warning?","path":"app/serializers/notification_serializer.rb","lineno":33,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097612086480,"value":"#<NotificationSerializer:0x00007f81be8939a0>"}},{"id":1191970,"event":"call","defined_class":"NotificationSerializer","method_id":"is_warning","path":"app/serializers/notification_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097612086480,"value":"#<NotificationSerializer:0x00007f81be8939a0>"}},{"id":1191971,"event":"return","defined_class":"NotificationSerializer","method_id":"is_warning","path":"app/serializers/notification_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":1191970,"elapsed":8.0e-06},{"id":1191972,"event":"return","defined_class":"NotificationSerializer","method_id":"include_is_warning?","path":"app/serializers/notification_serializer.rb","lineno":33,"static":false,"thread_id":70097708498960,"parent_id":1191969,"elapsed":0.000105},{"id":1191973,"event":"call","defined_class":"User","method_id":"unread_notifications","path":"app/models/user.rb","lineno":521,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191974,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_unread_notifications","path":"app/models/user.rb","lineno":513,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1191975,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_unread_notifications","path":"app/models/user.rb","lineno":513,"static":true,"thread_id":70097708498960,"parent_id":1191974,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"99","object_id":199}},{"id":1191976,"event":"return","defined_class":"User","method_id":"unread_notifications","path":"app/models/user.rb","lineno":521,"static":false,"thread_id":70097708498960,"parent_id":1191973,"elapsed":0.001384,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1191977,"event":"call","defined_class":"User","method_id":"unread_private_messages","path":"app/models/user.rb","lineno":500,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191978,"event":"call","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191979,"event":"call","defined_class":"User","method_id":"unread_notifications_of_priority","path":"app/models/user.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[{"name":"high_priority","class":"Hash","object_id":70097612119860,"value":"{:high_priority=>true}","kind":"keyreq"}],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191980,"event":"return","defined_class":"User","method_id":"unread_notifications_of_priority","path":"app/models/user.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":1191979,"elapsed":0.001014,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191981,"event":"return","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parent_id":1191978,"elapsed":0.001161,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191982,"event":"return","defined_class":"User","method_id":"unread_private_messages","path":"app/models/user.rb","lineno":500,"static":false,"thread_id":70097708498960,"parent_id":1191977,"elapsed":0.001274,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191983,"event":"call","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191984,"event":"return","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parent_id":1191983,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1191985,"event":"call","defined_class":"User","method_id":"read_first_notification?","path":"app/models/user.rb","lineno":561,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097798462880,"value":"#<User:0x00007f81d4c0fb40>"}},{"id":1191986,"event":"return","defined_class":"User","method_id":"read_first_notification?","path":"app/models/user.rb","lineno":561,"static":false,"thread_id":70097708498960,"parent_id":1191985,"elapsed":3.2e-05},{"id":1191987,"event":"return","defined_class":"User","method_id":"publish_notifications_state","path":"app/models/user.rb","lineno":571,"static":false,"thread_id":70097708498960,"parent_id":1191958,"elapsed":0.012012,"return_value":{"class":"Integer","value":"15817","object_id":31635}},{"id":1191988,"event":"return","defined_class":"Invite","method_id":"redeem","path":"app/models/invite.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":1191545,"elapsed":0.470755,"return_value":{"class":"User","value":"#<User:0x00007f81ccda1b50>","object_id":70097732177320}},{"id":1191989,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097567270220,"value":"#<ActionDispatch::Request::Session:0x00007f81b9318a98>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097567437040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81b936a1e0>","kind":"req"},{"name":"opts","class":"Hash","object_id":70097612128960,"value":"{}","kind":"opt"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1191990,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1191991,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1191990,"elapsed":1.4e-05},{"id":1191992,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Hash","object_id":70097612145080,"value":"{:user_id=>1549, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\", :staff=>false, :impersonate=","kind":"keyreq"},{"name":"user_agent","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"client_ip","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"path","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"staff","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"impersonate","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1191993,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097612166940,"value":"3fbc153c2f1a7271a5b7345e6ccd76b5","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1191994,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1191995,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1191994,"elapsed":1.3e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1191996,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1191993,"elapsed":0.000137,"return_value":{"class":"String","value":"VhKvMHl4PAjFxNmiFZ0mlGAyc7E=","object_id":70097612162180}},{"id":1191997,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1191998,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191997,"elapsed":0.000753},{"id":1191999,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_tokens\" (\"user_id\", \"auth_token\", \"prev_auth_token\", \"client_ip\", \"rotated_at\", \"created_at\", \"updated_at\") VALUES (1549, 'VhKvMHl4PAjFxNmiFZ0mlGAyc7E=', 'VhKvMHl4PAjFxNmiFZ0mlGAyc7E=', '127.0.0.1/32', '2020-05-28 19:04:25.839537', '2020-05-28 19:04:25.844093', '2020-05-28 19:04:25.844093') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1192000,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1191999,"elapsed":0.001092},{"id":1192001,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1192002,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192001,"elapsed":0.000963},{"id":1192003,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097608445100,"value":"{:action=>\"generate\", :user_auth_token_id=>1332, :user_id=>1549, :user_agent=>nil, :client_ip=>\"127.","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1192004,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1192005,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192004,"elapsed":0.000917},{"id":1192006,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('generate', 1332, 1549, '127.0.0.1/32', 'VhKvMHl4PAjFxNmiFZ0mlGAyc7E=', '2020-05-28 19:04:25.858486') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1192007,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192006,"elapsed":0.001348},{"id":1192008,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1192009,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192008,"elapsed":0.001164},{"id":1192010,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1192003,"elapsed":0.015012,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81be1a0c10>","object_id":70097608443400}},{"id":1192011,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parent_id":1191992,"elapsed":0.029923,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be8c3d58>","object_id":70097612185260}},{"id":1192012,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parameters":[{"name":"unhashed_auth_token","class":"String","object_id":70097612166940,"value":"3fbc153c2f1a7271a5b7345e6ccd76b5","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192013,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parent_id":1192012,"elapsed":4.5e-05,"return_value":{"class":"Hash","value":"{:value=>\"3fbc153c2f1a7271a5b7345e6ccd76b5\", :httponly=>true, :expires=>Mon, 27 Jul 2020 19:04:25 UT","object_id":70097613175420}},{"id":1192014,"event":"call","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192015,"event":"return","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parent_id":1192014,"elapsed":2.1e-05},{"id":1192016,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192017,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parent_id":1192016,"elapsed":2.1e-05},{"id":1192018,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192019,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parent_id":1192018,"elapsed":7.0e-06},{"id":1192020,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":3099,"value":"1549","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1192021,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"id\" IN (SELECT \"user_auth_tokens\".\"id\" FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1549 AND (rotated_at > '2020-03-29 19:04:25.870019') ORDER BY rotated_at DESC OFFSET 60)","database_type":"postgres","server_version":110006}},{"id":1192022,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192021,"elapsed":0.001357},{"id":1192023,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parent_id":1192020,"elapsed":0.004821,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1192024,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parent_id":1191989,"elapsed":0.035786,"return_value":{"class":"User","value":"#<User:0x00007f81ccda1b50>","object_id":70097732177320}},{"id":1192025,"event":"call","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192026,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>","kind":"req"},{"name":"event","class":"Symbol","object_id":12243868,"value":"user_logged_in","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1192027,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":1192028,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":1192027,"elapsed":0.000246,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bec11578>","object_id":70097613916860}},{"id":1192029,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1192030,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192029,"elapsed":0.001385},{"id":1192031,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":1192026,"elapsed":0.005447},{"id":1192032,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192033,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":1192032,"elapsed":3.0e-05},{"id":1192034,"event":"return","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parent_id":1192025,"elapsed":0.005765},{"id":1192035,"event":"call","defined_class":"User","method_id":"update_timezone_if_missing","path":"app/models/user.rb","lineno":684,"static":false,"thread_id":70097708498960,"parameters":[{"name":"timezone","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192036,"event":"return","defined_class":"User","method_id":"update_timezone_if_missing","path":"app/models/user.rb","lineno":684,"static":false,"thread_id":70097708498960,"parent_id":1192035,"elapsed":4.0e-06},{"id":1192037,"event":"call","defined_class":"User","method_id":"enqueue_welcome_message","path":"app/models/user.rb","lineno":386,"static":false,"thread_id":70097708498960,"parameters":[{"name":"message_type","class":"String","object_id":70097802560200,"value":"welcome_invite","kind":"req"}],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192038,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":12178588,"value":"send_system_message","kind":"req"},{"name":"opts","class":"Hash","object_id":70097608764980,"value":"{:user_id=>1549, :message_type=>\"welcome_invite\"}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1192039,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1192040,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1192039,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1192041,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":1192038,"elapsed":0.000262,"return_value":{"class":"String","value":"13b04c338975275eeb8ee937","object_id":70097608784340}},{"id":1192042,"event":"return","defined_class":"User","method_id":"enqueue_welcome_message","path":"app/models/user.rb","lineno":386,"static":false,"thread_id":70097708498960,"parent_id":1192037,"elapsed":0.000397,"return_value":{"class":"String","value":"13b04c338975275eeb8ee937","object_id":70097608784340}},{"id":1192043,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192044,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1192043,"elapsed":7.0e-06},{"id":1192045,"event":"call","defined_class":"User","method_id":"has_password?","path":"app/models/user.rb","lineno":642,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>"}},{"id":1192046,"event":"return","defined_class":"User","method_id":"has_password?","path":"app/models/user.rb","lineno":642,"static":false,"thread_id":70097708498960,"parent_id":1192045,"elapsed":1.1e-05},{"id":1192047,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":16967068,"value":"invite_password_instructions_email","kind":"req"},{"name":"opts","class":"Hash","object_id":70097608800420,"value":"{:username=>\"iceking\"}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1192048,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":1192049,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1192048,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1192050,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":1192047,"elapsed":0.000192,"return_value":{"class":"String","value":"f02bdf0c50a5d7521d3f07de","object_id":70097608795240}},{"id":1192051,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1192052,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1192051,"elapsed":5.3e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097608834300}},{"id":1192053,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1192054,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1192053,"elapsed":3.0e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097608828360}},{"id":1192055,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"topics\".\"id\", \"topics\".\"title\", \"topics\".\"last_posted_at\", \"topics\".\"created_at\", \"topics\".\"updated_at\", \"topics\".\"views\", \"topics\".\"posts_count\", \"topics\".\"user_id\", \"topics\".\"last_post_user_id\", \"topics\".\"reply_count\", \"topics\".\"featured_user1_id\", \"topics\".\"featured_user2_id\", \"topics\".\"featured_user3_id\", \"topics\".\"deleted_at\", \"topics\".\"highest_post_number\", \"topics\".\"image_url\", \"topics\".\"like_count\", \"topics\".\"incoming_link_count\", \"topics\".\"category_id\", \"topics\".\"visible\", \"topics\".\"moderator_posts_count\", \"topics\".\"closed\", \"topics\".\"archived\", \"topics\".\"bumped_at\", \"topics\".\"has_summary\", \"topics\".\"archetype\", \"topics\".\"featured_user4_id\", \"topics\".\"notify_moderators_count\", \"topics\".\"spam_count\", \"topics\".\"pinned_at\", \"topics\".\"score\", \"topics\".\"percent_rank\", \"topics\".\"subtype\", \"topics\".\"slug\", \"topics\".\"deleted_by_id\", \"topics\".\"participant_count\", \"topics\".\"word_count\", \"topics\".\"excerpt\", \"topics\".\"pinned_globally\", \"topics\".\"pinned_until\", \"topics\".\"fancy_title\", \"topics\".\"highest_staff_post_number\", \"topics\".\"featured_link\", \"topics\".\"reviewable_score\", \"topics\".\"image_upload_id\" FROM \"topics\" INNER JOIN \"topic_invites\" ON \"topics\".\"id\" = \"topic_invites\".\"topic_id\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND \"topic_invites\".\"invite_id\" = 32 ORDER BY \"topics\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1192056,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192055,"elapsed":0.001793},{"id":1192057,"event":"call","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parameters":[{"name":"post_number","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Topic","object_id":70097800248800,"value":"#<Topic:0x00007f81d4f77bc0>"}},{"id":1192058,"event":"call","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Topic","object_id":70097800248800,"value":"#<Topic:0x00007f81d4f77bc0>"}},{"id":1192059,"event":"return","defined_class":"Topic","method_id":"slug","path":"app/models/topic.rb","lineno":1101,"static":false,"thread_id":70097708498960,"parent_id":1192058,"elapsed":1.8e-05,"return_value":{"class":"String","value":"this-is-a-test-topic-873","object_id":70097800244580}},{"id":1192060,"event":"return","defined_class":"Topic","method_id":"relative_url","path":"app/models/topic.rb","lineno":1159,"static":false,"thread_id":70097708498960,"parent_id":1192057,"elapsed":0.000173,"return_value":{"class":"String","value":"/t/this-is-a-test-topic-873/1120","object_id":70097800243600}},{"id":1192061,"event":"return","defined_class":"InvitesController","method_id":"perform_accept_invitation","path":"app/controllers/invites_controller.rb","lineno":41,"static":false,"thread_id":70097708498960,"parent_id":1191540,"elapsed":0.526513,"return_value":{"class":"String","value":"{\"success\":true,\"redirect_to\":\"/t/this-is-a-test-topic-873/1120\"}","object_id":70097800241840}},{"id":1192062,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1192063,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1192062,"elapsed":1.3e-05},{"id":1192064,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1192065,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1192064,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097800262080}},{"id":1192066,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitesController","object_id":70097567388900,"value":"#<InvitesController:0x00007f81b93529c8>"}},{"id":1192067,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192068,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1192067,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccda1b50>","object_id":70097732177320}},{"id":1192069,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097732177320,"value":"#<User:0x00007f81ccda1b50>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097567270220,"value":"#<ActionDispatch::Request::Session:0x00007f81b9318a98>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097567437040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81b936a1e0>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192070,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192071,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192072,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1192071,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccda1b50>","object_id":70097732177320}},{"id":1192073,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1192070,"elapsed":0.000105},{"id":1192074,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192075,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097567421700,"value":"#<TestCurrentUserProvider:0x00007f81b9362a08>"}},{"id":1192076,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1192075,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81ccda1b50>","object_id":70097732177320}},{"id":1192077,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1192074,"elapsed":0.000106},{"id":1192078,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1549 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1192079,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1192078,"elapsed":0.001457},{"id":1192080,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1192069,"elapsed":0.006096},{"id":1192081,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1192066,"elapsed":0.00637},{"id":1192082,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1191485,"elapsed":0.538057,"http_server_response":{"status":200}},{"id":1192083,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828962480,"value":"#<TestCurrentUserProvider:0x00007f81d863c160>"}},{"id":1192084,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1192083,"elapsed":8.0e-06},{"id":1192085,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1192086,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1192085,"elapsed":6.0e-06},{"id":1192087,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1192088,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1192087,"elapsed":4.0e-06}]}