{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::EmailController #test with SiteSetting.disable_emails works when setting is \"no\"","app":"Discourse","feature":"Admin::EmailController #test","feature_group":"Admin email","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/validators","type":"package","children":[{"name":"RegexSettingValidation","type":"class","children":[{"name":"initialize_regex_opts","type":"function","location":"lib/validators/regex_setting_validation.rb:5","static":false},{"name":"regex_match?","type":"function","location":"lib/validators/regex_setting_validation.rb:10","static":false}]},{"name":"StringSettingValidator","type":"class","children":[{"name":"valid_value?","type":"function","location":"lib/validators/string_setting_validator.rb:12","static":false}]}]},{"name":"app/models","type":"package","children":[{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"User","type":"class","children":[{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"values","type":"function","location":"app/models/locale_site_setting.rb:9","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"Upload","type":"class","children":[{"name":"to_s","type":"function","location":"app/models/upload.rb:50","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"available_locales","type":"function","location":"app/models/site_setting.rb:32","static":true},{"name":"require_invite_code","type":"function","location":"app/models/site_setting.rb:176","static":true},{"name":"site_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"site_logo_small_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_mobile_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_favicon_url","type":"function","location":"app/models/site_setting.rb:201","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"s3_cdn_url","type":"function","location":"app/models/site_setting.rb:130","static":true},{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"EmailStyle","type":"class","children":[{"name":"html","type":"function","location":"app/models/email_style.rb:12","static":false},{"name":"default_html","type":"function","location":"app/models/email_style.rb:24","static":false},{"name":"default_template","type":"function","location":"app/models/email_style.rb:32","static":true},{"name":"compiled_css","type":"function","location":"app/models/email_style.rb:20","static":false},{"name":"css","type":"function","location":"app/models/email_style.rb:16","static":false}]},{"name":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","type":"class","children":[{"name":"secure_media_url?","type":"function","location":"app/models/upload.rb:150","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"EmailController","type":"class","children":[{"name":"test","type":"function","location":"app/controllers/admin/email_controller.rb:10","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"Sender","type":"class","children":[{"name":"send","type":"function","location":"lib/email/sender.rb:26","static":false},{"name":"to_address","type":"function","location":"lib/email/sender.rb:222","static":false},{"name":"host_for","type":"function","location":"lib/email/sender.rb:230","static":true},{"name":"bounceable_reply_address?","type":"function","location":"lib/email/sender.rb:366","static":true}]},{"name":"BuildEmailHelper","type":"class","children":[{"name":"build_email","type":"function","location":"lib/email/build_email_helper.rb:5","static":false}]},{"name":"MessageBuilder","type":"class","children":[{"name":"header_args","type":"function","location":"lib/email/message_builder.rb:139","static":false},{"name":"custom_headers","type":"function","location":"lib/email/message_builder.rb:162","static":true},{"name":"build_args","type":"function","location":"lib/email/message_builder.rb:129","static":false},{"name":"subject","type":"function","location":"lib/email/message_builder.rb:53","static":false},{"name":"body","type":"function","location":"lib/email/message_builder.rb:112","static":false},{"name":"html_part","type":"function","location":"lib/email/message_builder.rb:76","static":false}]},{"name":"site_title","type":"function","location":"lib/email.rb:38","static":true},{"name":"cleanup_alias","type":"function","location":"lib/email.rb:17","static":true},{"name":"Renderer","type":"class","children":[{"name":"html","type":"function","location":"lib/email/renderer.rb:17","static":false},{"name":"text","type":"function","location":"lib/email/renderer.rb:11","static":false}]},{"name":"Styles","type":"class","children":[{"name":"format_basic","type":"function","location":"lib/email/styles.rb:58","static":false},{"name":"format_html","type":"function","location":"lib/email/styles.rb:172","static":false},{"name":"add_styles","type":"function","location":"lib/email/styles.rb:26","static":false},{"name":"onebox_styles","type":"function","location":"lib/email/styles.rb:112","static":false},{"name":"plugin_styles","type":"function","location":"lib/email/styles.rb:237","static":false},{"name":"format_custom","type":"function","location":"lib/email/styles.rb:230","static":false},{"name":"custom_styles","type":"function","location":"lib/email/styles.rb:36","static":false},{"name":"to_html","type":"function","location":"lib/email/styles.rb:241","static":false},{"name":"include_body?","type":"function","location":"lib/email/styles.rb:248","static":false}]}]}]},{"name":"app/mailers","type":"package","children":[{"name":"TestMailer","type":"class","children":[{"name":"send_test","type":"function","location":"app/mailers/test_mailer.rb:6","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"UserNotificationRenderer","type":"class","children":[{"name":"render","type":"function","location":"app/services/user_notification_renderer.rb:10","static":true}]}]},{"name":"app/helpers","type":"package","children":[{"name":"EmailHelper","type":"class","children":[{"name":"email_html_template","type":"function","location":"app/helpers/email_helper.rb:28","static":false}]}]}],"events":[{"id":1009037,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097703038880,"value":"{:name=>:disable_emails}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70097592618100,"value":"#<StringSettingValidator:0x00007f81bc3718e8>"}},{"id":1009038,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009037,"elapsed":8.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70097724330800}},{"id":1009039,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097708321720,"value":"no","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097592618100,"value":"#<StringSettingValidator:0x00007f81bc3718e8>"}},{"id":1009040,"event":"call","defined_class":"RegexSettingValidation","method_id":"regex_match?","path":"lib/validators/regex_setting_validation.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097708321720,"value":"no","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097592618100,"value":"#<StringSettingValidator:0x00007f81bc3718e8>"}},{"id":1009041,"event":"return","defined_class":"RegexSettingValidation","method_id":"regex_match?","path":"lib/validators/regex_setting_validation.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1009040,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009042,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1009039,"elapsed":0.00018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009043,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1009044,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1009043,"elapsed":0.000114,"return_value":{"class":"Integer","value":"13498","object_id":26997}},{"id":1009045,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1352 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009046,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009045,"elapsed":0.001523},{"id":1009047,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097593801960,"value":"#<User:0x00007f81bc5b39d0>"}},{"id":1009048,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1352 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009049,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009048,"elapsed":0.001698},{"id":1009050,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009047,"elapsed":0.005188,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097587239040}},{"id":1009051,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587361240,"value":"#<TestCurrentUserProvider:0x00007f81bb96abb0>"}},{"id":1009052,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097587359280,"value":"d7252467756df794288f95a38b1def9e","kind":"req"},{"name":"opts","class":"Hash","object_id":70097587358820,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1009053,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097587359280,"value":"d7252467756df794288f95a38b1def9e","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1009054,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009055,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1009054,"elapsed":1.1e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1009056,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1009053,"elapsed":0.000152,"return_value":{"class":"String","value":"O1chMj1Gkx3wDd2QsdOVcQBqEOM=","object_id":70097587375840}},{"id":1009057,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'O1chMj1Gkx3wDd2QsdOVcQBqEOM=' OR\n                          prev_auth_token = 'O1chMj1Gkx3wDd2QsdOVcQBqEOM=') AND rotated_at > '2020-03-29 19:01:40.999935') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009058,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009057,"elapsed":0.001417},{"id":1009059,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:41.005785' WHERE \"user_auth_tokens\".\"id\" = 1163 AND \"user_auth_tokens\".\"auth_token\" = 'O1chMj1Gkx3wDd2QsdOVcQBqEOM='","database_type":"postgres","server_version":110006}},{"id":1009060,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009059,"elapsed":0.001341},{"id":1009061,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097567140680,"value":"{:action=>\"seen token\", :user_auth_token_id=>1163, :user_id=>1353, :auth_token=>\"O1chMj1Gkx3wDd2QsdO","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1009062,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009063,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009062,"elapsed":0.001219},{"id":1009064,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1163, 1353, '127.0.0.1/32', 'O1chMj1Gkx3wDd2QsdOVcQBqEOM=', '2020-05-28 19:01:41.011060') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009065,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009064,"elapsed":0.001371},{"id":1009066,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009067,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009066,"elapsed":0.001259},{"id":1009068,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009061,"elapsed":0.016032,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81b92e3848>","object_id":70097567161380}},{"id":1009069,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1009052,"elapsed":0.027347,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81b90c5b88>","object_id":70097566051780}},{"id":1009070,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009071,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009070,"elapsed":0.001543},{"id":1009072,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009073,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1009072,"elapsed":2.2e-05},{"id":1009074,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587361240,"value":"#<TestCurrentUserProvider:0x00007f81bb96abb0>"}},{"id":1009075,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1009074,"elapsed":0.001084,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009076,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009077,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1009076,"elapsed":0.000929},{"id":1009078,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097608010620,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009079,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1353","database_type":"postgres","server_version":110006}},{"id":1009080,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009079,"elapsed":0.001233},{"id":1009081,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1009078,"elapsed":0.004583,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009082,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009051,"elapsed":0.041006,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009083,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097587361240,"value":"#<TestCurrentUserProvider:0x00007f81bb96abb0>"}},{"id":1009084,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009083,"elapsed":6.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009085,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009086,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1009085,"elapsed":2.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009087,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828022820,"value":"#<TestCurrentUserProvider:0x00007f81d8471448>"}},{"id":1009088,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009087,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009089,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828022820,"value":"#<TestCurrentUserProvider:0x00007f81d8471448>"}},{"id":1009090,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009089,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009091,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009092,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1009091,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009093,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009094,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009093,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009095,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009096,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009095,"elapsed":1.4e-05},{"id":1009097,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/admin/email/test.json"},"message":[{"name":"email_address","class":"String","value":"eviltrout@somewhere.com","object_id":70097587247160},{"name":"controller","class":"String","value":"admin/email","object_id":70097794312700},{"name":"action","class":"String","value":"test","object_id":70097712530580},{"name":"format","class":"String","value":"json","object_id":70097587361520}]},{"id":1009098,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009099,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009100,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009101,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009102,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009101,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009103,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1009100,"elapsed":0.00018,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d84932a0>","object_id":70097828092240}},{"id":1009104,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828092240,"value":"#<Guardian:0x00007f81d84932a0>"}},{"id":1009105,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1009104,"elapsed":1.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009106,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1009099,"elapsed":0.000496},{"id":1009107,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009108,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009107,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009109,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1353 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009110,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009109,"elapsed":0.001549},{"id":1009111,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009112,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1009111,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d84932a0>","object_id":70097828092240}},{"id":1009113,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097799393480,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097828092240,"value":"#<Guardian:0x00007f81d84932a0>"}},{"id":1009114,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1009113,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009115,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1009098,"elapsed":0.007125,"return_value":{"class":"Array","value":"[2]","object_id":70097799393480}},{"id":1009116,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009117,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009118,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009117,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009119,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009120,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009119,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009121,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009122,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009121,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009123,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1009116,"elapsed":0.000444,"return_value":{"class":"String","value":"email/test","object_id":70097799424020}},{"id":1009124,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009125,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009126,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009125,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009127,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1009124,"elapsed":0.000136},{"id":1009128,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009129,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009130,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009129,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009131,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009132,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009131,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009133,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009134,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1009133,"elapsed":1.4e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1009135,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009136,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009135,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009137,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009138,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009137,"elapsed":1.2e-05},{"id":1009139,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009140,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009139,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009141,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009142,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009141,"elapsed":8.0e-06},{"id":1009143,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1009128,"elapsed":0.000913,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097828189060}},{"id":1009144,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009145,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1009144,"elapsed":9.0e-06},{"id":1009146,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009147,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009148,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009147,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009149,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009146,"elapsed":0.00013},{"id":1009150,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009151,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009150,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009152,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009153,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009152,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009154,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009155,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009154,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009156,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097793560780,"value":"Admin::EmailController"}},{"id":1009157,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1009156,"elapsed":4.0e-06},{"id":1009158,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009159,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1009158,"elapsed":9.0e-06},{"id":1009160,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009161,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009162,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009161,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009163,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009160,"elapsed":0.000132},{"id":1009164,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009165,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009166,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009165,"elapsed":1.0e-05,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009167,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1009164,"elapsed":0.000258},{"id":1009168,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009169,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009168,"elapsed":8.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009170,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009171,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009170,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009172,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>"}},{"id":1009173,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1009172,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009174,"event":"call","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009175,"event":"call","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097608460040,"value":"#<Email::Sender:0x00007f81be1a8e10>"}},{"id":1009176,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009177,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009176,"elapsed":8.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009178,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009179,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009178,"elapsed":1.3e-05},{"id":1009180,"event":"call","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"to_address","class":"String","object_id":70097587247160,"value":"eviltrout@somewhere.com","kind":"req"}],"receiver":{"class":"TestMailer","object_id":70097608458680,"value":"#<TestMailer:0x00007f81be1a8370>"}},{"id":1009181,"event":"call","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"builder_args","class":"String","object_id":70097587247160,"value":"eviltrout@somewhere.com","kind":"rest"}],"receiver":{"class":"TestMailer","object_id":70097608458680,"value":"#<TestMailer:0x00007f81be1a8370>"}},{"id":1009182,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097568149900,"value":"#<Email::MessageBuilder:0x00007f81b94c6318>"}},{"id":1009183,"event":"call","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1009184,"event":"return","defined_class":"Email","method_id":"site_title","path":"lib/email.rb","lineno":38,"static":true,"thread_id":70097708498960,"parent_id":1009183,"elapsed":5.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097723392500}},{"id":1009185,"event":"call","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097723392500,"value":"Discourse","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":1009186,"event":"return","defined_class":"Email","method_id":"cleanup_alias","path":"lib/email.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1009185,"elapsed":6.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097828255740}},{"id":1009187,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1009188,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1009187,"elapsed":8.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097828253320}},{"id":1009189,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1009182,"elapsed":0.000359,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097828251900}},{"id":1009190,"event":"call","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097568149900,"value":"#<Email::MessageBuilder:0x00007f81b94c6318>"}},{"id":1009191,"event":"call","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"string","class":"String","object_id":70097723620940,"value":"Auto-Submitted: auto-generated","kind":"req"}],"receiver":{"class":"Class","object_id":70097816457340,"value":"Email::MessageBuilder"}},{"id":1009192,"event":"return","defined_class":"Email::MessageBuilder","method_id":"custom_headers","path":"lib/email/message_builder.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":1009191,"elapsed":7.0e-06,"return_value":{"class":"Hash","value":"{\"Auto-Submitted\"=>\"auto-generated\"}","object_id":70097828268140}},{"id":1009193,"event":"return","defined_class":"Email::MessageBuilder","method_id":"header_args","path":"lib/email/message_builder.rb","lineno":139,"static":false,"thread_id":70097708498960,"parent_id":1009190,"elapsed":0.000129,"return_value":{"class":"Hash","value":"{\"X-Auto-Response-Suppress\"=>\"All\", \"Reply-To\"=>\"\\\"Discourse\\\" <noreply@test.localhost>\", \"Auto-Subm","object_id":70097828266820}},{"id":1009194,"event":"call","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097568149900,"value":"#<Email::MessageBuilder:0x00007f81b94c6318>"}},{"id":1009195,"event":"call","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097568149900,"value":"#<Email::MessageBuilder:0x00007f81b94c6318>"}},{"id":1009196,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"translation_overrides\" WHERE \"translation_overrides\".\"locale\" = 'en_US' AND \"translation_overrides\".\"translation_key\" = 'test_mailer.subject_template' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1009197,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009196,"elapsed":0.00141},{"id":1009198,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009199,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009198,"elapsed":1.1e-05,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009200,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009201,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009200,"elapsed":1.4e-05},{"id":1009202,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009203,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009202,"elapsed":6.0e-06},{"id":1009204,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009205,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009204,"elapsed":6.0e-06},{"id":1009206,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009207,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009206,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009208,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009209,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009208,"elapsed":1.4e-05},{"id":1009210,"event":"return","defined_class":"Email::MessageBuilder","method_id":"subject","path":"lib/email/message_builder.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":1009195,"elapsed":0.007933,"return_value":{"class":"String","value":"[Discourse] Email Deliverability Test","object_id":70097568295180}},{"id":1009211,"event":"call","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097568149900,"value":"#<Email::MessageBuilder:0x00007f81b94c6318>"}},{"id":1009212,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009213,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009212,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009214,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009215,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009214,"elapsed":1.4e-05},{"id":1009216,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009217,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009216,"elapsed":6.0e-06},{"id":1009218,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009219,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009218,"elapsed":4.0e-06},{"id":1009220,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009221,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009220,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009222,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009223,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009222,"elapsed":1.0e-05},{"id":1009224,"event":"return","defined_class":"Email::MessageBuilder","method_id":"body","path":"lib/email/message_builder.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1009211,"elapsed":0.00097,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097828446340}},{"id":1009225,"event":"return","defined_class":"Email::MessageBuilder","method_id":"build_args","path":"lib/email/message_builder.rb","lineno":129,"static":false,"thread_id":70097708498960,"parent_id":1009194,"elapsed":0.009169,"return_value":{"class":"Hash","value":"{:to=>\"eviltrout@somewhere.com\", :subject=>\"[Discourse] Email Deliverability Test\", :body=>\"This is ","object_id":70097828468280}},{"id":1009226,"event":"call","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::MessageBuilder","object_id":70097568149900,"value":"#<Email::MessageBuilder:0x00007f81b94c6318>"}},{"id":1009227,"event":"return","defined_class":"Email::MessageBuilder","method_id":"html_part","path":"lib/email/message_builder.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":1009226,"elapsed":6.0e-06},{"id":1009228,"event":"return","defined_class":"Email::BuildEmailHelper","method_id":"build_email","path":"lib/email/build_email_helper.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1009181,"elapsed":0.010729,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:41 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097608458580}},{"id":1009229,"event":"return","defined_class":"TestMailer","method_id":"send_test","path":"app/mailers/test_mailer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":1009180,"elapsed":0.011778,"return_value":{"class":"Mail::Message","value":"Date: Thu, 28 May 2020 15:01:41 -0400\r\nFrom: Discourse <noreply@test.localhost>\r\nReply-To: Discourse","object_id":70097608458580}},{"id":1009230,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097608460040,"value":"#<Email::Sender:0x00007f81be1a8e10>"}},{"id":1009231,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1009230,"elapsed":3.4e-05,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097828566740}},{"id":1009232,"event":"call","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097828565260,"value":"#<Email::Renderer:0x00007f81d857a218>"}},{"id":1009233,"event":"call","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Renderer","object_id":70097828565260,"value":"#<Email::Renderer:0x00007f81d857a218>"}},{"id":1009234,"event":"return","defined_class":"Email::Renderer","method_id":"text","path":"lib/email/renderer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":1009233,"elapsed":4.0e-05,"return_value":{"class":"String","value":"This is a test email from\n\n[**http://test.localhost**][0]\n\nEmail deliverability is complicated. Here","object_id":70097828580660}},{"id":1009235,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1009236,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":1009237,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":1009236,"elapsed":7.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097828577420}},{"id":1009238,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":1009235,"elapsed":0.001301,"return_value":{"class":"Array","value":"[]","object_id":70097828600380}},{"id":1009239,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097829280380,"value":"/images/discourse-logo-sketch.png"}},{"id":1009240,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1009239,"elapsed":1.0e-05,"return_value":{"class":"String","value":"/images/discourse-logo-sketch.png","object_id":70097829280080}},{"id":1009241,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097829297820,"value":"/images/discourse-logo-sketch-small.png"}},{"id":1009242,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1009241,"elapsed":6.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch-small.png","object_id":70097829297360}},{"id":1009243,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009244,"event":"call","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009245,"event":"return","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":1009244,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[{:name=>\"اللغة العربية\", :value=>\"ar\"}, {:name=>\"беларуская мова\", :value=>\"be\"}, {:name=>\"българск","object_id":70097567928580}},{"id":1009246,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1009243,"elapsed":0.000319,"return_value":{"class":"String","value":"[{\"name\":\"اللغة العربية\",\"value\":\"ar\"},{\"name\":\"беларуская мова\",\"value\":\"be\"},{\"name\":\"български ез","object_id":70097828627380}},{"id":1009247,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009248,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parent_id":1009247,"elapsed":9.0e-06},{"id":1009249,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009250,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009251,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1009250,"elapsed":4.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1009252,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1009253,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1009252,"elapsed":1.0e-05},{"id":1009254,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009249,"elapsed":0.000355,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097828645540}},{"id":1009255,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009256,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009257,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1009256,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1009258,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1009259,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":1009258,"elapsed":8.0e-06},{"id":1009260,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009255,"elapsed":0.000306,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch-small.png","object_id":70097828662960}},{"id":1009261,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009262,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009261,"elapsed":1.6e-05,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097800175960}},{"id":1009263,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009264,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":1009263,"elapsed":1.6e-05,"return_value":{"class":"String","value":"http://test.localhost/uploads/default/test_0/optimized/1X/_129430568242d1b7f853bb13ebea28b3f6af4e7_2","object_id":70097800212220}},{"id":1009265,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1009266,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1009265,"elapsed":6.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1009267,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1009268,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009269,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1009268,"elapsed":4.0e-06},{"id":1009270,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":1009267,"elapsed":0.000122},{"id":1009271,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1009272,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1009273,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":1009274,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":1009273,"elapsed":6.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097828727140}},{"id":1009275,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":1009272,"elapsed":0.001429},{"id":1009276,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009271,"elapsed":0.001617},{"id":1009277,"event":"call","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parameters":[{"name":"args","class":"Hash","object_id":70097613083100,"value":"{:template=>\"layouts/email_template\", :format=>:html, :locals=>{:html_body=>\"<p>This is a test email","kind":"rest"}],"receiver":{"class":"Class","object_id":70097797777140,"value":"UserNotificationRenderer"}},{"id":1009278,"event":"call","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserNotificationRenderer","object_id":70097566174800,"value":"#<UserNotificationRenderer:0x00007f81b9101ca0>"}},{"id":1009279,"event":"call","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097613103020,"value":"#<EmailStyle:0x00007f81bea83f58>"}},{"id":1009280,"event":"call","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097613103020,"value":"#<EmailStyle:0x00007f81bea83f58>"}},{"id":1009281,"event":"call","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097566750080,"value":"EmailStyle"}},{"id":1009282,"event":"return","defined_class":"EmailStyle","method_id":"default_template","path":"app/models/email_style.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":1009281,"elapsed":5.0e-06,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1009283,"event":"return","defined_class":"EmailStyle","method_id":"default_html","path":"app/models/email_style.rb","lineno":24,"static":false,"thread_id":70097708498960,"parent_id":1009280,"elapsed":0.000134,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1009284,"event":"return","defined_class":"EmailStyle","method_id":"html","path":"app/models/email_style.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1009279,"elapsed":0.000265,"return_value":{"class":"String","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097566420600}},{"id":1009285,"event":"return","defined_class":"EmailHelper","method_id":"email_html_template","path":"app/helpers/email_helper.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":1009278,"elapsed":0.000436,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtm","object_id":70097613096860}},{"id":1009286,"event":"return","defined_class":"UserNotificationRenderer","method_id":"render","path":"app/services/user_notification_renderer.rb","lineno":10,"static":true,"thread_id":70097708498960,"parent_id":1009277,"elapsed":0.000795,"return_value":{"class":"ActionView::OutputBuffer","value":"  <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xh","object_id":70097613079880}},{"id":1009287,"event":"call","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009288,"event":"return","defined_class":"Email::Styles","method_id":"format_basic","path":"lib/email/styles.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1009287,"elapsed":0.000668,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097613112100}},{"id":1009289,"event":"call","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009290,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613128960,"value":"<body>\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th, h1, h2, h3 {font-family: Helvetic","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613130040,"value":"text-align:left;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009291,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009290,"elapsed":2.9e-05,"return_value":{"class":"String","value":"text-align:left;","object_id":70097613130040}},{"id":1009292,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613146100,"value":"<a href=\"http://test.localhost\"><strong>http://test.localhost</strong></a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009293,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009292,"elapsed":1.5e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009294,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613228140,"value":"<a href=\"https://mxtoolbox.com/ReverseLookup.aspx\" rel=\"nofollow noopener\">Test your Reverse PTR rec","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009295,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009294,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009296,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613263060,"value":"<a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\">SPF record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009297,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009296,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009298,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613283040,"value":"<a href=\"https://www.kitterman.com/spf/validate.html\" rel=\"nofollow noopener\">Test your SPF record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009299,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009298,"elapsed":1.1e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009300,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613298980,"value":"<a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\">DKIM record</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009301,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009300,"elapsed":2.3e-05,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009302,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613295940,"value":"<a href=\"https://www.mail-tester.com/spf-dkim-check\" rel=\"nofollow noopener\">Test your DKIM record</","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009303,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009302,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009304,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613312320,"value":"<a href=\"https://whatismyipaddress.com/blacklist-check\" rel=\"nofollow noopener\">not on any email bla","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009305,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009304,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009306,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613344880,"value":"<a href=\"https://www.mail-tester.com/\" rel=\"nofollow noopener\">mail-tester.com</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009307,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009306,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009308,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613377020,"value":"<a href=\"https://goo.gl/r1WMF6\" rel=\"nofollow noopener\">SendGrid</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009309,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009308,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009310,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613397000,"value":"<a href=\"https://www.sparkpost.com/\" rel=\"nofollow noopener\">SparkPost</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009311,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009310,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009312,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613393480,"value":"<a href=\"https://www.mailgun.com/\" rel=\"nofollow noopener\">Mailgun</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009313,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009312,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009314,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613414100,"value":"<a href=\"https://www.mailjet.com/pricing/\" rel=\"nofollow noopener\">Mailjet</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009315,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009314,"elapsed":8.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009316,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613428260,"value":"<a href=\"https://www.discourse.org\" rel=\"nofollow noopener\">Discourse</a>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097613439600,"value":"text-decoration: none; font-weight: bold; color: #006699;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009317,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009316,"elapsed":9.0e-06,"return_value":{"class":"String","value":"text-decoration: none; font-weight: bold; color: #006699;","object_id":70097613439600}},{"id":1009318,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613164260,"value":"<ul>\n<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443600,"value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009319,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009318,"elapsed":9.0e-06,"return_value":{"class":"String","value":"margin: 0 0 0 10px; padding: 0 0 0 20px;","object_id":70097566443600}},{"id":1009320,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613162620,"value":"<li>\n<p>Be <em>sure</em> to set the <code>notification email</code> from: address correctly in your ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009321,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009320,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009322,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613172880,"value":"<li>\n<p>Know how to view the raw source of the email in your mail client, so you can examine email h","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009323,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009322,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009324,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613233420,"value":"<li>\n<p><strong>IMPORTANT:</strong> Does your ISP have a reverse DNS record entered to associate the","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009325,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009324,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009326,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613244240,"value":"<li>\n<p>Is your domain’s <a href=\"http://www.openspf.org/SPF_Record_Syntax\" rel=\"nofollow noopener\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009327,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009326,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009328,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613277240,"value":"<li>\n<p>Is your domain’s <a href=\"http://www.dkim.org/\" rel=\"nofollow noopener\" style=\"text-decorati","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009329,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009328,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009330,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613291560,"value":"<li>\n<p>If you run your own mail server, check to make sure the IPs of your mail server are <a href=","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009331,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009330,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009332,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613326900,"value":"<li>\n<p>We highly recommend you <strong>send a test email to <a href=\"https://www.mail-tester.com/\" ","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566443540,"value":"padding-bottom: 10px","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009333,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009332,"elapsed":8.0e-06,"return_value":{"class":"String","value":"padding-bottom: 10px","object_id":70097566443540}},{"id":1009334,"event":"call","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[{"name":"node","class":"Nokogiri::XML::Element","object_id":70097613211540,"value":"<code>notification email</code>","kind":"req"},{"name":"new_styles","class":"String","object_id":70097566442920,"value":"background-color: #f1f1ff; padding: 2px 5px;","kind":"req"}],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009335,"event":"return","defined_class":"Email::Styles","method_id":"add_styles","path":"lib/email/styles.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009334,"elapsed":9.0e-06,"return_value":{"class":"String","value":"background-color: #f1f1ff; padding: 2px 5px;","object_id":70097566442920}},{"id":1009336,"event":"call","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009337,"event":"return","defined_class":"Email::Styles","method_id":"onebox_styles","path":"lib/email/styles.rb","lineno":112,"static":false,"thread_id":70097708498960,"parent_id":1009336,"elapsed":0.001733,"return_value":{"class":"Nokogiri::XML::NodeSet","value":"","object_id":70097614079600}},{"id":1009338,"event":"call","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009339,"event":"return","defined_class":"Email::Styles","method_id":"plugin_styles","path":"lib/email/styles.rb","lineno":237,"static":false,"thread_id":70097708498960,"parent_id":1009338,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097566593840}},{"id":1009340,"event":"call","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009341,"event":"call","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009342,"event":"call","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097614098200,"value":"#<EmailStyle:0x00007f81bec69e30>"}},{"id":1009343,"event":"call","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"EmailStyle","object_id":70097614098200,"value":"#<EmailStyle:0x00007f81bec69e30>"}},{"id":1009344,"event":"return","defined_class":"EmailStyle","method_id":"css","path":"app/models/email_style.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1009343,"elapsed":6.0e-06,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1009345,"event":"return","defined_class":"EmailStyle","method_id":"compiled_css","path":"app/models/email_style.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1009342,"elapsed":0.000137,"return_value":{"class":"String","value":"","object_id":70097723636360}},{"id":1009346,"event":"return","defined_class":"Email::Styles","method_id":"custom_styles","path":"lib/email/styles.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":1009341,"elapsed":0.000262,"return_value":{"class":"Hash","value":"{}","object_id":70097614116680}},{"id":1009347,"event":"return","defined_class":"Email::Styles","method_id":"format_custom","path":"lib/email/styles.rb","lineno":230,"static":false,"thread_id":70097708498960,"parent_id":1009340,"elapsed":0.000384,"return_value":{"class":"Hash","value":"{}","object_id":70097614116680}},{"id":1009348,"event":"return","defined_class":"Email::Styles","method_id":"format_html","path":"lib/email/styles.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":1009289,"elapsed":0.015825,"return_value":{"class":"Hash","value":"{}","object_id":70097614116680}},{"id":1009349,"event":"call","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009350,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588170860,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009351,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009350,"elapsed":8.0e-06},{"id":1009352,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588168940,"value":"https://mxtoolbox.com/ReverseLookup.aspx","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009353,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009352,"elapsed":5.0e-06},{"id":1009354,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588191040,"value":"http://www.openspf.org/SPF_Record_Syntax","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009355,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009354,"elapsed":4.0e-06},{"id":1009356,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588189020,"value":"https://www.kitterman.com/spf/validate.html","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009357,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009356,"elapsed":4.0e-06},{"id":1009358,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588186800,"value":"http://www.dkim.org/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009359,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009358,"elapsed":4.0e-06},{"id":1009360,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588184420,"value":"https://www.mail-tester.com/spf-dkim-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009361,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009360,"elapsed":4.0e-06},{"id":1009362,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588206640,"value":"https://whatismyipaddress.com/blacklist-check","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009363,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009362,"elapsed":4.0e-06},{"id":1009364,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588204100,"value":"https://www.mail-tester.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009365,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009364,"elapsed":4.0e-06},{"id":1009366,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588200280,"value":"https://goo.gl/r1WMF6","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009367,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009366,"elapsed":4.0e-06},{"id":1009368,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588222160,"value":"https://www.sparkpost.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009369,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009368,"elapsed":5.0e-06},{"id":1009370,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588219740,"value":"https://www.mailgun.com/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009371,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009370,"elapsed":3.0e-06},{"id":1009372,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588217260,"value":"https://www.mailjet.com/pricing/","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009373,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009372,"elapsed":4.0e-06},{"id":1009374,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097588238420,"value":"https://www.discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1009375,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"secure_media_url?","path":"app/models/upload.rb","lineno":150,"static":true,"thread_id":70097708498960,"parent_id":1009374,"elapsed":4.0e-06},{"id":1009376,"event":"call","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Styles","object_id":70097613118880,"value":"#<Email::Styles:0x00007f81bea8bb40>"}},{"id":1009377,"event":"return","defined_class":"Email::Styles","method_id":"include_body?","path":"lib/email/styles.rb","lineno":248,"static":false,"thread_id":70097708498960,"parent_id":1009376,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"483","object_id":967}},{"id":1009378,"event":"return","defined_class":"Email::Styles","method_id":"to_html","path":"lib/email/styles.rb","lineno":241,"static":false,"thread_id":70097708498960,"parent_id":1009349,"elapsed":0.003124,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097588271620}},{"id":1009379,"event":"return","defined_class":"Email::Renderer","method_id":"html","path":"lib/email/renderer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1009232,"elapsed":0.04529,"return_value":{"class":"String","value":"<body style=\"text-align:left;\" dir=\"ltr\">\n\n<!--[if mso]>\n<style type=\"text/css\">\nbody, table, td, th","object_id":70097588271620}},{"id":1009380,"event":"call","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Email::Sender","object_id":70097608460040,"value":"#<Email::Sender:0x00007f81be1a8e10>"}},{"id":1009381,"event":"return","defined_class":"Email::Sender","method_id":"to_address","path":"lib/email/sender.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":1009380,"elapsed":5.0e-06,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097828566740}},{"id":1009382,"event":"call","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parameters":[{"name":"base_url","class":"String","object_id":70097608633040,"value":"http://test.localhost","kind":"req"}],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1009383,"event":"return","defined_class":"Email::Sender","method_id":"host_for","path":"lib/email/sender.rb","lineno":230,"static":true,"thread_id":70097708498960,"parent_id":1009382,"elapsed":3.3e-05,"return_value":{"class":"String","value":"test.localhost","object_id":70097608654480}},{"id":1009384,"event":"call","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587325720,"value":"Email::Sender"}},{"id":1009385,"event":"return","defined_class":"Email::Sender","method_id":"bounceable_reply_address?","path":"lib/email/sender.rb","lineno":366,"static":true,"thread_id":70097708498960,"parent_id":1009384,"elapsed":7.0e-06},{"id":1009386,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009387,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009386,"elapsed":0.001298},{"id":1009388,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_logs\" (\"to_address\", \"email_type\", \"created_at\", \"updated_at\", \"message_id\") VALUES ('eviltrout@somewhere.com', 'test_message', '2020-05-28 19:01:41.118307', '2020-05-28 19:01:41.118307', '2ede4854-5662-4a40-8c8d-a82d2df0475a@test.localhost') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1009389,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009388,"elapsed":0.001652},{"id":1009390,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_3","database_type":"postgres","server_version":110006}},{"id":1009391,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1009390,"elapsed":0.00126},{"id":1009392,"event":"return","defined_class":"Email::Sender","method_id":"send","path":"lib/email/sender.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1009175,"elapsed":0.080538,"return_value":{"class":"EmailLog","value":"#<EmailLog:0x00007f81be1fe900>","object_id":70097608635520}},{"id":1009393,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009394,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009393,"elapsed":9.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009395,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009396,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009395,"elapsed":1.4e-05},{"id":1009397,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009398,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009397,"elapsed":4.0e-06},{"id":1009399,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009400,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009399,"elapsed":3.0e-06},{"id":1009401,"event":"return","defined_class":"Admin::EmailController","method_id":"test","path":"app/controllers/admin/email_controller.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":1009174,"elapsed":0.081697,"return_value":{"class":"String","value":"{\"sent_test_email_message\":\"sent!\"}","object_id":70097569243840}},{"id":1009402,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009403,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1009402,"elapsed":9.0e-06},{"id":1009404,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009405,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1009404,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097569264140}},{"id":1009406,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::EmailController","object_id":70097828038640,"value":"#<Admin::EmailController:0x00007f81d8478fe0>"}},{"id":1009407,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009408,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009407,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009409,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097607993740,"value":"#<User:0x00007f81be0c5318>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097587245180,"value":"#<ActionDispatch::Request::Session:0x00007f81bb9320f8>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097799393680,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d4dd6320>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009410,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009411,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009412,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009411,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009413,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1009410,"elapsed":0.000116},{"id":1009414,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009415,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828070560,"value":"#<TestCurrentUserProvider:0x00007f81d8488940>"}},{"id":1009416,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1009415,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be0c5318>","object_id":70097607993740}},{"id":1009417,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1009414,"elapsed":0.000113},{"id":1009418,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1009409,"elapsed":0.000438},{"id":1009419,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1009406,"elapsed":0.00073},{"id":1009420,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1009097,"elapsed":0.095692,"http_server_response":{"status":200}},{"id":1009421,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097569297280,"value":"#<TestCurrentUserProvider:0x00007f81b96f6700>"}},{"id":1009422,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1009421,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1009423,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1009424,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009423,"elapsed":7.0e-06},{"id":1009425,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1009426,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1009425,"elapsed":4.0e-06},{"id":1009427,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097593801960,"value":"#<User:0x00007f81bc5b39d0>"}},{"id":1009428,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":1009427,"elapsed":2.6e-05,"return_value":{"class":"String","value":"eviltrout@somewhere.com","object_id":70097587239040}},{"id":1009429,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009430,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009429,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1009431,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1009432,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1009431,"elapsed":1.1e-05},{"id":1009433,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009434,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009433,"elapsed":4.0e-06},{"id":1009435,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1009436,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1009435,"elapsed":3.0e-06}]}