{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::PermalinksController #index filters url","app":"Discourse","feature":"Admin::PermalinksController #index","feature_group":"Admin permalinks","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"Permalink","type":"class","children":[{"name":"normalize_url","type":"function","location":"app/models/permalink.rb:75","static":false},{"name":"Normalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/models/permalink.rb:48","static":false}]}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"User","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","type":"class","children":[{"name":"filter_by","type":"function","location":"app/models/permalink.rb:88","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_serialized","type":"function","location":"app/controllers/application_controller.rb:446","static":false},{"name":"serialize_data","type":"function","location":"app/controllers/application_controller.rb:431","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"Admin","type":"class","children":[{"name":"PermalinksController","type":"class","children":[{"name":"index","type":"function","location":"app/controllers/admin/permalinks_controller.rb:7","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"PermalinkSerializer","type":"class","children":[{"name":"topic_title","type":"function","location":"app/serializers/permalink_serializer.rb:9","static":false},{"name":"topic_url","type":"function","location":"app/serializers/permalink_serializer.rb:13","static":false},{"name":"post_url","type":"function","location":"app/serializers/permalink_serializer.rb:17","static":false},{"name":"post_number","type":"function","location":"app/serializers/permalink_serializer.rb:22","static":false},{"name":"post_topic_title","type":"function","location":"app/serializers/permalink_serializer.rb:26","static":false},{"name":"category_name","type":"function","location":"app/serializers/permalink_serializer.rb:30","static":false},{"name":"category_url","type":"function","location":"app/serializers/permalink_serializer.rb:34","static":false},{"name":"tag_name","type":"function","location":"app/serializers/permalink_serializer.rb:38","static":false},{"name":"tag_url","type":"function","location":"app/serializers/permalink_serializer.rb:42","static":false}]}]}],"events":[{"id":1016593,"event":"call","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Permalink","object_id":70097720158320,"value":"#<Permalink:0x00007f81cb6b50e0>"}},{"id":1016594,"event":"call","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097720191180,"value":"forum/23","kind":"req"}],"receiver":{"class":"Permalink::Normalizer","object_id":70097796075480,"value":"#<Permalink::Normalizer:0x00007f81d4781fb0>"}},{"id":1016595,"event":"return","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":1016594,"elapsed":1.9e-05,"return_value":{"class":"String","value":"forum/23","object_id":70097720191180}},{"id":1016596,"event":"return","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1016593,"elapsed":0.000168,"return_value":{"class":"String","value":"forum/23","object_id":70097720191180}},{"id":1016597,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016598,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016597,"elapsed":0.000706},{"id":1016599,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"permalinks\" (\"url\", \"created_at\", \"updated_at\") VALUES ('forum/23', '2020-05-28 19:01:47.903932', '2020-05-28 19:01:47.903932') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1016600,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016599,"elapsed":0.000996},{"id":1016601,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016602,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016601,"elapsed":0.000827},{"id":1016603,"event":"call","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Permalink","object_id":70097803248120,"value":"#<Permalink:0x00007f81d55303f0>"}},{"id":1016604,"event":"call","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097803321100,"value":"forum/98","kind":"req"}],"receiver":{"class":"Permalink::Normalizer","object_id":70097796075480,"value":"#<Permalink::Normalizer:0x00007f81d4781fb0>"}},{"id":1016605,"event":"return","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":1016604,"elapsed":5.0e-06,"return_value":{"class":"String","value":"forum/98","object_id":70097803321100}},{"id":1016606,"event":"return","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1016603,"elapsed":0.00017,"return_value":{"class":"String","value":"forum/98","object_id":70097803321100}},{"id":1016607,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016608,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016607,"elapsed":0.001001},{"id":1016609,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"permalinks\" (\"url\", \"created_at\", \"updated_at\") VALUES ('forum/98', '2020-05-28 19:01:47.915001', '2020-05-28 19:01:47.915001') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1016610,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016609,"elapsed":0.001095},{"id":1016611,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016612,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016611,"elapsed":0.001018},{"id":1016613,"event":"call","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Permalink","object_id":70097814022660,"value":"#<Permalink:0x00007f81d69bd408>"}},{"id":1016614,"event":"call","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097814039440,"value":"discuss/topic/45","kind":"req"}],"receiver":{"class":"Permalink::Normalizer","object_id":70097796075480,"value":"#<Permalink::Normalizer:0x00007f81d4781fb0>"}},{"id":1016615,"event":"return","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":1016614,"elapsed":5.0e-06,"return_value":{"class":"String","value":"discuss/topic/45","object_id":70097814039440}},{"id":1016616,"event":"return","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1016613,"elapsed":0.000132,"return_value":{"class":"String","value":"discuss/topic/45","object_id":70097814039440}},{"id":1016617,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016618,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016617,"elapsed":0.000864},{"id":1016619,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"permalinks\" (\"url\", \"created_at\", \"updated_at\") VALUES ('discuss/topic/45', '2020-05-28 19:01:47.926019', '2020-05-28 19:01:47.926019') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1016620,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016619,"elapsed":0.001171},{"id":1016621,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016622,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016621,"elapsed":0.000934},{"id":1016623,"event":"call","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Permalink","object_id":70097825807960,"value":"#<Permalink:0x00007f81d8037cb0>"}},{"id":1016624,"event":"call","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097825800460,"value":"discuss/topic/76","kind":"req"}],"receiver":{"class":"Permalink::Normalizer","object_id":70097796075480,"value":"#<Permalink::Normalizer:0x00007f81d4781fb0>"}},{"id":1016625,"event":"return","defined_class":"Permalink::Normalizer","method_id":"normalize","path":"app/models/permalink.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":1016624,"elapsed":5.0e-06,"return_value":{"class":"String","value":"discuss/topic/76","object_id":70097825800460}},{"id":1016626,"event":"return","defined_class":"Permalink","method_id":"normalize_url","path":"app/models/permalink.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1016623,"elapsed":0.000144,"return_value":{"class":"String","value":"discuss/topic/76","object_id":70097825800460}},{"id":1016627,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016628,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016627,"elapsed":0.000843},{"id":1016629,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"permalinks\" (\"url\", \"created_at\", \"updated_at\") VALUES ('discuss/topic/76', '2020-05-28 19:01:47.936365', '2020-05-28 19:01:47.936365') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1016630,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016629,"elapsed":0.000979},{"id":1016631,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016632,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016631,"elapsed":0.000988},{"id":1016633,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097817066200,"value":"#<TestCurrentUserProvider:0x00007f81d6f8b5b0>"}},{"id":1016634,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097817082840,"value":"e5883d12d4be6f10e1c240898f3d0fda","kind":"req"},{"name":"opts","class":"Hash","object_id":70097817082080,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1016635,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097817082840,"value":"e5883d12d4be6f10e1c240898f3d0fda","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1016636,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1016637,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1016636,"elapsed":8.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1016638,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1016635,"elapsed":0.000121,"return_value":{"class":"String","value":"kUqrYixqkIbztdf/ovuasjwlpG0=","object_id":70097817097560}},{"id":1016639,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'kUqrYixqkIbztdf/ovuasjwlpG0=' OR\n                          prev_auth_token = 'kUqrYixqkIbztdf/ovuasjwlpG0=') AND rotated_at > '2020-03-29 19:01:47.948220') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1016640,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016639,"elapsed":0.001154},{"id":1016641,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:01:47.952643' WHERE \"user_auth_tokens\".\"id\" = 1191 AND \"user_auth_tokens\".\"auth_token\" = 'kUqrYixqkIbztdf/ovuasjwlpG0='","database_type":"postgres","server_version":110006}},{"id":1016642,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016641,"elapsed":0.001122},{"id":1016643,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097592998880,"value":"{:action=>\"seen token\", :user_auth_token_id=>1191, :user_id=>1367, :auth_token=>\"kUqrYixqkIbztdf/ovu","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1016644,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016645,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016644,"elapsed":0.001001},{"id":1016646,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1191, 1367, '127.0.0.1/32', 'kUqrYixqkIbztdf/ovuasjwlpG0=', '2020-05-28 19:01:47.956776') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1016647,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016646,"elapsed":0.001068},{"id":1016648,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1016649,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016648,"elapsed":0.001308},{"id":1016650,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1016643,"elapsed":0.012747,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81bc429858>","object_id":70097592994860}},{"id":1016651,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1016634,"elapsed":0.021371,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bc2038f8>","object_id":70097591868540}},{"id":1016652,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1367 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1016653,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016652,"elapsed":0.001251},{"id":1016654,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016655,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1016654,"elapsed":1.8e-05},{"id":1016656,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097817066200,"value":"#<TestCurrentUserProvider:0x00007f81d6f8b5b0>"}},{"id":1016657,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1016656,"elapsed":0.000946,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016658,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016659,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1016658,"elapsed":0.000799},{"id":1016660,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097797602360,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016661,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1367","database_type":"postgres","server_version":110006}},{"id":1016662,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016661,"elapsed":0.001076},{"id":1016663,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1016660,"elapsed":0.003641,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016664,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016633,"elapsed":0.032134,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016665,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097817066200,"value":"#<TestCurrentUserProvider:0x00007f81d6f8b5b0>"}},{"id":1016666,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016665,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016667,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016668,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1016667,"elapsed":1.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016669,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798704140,"value":"#<TestCurrentUserProvider:0x00007f81d4c85818>"}},{"id":1016670,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016669,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016671,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798704140,"value":"#<TestCurrentUserProvider:0x00007f81d4c85818>"}},{"id":1016672,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016671,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016673,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016674,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1016673,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016675,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1016676,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1016675,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1016677,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1016678,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1016677,"elapsed":1.0e-05},{"id":1016679,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/admin/permalinks.json?filter=topic"},"message":[{"name":"filter","class":"String","value":"topic","object_id":70097817061200},{"name":"controller","class":"String","value":"admin/permalinks","object_id":70097755733280},{"name":"action","class":"String","value":"index","object_id":70097708669400},{"name":"format","class":"String","value":"json","object_id":70097817045180}]},{"id":1016680,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016681,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016682,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016683,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016684,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016683,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016685,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1016682,"elapsed":0.000123,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4ca7940>","object_id":70097798773920}},{"id":1016686,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097798773920,"value":"#<Guardian:0x00007f81d4ca7940>"}},{"id":1016687,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1016686,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016688,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1016681,"elapsed":0.00035},{"id":1016689,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016690,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016689,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016691,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1367 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1016692,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016691,"elapsed":0.000982},{"id":1016693,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016694,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1016693,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4ca7940>","object_id":70097798773920}},{"id":1016695,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097612119100,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097798773920,"value":"#<Guardian:0x00007f81d4ca7940>"}},{"id":1016696,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1016695,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016697,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1016680,"elapsed":0.005268,"return_value":{"class":"Array","value":"[2]","object_id":70097612119100}},{"id":1016698,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016699,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016700,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016699,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016701,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016702,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016701,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016703,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016704,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016703,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016705,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1016698,"elapsed":0.000342,"return_value":{"class":"String","value":"permalinks/index","object_id":70097612151100}},{"id":1016706,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016707,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016708,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016707,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016709,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1016706,"elapsed":0.000107},{"id":1016710,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016711,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016712,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016711,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016713,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016714,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016713,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016715,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016716,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1016715,"elapsed":1.2e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1016717,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1016718,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1016717,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1016719,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1016720,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1016719,"elapsed":8.0e-06},{"id":1016721,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1016722,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1016721,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1016723,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1016724,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1016723,"elapsed":6.0e-06},{"id":1016725,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1016710,"elapsed":0.000692,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097612197740}},{"id":1016726,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016727,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1016726,"elapsed":8.0e-06},{"id":1016728,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016729,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016730,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016729,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016731,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1016728,"elapsed":9.5e-05},{"id":1016732,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016733,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016732,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016734,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016735,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016734,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016736,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016737,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016736,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016738,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097757594680,"value":"Admin::PermalinksController"}},{"id":1016739,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1016738,"elapsed":3.0e-06},{"id":1016740,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016741,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1016740,"elapsed":7.0e-06},{"id":1016742,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016743,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016742,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016744,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016745,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016744,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016746,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>"}},{"id":1016747,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1016746,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016748,"event":"call","defined_class":"Admin::PermalinksController","method_id":"index","path":"app/controllers/admin/permalinks_controller.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016749,"event":"call","defined_class":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","method_id":"filter_by","path":"app/models/permalink.rb","lineno":88,"static":true,"thread_id":70097708498960,"parameters":[{"name":"url","class":"String","object_id":70097817061200,"value":"topic","kind":"opt"}],"receiver":{"class":"Class","object_id":70097795942780,"value":"Permalink"}},{"id":1016750,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"permalinks\".* FROM \"permalinks\" WHERE (url ILIKE '%topic%' OR external_url ILIKE '%topic%') ORDER BY permalinks.created_at desc LIMIT 100","database_type":"postgres","server_version":110006}},{"id":1016751,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1016750,"elapsed":0.001156},{"id":1016752,"event":"return","defined_class":"Permalink(id: integer, url: string, topic_id: integer, post_id: integer, category_id: integer, created_at: datetime, updated_at: datetime, external_url: string, tag_id: integer)","method_id":"filter_by","path":"app/models/permalink.rb","lineno":88,"static":true,"thread_id":70097708498960,"parent_id":1016749,"elapsed":0.004586,"return_value":{"class":"Array","value":"[#<Permalink id: 18, url: \"discuss/topic/76\", topic_id: nil, post_id: nil, category_id: nil, created","object_id":70097827389360}},{"id":1016753,"event":"call","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097827389360,"value":"[#<Permalink id: 18, url: \"discuss/topic/76\", topic_id: nil, post_id: nil, category_id: nil, created","kind":"req"},{"name":"serializer","class":"Class","object_id":70097827194200,"value":"PermalinkSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016754,"event":"call","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097827389360,"value":"[#<Permalink id: 18, url: \"discuss/topic/76\", topic_id: nil, post_id: nil, category_id: nil, created","kind":"req"},{"name":"serializer","class":"Class","object_id":70097827194200,"value":"PermalinkSerializer","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016755,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016756,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1016755,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4ca7940>","object_id":70097798773920}},{"id":1016757,"event":"call","defined_class":"PermalinkSerializer","method_id":"topic_title","path":"app/serializers/permalink_serializer.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016758,"event":"return","defined_class":"PermalinkSerializer","method_id":"topic_title","path":"app/serializers/permalink_serializer.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1016757,"elapsed":1.0e-05},{"id":1016759,"event":"call","defined_class":"PermalinkSerializer","method_id":"topic_url","path":"app/serializers/permalink_serializer.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016760,"event":"return","defined_class":"PermalinkSerializer","method_id":"topic_url","path":"app/serializers/permalink_serializer.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1016759,"elapsed":7.0e-06},{"id":1016761,"event":"call","defined_class":"PermalinkSerializer","method_id":"post_url","path":"app/serializers/permalink_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016762,"event":"return","defined_class":"PermalinkSerializer","method_id":"post_url","path":"app/serializers/permalink_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1016761,"elapsed":9.0e-06},{"id":1016763,"event":"call","defined_class":"PermalinkSerializer","method_id":"post_number","path":"app/serializers/permalink_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016764,"event":"return","defined_class":"PermalinkSerializer","method_id":"post_number","path":"app/serializers/permalink_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1016763,"elapsed":6.0e-06},{"id":1016765,"event":"call","defined_class":"PermalinkSerializer","method_id":"post_topic_title","path":"app/serializers/permalink_serializer.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016766,"event":"return","defined_class":"PermalinkSerializer","method_id":"post_topic_title","path":"app/serializers/permalink_serializer.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1016765,"elapsed":6.0e-06},{"id":1016767,"event":"call","defined_class":"PermalinkSerializer","method_id":"category_name","path":"app/serializers/permalink_serializer.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016768,"event":"return","defined_class":"PermalinkSerializer","method_id":"category_name","path":"app/serializers/permalink_serializer.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1016767,"elapsed":7.0e-06},{"id":1016769,"event":"call","defined_class":"PermalinkSerializer","method_id":"category_url","path":"app/serializers/permalink_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016770,"event":"return","defined_class":"PermalinkSerializer","method_id":"category_url","path":"app/serializers/permalink_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":1016769,"elapsed":6.0e-06},{"id":1016771,"event":"call","defined_class":"PermalinkSerializer","method_id":"tag_name","path":"app/serializers/permalink_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016772,"event":"return","defined_class":"PermalinkSerializer","method_id":"tag_name","path":"app/serializers/permalink_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":1016771,"elapsed":6.0e-06},{"id":1016773,"event":"call","defined_class":"PermalinkSerializer","method_id":"tag_url","path":"app/serializers/permalink_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827397660,"value":"#<PermalinkSerializer:0x00007f81d8340038>"}},{"id":1016774,"event":"return","defined_class":"PermalinkSerializer","method_id":"tag_url","path":"app/serializers/permalink_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":1016773,"elapsed":6.0e-06},{"id":1016775,"event":"call","defined_class":"PermalinkSerializer","method_id":"topic_title","path":"app/serializers/permalink_serializer.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016776,"event":"return","defined_class":"PermalinkSerializer","method_id":"topic_title","path":"app/serializers/permalink_serializer.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1016775,"elapsed":6.0e-06},{"id":1016777,"event":"call","defined_class":"PermalinkSerializer","method_id":"topic_url","path":"app/serializers/permalink_serializer.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016778,"event":"return","defined_class":"PermalinkSerializer","method_id":"topic_url","path":"app/serializers/permalink_serializer.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1016777,"elapsed":6.0e-06},{"id":1016779,"event":"call","defined_class":"PermalinkSerializer","method_id":"post_url","path":"app/serializers/permalink_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016780,"event":"return","defined_class":"PermalinkSerializer","method_id":"post_url","path":"app/serializers/permalink_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":1016779,"elapsed":6.0e-06},{"id":1016781,"event":"call","defined_class":"PermalinkSerializer","method_id":"post_number","path":"app/serializers/permalink_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016782,"event":"return","defined_class":"PermalinkSerializer","method_id":"post_number","path":"app/serializers/permalink_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":1016781,"elapsed":6.0e-06},{"id":1016783,"event":"call","defined_class":"PermalinkSerializer","method_id":"post_topic_title","path":"app/serializers/permalink_serializer.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016784,"event":"return","defined_class":"PermalinkSerializer","method_id":"post_topic_title","path":"app/serializers/permalink_serializer.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":1016783,"elapsed":5.0e-06},{"id":1016785,"event":"call","defined_class":"PermalinkSerializer","method_id":"category_name","path":"app/serializers/permalink_serializer.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016786,"event":"return","defined_class":"PermalinkSerializer","method_id":"category_name","path":"app/serializers/permalink_serializer.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":1016785,"elapsed":6.0e-06},{"id":1016787,"event":"call","defined_class":"PermalinkSerializer","method_id":"category_url","path":"app/serializers/permalink_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016788,"event":"return","defined_class":"PermalinkSerializer","method_id":"category_url","path":"app/serializers/permalink_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":1016787,"elapsed":6.0e-06},{"id":1016789,"event":"call","defined_class":"PermalinkSerializer","method_id":"tag_name","path":"app/serializers/permalink_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016790,"event":"return","defined_class":"PermalinkSerializer","method_id":"tag_name","path":"app/serializers/permalink_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":1016789,"elapsed":6.0e-06},{"id":1016791,"event":"call","defined_class":"PermalinkSerializer","method_id":"tag_url","path":"app/serializers/permalink_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"PermalinkSerializer","object_id":70097827430660,"value":"#<PermalinkSerializer:0x00007f81d8350208>"}},{"id":1016792,"event":"return","defined_class":"PermalinkSerializer","method_id":"tag_url","path":"app/serializers/permalink_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":1016791,"elapsed":6.0e-06},{"id":1016793,"event":"return","defined_class":"ApplicationController","method_id":"serialize_data","path":"app/controllers/application_controller.rb","lineno":431,"static":false,"thread_id":70097708498960,"parent_id":1016754,"elapsed":0.001933,"return_value":{"class":"Array","value":"[{:id=>18, :url=>\"discuss/topic/76\", :topic_id=>nil, :topic_title=>nil, :topic_url=>nil, :post_id=>n","object_id":70097827397680}},{"id":1016794,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Array","object_id":70097827397680,"value":"[{:id=>18, :url=>\"discuss/topic/76\", :topic_id=>nil, :topic_title=>nil, :topic_url=>nil, :post_id=>n","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016795,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1016794,"elapsed":0.000145,"return_value":{"class":"String","value":"[{\"id\":18,\"url\":\"discuss/topic/76\",\"topic_id\":null,\"topic_title\":null,\"topic_url\":null,\"post_id\":nul","object_id":70097827498960}},{"id":1016796,"event":"return","defined_class":"ApplicationController","method_id":"render_serialized","path":"app/controllers/application_controller.rb","lineno":446,"static":false,"thread_id":70097708498960,"parent_id":1016753,"elapsed":0.002495,"return_value":{"class":"String","value":"[{\"id\":18,\"url\":\"discuss/topic/76\",\"topic_id\":null,\"topic_title\":null,\"topic_url\":null,\"post_id\":nul","object_id":70097827498960}},{"id":1016797,"event":"return","defined_class":"Admin::PermalinksController","method_id":"index","path":"app/controllers/admin/permalinks_controller.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":1016748,"elapsed":0.007627,"return_value":{"class":"String","value":"[{\"id\":18,\"url\":\"discuss/topic/76\",\"topic_id\":null,\"topic_title\":null,\"topic_url\":null,\"post_id\":nul","object_id":70097827498960}},{"id":1016798,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016799,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1016798,"elapsed":6.0e-06},{"id":1016800,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016801,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1016800,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097827517060}},{"id":1016802,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Admin::PermalinksController","object_id":70097798721100,"value":"#<Admin::PermalinksController:0x00007f81d4c8dc98>"}},{"id":1016803,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016804,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016803,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016805,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097766984780,"value":"#<User:0x00007f81d1005898>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097816886380,"value":"#<ActionDispatch::Request::Session:0x00007f81d6f338d8>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097612119260,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81be8a39b8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016806,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016807,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016808,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016807,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016809,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1016806,"elapsed":9.1e-05},{"id":1016810,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016811,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097798751840,"value":"#<TestCurrentUserProvider:0x00007f81d4c9ccc0>"}},{"id":1016812,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1016811,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d1005898>","object_id":70097766984780}},{"id":1016813,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1016810,"elapsed":9.1e-05},{"id":1016814,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1016805,"elapsed":0.000344},{"id":1016815,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1016802,"elapsed":0.000554},{"id":1016816,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1016679,"elapsed":0.017548,"http_server_response":{"status":200}},{"id":1016817,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827562100,"value":"#<TestCurrentUserProvider:0x00007f81d83904e8>"}},{"id":1016818,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1016817,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1016819,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1016820,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1016819,"elapsed":5.0e-06},{"id":1016821,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1016822,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1016821,"elapsed":3.0e-06}]}