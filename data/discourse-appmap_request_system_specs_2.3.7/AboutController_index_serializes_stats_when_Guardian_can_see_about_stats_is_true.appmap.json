{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"AboutController .index serializes stats when 'Guardian#can_see_about_stats?' is true","app":"Discourse","feature":"AboutController .index","feature_group":"About","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"StatsCacheable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"fetch_cached_stats","type":"function","location":"app/models/concerns/stats_cacheable.rb:20","static":false},{"name":"refresh_stats","type":"function","location":"app/models/concerns/stats_cacheable.rb:27","static":false},{"name":"recalculate_stats_interval","type":"function","location":"app/models/concerns/stats_cacheable.rb:16","static":false}]}]},{"name":"About","type":"class","children":[{"name":"stats_cache_key","type":"function","location":"app/models/about.rb:20","static":true},{"name":"fetch_stats","type":"function","location":"app/models/about.rb:24","static":true},{"name":"stats","type":"function","location":"app/models/about.rb:64","static":false},{"name":"description","type":"function","location":"app/models/about.rb:48","static":false},{"name":"title","type":"function","location":"app/models/about.rb:40","static":false},{"name":"locale","type":"function","location":"app/models/about.rb:44","static":false},{"name":"version","type":"function","location":"app/models/about.rb:32","static":false},{"name":"https","type":"function","location":"app/models/about.rb:36","static":false},{"name":"moderators","type":"function","location":"app/models/about.rb:52","static":false},{"name":"admins","type":"function","location":"app/models/about.rb:58","static":false},{"name":"category_moderators","type":"function","location":"app/models/about.rb:83","static":false}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"render_json_dump","type":"function","location":"app/controllers/application_controller.rb:450","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"AboutController","type":"class","children":[{"name":"index","type":"function","location":"app/controllers/about_controller.rb:9","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"AnonymousUser","type":"class","children":[{"name":"secure_category_ids","type":"function","location":"lib/guardian.rb:50","static":false}]}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"allowed_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:62","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:57","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"AboutSerializer","type":"class","children":[{"name":"include_stats?","type":"function","location":"app/serializers/about_serializer.rb:31","static":false},{"name":"can_see_about_stats","type":"function","location":"app/serializers/about_serializer.rb:27","static":false},{"name":"stats","type":"function","location":"app/serializers/about_serializer.rb:35","static":false}]}]}],"events":[{"id":1155397,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155398,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155397,"elapsed":8.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1155399,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155400,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155399,"elapsed":1.3e-05},{"id":1155401,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/about.json"},"message":[{"name":"controller","class":"String","value":"about","object_id":70097702920280},{"name":"action","class":"String","value":"index","object_id":70097708669400},{"name":"format","class":"String","value":"json","object_id":70097795004880}]},{"id":1155402,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155403,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155404,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155405,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155406,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155405,"elapsed":6.2e-05},{"id":1155407,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1155404,"elapsed":0.000199,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d45ef710>","object_id":70097795251080}},{"id":1155408,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097795251080,"value":"#<Guardian:0x00007f81d45ef710>"}},{"id":1155409,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1155408,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1155410,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1155403,"elapsed":0.000469},{"id":1155411,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155412,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155411,"elapsed":5.0e-06},{"id":1155413,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155414,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1155413,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d45ef710>","object_id":70097795251080}},{"id":1155415,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097755350360,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097795251080,"value":"#<Guardian:0x00007f81d45ef710>"}},{"id":1155416,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1155415,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1155417,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1155402,"elapsed":0.001023,"return_value":{"class":"Array","value":"[2]","object_id":70097755350360}},{"id":1155418,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155419,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155420,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155419,"elapsed":5.0e-06},{"id":1155421,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1155418,"elapsed":0.000129,"return_value":{"class":"String","value":"about/index","object_id":70097755536840}},{"id":1155422,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155423,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155424,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155423,"elapsed":4.0e-06},{"id":1155425,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1155422,"elapsed":0.000119},{"id":1155426,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155427,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155428,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155427,"elapsed":4.0e-06},{"id":1155429,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155430,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155429,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1155431,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155432,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155431,"elapsed":1.4e-05},{"id":1155433,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155434,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155433,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1155435,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155436,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155435,"elapsed":1.4e-05},{"id":1155437,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1155426,"elapsed":0.000743,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097755890580}},{"id":1155438,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155439,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1155438,"elapsed":1.8e-05},{"id":1155440,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155441,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155442,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155441,"elapsed":8.0e-06},{"id":1155443,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1155440,"elapsed":0.000204},{"id":1155444,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155445,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155444,"elapsed":5.0e-06},{"id":1155446,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155447,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155446,"elapsed":9.0e-06},{"id":1155448,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155449,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155448,"elapsed":8.0e-06},{"id":1155450,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097776869740,"value":"AboutController"}},{"id":1155451,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1155450,"elapsed":5.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:live_post_counts]}","object_id":70097777133300}},{"id":1155452,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155453,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1155452,"elapsed":1.6e-05},{"id":1155454,"event":"call","defined_class":"AboutController","method_id":"index","path":"app/controllers/about_controller.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155455,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155456,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155455,"elapsed":7.0e-06},{"id":1155457,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155458,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155457,"elapsed":6.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1155459,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1155460,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1155459,"elapsed":1.4e-05},{"id":1155461,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1155462,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1155461,"elapsed":4.0e-06},{"id":1155463,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1155464,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1155463,"elapsed":4.0e-06},{"id":1155465,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155466,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1155465,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d45ef710>","object_id":70097795251080}},{"id":1155467,"event":"call","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"AboutSerializer","object_id":70097756529100,"value":"#<AboutSerializer:0x00007f81cfc14398>","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155468,"event":"call","defined_class":"AboutSerializer","method_id":"include_stats?","path":"app/serializers/about_serializer.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutSerializer","object_id":70097756529100,"value":"#<AboutSerializer:0x00007f81cfc14398>"}},{"id":1155469,"event":"call","defined_class":"AboutSerializer","method_id":"can_see_about_stats","path":"app/serializers/about_serializer.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutSerializer","object_id":70097756529100,"value":"#<AboutSerializer:0x00007f81cfc14398>"}},{"id":1155470,"event":"return","defined_class":"AboutSerializer","method_id":"can_see_about_stats","path":"app/serializers/about_serializer.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155469,"elapsed":5.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1155471,"event":"return","defined_class":"AboutSerializer","method_id":"include_stats?","path":"app/serializers/about_serializer.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":1155468,"elapsed":0.00018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1155472,"event":"call","defined_class":"AboutSerializer","method_id":"stats","path":"app/serializers/about_serializer.rb","lineno":35,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutSerializer","object_id":70097756529100,"value":"#<AboutSerializer:0x00007f81cfc14398>"}},{"id":1155473,"event":"call","defined_class":"StatsCacheable::ClassMethods","method_id":"fetch_cached_stats","path":"app/models/concerns/stats_cacheable.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":1155474,"event":"call","defined_class":"About","method_id":"stats_cache_key","path":"app/models/about.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":1155475,"event":"return","defined_class":"About","method_id":"stats_cache_key","path":"app/models/about.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1155474,"elapsed":4.0e-06,"return_value":{"class":"String","value":"about-stats","object_id":70097567043740}},{"id":1155476,"event":"call","defined_class":"StatsCacheable::ClassMethods","method_id":"refresh_stats","path":"app/models/concerns/stats_cacheable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":1155477,"event":"call","defined_class":"About","method_id":"fetch_stats","path":"app/models/about.rb","lineno":24,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":1155478,"event":"call","defined_class":"About","method_id":"stats","path":"app/models/about.rb","lineno":64,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756716760,"value":"#<About:0x00007f81cfc6fdb0>"}},{"id":1155479,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1155480,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155479,"elapsed":0.000397,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097756728860}},{"id":1155481,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND (topics.archetype <> 'private_message')","database_type":"postgres","server_version":110006}},{"id":1155482,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155481,"elapsed":0.001553},{"id":1155483,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1155484,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155483,"elapsed":6.6e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097804048520}},{"id":1155485,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL)","database_type":"postgres","server_version":110006}},{"id":1155486,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155485,"elapsed":0.001291},{"id":1155487,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"users\" WHERE (users.id > 0) AND (NOT EXISTS(\n                     SELECT 1\n                     FROM anonymous_users a\n                     WHERE a.user_id = users.id\n                  ))","database_type":"postgres","server_version":110006}},{"id":1155488,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155487,"elapsed":0.00154},{"id":1155489,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1155490,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155489,"elapsed":6.9e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097795712380}},{"id":1155491,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND (topics.archetype <> 'private_message') AND (created_at > '2020-05-21 19:03:48.126321')","database_type":"postgres","server_version":110006}},{"id":1155492,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155491,"elapsed":0.002354},{"id":1155493,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":1155494,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155493,"elapsed":6.5e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097586701140}},{"id":1155495,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) AND (topics.archetype <> 'private_message') AND (created_at > '2020-04-28 19:03:48.134528')","database_type":"postgres","server_version":110006}},{"id":1155496,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155495,"elapsed":0.001732},{"id":1155497,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1155498,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155497,"elapsed":6.5e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097814547140}},{"id":1155499,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND (created_at > '2020-05-21 19:03:48.140588')","database_type":"postgres","server_version":110006}},{"id":1155500,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155499,"elapsed":0.001369},{"id":1155501,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":1155502,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155501,"elapsed":6.5e-05,"return_value":{"class":"String","value":"\"posts\".\"deleted_at\" IS NULL","object_id":70097816739300}},{"id":1155503,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"posts\" WHERE (\"posts\".\"deleted_at\" IS NULL) AND (created_at > '2020-04-28 19:03:48.146757')","database_type":"postgres","server_version":110006}},{"id":1155504,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155503,"elapsed":0.001464},{"id":1155505,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"users\" WHERE (created_at > '2020-05-21 19:03:48.152865')","database_type":"postgres","server_version":110006}},{"id":1155506,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155505,"elapsed":0.001215},{"id":1155507,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"users\" WHERE (created_at > '2020-04-28 19:03:48.158339')","database_type":"postgres","server_version":110006}},{"id":1155508,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155507,"elapsed":0.001239},{"id":1155509,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"users\" WHERE (last_seen_at > '2020-05-21 19:03:48.163751')","database_type":"postgres","server_version":110006}},{"id":1155510,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155509,"elapsed":0.00141},{"id":1155511,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"users\" WHERE (last_seen_at > '2020-04-28 19:03:48.169523')","database_type":"postgres","server_version":110006}},{"id":1155512,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155511,"elapsed":0.001184},{"id":1155513,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_actions\" WHERE \"user_actions\".\"action_type\" = 1","database_type":"postgres","server_version":110006}},{"id":1155514,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155513,"elapsed":0.001361},{"id":1155515,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_actions\" WHERE \"user_actions\".\"action_type\" = 1 AND (created_at > '2020-05-21 19:03:48.180070')","database_type":"postgres","server_version":110006}},{"id":1155516,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155515,"elapsed":0.00149},{"id":1155517,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"user_actions\" WHERE \"user_actions\".\"action_type\" = 1 AND (created_at > '2020-04-28 19:03:48.185551')","database_type":"postgres","server_version":110006}},{"id":1155518,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155517,"elapsed":0.001103},{"id":1155519,"event":"return","defined_class":"About","method_id":"stats","path":"app/models/about.rb","lineno":64,"static":false,"thread_id":70097708498960,"parent_id":1155478,"elapsed":0.086848,"return_value":{"class":"Hash","value":"{:topic_count=>0, :post_count=>0, :user_count=>0, :topics_7_days=>0, :topics_30_days=>0, :posts_7_da","object_id":70097612577720}},{"id":1155520,"event":"return","defined_class":"About","method_id":"fetch_stats","path":"app/models/about.rb","lineno":24,"static":true,"thread_id":70097708498960,"parent_id":1155477,"elapsed":0.087146,"return_value":{"class":"Hash","value":"{:topic_count=>0, :post_count=>0, :user_count=>0, :topics_7_days=>0, :topics_30_days=>0, :posts_7_da","object_id":70097612577720}},{"id":1155521,"event":"call","defined_class":"About","method_id":"stats_cache_key","path":"app/models/about.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":1155522,"event":"return","defined_class":"About","method_id":"stats_cache_key","path":"app/models/about.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":1155521,"elapsed":4.0e-06,"return_value":{"class":"String","value":"about-stats","object_id":70097567043740}},{"id":1155523,"event":"call","defined_class":"StatsCacheable::ClassMethods","method_id":"recalculate_stats_interval","path":"app/models/concerns/stats_cacheable.rb","lineno":16,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097567058760,"value":"About"}},{"id":1155524,"event":"return","defined_class":"StatsCacheable::ClassMethods","method_id":"recalculate_stats_interval","path":"app/models/concerns/stats_cacheable.rb","lineno":16,"static":false,"thread_id":70097708498960,"parent_id":1155523,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"30","object_id":61}},{"id":1155525,"event":"return","defined_class":"StatsCacheable::ClassMethods","method_id":"refresh_stats","path":"app/models/concerns/stats_cacheable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155476,"elapsed":0.088454,"return_value":{"class":"String","value":"{\"topic_count\":0,\"post_count\":0,\"user_count\":0,\"topics_7_days\":0,\"topics_30_days\":0,\"posts_7_days\":0","object_id":70097612572700}},{"id":1155526,"event":"return","defined_class":"StatsCacheable::ClassMethods","method_id":"fetch_cached_stats","path":"app/models/concerns/stats_cacheable.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":1155473,"elapsed":0.090325,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"topic_count\"=>0, \"post_count\"=>0, \"user_count\"=>0, \"topics_7_days\"=>0, \"topics_30_days\"=>0, \"posts","object_id":70097612610700}},{"id":1155527,"event":"return","defined_class":"AboutSerializer","method_id":"stats","path":"app/serializers/about_serializer.rb","lineno":35,"static":false,"thread_id":70097708498960,"parent_id":1155472,"elapsed":0.090489,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"topic_count\"=>0, \"post_count\"=>0, \"user_count\"=>0, \"topics_7_days\"=>0, \"topics_30_days\"=>0, \"posts","object_id":70097612610700}},{"id":1155528,"event":"call","defined_class":"About","method_id":"description","path":"app/models/about.rb","lineno":48,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155529,"event":"return","defined_class":"About","method_id":"description","path":"app/models/about.rb","lineno":48,"static":false,"thread_id":70097708498960,"parent_id":1155528,"elapsed":8.0e-06,"return_value":{"class":"String","value":"","object_id":70097723392340}},{"id":1155530,"event":"call","defined_class":"About","method_id":"title","path":"app/models/about.rb","lineno":40,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155531,"event":"return","defined_class":"About","method_id":"title","path":"app/models/about.rb","lineno":40,"static":false,"thread_id":70097708498960,"parent_id":1155530,"elapsed":5.0e-06,"return_value":{"class":"String","value":"Discourse","object_id":70097723392500}},{"id":1155532,"event":"call","defined_class":"About","method_id":"locale","path":"app/models/about.rb","lineno":44,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155533,"event":"return","defined_class":"About","method_id":"locale","path":"app/models/about.rb","lineno":44,"static":false,"thread_id":70097708498960,"parent_id":1155532,"elapsed":6.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1155534,"event":"call","defined_class":"About","method_id":"version","path":"app/models/about.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155535,"event":"return","defined_class":"About","method_id":"version","path":"app/models/about.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":1155534,"elapsed":4.0e-06,"return_value":{"class":"String","value":"2.5.0.beta5","object_id":70097718059180}},{"id":1155536,"event":"call","defined_class":"About","method_id":"https","path":"app/models/about.rb","lineno":36,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155537,"event":"return","defined_class":"About","method_id":"https","path":"app/models/about.rb","lineno":36,"static":false,"thread_id":70097708498960,"parent_id":1155536,"elapsed":6.0e-06},{"id":1155538,"event":"call","defined_class":"AboutSerializer","method_id":"can_see_about_stats","path":"app/serializers/about_serializer.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutSerializer","object_id":70097756529100,"value":"#<AboutSerializer:0x00007f81cfc14398>"}},{"id":1155539,"event":"return","defined_class":"AboutSerializer","method_id":"can_see_about_stats","path":"app/serializers/about_serializer.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":1155538,"elapsed":4.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1155540,"event":"call","defined_class":"About","method_id":"moderators","path":"app/models/about.rb","lineno":52,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155541,"event":"return","defined_class":"About","method_id":"moderators","path":"app/models/about.rb","lineno":52,"static":false,"thread_id":70097708498960,"parent_id":1155540,"elapsed":0.000217,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007f81be99d828>","object_id":70097612631060}},{"id":1155542,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"moderator\" = TRUE AND \"users\".\"admin\" = FALSE AND (users.id > 0) ORDER BY last_seen_at DESC","database_type":"postgres","server_version":110006}},{"id":1155543,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155542,"elapsed":0.001152},{"id":1155544,"event":"call","defined_class":"About","method_id":"admins","path":"app/models/about.rb","lineno":58,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155545,"event":"return","defined_class":"About","method_id":"admins","path":"app/models/about.rb","lineno":58,"static":false,"thread_id":70097708498960,"parent_id":1155544,"elapsed":0.000173,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007f81bba117f8>","object_id":70097587702780}},{"id":1155546,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"admin\" = TRUE AND (users.id > 0) ORDER BY last_seen_at DESC","database_type":"postgres","server_version":110006}},{"id":1155547,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155546,"elapsed":0.001304},{"id":1155548,"event":"call","defined_class":"About","method_id":"category_moderators","path":"app/models/about.rb","lineno":83,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"About","object_id":70097756335620,"value":"#<About:0x00007f81cfbb5c08>"}},{"id":1155549,"event":"call","defined_class":"CategoryGuardian","method_id":"allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587963100,"value":"#<Guardian:0x00007f81bba909b8>"}},{"id":1155550,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE \"categories\".\"read_restricted\" = FALSE","database_type":"postgres","server_version":110006}},{"id":1155551,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155550,"elapsed":0.001421},{"id":1155552,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097587963100,"value":"#<Guardian:0x00007f81bba909b8>"}},{"id":1155553,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"secure_category_ids","path":"lib/guardian.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097587963080,"value":"#<Guardian::AnonymousUser:0x00007f81bba90990>"}},{"id":1155554,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"secure_category_ids","path":"lib/guardian.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":1155553,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097828696420}},{"id":1155555,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":1155552,"elapsed":0.000131,"return_value":{"class":"Array","value":"[]","object_id":70097828696420}},{"id":1155556,"event":"return","defined_class":"CategoryGuardian","method_id":"allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":1155549,"elapsed":0.005402,"return_value":{"class":"Array","value":"[1]","object_id":70097828698980}},{"id":1155557,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE \"categories\".\"reviewable_by_group_id\" IS NOT NULL","database_type":"postgres","server_version":110006}},{"id":1155558,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1155557,"elapsed":0.002123},{"id":1155559,"event":"return","defined_class":"About","method_id":"category_moderators","path":"app/models/about.rb","lineno":83,"static":false,"thread_id":70097708498960,"parent_id":1155548,"elapsed":0.011089,"return_value":{"class":"Array","value":"[]","object_id":70097613345980}},{"id":1155560,"event":"return","defined_class":"ApplicationController","method_id":"render_json_dump","path":"app/controllers/application_controller.rb","lineno":450,"static":false,"thread_id":70097708498960,"parent_id":1155467,"elapsed":0.113515,"return_value":{"class":"String","value":"{\"about\":{\"stats\":{\"topic_count\":0,\"post_count\":0,\"user_count\":0,\"topics_7_days\":0,\"topics_30_days\":","object_id":70097613345020}},{"id":1155561,"event":"return","defined_class":"AboutController","method_id":"index","path":"app/controllers/about_controller.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1155454,"elapsed":0.114673,"return_value":{"class":"String","value":"{\"about\":{\"stats\":{\"topic_count\":0,\"post_count\":0,\"user_count\":0,\"topics_7_days\":0,\"topics_30_days\":","object_id":70097613345020}},{"id":1155562,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155563,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1155562,"elapsed":1.3e-05},{"id":1155564,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155565,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1155564,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097613363140}},{"id":1155566,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"AboutController","object_id":70097795000000,"value":"#<AboutController:0x00007f81d4574d80>"}},{"id":1155567,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155568,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155567,"elapsed":5.0e-06},{"id":1155569,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"NilClass","object_id":8,"value":null,"kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097794462580,"value":"#<ActionDispatch::Request::Session:0x00007f81d446e6e8>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097755351040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81cf9d5000>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155570,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155571,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155572,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155571,"elapsed":3.0e-06},{"id":1155573,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1155570,"elapsed":9.2e-05},{"id":1155574,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155575,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097795198680,"value":"#<TestCurrentUserProvider:0x00007f81d45d5db0>"}},{"id":1155576,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1155575,"elapsed":4.0e-06},{"id":1155577,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1155574,"elapsed":0.000108},{"id":1155578,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1155569,"elapsed":0.000451},{"id":1155579,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1155566,"elapsed":0.000683},{"id":1155580,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1155401,"elapsed":0.121394,"http_server_response":{"status":200}},{"id":1155581,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613394680,"value":"#<TestCurrentUserProvider:0x00007f81beb125f0>"}},{"id":1155582,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1155581,"elapsed":7.0e-06},{"id":1155583,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1155584,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1155583,"elapsed":9.0e-06},{"id":1155585,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1155586,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1155585,"elapsed":6.0e-06}]}