{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"UploadsController #create logged in allows staff to upload supported images for site settings","app":"Discourse","feature":"UploadsController #create","feature_group":"Uploads","recorder":{"name":"rspec"}},"classMap":[{"name":"lib/validators","type":"package","children":[{"name":"RegexSettingValidation","type":"class","children":[{"name":"initialize_regex_opts","type":"function","location":"lib/validators/regex_setting_validation.rb:5","static":false}]},{"name":"StringSettingValidator","type":"class","children":[{"name":"valid_value?","type":"function","location":"lib/validators/string_setting_validator.rb:12","static":false}]},{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UploadValidator","type":"class","children":[{"name":"validate","type":"function","location":"lib/validators/upload_validator.rb:9","static":false}]}]},{"name":"app/models","type":"package","children":[{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"User","type":"class","children":[{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"human?","type":"function","location":"app/models/user.rb:313","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true}]},{"name":"GlobalSetting","type":"class","children":[{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true},{"name":"use_s3?","type":"function","location":"app/models/global_setting.rb:96","static":true},{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","type":"class","children":[{"name":"generate_digest","type":"function","location":"app/models/upload.rb:264","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"enable_s3_uploads","type":"function","location":"app/models/site_setting.rb:146","static":true}]}]},{"name":"Upload","type":"class","children":[{"name":"width","type":"function","location":"app/models/upload.rb:226","static":false},{"name":"get_dimension","type":"function","location":"app/models/upload.rb:218","static":false},{"name":"height","type":"function","location":"app/models/upload.rb:230","static":false},{"name":"thumbnail_width","type":"function","location":"app/models/upload.rb:234","static":false},{"name":"thumbnail_height","type":"function","location":"app/models/upload.rb:238","static":false},{"name":"short_url","type":"function","location":"app/models/upload.rb:123","static":false},{"name":"short_path","type":"function","location":"app/models/upload.rb:140","static":false},{"name":"human_filesize","type":"function","location":"app/models/upload.rb:268","static":false}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false}]},{"name":"UploadsController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/uploads_controller.rb:15","static":false},{"name":"create_upload","type":"function","location":"app/controllers/uploads_controller.rb:198","static":true},{"name":"serialize_upload","type":"function","location":"app/controllers/uploads_controller.rb:191","static":true}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"UploadSerializer","type":"class","children":[{"name":"url","type":"function","location":"app/serializers/upload_serializer.rb:18","static":false}]}]}],"events":[{"id":1466705,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097703146380,"value":"{:name=>:authorized_extensions}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70097622006760,"value":"#<StringSettingValidator:0x00007f81bfb7f7d0>"}},{"id":1466706,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1466705,"elapsed":6.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70097724330800}},{"id":1466707,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097708321660,"value":"","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097622006760,"value":"#<StringSettingValidator:0x00007f81bfb7f7d0>"}},{"id":1466708,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1466707,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466709,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1466710,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1466709,"elapsed":7.2e-05,"return_value":{"class":"Integer","value":"20698","object_id":41397}},{"id":1466711,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466712,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466711,"elapsed":0.000733},{"id":1466713,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1888 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466714,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466713,"elapsed":0.000968},{"id":1466715,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466716,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":1466715,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466717,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466718,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097672647420,"value":"#<PasswordValidator:0x00007f81c5c165f8>"}},{"id":1466719,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466720,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466721,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":1466720,"elapsed":3.0e-06},{"id":1466722,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":1466719,"elapsed":0.00012},{"id":1466723,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1466718,"elapsed":0.000214},{"id":1466724,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":1466717,"elapsed":0.000335},{"id":1466725,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 1890 AND \"user_emails\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466726,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466725,"elapsed":0.001006},{"id":1466727,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"admin\" = TRUE, \"updated_at\" = '2020-05-28 19:08:34.861010' WHERE \"users\".\"id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1466728,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466727,"elapsed":0.001088},{"id":1466729,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466730,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":3777,"value":"1888","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":1466731,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":1466730,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466732,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":1466729,"elapsed":0.000133,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466733,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466734,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466735,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":1466734,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466736,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":1466733,"elapsed":9.3e-05},{"id":1466737,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1466738,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1466737,"elapsed":9.9e-05,"return_value":{"class":"Integer","value":"20699","object_id":41399}},{"id":1466739,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097717653160,"value":"{:name=>:global_notice}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70097620456080,"value":"#<StringSettingValidator:0x00007f81bf88a520>"}},{"id":1466740,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":1466739,"elapsed":4.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70097724330800}},{"id":1466741,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[{"name":"val","class":"String","object_id":70097708321660,"value":"","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70097620456080,"value":"#<StringSettingValidator:0x00007f81bf88a520>"}},{"id":1466742,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":1466741,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466743,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":1466744,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70097708498960,"parent_id":1466743,"elapsed":5.9e-05,"return_value":{"class":"Integer","value":"20701","object_id":41403}},{"id":1466745,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>"}},{"id":1466746,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466747,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466746,"elapsed":0.000847},{"id":1466748,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":1466745,"elapsed":0.00349},{"id":1466749,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097673051420,"value":"{:user=>#<User id: 1888, username: \"bruce1730\", created_at: \"2020-05-28 19:08:20\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":1466750,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1466749,"elapsed":8.0e-06},{"id":1466751,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097623892960,"value":"#<User:0x00007f81bff187c0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":1466752,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":1466751,"elapsed":3.0e-06},{"id":1466753,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466754,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466753,"elapsed":0.000742},{"id":1466755,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466756,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466755,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466757,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466758,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466757,"elapsed":1.1e-05},{"id":1466759,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"POST","path_info":"/uploads.json"},"message":[{"name":"file","class":"ActionDispatch::Http::UploadedFile","value":"#<ActionDispatch::Http::UploadedFile:0x00007f81c2087488>","object_id":70097641421380},{"name":"type","class":"String","value":"site_setting","object_id":70097641825900},{"name":"for_site_setting","class":"String","value":"true","object_id":70097641824780},{"name":"controller","class":"String","value":"uploads","object_id":70097801283460},{"name":"action","class":"String","value":"create","object_id":70097801283440},{"name":"format","class":"String","value":"json","object_id":70097641403720}]},{"id":1466760,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466761,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466762,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466763,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466764,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097641433340,"value":"26074dcc9d91f023bfad0a393952a8dc","kind":"req"},{"name":"opts","class":"Hash","object_id":70097641432660,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1466765,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097641433340,"value":"26074dcc9d91f023bfad0a393952a8dc","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1466766,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466767,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":1466766,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":1466768,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":1466765,"elapsed":0.000135,"return_value":{"class":"String","value":"blnvmR1TvBaGVsgduc2gX+WgI18=","object_id":70097641450320}},{"id":1466769,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'blnvmR1TvBaGVsgduc2gX+WgI18=' OR\n                          prev_auth_token = 'blnvmR1TvBaGVsgduc2gX+WgI18=') AND rotated_at > '2020-03-29 19:08:34.879384') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466770,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466769,"elapsed":0.001166},{"id":1466771,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 19:08:34.884389' WHERE \"user_auth_tokens\".\"id\" = 1612 AND \"user_auth_tokens\".\"auth_token\" = 'blnvmR1TvBaGVsgduc2gX+WgI18='","database_type":"postgres","server_version":110006}},{"id":1466772,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466771,"elapsed":0.001466},{"id":1466773,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097594947020,"value":"{:action=>\"seen token\", :user_auth_token_id=>1612, :user_id=>1888, :auth_token=>\"blnvmR1TvBaGVsgduc2","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":1466774,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466775,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466774,"elapsed":0.000912},{"id":1466776,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1612, 1888, '127.0.0.1/32', 'blnvmR1TvBaGVsgduc2gX+WgI18=', '2020-05-28 19:08:34.889276') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1466777,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466776,"elapsed":0.00106},{"id":1466778,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466779,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466778,"elapsed":0.000994},{"id":1466780,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1466773,"elapsed":0.013461,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81bc7e1dd8>","object_id":70097594945260}},{"id":1466781,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":1466764,"elapsed":0.023443,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81c58b08c8>","object_id":70097670866020}},{"id":1466782,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466783,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466782,"elapsed":0.001187},{"id":1466784,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097674223480,"value":"#<User:0x00007f81c5f17ef0>"}},{"id":1466785,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":1466784,"elapsed":1.7e-05},{"id":1466786,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466787,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":1466786,"elapsed":0.000829,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466788,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097674223480,"value":"#<User:0x00007f81c5f17ef0>"}},{"id":1466789,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":1466788,"elapsed":0.000817},{"id":1466790,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097674219980,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097674223480,"value":"#<User:0x00007f81c5f17ef0>"}},{"id":1466791,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1888","database_type":"postgres","server_version":110006}},{"id":1466792,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466791,"elapsed":0.001035},{"id":1466793,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":1466790,"elapsed":0.00385,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466794,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466763,"elapsed":0.034446,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466795,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1466762,"elapsed":0.034584,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81c42e3428>","object_id":70097659435540}},{"id":1466796,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097659435540,"value":"#<Guardian:0x00007f81c42e3428>"}},{"id":1466797,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":1466796,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466798,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":1466761,"elapsed":0.034821},{"id":1466799,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466800,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466799,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466801,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466802,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466801,"elapsed":0.000987},{"id":1466803,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466804,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":1466803,"elapsed":6.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81c42e3428>","object_id":70097659435540}},{"id":1466805,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097654940920,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097659435540,"value":"#<Guardian:0x00007f81c42e3428>"}},{"id":1466806,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":1466805,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466807,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":1466760,"elapsed":0.039747,"return_value":{"class":"Array","value":"[2]","object_id":70097654940920}},{"id":1466808,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466809,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466810,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466809,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466811,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466812,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466811,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466813,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466814,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466813,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466815,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":1466808,"elapsed":0.000361,"return_value":{"class":"String","value":"uploads/create","object_id":70097654978580}},{"id":1466816,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466817,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466818,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466817,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466819,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":1466816,"elapsed":0.000111},{"id":1466820,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466821,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466822,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466821,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466823,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466824,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466823,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466825,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097674223480,"value":"#<User:0x00007f81c5f17ef0>"}},{"id":1466826,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":1466825,"elapsed":1.3e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":1466827,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466828,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466827,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466829,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466830,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466829,"elapsed":1.0e-05},{"id":1466831,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466832,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466831,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466833,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466834,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466833,"elapsed":7.0e-06},{"id":1466835,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":1466820,"elapsed":0.00073,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097655005860}},{"id":1466836,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466837,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":1466836,"elapsed":9.0e-06},{"id":1466838,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466839,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466840,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466839,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466841,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1466838,"elapsed":9.9e-05},{"id":1466842,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466843,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466842,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466844,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466845,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466844,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466846,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466847,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466846,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466848,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097802288400,"value":"UploadsController"}},{"id":1466849,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":1466848,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:except=>[:show, :show_short, :show_secure]}","object_id":70097802383420}},{"id":1466850,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466851,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466850,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466852,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466853,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":1466852,"elapsed":1.0e-05},{"id":1466854,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466855,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466856,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466855,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466857,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1466854,"elapsed":0.000114},{"id":1466858,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466859,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466860,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466859,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466861,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1466858,"elapsed":9.0e-05},{"id":1466862,"event":"call","defined_class":"UploadsController","method_id":"create","path":"app/controllers/uploads_controller.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1466863,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466864,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466863,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466865,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466866,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1466867,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1466866,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1466868,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1466865,"elapsed":9.6e-05},{"id":1466869,"event":"call","defined_class":"UploadsController","method_id":"create_upload","path":"app/controllers/uploads_controller.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[{"name":"current_user","class":"Hash","object_id":70097654859120,"value":"{:current_user=>#<User id: 1888, username: \"bruce1730\", created_at: \"2020-05-28 19:08:20\", updated_a","kind":"keyreq"},{"name":"file","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"url","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"type","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"for_private_message","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"for_site_setting","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"pasted","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"is_api","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"},{"name":"retain_hours","class":"NilClass","object_id":8,"value":null,"kind":"keyreq"}],"receiver":{"class":"Class","object_id":70097802288400,"value":"UploadsController"}},{"id":1466870,"event":"call","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"generate_digest","path":"app/models/upload.rb","lineno":264,"static":true,"thread_id":70097708498960,"parameters":[{"name":"path","class":"Tempfile","object_id":70097641828040,"value":"#<File:0x00007f81c214d7f0>","kind":"req"}],"receiver":{"class":"Class","object_id":70097756332220,"value":"Upload"}},{"id":1466871,"event":"return","defined_class":"Upload(id: integer, user_id: integer, original_filename: string, filesize: integer, width: integer, height: integer, url: string, created_at: datetime, updated_at: datetime, sha1: string, origin: string, retain_hours: integer, extension: string, thumbnail_width: integer, thumbnail_height: integer, etag: string, secure: boolean, access_control_post_id: integer, original_sha1: string)","method_id":"generate_digest","path":"app/models/upload.rb","lineno":264,"static":true,"thread_id":70097708498960,"parent_id":1466870,"elapsed":6.3e-05,"return_value":{"class":"String","value":"bc975735dfc6409c1c2aa5ebf2239949bcbdbd65","object_id":70097656512320}},{"id":1466872,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"uploads\".* FROM \"uploads\" WHERE \"uploads\".\"sha1\" = 'bc975735dfc6409c1c2aa5ebf2239949bcbdbd65' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466873,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466872,"elapsed":0.0012},{"id":1466874,"event":"call","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097656966100,"value":"","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1466875,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466876,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466875,"elapsed":0.001098},{"id":1466877,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1888 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466878,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466877,"elapsed":0.001267},{"id":1466879,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097657305760,"value":"#<User:0x00007f81c3ed3540>"}},{"id":1466880,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1466879,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466881,"event":"return","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1466874,"elapsed":0.010395,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466882,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"uploads\" (\"user_id\", \"original_filename\", \"filesize\", \"width\", \"height\", \"url\", \"created_at\", \"updated_at\", \"sha1\", \"extension\", \"thumbnail_width\", \"thumbnail_height\") VALUES (1888, '05ad0b1401b9103634ec9b12446ddc40logo.png', 2297, 244, 66, '', '2020-05-28 19:08:34.942339', '2020-05-28 19:08:34.942339', 'bc975735dfc6409c1c2aa5ebf2239949bcbdbd65', 'png', 244, 66) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1466883,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466882,"elapsed":0.001127},{"id":1466884,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466885,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466884,"elapsed":0.000976},{"id":1466886,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":1466887,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":1466886,"elapsed":5.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":1466888,"event":"call","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":1466889,"event":"call","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466890,"event":"return","defined_class":"GlobalSetting","method_id":"use_s3?","path":"app/models/global_setting.rb","lineno":96,"static":true,"thread_id":70097708498960,"parent_id":1466889,"elapsed":4.0e-06},{"id":1466891,"event":"return","defined_class":"SiteSetting::Upload","method_id":"enable_s3_uploads","path":"app/models/site_setting.rb","lineno":146,"static":true,"thread_id":70097708498960,"parent_id":1466888,"elapsed":0.000114},{"id":1466892,"event":"call","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parameters":[{"name":"upload","class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"}],"receiver":{"class":"UploadValidator","object_id":70097757024380,"value":"#<UploadValidator:0x00007f81cfd060f8>"}},{"id":1466893,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097657305760,"value":"#<User:0x00007f81c3ed3540>"}},{"id":1466894,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":1466893,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466895,"event":"return","defined_class":"UploadValidator","method_id":"validate","path":"lib/validators/upload_validator.rb","lineno":9,"static":false,"thread_id":70097708498960,"parent_id":1466892,"elapsed":0.000137,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466896,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466897,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466896,"elapsed":0.001088},{"id":1466898,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"uploads\" SET \"url\" = '/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png', \"updated_at\" = '2020-05-28 19:08:34.951989' WHERE \"uploads\".\"id\" = 69","database_type":"postgres","server_version":110006}},{"id":1466899,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466898,"elapsed":0.001229},{"id":1466900,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466901,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466900,"elapsed":0.001051},{"id":1466902,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_uploads\".* FROM \"user_uploads\" WHERE \"user_uploads\".\"user_id\" = 1888 AND \"user_uploads\".\"upload_id\" = 69 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1466903,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466902,"elapsed":0.001141},{"id":1466904,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466905,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466904,"elapsed":0.000956},{"id":1466906,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_uploads\" (\"upload_id\", \"user_id\", \"created_at\") VALUES (69, 1888, '2020-05-28 19:08:34.969029') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":1466907,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466906,"elapsed":0.001198},{"id":1466908,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":1466909,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1466908,"elapsed":0.001399},{"id":1466910,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097674223480,"value":"#<User:0x00007f81c5f17ef0>"}},{"id":1466911,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":1466910,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1466912,"event":"return","defined_class":"UploadsController","method_id":"create_upload","path":"app/controllers/uploads_controller.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":1466869,"elapsed":0.133136,"return_value":{"class":"Upload","value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","object_id":70097656966100}},{"id":1466913,"event":"call","defined_class":"UploadsController","method_id":"serialize_upload","path":"app/controllers/uploads_controller.rb","lineno":191,"static":true,"thread_id":70097708498960,"parameters":[{"name":"data","class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","kind":"req"}],"receiver":{"class":"Class","object_id":70097802288400,"value":"UploadsController"}},{"id":1466914,"event":"call","defined_class":"UploadSerializer","method_id":"url","path":"app/serializers/upload_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadSerializer","object_id":70097719804680,"value":"#<UploadSerializer:0x00007f81cb608610>"}},{"id":1466915,"event":"return","defined_class":"UploadSerializer","method_id":"url","path":"app/serializers/upload_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":1466914,"elapsed":1.1e-05,"return_value":{"class":"String","value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png","object_id":70097729660560}},{"id":1466916,"event":"call","defined_class":"Upload","method_id":"width","path":"app/models/upload.rb","lineno":226,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466917,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":687068,"value":"width","kind":"req"}],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466918,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1466917,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1466919,"event":"return","defined_class":"Upload","method_id":"width","path":"app/models/upload.rb","lineno":226,"static":false,"thread_id":70097708498960,"parent_id":1466916,"elapsed":0.000135,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1466920,"event":"call","defined_class":"Upload","method_id":"height","path":"app/models/upload.rb","lineno":230,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466921,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":6449308,"value":"height","kind":"req"}],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466922,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1466921,"elapsed":7.0e-06,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1466923,"event":"return","defined_class":"Upload","method_id":"height","path":"app/models/upload.rb","lineno":230,"static":false,"thread_id":70097708498960,"parent_id":1466920,"elapsed":0.000126,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1466924,"event":"call","defined_class":"Upload","method_id":"thumbnail_width","path":"app/models/upload.rb","lineno":234,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466925,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":8262428,"value":"thumbnail_width","kind":"req"}],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466926,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1466925,"elapsed":7.0e-06,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1466927,"event":"return","defined_class":"Upload","method_id":"thumbnail_width","path":"app/models/upload.rb","lineno":234,"static":false,"thread_id":70097708498960,"parent_id":1466924,"elapsed":0.000134,"return_value":{"class":"Integer","value":"244","object_id":489}},{"id":1466928,"event":"call","defined_class":"Upload","method_id":"thumbnail_height","path":"app/models/upload.rb","lineno":238,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466929,"event":"call","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"Symbol","object_id":8263068,"value":"thumbnail_height","kind":"req"}],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466930,"event":"return","defined_class":"Upload","method_id":"get_dimension","path":"app/models/upload.rb","lineno":218,"static":false,"thread_id":70097708498960,"parent_id":1466929,"elapsed":7.0e-06,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1466931,"event":"return","defined_class":"Upload","method_id":"thumbnail_height","path":"app/models/upload.rb","lineno":238,"static":false,"thread_id":70097708498960,"parent_id":1466928,"elapsed":0.000124,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":1466932,"event":"call","defined_class":"Upload","method_id":"short_url","path":"app/models/upload.rb","lineno":123,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466933,"event":"return","defined_class":"Upload","method_id":"short_url","path":"app/models/upload.rb","lineno":123,"static":false,"thread_id":70097708498960,"parent_id":1466932,"elapsed":4.0e-05,"return_value":{"class":"String","value":"upload://qUm0DGR49PAZshIi7HxMd3cAlzn.png","object_id":70097783634640}},{"id":1466934,"event":"call","defined_class":"Upload","method_id":"short_path","path":"app/models/upload.rb","lineno":140,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466935,"event":"return","defined_class":"Upload","method_id":"short_path","path":"app/models/upload.rb","lineno":140,"static":false,"thread_id":70097708498960,"parent_id":1466934,"elapsed":0.000136,"return_value":{"class":"String","value":"/uploads/short-url/qUm0DGR49PAZshIi7HxMd3cAlzn.png","object_id":70097796340160}},{"id":1466936,"event":"call","defined_class":"Upload","method_id":"human_filesize","path":"app/models/upload.rb","lineno":268,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097656966100,"value":"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png"}},{"id":1466937,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466938,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466937,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466939,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466940,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466939,"elapsed":1.2e-05},{"id":1466941,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466942,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466941,"elapsed":3.0e-06},{"id":1466943,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466944,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466943,"elapsed":3.0e-06},{"id":1466945,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466946,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466945,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466947,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466948,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466947,"elapsed":8.0e-06},{"id":1466949,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466950,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466949,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466951,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466952,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466951,"elapsed":8.0e-06},{"id":1466953,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466954,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466953,"elapsed":4.0e-06},{"id":1466955,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466956,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466955,"elapsed":3.0e-06},{"id":1466957,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466958,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466957,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466959,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466960,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466959,"elapsed":7.0e-06},{"id":1466961,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466962,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466961,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466963,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466964,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466963,"elapsed":7.0e-06},{"id":1466965,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466966,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466965,"elapsed":4.0e-06},{"id":1466967,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466968,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466967,"elapsed":4.0e-06},{"id":1466969,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466970,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466969,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466971,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466972,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466971,"elapsed":8.0e-06},{"id":1466973,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466974,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466973,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466975,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466976,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466975,"elapsed":8.0e-06},{"id":1466977,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466978,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466977,"elapsed":4.0e-06},{"id":1466979,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466980,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466979,"elapsed":4.0e-06},{"id":1466981,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466982,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466981,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466983,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466984,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466983,"elapsed":8.0e-06},{"id":1466985,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466986,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466985,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466987,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466988,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466987,"elapsed":8.0e-06},{"id":1466989,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466990,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466989,"elapsed":4.0e-06},{"id":1466991,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1466992,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1466991,"elapsed":3.0e-06},{"id":1466993,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466994,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466993,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466995,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466996,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466995,"elapsed":1.2e-05},{"id":1466997,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1466998,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466997,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1466999,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467000,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1466999,"elapsed":8.0e-06},{"id":1467001,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1467002,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1467001,"elapsed":4.0e-06},{"id":1467003,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1467004,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1467003,"elapsed":4.0e-06},{"id":1467005,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467006,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1467005,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1467007,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467008,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1467007,"elapsed":7.0e-06},{"id":1467009,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467010,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1467009,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1467011,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467012,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1467011,"elapsed":7.0e-06},{"id":1467013,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1467014,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1467013,"elapsed":4.0e-06},{"id":1467015,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":1467016,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":1467015,"elapsed":4.0e-06},{"id":1467017,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467018,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1467017,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":1467019,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":1467020,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":1467019,"elapsed":8.0e-06},{"id":1467021,"event":"return","defined_class":"Upload","method_id":"human_filesize","path":"app/models/upload.rb","lineno":268,"static":false,"thread_id":70097708498960,"parent_id":1466936,"elapsed":0.005419,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"2.24 KB","object_id":70097793940740}},{"id":1467022,"event":"return","defined_class":"UploadsController","method_id":"serialize_upload","path":"app/controllers/uploads_controller.rb","lineno":191,"static":true,"thread_id":70097708498960,"parent_id":1466913,"elapsed":0.007218,"return_value":{"class":"Hash","value":"{\"id\"=>69, \"url\"=>\"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png\"","object_id":70097793954480}},{"id":1467023,"event":"return","defined_class":"UploadsController","method_id":"create","path":"app/controllers/uploads_controller.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":1466862,"elapsed":0.141471,"return_value":{"class":"String","value":"{\"id\":69,\"url\":\"/uploads/default/test_0/original/1X/bc975735dfc6409c1c2aa5ebf2239949bcbdbd65.png\",\"o","object_id":70097794002380}},{"id":1467024,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1467025,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":1467024,"elapsed":8.0e-06},{"id":1467026,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1467027,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1467026,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097794098020}},{"id":1467028,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UploadsController","object_id":70097641402460,"value":"#<UploadsController:0x00007f81c207e0b8>"}},{"id":1467029,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1467030,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1467029,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1467031,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097674223480,"value":"#<User:0x00007f81c5f17ef0>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097641847640,"value":"#<ActionDispatch::Request::Session:0x00007f81c21576b0>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097654941140,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81c3a50ba8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1467032,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1467033,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1467034,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1467033,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1467035,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":1467032,"elapsed":0.000113},{"id":1467036,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1467037,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097641435920,"value":"#<TestCurrentUserProvider:0x00007f81c208e620>"}},{"id":1467038,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":1467037,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81c5f17ef0>","object_id":70097674223480}},{"id":1467039,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":1467036,"elapsed":0.000112},{"id":1467040,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":1467031,"elapsed":0.000498},{"id":1467041,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":1467028,"elapsed":0.000755},{"id":1467042,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":1466759,"elapsed":0.186628,"http_server_response":{"status":200}},{"id":1467043,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097794542760,"value":"#<TestCurrentUserProvider:0x00007f81d4495950>"}},{"id":1467044,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":1467043,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1467045,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1467046,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1467045,"elapsed":7.0e-06},{"id":1467047,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":1467048,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":1467047,"elapsed":5.0e-06},{"id":1467049,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"uploads\".* FROM \"uploads\" ORDER BY \"uploads\".\"id\" DESC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":1467050,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":1467049,"elapsed":0.001149}]}