{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"UsersController #badge_title is not raising an erroring when user revokes title","app":"Discourse","feature":"UsersController #badge_title","feature_group":"Users","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"values","type":"function","location":"app/models/locale_site_setting.rb:9","static":true}]},{"name":"Site","type":"class","children":[{"name":"json_for","type":"function","location":"app/models/site.rb:85","static":true},{"name":"notification_types","type":"function","location":"app/models/site.rb:19","static":false},{"name":"categories","type":"function","location":"app/models/site.rb:31","static":false},{"name":"trust_levels","type":"function","location":"app/models/site.rb:23","static":false},{"name":"archetypes","type":"function","location":"app/models/site.rb:77","static":false},{"name":"user_fields","type":"function","location":"app/models/site.rb:27","static":false},{"name":"auth_providers","type":"function","location":"app/models/site.rb:81","static":false}]},{"name":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","type":"class","children":[{"name":"types","type":"function","location":"app/models/notification.rb:89","static":true},{"name":"high_priority_types","type":"function","location":"app/models/notification.rb:117","static":true}]},{"name":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","type":"class","children":[{"name":"types","type":"function","location":"app/models/post.rb:139","static":true}]},{"name":"TopTopic (call 'TopTopic.connection' to establish a connection)","type":"class","children":[{"name":"periods","type":"function","location":"app/models/top_topic.rb:35","static":true}]},{"name":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","type":"class","children":[{"name":"max_length","type":"function","location":"app/models/user_field.rb:12","static":true}]},{"name":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","type":"class","children":[{"name":"include_tags?","type":"function","location":"app/models/tag.rb:144","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"notification_levels_for","type":"function","location":"app/models/category_user.rb:204","static":true},{"name":"default_notification_level","type":"function","location":"app/models/category_user.rb:200","static":true},{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true}]},{"name":"Category","type":"class","children":[{"name":"uncategorized?","type":"function","location":"app/models/category.rb:699","static":false},{"name":"topic_url","type":"function","location":"app/models/category.rb:297","static":false}]},{"name":"GlobalSetting","type":"class","children":[{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"Upload","type":"class","children":[{"name":"to_s","type":"function","location":"app/models/upload.rb:50","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"available_locales","type":"function","location":"app/models/site_setting.rb:32","static":true},{"name":"require_invite_code","type":"function","location":"app/models/site_setting.rb:176","static":true},{"name":"site_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"site_logo_small_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_mobile_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_favicon_url","type":"function","location":"app/models/site_setting.rb:201","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"s3_cdn_url","type":"function","location":"app/models/site_setting.rb:130","static":true}]}]},{"name":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","type":"class","children":[{"name":"lookup_field","type":"function","location":"app/models/theme.rb:246","static":true},{"name":"transform_ids","type":"function","location":"app/models/theme.rb:162","static":true},{"name":"get_set_cache","type":"function","location":"app/models/theme.rb:125","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"find_by_username","type":"function","location":"app/models/user.rb:371","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_unread_notifications","type":"function","location":"app/models/user.rb:513","static":true},{"name":"human_user_id?","type":"function","location":"app/models/user.rb:309","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"generate!","type":"function","location":"app/models/user_auth_token.rb:68","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true},{"name":"enforce_session_count_limit!","type":"function","location":"app/models/user_auth_token.rb:226","static":true},{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true}]},{"name":"User","type":"class","children":[{"name":"unstage!","type":"function","location":"app/models/user.rb:341","static":false},{"name":"logged_in","type":"function","location":"app/models/user.rb:1170","static":false},{"name":"seen_before?","type":"function","location":"app/models/user.rb:667","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"publish_notifications_state","type":"function","location":"app/models/user.rb:571","static":false},{"name":"unread_notifications","type":"function","location":"app/models/user.rb:521","static":false},{"name":"unread_private_messages","type":"function","location":"app/models/user.rb:500","static":false},{"name":"unread_high_priority_notifications","type":"function","location":"app/models/user.rb:504","static":false},{"name":"unread_notifications_of_priority","type":"function","location":"app/models/user.rb:480","static":false},{"name":"read_first_notification?","type":"function","location":"app/models/user.rb:561","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"human?","type":"function","location":"app/models/user.rb:313","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]},{"name":"Badge","type":"class","children":[{"name":"single_grant?","type":"function","location":"app/models/badge.rb:234","static":false},{"name":"display_name","type":"function","location":"app/models/badge.rb:256","static":false},{"name":"slug","type":"function","location":"app/models/badge.rb:284","static":false}]},{"name":"UserBadge(id: integer, badge_id: integer, user_id: integer, granted_at: datetime, granted_by_id: integer, post_id: integer, notification_id: integer, seq: integer, featured_rank: integer, created_at: datetime)","type":"class","children":[{"name":"update_featured_ranks!","type":"function","location":"app/models/user_badge.rb:47","static":true}]},{"name":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","type":"class","children":[{"name":"i18n_key","type":"function","location":"app/models/badge.rb:215","static":true},{"name":"i18n_name","type":"function","location":"app/models/badge.rb:207","static":true}]},{"name":"Notification","type":"class","children":[{"name":"data_hash","type":"function","location":"app/models/notification.rb:186","static":false}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","type":"class","children":[{"name":"actions","type":"function","location":"app/models/user_history.rb:20","static":true},{"name":"admin_only_action_ids","type":"function","location":"app/models/user_history.rb:198","static":true}]},{"name":"UserHistory","type":"class","children":[{"name":"set_admin_only","type":"function","location":"app/models/user_history.rb:250","static":false}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"store_preloaded","type":"function","location":"app/controllers/application_controller.rb:343","static":false},{"name":"banner_json_cache","type":"function","location":"app/controllers/application_controller.rb:575","static":true},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false},{"name":"fetch_user_from_params","type":"function","location":"app/controllers/application_controller.rb:475","static":false}]},{"name":"SessionController","type":"class","children":[{"name":"become","type":"function","location":"app/controllers/session_controller.rb:117","static":false}]},{"name":"UsersController","type":"class","children":[{"name":"badge_title","type":"function","location":"app/controllers/users_controller.rb:222","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"log_on_user","type":"function","location":"lib/auth/default_current_user_provider.rb:198","static":false},{"name":"cookie_hash","type":"function","location":"lib/auth/default_current_user_provider.rb:217","static":false},{"name":"make_developer_admin","type":"function","location":"lib/auth/default_current_user_provider.rb:232","static":false},{"name":"enable_bootstrap_mode","type":"function","location":"lib/auth/default_current_user_provider.rb:242","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false}]},{"name":"FacebookAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/facebook_authenticator.rb:11","static":false}]},{"name":"GoogleOAuth2Authenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/google_oauth2_authenticator.rb:8","static":false}]},{"name":"GithubAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/github_authenticator.rb:11","static":false}]},{"name":"TwitterAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/twitter_authenticator.rb:8","static":false}]},{"name":"InstagramAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/instagram_authenticator.rb:8","static":false}]},{"name":"DiscordAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/discord_authenticator.rb:45","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"anonymous?","type":"function","location":"lib/guardian.rb:76","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"AnonymousUser","type":"class","children":[{"name":"blank?","type":"function","location":"lib/guardian.rb:26","static":false},{"name":"staff?","type":"function","location":"lib/guardian.rb:32","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian.rb:50","static":false},{"name":"admin?","type":"function","location":"lib/guardian.rb:29","static":false}]},{"name":"user","type":"function","location":"lib/guardian.rb:71","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"can_edit?","type":"function","location":"lib/guardian.rb:154","static":false},{"name":"can_grant_badges?","type":"function","location":"lib/guardian.rb:184","static":false},{"name":"can_see?","type":"function","location":"lib/guardian.rb:122","static":false}]},{"name":"TagGuardian","type":"class","children":[{"name":"can_create_tag?","type":"function","location":"lib/guardian/tag_guardian.rb:5","static":false},{"name":"can_tag_topics?","type":"function","location":"lib/guardian/tag_guardian.rb:11","static":false},{"name":"can_tag_pms?","type":"function","location":"lib/guardian/tag_guardian.rb:17","static":false}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"topic_featured_link_allowed_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:74","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:57","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_create_shared_draft?","type":"function","location":"lib/guardian/topic_guardian.rb:25","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"ensure_can_see!","type":"function","location":"lib/guardian/ensure_magic.rb:20","static":false},{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false}]},{"name":"UserGuardian","type":"class","children":[{"name":"can_edit_user?","type":"function","location":"lib/guardian/user_guardian.rb:21","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"SiteSerializer","type":"class","children":[{"name":"default_archetype","type":"function","location":"app/serializers/site_serializer.rb:70","static":false},{"name":"post_types","type":"function","location":"app/serializers/site_serializer.rb:74","static":false},{"name":"groups","type":"function","location":"app/serializers/site_serializer.rb:50","static":false},{"name":"filters","type":"function","location":"app/serializers/site_serializer.rb:78","static":false},{"name":"periods","type":"function","location":"app/serializers/site_serializer.rb:82","static":false},{"name":"top_menu_items","type":"function","location":"app/serializers/site_serializer.rb:86","static":false},{"name":"anonymous_top_menu_items","type":"function","location":"app/serializers/site_serializer.rb:90","static":false},{"name":"uncategorized_category_id","type":"function","location":"app/serializers/site_serializer.rb:94","static":false},{"name":"is_readonly","type":"function","location":"app/serializers/site_serializer.rb:98","static":false},{"name":"disabled_plugins","type":"function","location":"app/serializers/site_serializer.rb:102","static":false},{"name":"user_field_max_length","type":"function","location":"app/serializers/site_serializer.rb:106","static":false},{"name":"post_action_types","type":"function","location":"app/serializers/site_serializer.rb:56","static":false},{"name":"topic_flag_types","type":"function","location":"app/serializers/site_serializer.rb:63","static":false},{"name":"can_create_tag","type":"function","location":"app/serializers/site_serializer.rb:110","static":false},{"name":"can_tag_topics","type":"function","location":"app/serializers/site_serializer.rb:114","static":false},{"name":"can_tag_pms","type":"function","location":"app/serializers/site_serializer.rb:118","static":false},{"name":"include_tags_filter_regexp?","type":"function","location":"app/serializers/site_serializer.rb:122","static":false},{"name":"include_top_tags?","type":"function","location":"app/serializers/site_serializer.rb:130","static":false},{"name":"include_wizard_required?","type":"function","location":"app/serializers/site_serializer.rb:142","static":false},{"name":"include_topic_featured_link_allowed_category_ids?","type":"function","location":"app/serializers/site_serializer.rb:146","static":false},{"name":"topic_featured_link_allowed_category_ids","type":"function","location":"app/serializers/site_serializer.rb:150","static":false},{"name":"user_themes","type":"function","location":"app/serializers/site_serializer.rb:39","static":false},{"name":"censored_regexp","type":"function","location":"app/serializers/site_serializer.rb:154","static":false},{"name":"include_shared_drafts_category_id?","type":"function","location":"app/serializers/site_serializer.rb:166","static":false},{"name":"custom_emoji_translation","type":"function","location":"app/serializers/site_serializer.rb:158","static":false}]},{"name":"ApplicationSerializer","type":"class","children":[{"name":"fragment_cache","type":"function","location":"app/serializers/application_serializer.rb:21","static":true}]},{"name":"BasicCategorySerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/basic_category_serializer.rb:42","static":false},{"name":"description","type":"function","location":"app/serializers/basic_category_serializer.rb:50","static":false},{"name":"description_text","type":"function","location":"app/serializers/basic_category_serializer.rb:46","static":false},{"name":"description_excerpt","type":"function","location":"app/serializers/basic_category_serializer.rb:54","static":false},{"name":"include_parent_category_id?","type":"function","location":"app/serializers/basic_category_serializer.rb:38","static":false},{"name":"notification_level","type":"function","location":"app/serializers/basic_category_serializer.rb:66","static":false},{"name":"include_can_edit?","type":"function","location":"app/serializers/basic_category_serializer.rb:62","static":false},{"name":"include_custom_fields?","type":"function","location":"app/serializers/basic_category_serializer.rb:74","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/basic_category_serializer.rb:70","static":false}]},{"name":"SiteCategorySerializer","type":"class","children":[{"name":"include_allowed_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:12","static":false},{"name":"include_allowed_tag_groups?","type":"function","location":"app/serializers/site_category_serializer.rb:20","static":false},{"name":"include_allow_global_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:28","static":false},{"name":"required_tag_group_name","type":"function","location":"app/serializers/site_category_serializer.rb:32","static":false}]},{"name":"ArchetypeSerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/archetype_serializer.rb:18","static":false},{"name":"options","type":"function","location":"app/serializers/archetype_serializer.rb:7","static":false}]},{"name":"NotificationSerializer","type":"class","children":[{"name":"include_fancy_title?","type":"function","location":"app/serializers/notification_serializer.rb:25","static":false},{"name":"slug","type":"function","location":"app/serializers/notification_serializer.rb:17","static":false},{"name":"data","type":"function","location":"app/serializers/notification_serializer.rb:37","static":false},{"name":"include_is_warning?","type":"function","location":"app/serializers/notification_serializer.rb:33","static":false},{"name":"is_warning","type":"function","location":"app/serializers/notification_serializer.rb:21","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]},{"name":"BadgeGranter","type":"class","children":[{"name":"grant","type":"function","location":"app/services/badge_granter.rb:45","static":false},{"name":"send_notification","type":"function","location":"app/services/badge_granter.rb:421","static":true},{"name":"notification_locale","type":"function","location":"app/services/badge_granter.rb:416","static":true},{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"NotificationConsolidator","type":"class","children":[{"name":"consolidate!","type":"function","location":"app/services/notification_consolidator.rb:30","static":false}]},{"name":"NotificationEmailer","type":"class","children":[{"name":"process_notification","type":"function","location":"app/services/notification_emailer.rb:126","static":true}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]}]},{"name":"app/helpers","type":"package","children":[{"name":"ApplicationHelper","type":"class","children":[{"name":"mobile_view?","type":"function","location":"app/helpers/application_helper.rb:306","static":false}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]}]}],"events":[{"id":850591,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":850592,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850591,"elapsed":0.001364},{"id":850593,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850594,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850593,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850595,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850596,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850595,"elapsed":1.2e-05},{"id":850597,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/session/bruce1074/become"},"message":[{"name":"controller","class":"String","value":"session","object_id":70097701487520},{"name":"action","class":"String","value":"become","object_id":70097783503120},{"name":"session_id","class":"String","value":"bruce1074","object_id":70097799458280}]},{"id":850598,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850599,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850600,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850601,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":850602,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":850601,"elapsed":2.8e-05},{"id":850603,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":850600,"elapsed":0.000139,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d84c9d00>","object_id":70097828204160}},{"id":850604,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850605,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":850604,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850606,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":850599,"elapsed":0.000357},{"id":850607,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":850608,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":850607,"elapsed":4.0e-06},{"id":850609,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850610,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":850609,"elapsed":2.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d84c9d00>","object_id":70097828204160}},{"id":850611,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097828222740,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850612,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":850611,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850613,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":850598,"elapsed":0.000761,"return_value":{"class":"Array","value":"[2]","object_id":70097828222740}},{"id":850614,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850615,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":850616,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":850615,"elapsed":5.0e-06},{"id":850617,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":850614,"elapsed":0.000159,"return_value":{"class":"String","value":"session/become","object_id":70097828239780}},{"id":850618,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850619,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":850620,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":850619,"elapsed":3.0e-06},{"id":850621,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":850618,"elapsed":9.1e-05},{"id":850622,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850623,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":850624,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":850623,"elapsed":3.0e-06},{"id":850625,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850626,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850625,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850627,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850628,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850627,"elapsed":8.0e-06},{"id":850629,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850630,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850629,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850631,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850632,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850631,"elapsed":6.0e-06},{"id":850633,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":850622,"elapsed":0.000488,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097608472060}},{"id":850634,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850635,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":850634,"elapsed":6.0e-06},{"id":850636,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097756351680,"value":"SessionController"}},{"id":850637,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":850636,"elapsed":3.0e-06},{"id":850638,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850639,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850640,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":850639,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d84c9d00>","object_id":70097828204160}},{"id":850641,"event":"call","defined_class":"Site","method_id":"json_for","path":"app/models/site.rb","lineno":85,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>","kind":"req"}],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":850642,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850643,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850644,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850645,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850644,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850646,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850643,"elapsed":0.000101},{"id":850647,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":850642,"elapsed":0.000215,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850648,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850649,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850650,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850651,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850650,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850652,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850649,"elapsed":8.9e-05},{"id":850653,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":850648,"elapsed":0.00017,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850654,"event":"call","defined_class":"SiteSerializer","method_id":"default_archetype","path":"app/serializers/site_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850655,"event":"return","defined_class":"SiteSerializer","method_id":"default_archetype","path":"app/serializers/site_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":850654,"elapsed":5.0e-06,"return_value":{"class":"String","value":"regular","object_id":70097714186300}},{"id":850656,"event":"call","defined_class":"Site","method_id":"notification_types","path":"app/models/site.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097828269500,"value":"#<Site:0x00007f81d84e9b78>"}},{"id":850657,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":850658,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":850657,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":850659,"event":"return","defined_class":"Site","method_id":"notification_types","path":"app/models/site.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":850656,"elapsed":0.000125,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":850660,"event":"call","defined_class":"SiteSerializer","method_id":"post_types","path":"app/serializers/site_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850661,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":850662,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":850661,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":850663,"event":"return","defined_class":"SiteSerializer","method_id":"post_types","path":"app/serializers/site_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":850660,"elapsed":0.000104,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":850664,"event":"call","defined_class":"SiteSerializer","method_id":"groups","path":"app/serializers/site_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850665,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850666,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850667,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850668,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850667,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850669,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850666,"elapsed":8.9e-05},{"id":850670,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":850665,"elapsed":0.000171,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850671,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":850672,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":850671,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":850673,"event":"return","defined_class":"SiteSerializer","method_id":"groups","path":"app/serializers/site_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":850664,"elapsed":0.000352,"return_value":{"class":"Array","value":"[]","object_id":70097568737100}},{"id":850674,"event":"call","defined_class":"SiteSerializer","method_id":"filters","path":"app/serializers/site_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850675,"event":"return","defined_class":"SiteSerializer","method_id":"filters","path":"app/serializers/site_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parent_id":850674,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"unread\", \"new\", \"read\", \"posted\", \"bookmarks\"]","object_id":70097828335840}},{"id":850676,"event":"call","defined_class":"SiteSerializer","method_id":"periods","path":"app/serializers/site_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850677,"event":"call","defined_class":"TopTopic (call 'TopTopic.connection' to establish a connection)","method_id":"periods","path":"app/models/top_topic.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803577220,"value":"TopTopic"}},{"id":850678,"event":"return","defined_class":"TopTopic (call 'TopTopic.connection' to establish a connection)","method_id":"periods","path":"app/models/top_topic.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":850677,"elapsed":9.0e-06,"return_value":{"class":"Array","value":"[:all, :yearly, :quarterly, :monthly, :weekly, :daily]","object_id":70097803693980}},{"id":850679,"event":"return","defined_class":"SiteSerializer","method_id":"periods","path":"app/serializers/site_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parent_id":850676,"elapsed":0.000107,"return_value":{"class":"Array","value":"[\"all\", \"yearly\", \"quarterly\", \"monthly\", \"weekly\", \"daily\"]","object_id":70097568208880}},{"id":850680,"event":"call","defined_class":"SiteSerializer","method_id":"top_menu_items","path":"app/serializers/site_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850681,"event":"return","defined_class":"SiteSerializer","method_id":"top_menu_items","path":"app/serializers/site_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":850680,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"unread\", \"new\", \"read\", \"posted\", \"bookmarks\", \"categories\", \"top\"]","object_id":70097568205720}},{"id":850682,"event":"call","defined_class":"SiteSerializer","method_id":"anonymous_top_menu_items","path":"app/serializers/site_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850683,"event":"return","defined_class":"SiteSerializer","method_id":"anonymous_top_menu_items","path":"app/serializers/site_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parent_id":850682,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"top\", \"categories\", \"categories\", \"top\"]","object_id":70097612651520}},{"id":850684,"event":"call","defined_class":"SiteSerializer","method_id":"uncategorized_category_id","path":"app/serializers/site_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850685,"event":"return","defined_class":"SiteSerializer","method_id":"uncategorized_category_id","path":"app/serializers/site_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parent_id":850684,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":850686,"event":"call","defined_class":"SiteSerializer","method_id":"is_readonly","path":"app/serializers/site_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850687,"event":"return","defined_class":"SiteSerializer","method_id":"is_readonly","path":"app/serializers/site_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parent_id":850686,"elapsed":0.000626},{"id":850688,"event":"call","defined_class":"SiteSerializer","method_id":"disabled_plugins","path":"app/serializers/site_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850689,"event":"return","defined_class":"SiteSerializer","method_id":"disabled_plugins","path":"app/serializers/site_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parent_id":850688,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097828346300}},{"id":850690,"event":"call","defined_class":"SiteSerializer","method_id":"user_field_max_length","path":"app/serializers/site_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850691,"event":"call","defined_class":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","method_id":"max_length","path":"app/models/user_field.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097712077300,"value":"UserField"}},{"id":850692,"event":"return","defined_class":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","method_id":"max_length","path":"app/models/user_field.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":850691,"elapsed":2.0e-06,"return_value":{"class":"Integer","value":"2048","object_id":4097}},{"id":850693,"event":"return","defined_class":"SiteSerializer","method_id":"user_field_max_length","path":"app/serializers/site_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parent_id":850690,"elapsed":0.000101,"return_value":{"class":"Integer","value":"2048","object_id":4097}},{"id":850694,"event":"call","defined_class":"SiteSerializer","method_id":"post_action_types","path":"app/serializers/site_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850695,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":850696,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":850695,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":850697,"event":"return","defined_class":"SiteSerializer","method_id":"post_action_types","path":"app/serializers/site_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":850694,"elapsed":9.7e-05,"return_value":{"class":"Array","value":"[{:id=>1, :name_key=>:bookmark, :name=>\"Bookmark\", :description=>\"Bookmark this post\", :short_descri","object_id":70097799746720}},{"id":850698,"event":"call","defined_class":"SiteSerializer","method_id":"topic_flag_types","path":"app/serializers/site_serializer.rb","lineno":63,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850699,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":850700,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":850699,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":850701,"event":"return","defined_class":"SiteSerializer","method_id":"topic_flag_types","path":"app/serializers/site_serializer.rb","lineno":63,"static":false,"thread_id":70097708498960,"parent_id":850698,"elapsed":9.8e-05,"return_value":{"class":"Array","value":"[{:id=>4, :name_key=>:inappropriate, :name=>\"Inappropriate\", :description=>\"This topic contains cont","object_id":70097800178900}},{"id":850702,"event":"call","defined_class":"SiteSerializer","method_id":"can_create_tag","path":"app/serializers/site_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850703,"event":"call","defined_class":"TagGuardian","method_id":"can_create_tag?","path":"lib/guardian/tag_guardian.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850704,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850705,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850706,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850705,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850707,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":850704,"elapsed":9.0e-05},{"id":850708,"event":"return","defined_class":"TagGuardian","method_id":"can_create_tag?","path":"lib/guardian/tag_guardian.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":850703,"elapsed":0.000177},{"id":850709,"event":"return","defined_class":"SiteSerializer","method_id":"can_create_tag","path":"app/serializers/site_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parent_id":850702,"elapsed":0.00026},{"id":850710,"event":"call","defined_class":"SiteSerializer","method_id":"can_tag_topics","path":"app/serializers/site_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850711,"event":"call","defined_class":"TagGuardian","method_id":"can_tag_topics?","path":"lib/guardian/tag_guardian.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850712,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850713,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850714,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850713,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850715,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":850712,"elapsed":0.000112},{"id":850716,"event":"return","defined_class":"TagGuardian","method_id":"can_tag_topics?","path":"lib/guardian/tag_guardian.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":850711,"elapsed":0.000229},{"id":850717,"event":"return","defined_class":"SiteSerializer","method_id":"can_tag_topics","path":"app/serializers/site_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parent_id":850710,"elapsed":0.000314},{"id":850718,"event":"call","defined_class":"SiteSerializer","method_id":"can_tag_pms","path":"app/serializers/site_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850719,"event":"call","defined_class":"TagGuardian","method_id":"can_tag_pms?","path":"lib/guardian/tag_guardian.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850720,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850721,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850722,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":850721,"elapsed":2.0e-06},{"id":850723,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":850720,"elapsed":8.5e-05},{"id":850724,"event":"return","defined_class":"TagGuardian","method_id":"can_tag_pms?","path":"lib/guardian/tag_guardian.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":850719,"elapsed":0.000167},{"id":850725,"event":"return","defined_class":"SiteSerializer","method_id":"can_tag_pms","path":"app/serializers/site_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":850718,"elapsed":0.000251},{"id":850726,"event":"call","defined_class":"SiteSerializer","method_id":"include_tags_filter_regexp?","path":"app/serializers/site_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850727,"event":"return","defined_class":"SiteSerializer","method_id":"include_tags_filter_regexp?","path":"app/serializers/site_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":850726,"elapsed":6.0e-06},{"id":850728,"event":"call","defined_class":"SiteSerializer","method_id":"include_top_tags?","path":"app/serializers/site_serializer.rb","lineno":130,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850729,"event":"call","defined_class":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","method_id":"include_tags?","path":"app/models/tag.rb","lineno":144,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755158320,"value":"Tag"}},{"id":850730,"event":"return","defined_class":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","method_id":"include_tags?","path":"app/models/tag.rb","lineno":144,"static":true,"thread_id":70097708498960,"parent_id":850729,"elapsed":8.0e-06},{"id":850731,"event":"return","defined_class":"SiteSerializer","method_id":"include_top_tags?","path":"app/serializers/site_serializer.rb","lineno":130,"static":false,"thread_id":70097708498960,"parent_id":850728,"elapsed":9.6e-05},{"id":850732,"event":"call","defined_class":"SiteSerializer","method_id":"include_wizard_required?","path":"app/serializers/site_serializer.rb","lineno":142,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850733,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850734,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850735,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850734,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850736,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":850733,"elapsed":8.8e-05},{"id":850737,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":850738,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":850737,"elapsed":6.7e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097828387900}},{"id":850739,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) LIMIT 16) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":850740,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850739,"elapsed":0.001017},{"id":850741,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" INNER JOIN \"user_auth_tokens\" ON \"user_auth_tokens\".\"user_id\" = \"users\".\"id\" WHERE \"users\".\"admin\" = TRUE AND (users.id > 0) ORDER BY user_auth_tokens.created_at LIMIT 1","database_type":"postgres","server_version":110006}},{"id":850742,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850741,"elapsed":0.001636},{"id":850743,"event":"return","defined_class":"SiteSerializer","method_id":"include_wizard_required?","path":"app/serializers/site_serializer.rb","lineno":142,"static":false,"thread_id":70097708498960,"parent_id":850732,"elapsed":0.010799},{"id":850744,"event":"call","defined_class":"SiteSerializer","method_id":"include_topic_featured_link_allowed_category_ids?","path":"app/serializers/site_serializer.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850745,"event":"return","defined_class":"SiteSerializer","method_id":"include_topic_featured_link_allowed_category_ids?","path":"app/serializers/site_serializer.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":850744,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850746,"event":"call","defined_class":"SiteSerializer","method_id":"topic_featured_link_allowed_category_ids","path":"app/serializers/site_serializer.rb","lineno":150,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850747,"event":"call","defined_class":"CategoryGuardian","method_id":"topic_featured_link_allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850748,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE \"categories\".\"topic_featured_link_allowed\" = TRUE","database_type":"postgres","server_version":110006}},{"id":850749,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850748,"elapsed":0.001376},{"id":850750,"event":"return","defined_class":"CategoryGuardian","method_id":"topic_featured_link_allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":850747,"elapsed":0.005279,"return_value":{"class":"Array","value":"[1]","object_id":70097613867600}},{"id":850751,"event":"return","defined_class":"SiteSerializer","method_id":"topic_featured_link_allowed_category_ids","path":"app/serializers/site_serializer.rb","lineno":150,"static":false,"thread_id":70097708498960,"parent_id":850746,"elapsed":0.005467,"return_value":{"class":"Array","value":"[1]","object_id":70097613867600}},{"id":850752,"event":"call","defined_class":"SiteSerializer","method_id":"user_themes","path":"app/serializers/site_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850753,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":850754,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":850753,"elapsed":4.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":850755,"event":"return","defined_class":"SiteSerializer","method_id":"user_themes","path":"app/serializers/site_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":850752,"elapsed":0.000128,"return_value":{"class":"Array","value":"[{\"theme_id\"=>1, \"name\"=>\"Dark\", \"default\"=>false}, {\"theme_id\"=>2, \"name\"=>\"Light\", \"default\"=>true","object_id":70097799743440}},{"id":850756,"event":"call","defined_class":"SiteSerializer","method_id":"censored_regexp","path":"app/serializers/site_serializer.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850757,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":850758,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":850759,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":850760,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":850759,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097613905580}},{"id":850761,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":850758,"elapsed":0.000957},{"id":850762,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":850757,"elapsed":0.001084},{"id":850763,"event":"return","defined_class":"SiteSerializer","method_id":"censored_regexp","path":"app/serializers/site_serializer.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":850756,"elapsed":0.001204},{"id":850764,"event":"call","defined_class":"SiteSerializer","method_id":"include_shared_drafts_category_id?","path":"app/serializers/site_serializer.rb","lineno":166,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850765,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_shared_draft?","path":"lib/guardian/topic_guardian.rb","lineno":25,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850766,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850767,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850768,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":850767,"elapsed":3.0e-06},{"id":850769,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":850766,"elapsed":0.000108},{"id":850770,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_shared_draft?","path":"lib/guardian/topic_guardian.rb","lineno":25,"static":false,"thread_id":70097708498960,"parent_id":850765,"elapsed":0.000211},{"id":850771,"event":"return","defined_class":"SiteSerializer","method_id":"include_shared_drafts_category_id?","path":"app/serializers/site_serializer.rb","lineno":166,"static":false,"thread_id":70097708498960,"parent_id":850764,"elapsed":0.000318},{"id":850772,"event":"call","defined_class":"SiteSerializer","method_id":"custom_emoji_translation","path":"app/serializers/site_serializer.rb","lineno":158,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097828269440,"value":"#<SiteSerializer:0x00007f81d84e9b00>"}},{"id":850773,"event":"return","defined_class":"SiteSerializer","method_id":"custom_emoji_translation","path":"app/serializers/site_serializer.rb","lineno":158,"static":false,"thread_id":70097708498960,"parent_id":850772,"elapsed":8.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70097827197780}},{"id":850774,"event":"call","defined_class":"Site","method_id":"categories","path":"app/models/site.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097828269500,"value":"#<Site:0x00007f81d84e9b78>"}},{"id":850775,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850776,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"secure_category_ids","path":"lib/guardian.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850777,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"secure_category_ids","path":"lib/guardian.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":850776,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097613915580}},{"id":850778,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":850775,"elapsed":0.000115,"return_value":{"class":"Array","value":"[]","object_id":70097613915580}},{"id":850779,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.*, t.slug topic_slug FROM \"categories\" LEFT JOIN topics t on t.id = categories.topic_id WHERE (NOT categories.read_restricted) ORDER BY \"categories\".\"position\" ASC","database_type":"postgres","server_version":110006}},{"id":850780,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850779,"elapsed":0.001341},{"id":850781,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_tags\".* FROM \"category_tags\" WHERE \"category_tags\".\"category_id\" = 1","database_type":"postgres","server_version":110006}},{"id":850782,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850781,"elapsed":0.000929},{"id":850783,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_tag_groups\".* FROM \"category_tag_groups\" WHERE \"category_tag_groups\".\"category_id\" = 1","database_type":"postgres","server_version":110006}},{"id":850784,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850783,"elapsed":0.000919},{"id":850785,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850786,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850787,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parent_id":850786,"elapsed":4.0e-06},{"id":850788,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":850785,"elapsed":0.000105},{"id":850789,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850790,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850791,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850792,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850791,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850793,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850790,"elapsed":9.7e-05},{"id":850794,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":850789,"elapsed":0.000184,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850795,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels_for","path":"app/models/category_user.rb","lineno":204,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>","kind":"req"}],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":850796,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850797,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850798,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850799,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850798,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850800,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850797,"elapsed":9.5e-05},{"id":850801,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":850796,"elapsed":0.000182,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850802,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels_for","path":"app/models/category_user.rb","lineno":204,"static":true,"thread_id":70097708498960,"parent_id":850795,"elapsed":0.000292,"return_value":{"class":"Hash","value":"{}","object_id":70097614193200}},{"id":850803,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":850804,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":850805,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":850804,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":850806,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":850803,"elapsed":0.000114,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":850807,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850808,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850809,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parent_id":850808,"elapsed":3.0e-06},{"id":850810,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":850807,"elapsed":9.1e-05},{"id":850811,"event":"return","defined_class":"Site","method_id":"categories","path":"app/models/site.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":850774,"elapsed":0.018195,"return_value":{"class":"Array","value":"[#<Category id: 1, name: \"Uncategorized\", color: \"0088CC\", topic_id: nil, topic_count: 0, created_at","object_id":70097614143520}},{"id":850812,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850813,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097608762120,"value":"#<Category:0x00007f81be23c610>"}},{"id":850814,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":850813,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850815,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850816,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850815,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850817,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850818,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850817,"elapsed":1.1e-05},{"id":850819,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850820,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850819,"elapsed":3.0e-06},{"id":850821,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850822,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850821,"elapsed":3.0e-06},{"id":850823,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":850812,"elapsed":0.000547,"return_value":{"class":"String","value":"Uncategorized","object_id":70097800435840}},{"id":850824,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850825,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097608762120,"value":"#<Category:0x00007f81be23c610>"}},{"id":850826,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":850825,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850827,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850828,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850827,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850829,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850830,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850829,"elapsed":6.0e-06},{"id":850831,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850832,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850831,"elapsed":3.0e-06},{"id":850833,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850834,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850833,"elapsed":2.0e-06},{"id":850835,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":850824,"elapsed":0.000491,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097800433420}},{"id":850836,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850837,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097608762120,"value":"#<Category:0x00007f81be23c610>"}},{"id":850838,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":850837,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850839,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850840,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850839,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850841,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850842,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850841,"elapsed":6.0e-06},{"id":850843,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850844,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850843,"elapsed":3.0e-06},{"id":850845,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850846,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850845,"elapsed":3.0e-06},{"id":850847,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":850836,"elapsed":0.000474,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097800433420}},{"id":850848,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850849,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097608762120,"value":"#<Category:0x00007f81be23c610>"}},{"id":850850,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":850849,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850851,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850852,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850851,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850853,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850854,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850853,"elapsed":6.0e-06},{"id":850855,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850856,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850855,"elapsed":3.0e-06},{"id":850857,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850858,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850857,"elapsed":2.0e-06},{"id":850859,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":850848,"elapsed":0.000474,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097800433420}},{"id":850860,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097608762120,"value":"#<Category:0x00007f81be23c610>"}},{"id":850861,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parent_id":850860,"elapsed":2.6e-05,"return_value":{"class":"String","value":"/t/","object_id":70097614410800}},{"id":850862,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850863,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":850862,"elapsed":6.0e-06},{"id":850864,"event":"call","defined_class":"BasicCategorySerializer","method_id":"notification_level","path":"app/serializers/basic_category_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850865,"event":"return","defined_class":"BasicCategorySerializer","method_id":"notification_level","path":"app/serializers/basic_category_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":850864,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":850866,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850867,"event":"call","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Category","object_id":70097608762120,"value":"#<Category:0x00007f81be23c610>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850868,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850869,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850870,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850869,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850871,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850868,"elapsed":9.3e-05},{"id":850872,"event":"return","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":850867,"elapsed":0.000179},{"id":850873,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":850866,"elapsed":0.000268},{"id":850874,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/basic_category_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850875,"event":"call","defined_class":"BasicCategorySerializer","method_id":"custom_fields","path":"app/serializers/basic_category_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850876,"event":"return","defined_class":"BasicCategorySerializer","method_id":"custom_fields","path":"app/serializers/basic_category_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":850875,"elapsed":3.0e-06},{"id":850877,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/basic_category_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":850874,"elapsed":8.8e-05},{"id":850878,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850879,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":850878,"elapsed":6.0e-06},{"id":850880,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850881,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":850880,"elapsed":4.0e-06},{"id":850882,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850883,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":850882,"elapsed":4.0e-06},{"id":850884,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097614247100,"value":"#<SiteCategorySerializer:0x00007f81becb2978>"}},{"id":850885,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":850884,"elapsed":2.6e-05},{"id":850886,"event":"call","defined_class":"Site","method_id":"trust_levels","path":"app/models/site.rb","lineno":23,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097828269500,"value":"#<Site:0x00007f81d84e9b78>"}},{"id":850887,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850888,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850887,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850889,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850890,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850889,"elapsed":7.0e-06},{"id":850891,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850892,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850891,"elapsed":3.0e-06},{"id":850893,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850894,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850893,"elapsed":3.0e-06},{"id":850895,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850896,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850895,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850897,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850898,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850897,"elapsed":6.0e-06},{"id":850899,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850900,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850899,"elapsed":3.0e-06},{"id":850901,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850902,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850901,"elapsed":3.0e-06},{"id":850903,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850904,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850903,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850905,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850906,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850905,"elapsed":7.0e-06},{"id":850907,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850908,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850907,"elapsed":3.0e-06},{"id":850909,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850910,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850909,"elapsed":3.0e-06},{"id":850911,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850912,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850911,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850913,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850914,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850913,"elapsed":7.0e-06},{"id":850915,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850916,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850915,"elapsed":3.0e-06},{"id":850917,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850918,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850917,"elapsed":3.0e-06},{"id":850919,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850920,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850919,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850921,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850922,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850921,"elapsed":7.0e-06},{"id":850923,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850924,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850923,"elapsed":4.0e-06},{"id":850925,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850926,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850925,"elapsed":3.0e-06},{"id":850927,"event":"return","defined_class":"Site","method_id":"trust_levels","path":"app/models/site.rb","lineno":23,"static":false,"thread_id":70097708498960,"parent_id":850886,"elapsed":0.001994,"return_value":{"class":"Array","value":"[#<TrustLevel:0x00007f81bed18520 @name=\"new user\", @id=0>, #<TrustLevel:0x00007f81d4fbadf8 @name=\"ba","object_id":70097614455520}},{"id":850928,"event":"call","defined_class":"Site","method_id":"archetypes","path":"app/models/site.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097828269500,"value":"#<Site:0x00007f81d84e9b78>"}},{"id":850929,"event":"return","defined_class":"Site","method_id":"archetypes","path":"app/models/site.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":850928,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[#<Archetype:0x00007f81d4062e78 @id=\"regular\", @options={}>, #<Archetype:0x00007f81d4062dd8 @id=\"ban","object_id":70097569164460}},{"id":850930,"event":"call","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097569163340,"value":"#<ArchetypeSerializer:0x00007f81b96b5098>"}},{"id":850931,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850932,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850931,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850933,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850934,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850933,"elapsed":6.0e-06},{"id":850935,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850936,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850935,"elapsed":2.0e-06},{"id":850937,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850938,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850937,"elapsed":2.0e-06},{"id":850939,"event":"return","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":850930,"elapsed":0.000366,"return_value":{"class":"String","value":"Regular Topic","object_id":70097800462820}},{"id":850940,"event":"call","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097569163340,"value":"#<ArchetypeSerializer:0x00007f81b96b5098>"}},{"id":850941,"event":"return","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":850940,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097569198060}},{"id":850942,"event":"call","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097569196900,"value":"#<ArchetypeSerializer:0x00007f81b96c56c8>"}},{"id":850943,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850944,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850943,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":850945,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850946,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":850945,"elapsed":6.0e-06},{"id":850947,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850948,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850947,"elapsed":2.0e-06},{"id":850949,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":850950,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":850949,"elapsed":2.0e-06},{"id":850951,"event":"return","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":850942,"elapsed":0.000409,"return_value":{"class":"String","value":"Banner Topic","object_id":70097800484900}},{"id":850952,"event":"call","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097569196900,"value":"#<ArchetypeSerializer:0x00007f81b96c56c8>"}},{"id":850953,"event":"return","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":850952,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097569227480}},{"id":850954,"event":"call","defined_class":"Site","method_id":"user_fields","path":"app/models/site.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097828269500,"value":"#<Site:0x00007f81d84e9b78>"}},{"id":850955,"event":"return","defined_class":"Site","method_id":"user_fields","path":"app/models/site.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":850954,"elapsed":9.8e-05,"return_value":{"class":"ActiveRecord::Relation","value":"#<UserField::ActiveRecord_Relation:0x00007f81b96ddf48>","object_id":70097569247140}},{"id":850956,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" ORDER BY \"user_fields\".\"position\" ASC","database_type":"postgres","server_version":110006}},{"id":850957,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":850956,"elapsed":0.000933},{"id":850958,"event":"call","defined_class":"Site","method_id":"auth_providers","path":"app/models/site.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097828269500,"value":"#<Site:0x00007f81d84e9b78>"}},{"id":850959,"event":"call","defined_class":"Auth::FacebookAuthenticator","method_id":"enabled?","path":"lib/auth/facebook_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::FacebookAuthenticator","object_id":70097718125600,"value":"#<Auth::FacebookAuthenticator:0x00007f81cb2d4840>"}},{"id":850960,"event":"return","defined_class":"Auth::FacebookAuthenticator","method_id":"enabled?","path":"lib/auth/facebook_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":850959,"elapsed":7.0e-06},{"id":850961,"event":"call","defined_class":"Auth::GoogleOAuth2Authenticator","method_id":"enabled?","path":"lib/auth/google_oauth2_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::GoogleOAuth2Authenticator","object_id":70097718147680,"value":"#<Auth::GoogleOAuth2Authenticator:0x00007f81cb2df4c0>"}},{"id":850962,"event":"return","defined_class":"Auth::GoogleOAuth2Authenticator","method_id":"enabled?","path":"lib/auth/google_oauth2_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":850961,"elapsed":5.0e-06},{"id":850963,"event":"call","defined_class":"Auth::GithubAuthenticator","method_id":"enabled?","path":"lib/auth/github_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::GithubAuthenticator","object_id":70097718147360,"value":"#<Auth::GithubAuthenticator:0x00007f81cb2df240>"}},{"id":850964,"event":"return","defined_class":"Auth::GithubAuthenticator","method_id":"enabled?","path":"lib/auth/github_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":850963,"elapsed":5.0e-06},{"id":850965,"event":"call","defined_class":"Auth::TwitterAuthenticator","method_id":"enabled?","path":"lib/auth/twitter_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::TwitterAuthenticator","object_id":70097718147040,"value":"#<Auth::TwitterAuthenticator:0x00007f81cb2defc0>"}},{"id":850966,"event":"return","defined_class":"Auth::TwitterAuthenticator","method_id":"enabled?","path":"lib/auth/twitter_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":850965,"elapsed":5.0e-06},{"id":850967,"event":"call","defined_class":"Auth::InstagramAuthenticator","method_id":"enabled?","path":"lib/auth/instagram_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::InstagramAuthenticator","object_id":70097718146640,"value":"#<Auth::InstagramAuthenticator:0x00007f81cb2deca0>"}},{"id":850968,"event":"return","defined_class":"Auth::InstagramAuthenticator","method_id":"enabled?","path":"lib/auth/instagram_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":850967,"elapsed":4.0e-06},{"id":850969,"event":"call","defined_class":"Auth::DiscordAuthenticator","method_id":"enabled?","path":"lib/auth/discord_authenticator.rb","lineno":45,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::DiscordAuthenticator","object_id":70097718146280,"value":"#<Auth::DiscordAuthenticator:0x00007f81cb2de9d0>"}},{"id":850970,"event":"return","defined_class":"Auth::DiscordAuthenticator","method_id":"enabled?","path":"lib/auth/discord_authenticator.rb","lineno":45,"static":false,"thread_id":70097708498960,"parent_id":850969,"elapsed":6.0e-06},{"id":850971,"event":"return","defined_class":"Site","method_id":"auth_providers","path":"app/models/site.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":850958,"elapsed":0.000574,"return_value":{"class":"Array","value":"[]","object_id":70097829536100}},{"id":850972,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850973,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097828204160,"value":"#<Guardian:0x00007f81d84c9d00>"}},{"id":850974,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097828204100,"value":"#<Guardian::AnonymousUser:0x00007f81d84c9c88>"}},{"id":850975,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":850974,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850976,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":850973,"elapsed":9.4e-05},{"id":850977,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":850972,"elapsed":0.00018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":850978,"event":"return","defined_class":"Site","method_id":"json_for","path":"app/models/site.rb","lineno":85,"static":true,"thread_id":70097708498960,"parent_id":850641,"elapsed":0.056737,"return_value":{"class":"String","value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","object_id":70097829571760}},{"id":850979,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097783548500,"value":"site","kind":"req"},{"name":"json","class":"String","object_id":70097829571760,"value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":850980,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":850979,"elapsed":9.0e-06,"return_value":{"class":"String","value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","object_id":70097800397820}},{"id":850981,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097568968740,"value":"/images/discourse-logo-sketch.png"}},{"id":850982,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":850981,"elapsed":7.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch.png","object_id":70097568967320}},{"id":850983,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097569346560,"value":"/images/discourse-logo-sketch-small.png"}},{"id":850984,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":850983,"elapsed":5.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch-small.png","object_id":70097569345880}},{"id":850985,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":850986,"event":"call","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":850987,"event":"return","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":850986,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[{:name=>\"اللغة العربية\", :value=>\"ar\"}, {:name=>\"беларуская мова\", :value=>\"be\"}, {:name=>\"българск","object_id":70097567928580}},{"id":850988,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":850985,"elapsed":0.000262,"return_value":{"class":"String","value":"[{\"name\":\"اللغة العربية\",\"value\":\"ar\"},{\"name\":\"беларуская мова\",\"value\":\"be\"},{\"name\":\"български ез","object_id":70097594608320}},{"id":850989,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":850990,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parent_id":850989,"elapsed":6.0e-06},{"id":850991,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":850992,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":850993,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":850992,"elapsed":8.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":850994,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":850995,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":850994,"elapsed":8.0e-06},{"id":850996,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":850991,"elapsed":0.00035,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097594614740}},{"id":850997,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":850998,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":850999,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":850998,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":851000,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":851001,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":851000,"elapsed":5.0e-06},{"id":851002,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":850997,"elapsed":0.000228,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch-small.png","object_id":70097614490840}},{"id":851003,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":851004,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":851003,"elapsed":1.6e-05,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097800175960}},{"id":851005,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":851006,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":851005,"elapsed":8.0e-06,"return_value":{"class":"String","value":"http://test.localhost/uploads/default/test_0/optimized/1X/_129430568242d1b7f853bb13ebea28b3f6af4e7_2","object_id":70097800212220}},{"id":851007,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993520,"value":"siteSettings","kind":"req"},{"name":"json","class":"String","object_id":70097614504820,"value":"{\"default_locale\":\"en_US\",\"title\":\"Discourse\",\"short_site_description\":\"\",\"contact_email\":\"\",\"contac","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851008,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":851007,"elapsed":1.4e-05,"return_value":{"class":"String","value":"{\"default_locale\":\"en_US\",\"title\":\"Discourse\",\"short_site_description\":\"\",\"contact_email\":\"\",\"contac","object_id":70097588729760}},{"id":851009,"event":"call","defined_class":"ApplicationHelper","method_id":"mobile_view?","path":"app/helpers/application_helper.rb","lineno":306,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":null,"object_id":70097588728780,"value":"#<#<Class:0x00007f81bc721da8>:0x00007f81bbc06798>"}},{"id":851010,"event":"return","defined_class":"ApplicationHelper","method_id":"mobile_view?","path":"app/helpers/application_helper.rb","lineno":306,"static":false,"thread_id":70097708498960,"parent_id":851009,"elapsed":9.2e-05},{"id":851011,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097828222740,"value":"[2]","kind":"req"},{"name":"target","class":"Symbol","object_id":7052508,"value":"desktop","kind":"req"},{"name":"field","class":"String","object_id":70097804033100,"value":"after_header","kind":"req"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851012,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097828222740,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851013,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097588746620,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851014,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":851013,"elapsed":9.0e-06,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":851015,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":851012,"elapsed":0.00011,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":851016,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parent_id":851011,"elapsed":0.000225,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097588743920}},{"id":851017,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097828222740,"value":"[2]","kind":"req"},{"name":"target","class":"Symbol","object_id":7052508,"value":"desktop","kind":"req"},{"name":"field","class":"String","object_id":70097722574760,"value":"footer","kind":"req"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851018,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097828222740,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851019,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097588763800,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851020,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":851019,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":851021,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":851018,"elapsed":0.00013,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":851022,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parent_id":851017,"elapsed":0.000277,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097588760360}},{"id":851023,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993480,"value":"customHTML","kind":"req"},{"name":"json","class":"String","object_id":70097588758780,"value":"{\"top\":\"\",\"footer\":\"\"}","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851024,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":851023,"elapsed":7.0e-06,"return_value":{"class":"String","value":"{\"top\":\"\",\"footer\":\"\"}","object_id":70097588780140}},{"id":851025,"event":"call","defined_class":"ApplicationController","method_id":"banner_json_cache","path":"app/controllers/application_controller.rb","lineno":575,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097804066120,"value":"ApplicationController"}},{"id":851026,"event":"return","defined_class":"ApplicationController","method_id":"banner_json_cache","path":"app/controllers/application_controller.rb","lineno":575,"static":true,"thread_id":70097708498960,"parent_id":851025,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81bbbdc1a0>","object_id":70097588642000}},{"id":851027,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097792342680,"value":"banner","kind":"req"},{"name":"json","class":"String","object_id":70097624514480,"value":"{}","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851028,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":851027,"elapsed":6.0e-06,"return_value":{"class":"String","value":"{}","object_id":70097588775660}},{"id":851029,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":851030,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":851031,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":851030,"elapsed":7.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097588796200}},{"id":851032,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":851029,"elapsed":0.001138,"return_value":{"class":"Array","value":"[]","object_id":70097588794400}},{"id":851033,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993400,"value":"customEmoji","kind":"req"},{"name":"json","class":"String","object_id":70097588793220,"value":"[]","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851034,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":851033,"elapsed":1.0e-05,"return_value":{"class":"String","value":"[]","object_id":70097588791320}},{"id":851035,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851036,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851035,"elapsed":6.0e-06},{"id":851037,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":850638,"elapsed":0.072084},{"id":851038,"event":"call","defined_class":"SessionController","method_id":"become","path":"app/controllers/session_controller.rb","lineno":117,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851039,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_username","path":"app/models/user.rb","lineno":371,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097799458280,"value":"bruce1074","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":851040,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097799458280,"value":"bruce1074","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":851041,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":851040,"elapsed":1.6e-05,"return_value":{"class":"String","value":"bruce1074","object_id":70097588806620}},{"id":851042,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'bruce1074' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851043,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851042,"elapsed":0.001488},{"id":851044,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_username","path":"app/models/user.rb","lineno":371,"static":true,"thread_id":70097708498960,"parent_id":851039,"elapsed":0.005578,"return_value":{"class":"User","value":"#<User:0x00007f81bbd6d9b0>","object_id":70097589464280}},{"id":851045,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097799393540,"value":"#<ActionDispatch::Request::Session:0x00007f81d4dd6208>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097828222860,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d84d2f18>","kind":"req"},{"name":"opts","class":"Hash","object_id":70097589463120,"value":"{}","kind":"opt"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851046,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>"}},{"id":851047,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":851046,"elapsed":1.7e-05},{"id":851048,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Hash","object_id":70097589481700,"value":"{:user_id=>1161, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\", :staff=>false, :impersonate=","kind":"keyreq"},{"name":"user_agent","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"client_ip","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"path","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"staff","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"impersonate","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851049,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097589479080,"value":"4358e70e2455bfffe75183625016467d","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851050,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851051,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":851050,"elapsed":1.4e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":851052,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":851049,"elapsed":0.000225,"return_value":{"class":"String","value":"6MtSYN2A0eGB5GNjd8VYKLA7JdA=","object_id":70097589500340}},{"id":851053,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851054,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851053,"elapsed":0.000959},{"id":851055,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_tokens\" (\"user_id\", \"auth_token\", \"prev_auth_token\", \"client_ip\", \"rotated_at\", \"created_at\", \"updated_at\") VALUES (1161, '6MtSYN2A0eGB5GNjd8VYKLA7JdA=', '6MtSYN2A0eGB5GNjd8VYKLA7JdA=', '127.0.0.1/32', '2020-05-28 18:59:32.743969', '2020-05-28 18:59:32.744284', '2020-05-28 18:59:32.744284') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851056,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851055,"elapsed":0.001107},{"id":851057,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851058,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851057,"elapsed":0.000949},{"id":851059,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097615156520,"value":"{:action=>\"generate\", :user_auth_token_id=>1003, :user_id=>1161, :user_agent=>nil, :client_ip=>\"127.","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851060,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851061,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851060,"elapsed":0.000793},{"id":851062,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('generate', 1003, 1161, '127.0.0.1/32', '6MtSYN2A0eGB5GNjd8VYKLA7JdA=', '2020-05-28 18:59:32.759272') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851063,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851062,"elapsed":0.001035},{"id":851064,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851065,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851064,"elapsed":0.000859},{"id":851066,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851059,"elapsed":0.054029,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81bee6dda8>","object_id":70097615154900}},{"id":851067,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parent_id":851048,"elapsed":0.069617,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bbd7ed00>","object_id":70097589499520}},{"id":851068,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parameters":[{"name":"unhashed_auth_token","class":"String","object_id":70097589479080,"value":"4358e70e2455bfffe75183625016467d","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851069,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parent_id":851068,"elapsed":4.9e-05,"return_value":{"class":"Hash","value":"{:value=>\"4358e70e2455bfffe75183625016467d\", :httponly=>true, :expires=>Mon, 27 Jul 2020 18:59:32 UT","object_id":70097775512440}},{"id":851070,"event":"call","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>"}},{"id":851071,"event":"return","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parent_id":851070,"elapsed":2.0e-05},{"id":851072,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851073,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parent_id":851072,"elapsed":3.5e-05},{"id":851074,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851075,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parent_id":851074,"elapsed":8.0e-06},{"id":851076,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":2323,"value":"1161","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851077,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"id\" IN (SELECT \"user_auth_tokens\".\"id\" FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1161 AND (rotated_at > '2020-03-29 18:59:32.814045') ORDER BY rotated_at DESC OFFSET 60)","database_type":"postgres","server_version":110006}},{"id":851078,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851077,"elapsed":0.002422},{"id":851079,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parent_id":851076,"elapsed":0.006421,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":851080,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parent_id":851045,"elapsed":0.077201,"return_value":{"class":"User","value":"#<User:0x00007f81bbd6d9b0>","object_id":70097589464280}},{"id":851081,"event":"call","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>"}},{"id":851082,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12243868,"value":"user_logged_in","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851083,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851084,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":851083,"elapsed":0.00026,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81d4123ba0>","object_id":70097792736720}},{"id":851085,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851086,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851085,"elapsed":0.001321},{"id":851087,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":851082,"elapsed":0.006071},{"id":851088,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>"}},{"id":851089,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":851088,"elapsed":2.7e-05},{"id":851090,"event":"return","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parent_id":851081,"elapsed":0.006432},{"id":851091,"event":"return","defined_class":"SessionController","method_id":"become","path":"app/controllers/session_controller.rb","lineno":117,"static":false,"thread_id":70097708498960,"parent_id":851038,"elapsed":0.089955,"return_value":{"class":"String","value":"<html><body>You are being <a href=\"http://test.localhost/\">redirected</a>.</body></html>","object_id":70097794477380}},{"id":851092,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851093,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":851092,"elapsed":1.3e-05},{"id":851094,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851095,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":851094,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097794540300}},{"id":851096,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799457260,"value":"#<SessionController:0x00007f81d4df53d8>"}},{"id":851097,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851098,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851097,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd6d9b0>","object_id":70097589464280}},{"id":851099,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097589464280,"value":"#<User:0x00007f81bbd6d9b0>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097799393540,"value":"#<ActionDispatch::Request::Session:0x00007f81d4dd6208>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097828222860,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d84d2f18>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851100,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851101,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851102,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851101,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd6d9b0>","object_id":70097589464280}},{"id":851103,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851100,"elapsed":0.000117},{"id":851104,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851105,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097828205960,"value":"#<TestCurrentUserProvider:0x00007f81d84cab10>"}},{"id":851106,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851105,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbd6d9b0>","object_id":70097589464280}},{"id":851107,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":851104,"elapsed":0.000115},{"id":851108,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851109,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851108,"elapsed":0.001105},{"id":851110,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":851099,"elapsed":0.006056},{"id":851111,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":851096,"elapsed":0.006367},{"id":851112,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":850597,"elapsed":0.172109,"http_server_response":{"status":302}},{"id":851113,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097828222740,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851114,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097802298100,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":851115,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":851114,"elapsed":1.2e-05,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":851116,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":851113,"elapsed":0.00015,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":851117,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097802417840,"value":"#<TestCurrentUserProvider:0x00007f81d539ad60>"}},{"id":851118,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":851117,"elapsed":9.0e-06},{"id":851119,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":851120,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851119,"elapsed":6.0e-06},{"id":851121,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041628,"value":"http_3xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":851122,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851121,"elapsed":4.0e-06},{"id":851123,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"badges\".* FROM \"badges\" WHERE \"badges\".\"id\" = 100 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851124,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851123,"elapsed":0.001143},{"id":851125,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851126,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851125,"elapsed":0.000781},{"id":851127,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"badges\" WHERE \"badges\".\"name\" = 'Badge 0' AND \"badges\".\"id\" != 100 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851128,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851127,"elapsed":0.001137},{"id":851129,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"badge_types\".* FROM \"badge_types\" WHERE \"badge_types\".\"id\" = 4 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851130,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851129,"elapsed":0.00092},{"id":851131,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"badges\" SET \"allow_title\" = TRUE, \"updated_at\" = '2020-05-28 18:59:32.852647' WHERE \"badges\".\"id\" = 100","database_type":"postgres","server_version":110006}},{"id":851132,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851131,"elapsed":0.001184},{"id":851133,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851134,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851133,"elapsed":0.000773},{"id":851135,"event":"call","defined_class":"BadgeGranter","method_id":"grant","path":"app/services/badge_granter.rb","lineno":45,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"BadgeGranter","object_id":70097732837720,"value":"#<BadgeGranter:0x00007f81ccee42b0>"}},{"id":851136,"event":"call","defined_class":"Guardian","method_id":"can_grant_badges?","path":"lib/guardian.rb","lineno":184,"static":false,"thread_id":70097708498960,"parameters":[{"name":"_user","class":"User","object_id":70097799375660,"value":"#<User:0x00007f81d4dcd658>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097732876140,"value":"#<Guardian:0x00007f81ccef6ed8>"}},{"id":851137,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097732876140,"value":"#<Guardian:0x00007f81ccef6ed8>"}},{"id":851138,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097757843440,"value":"#<User:0x00007f81cfe95fe0>"}},{"id":851139,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":851138,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851140,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":851137,"elapsed":0.000125,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851141,"event":"return","defined_class":"Guardian","method_id":"can_grant_badges?","path":"lib/guardian.rb","lineno":184,"static":false,"thread_id":70097708498960,"parent_id":851136,"elapsed":0.000239,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851142,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_badges\".* FROM \"user_badges\" WHERE \"user_badges\".\"badge_id\" = 100 AND \"user_badges\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851143,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851142,"elapsed":0.00104},{"id":851144,"event":"call","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851145,"event":"return","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parent_id":851144,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851146,"event":"call","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851147,"event":"return","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parent_id":851146,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851148,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851149,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851148,"elapsed":0.000833},{"id":851150,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_badges\" WHERE \"user_badges\".\"badge_id\" = 100 AND \"user_badges\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851151,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851150,"elapsed":0.001007},{"id":851152,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_badges\" (\"badge_id\", \"user_id\", \"granted_at\", \"granted_by_id\", \"created_at\") VALUES (100, 1161, '2020-05-28 18:59:32.863029', -1, '2020-05-28 18:59:32.871950') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851153,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851152,"elapsed":0.000955},{"id":851154,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"badges\" SET \"grant_count\" = COALESCE(\"grant_count\", 0) + 1 WHERE \"badges\".\"id\" = 100","database_type":"postgres","server_version":110006}},{"id":851155,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851154,"elapsed":0.001053},{"id":851156,"event":"call","defined_class":"UserBadge(id: integer, badge_id: integer, user_id: integer, granted_at: datetime, granted_by_id: integer, post_id: integer, notification_id: integer, seq: integer, featured_rank: integer, created_at: datetime)","method_id":"update_featured_ranks!","path":"app/models/user_badge.rb","lineno":47,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":2323,"value":"1161","kind":"opt"}],"receiver":{"class":"Class","object_id":70097620929600,"value":"UserBadge"}},{"id":851157,"event":"return","defined_class":"UserBadge(id: integer, badge_id: integer, user_id: integer, granted_at: datetime, granted_by_id: integer, post_id: integer, notification_id: integer, seq: integer, featured_rank: integer, created_at: datetime)","method_id":"update_featured_ranks!","path":"app/models/user_badge.rb","lineno":47,"static":true,"thread_id":70097708498960,"parent_id":851156,"elapsed":0.001453,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":851158,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_badges\".* FROM \"user_badges\" WHERE \"user_badges\".\"badge_id\" = 100 AND \"user_badges\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851159,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851158,"elapsed":0.001002},{"id":851160,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":12688028,"value":"user_badge","kind":"req"},{"name":"object","class":"UserBadge","object_id":70097592814740,"value":"#<UserBadge:0x00007f81bc3d1928>","kind":"req"},{"name":"event","class":"Symbol","object_id":12692828,"value":"user_badge_granted","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568142860,"value":"UserBadgeSerializer","kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851161,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":12688028,"value":"user_badge","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851162,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":851161,"elapsed":0.000234,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bc3e0810>","object_id":70097592845320}},{"id":851163,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user_badge') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851164,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851163,"elapsed":0.001252},{"id":851165,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":851160,"elapsed":0.004939},{"id":851166,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097799375660,"value":"#<User:0x00007f81d4dcd658>"}},{"id":851167,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":851166,"elapsed":1.5e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":851168,"event":"call","defined_class":"BadgeGranter","method_id":"send_notification","path":"app/services/badge_granter.rb","lineno":421,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":2323,"value":"1161","kind":"req"},{"name":"username","class":"String","object_id":70097799375200,"value":"bruce1074","kind":"req"},{"name":"locale","class":"String","object_id":70097724286060,"value":"en_US","kind":"req"},{"name":"badge","class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":851169,"event":"call","defined_class":"BadgeGranter","method_id":"notification_locale","path":"app/services/badge_granter.rb","lineno":416,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"String","object_id":70097724286060,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":851170,"event":"return","defined_class":"BadgeGranter","method_id":"notification_locale","path":"app/services/badge_granter.rb","lineno":416,"static":true,"thread_id":70097708498960,"parent_id":851169,"elapsed":6.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":851171,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":851172,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":851171,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":851173,"event":"call","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851174,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097594390080,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851175,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097594390080,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851176,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parent_id":851175,"elapsed":6.0e-06,"return_value":{"class":"String","value":"badge_0","object_id":70097594384860}},{"id":851177,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parent_id":851174,"elapsed":0.000126,"return_value":{"class":"String","value":"badges.badge_0.name","object_id":70097594407960}},{"id":851178,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851179,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851178,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851180,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851181,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851180,"elapsed":1.0e-05},{"id":851182,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851183,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851182,"elapsed":4.0e-06},{"id":851184,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851185,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851184,"elapsed":3.0e-06},{"id":851186,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851187,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851186,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851188,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851189,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851188,"elapsed":2.1e-05},{"id":851190,"event":"return","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parent_id":851173,"elapsed":0.000955,"return_value":{"class":"String","value":"Badge 0","object_id":70097594456480}},{"id":851191,"event":"call","defined_class":"Badge","method_id":"slug","path":"app/models/badge.rb","lineno":284,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851192,"event":"call","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851193,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097594390080,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851194,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097594390080,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851195,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parent_id":851194,"elapsed":4.0e-06,"return_value":{"class":"String","value":"badge_0","object_id":70097594468840}},{"id":851196,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parent_id":851193,"elapsed":9.3e-05,"return_value":{"class":"String","value":"badges.badge_0.name","object_id":70097594467240}},{"id":851197,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851198,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851197,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851199,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851200,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851199,"elapsed":6.0e-06},{"id":851201,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851202,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851201,"elapsed":3.0e-06},{"id":851203,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851204,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851203,"elapsed":3.0e-06},{"id":851205,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851206,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851205,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851207,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851208,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851207,"elapsed":8.0e-06},{"id":851209,"event":"return","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parent_id":851192,"elapsed":0.000803,"return_value":{"class":"String","value":"Badge 0","object_id":70097587139200}},{"id":851210,"event":"return","defined_class":"Badge","method_id":"slug","path":"app/models/badge.rb","lineno":284,"static":false,"thread_id":70097708498960,"parent_id":851191,"elapsed":0.000954,"return_value":{"class":"String","value":"badge-0","object_id":70097587136720}},{"id":851211,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"high_priority_types","path":"app/models/notification.rb","lineno":117,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":851212,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"high_priority_types","path":"app/models/notification.rb","lineno":117,"static":true,"thread_id":70097708498960,"parent_id":851211,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[6, 24]","object_id":70097587984360}},{"id":851213,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"notifications\" (\"notification_type\", \"user_id\", \"data\", \"created_at\", \"updated_at\") VALUES (12, 1161, '{\"badge_id\":100,\"badge_name\":\"Badge 0\",\"badge_slug\":\"badge-0\",\"badge_title\":true,\"username\":\"bruce1074\"}', '2020-05-28 18:59:32.895315', '2020-05-28 18:59:32.895315') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851214,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851213,"elapsed":0.001174},{"id":851215,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_badges\".* FROM \"user_badges\" WHERE \"user_badges\".\"badge_id\" = 100 AND \"user_badges\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851216,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851215,"elapsed":0.001113},{"id":851217,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":12688028,"value":"user_badge","kind":"req"},{"name":"object","class":"UserBadge","object_id":70097566817260,"value":"#<UserBadge:0x00007f81b923b7d8>","kind":"req"},{"name":"event","class":"Symbol","object_id":12692828,"value":"user_badge_granted","kind":"req"},{"name":"serializer","class":"Class","object_id":70097568142860,"value":"UserBadgeSerializer","kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851218,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":12688028,"value":"user_badge","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851219,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":851218,"elapsed":0.000249,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81b92419f8>","object_id":70097566829820}},{"id":851220,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user_badge') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851221,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851220,"elapsed":0.001226},{"id":851222,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":851217,"elapsed":0.004304},{"id":851223,"event":"return","defined_class":"BadgeGranter","method_id":"send_notification","path":"app/services/badge_granter.rb","lineno":421,"static":true,"thread_id":70097708498960,"parent_id":851168,"elapsed":0.015406,"return_value":{"class":"Notification","value":"#<Notification:0x00007f81bb8fc480>","object_id":70097587135040}},{"id":851224,"event":"call","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851225,"event":"return","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parent_id":851224,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851226,"event":"call","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097803852860,"value":"#<Badge:0x00007f81d5657878>"}},{"id":851227,"event":"return","defined_class":"Badge","method_id":"single_grant?","path":"app/models/badge.rb","lineno":234,"static":false,"thread_id":70097708498960,"parent_id":851226,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851228,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_badges\" WHERE \"user_badges\".\"badge_id\" = 100 AND \"user_badges\".\"id\" != 2 AND \"user_badges\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851229,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851228,"elapsed":0.001155},{"id":851230,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_badges\" SET \"notification_id\" = 15 WHERE \"user_badges\".\"id\" = 2","database_type":"postgres","server_version":110006}},{"id":851231,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851230,"elapsed":0.000937},{"id":851232,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851233,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851232,"elapsed":0.000886},{"id":851234,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":2116508,"value":"notification","kind":"req"},{"name":"object","class":"Notification","object_id":70097587135040,"value":"#<Notification:0x00007f81bb8fc480>","kind":"req"},{"name":"event","class":"Symbol","object_id":12689308,"value":"notification_created","kind":"req"},{"name":"serializer","class":"Class","object_id":70097828747320,"value":"NotificationSerializer","kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851235,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":2116508,"value":"notification","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":851236,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":851235,"elapsed":0.000215,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81be863098>","object_id":70097611987020}},{"id":851237,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'notification') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851238,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851237,"elapsed":0.001089},{"id":851239,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":851234,"elapsed":0.00442},{"id":851240,"event":"call","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Notification","object_id":70097587135040,"value":"#<Notification:0x00007f81bb8fc480>"}},{"id":851241,"event":"return","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":851240,"elapsed":3.7e-05,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"badge_id\"=>100, \"badge_name\"=>\"Badge 0\", \"badge_slug\"=>\"badge-0\", \"badge_title\"=>true, \"username\"=","object_id":70097799050460}},{"id":851242,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":851243,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":851242,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":851244,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":851245,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":851244,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":851246,"event":"call","defined_class":"NotificationConsolidator","method_id":"consolidate!","path":"app/services/notification_consolidator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationConsolidator","object_id":70097799052100,"value":"#<NotificationConsolidator:0x00007f81d4d2f688>"}},{"id":851247,"event":"return","defined_class":"NotificationConsolidator","method_id":"consolidate!","path":"app/services/notification_consolidator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":851246,"elapsed":8.0e-06},{"id":851248,"event":"call","defined_class":"NotificationEmailer","method_id":"process_notification","path":"app/services/notification_emailer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"notification","class":"Notification","object_id":70097587135040,"value":"#<Notification:0x00007f81bb8fc480>","kind":"req"}],"receiver":{"class":"Class","object_id":70097756944400,"value":"NotificationEmailer"}},{"id":851249,"event":"return","defined_class":"NotificationEmailer","method_id":"process_notification","path":"app/services/notification_emailer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851248,"elapsed":3.0e-06},{"id":851250,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851251,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851250,"elapsed":0.001209},{"id":851252,"event":"call","defined_class":"User","method_id":"publish_notifications_state","path":"app/models/user.rb","lineno":571,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851253,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" LEFT JOIN topics ON notifications.topic_id = topics.id WHERE \"notifications\".\"user_id\" = 1161 AND (topics.id IS NULL OR topics.deleted_at IS NULL) ORDER BY notifications.created_at desc LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851254,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851253,"elapsed":0.001267},{"id":851255,"event":"call","defined_class":"NotificationSerializer","method_id":"include_fancy_title?","path":"app/serializers/notification_serializer.rb","lineno":25,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097607933040,"value":"#<NotificationSerializer:0x00007f81be0a78e0>"}},{"id":851256,"event":"return","defined_class":"NotificationSerializer","method_id":"include_fancy_title?","path":"app/serializers/notification_serializer.rb","lineno":25,"static":false,"thread_id":70097708498960,"parent_id":851255,"elapsed":2.4e-05},{"id":851257,"event":"call","defined_class":"NotificationSerializer","method_id":"slug","path":"app/serializers/notification_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097607933040,"value":"#<NotificationSerializer:0x00007f81be0a78e0>"}},{"id":851258,"event":"return","defined_class":"NotificationSerializer","method_id":"slug","path":"app/serializers/notification_serializer.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":851257,"elapsed":9.0e-06},{"id":851259,"event":"call","defined_class":"NotificationSerializer","method_id":"data","path":"app/serializers/notification_serializer.rb","lineno":37,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097607933040,"value":"#<NotificationSerializer:0x00007f81be0a78e0>"}},{"id":851260,"event":"call","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Notification","object_id":70097607933260,"value":"#<Notification:0x00007f81be0a7a98>"}},{"id":851261,"event":"return","defined_class":"Notification","method_id":"data_hash","path":"app/models/notification.rb","lineno":186,"static":false,"thread_id":70097708498960,"parent_id":851260,"elapsed":3.5e-05,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"badge_id\"=>100, \"badge_name\"=>\"Badge 0\", \"badge_slug\"=>\"badge-0\", \"badge_title\"=>true, \"username\"=","object_id":70097607947120}},{"id":851262,"event":"return","defined_class":"NotificationSerializer","method_id":"data","path":"app/serializers/notification_serializer.rb","lineno":37,"static":false,"thread_id":70097708498960,"parent_id":851259,"elapsed":0.000209,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{\"badge_id\"=>100, \"badge_name\"=>\"Badge 0\", \"badge_slug\"=>\"badge-0\", \"badge_title\"=>true, \"username\"=","object_id":70097607947120}},{"id":851263,"event":"call","defined_class":"NotificationSerializer","method_id":"include_is_warning?","path":"app/serializers/notification_serializer.rb","lineno":33,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097607933040,"value":"#<NotificationSerializer:0x00007f81be0a78e0>"}},{"id":851264,"event":"call","defined_class":"NotificationSerializer","method_id":"is_warning","path":"app/serializers/notification_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"NotificationSerializer","object_id":70097607933040,"value":"#<NotificationSerializer:0x00007f81be0a78e0>"}},{"id":851265,"event":"return","defined_class":"NotificationSerializer","method_id":"is_warning","path":"app/serializers/notification_serializer.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":851264,"elapsed":8.0e-06},{"id":851266,"event":"return","defined_class":"NotificationSerializer","method_id":"include_is_warning?","path":"app/serializers/notification_serializer.rb","lineno":33,"static":false,"thread_id":70097708498960,"parent_id":851263,"elapsed":0.000108},{"id":851267,"event":"call","defined_class":"User","method_id":"unread_notifications","path":"app/models/user.rb","lineno":521,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851268,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_unread_notifications","path":"app/models/user.rb","lineno":513,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":851269,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_unread_notifications","path":"app/models/user.rb","lineno":513,"static":true,"thread_id":70097708498960,"parent_id":851268,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"99","object_id":199}},{"id":851270,"event":"return","defined_class":"User","method_id":"unread_notifications","path":"app/models/user.rb","lineno":521,"static":false,"thread_id":70097708498960,"parent_id":851267,"elapsed":0.001492,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":851271,"event":"call","defined_class":"User","method_id":"unread_private_messages","path":"app/models/user.rb","lineno":500,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851272,"event":"call","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851273,"event":"call","defined_class":"User","method_id":"unread_notifications_of_priority","path":"app/models/user.rb","lineno":480,"static":false,"thread_id":70097708498960,"parameters":[{"name":"high_priority","class":"Hash","object_id":70097607981760,"value":"{:high_priority=>true}","kind":"keyreq"}],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851274,"event":"return","defined_class":"User","method_id":"unread_notifications_of_priority","path":"app/models/user.rb","lineno":480,"static":false,"thread_id":70097708498960,"parent_id":851273,"elapsed":0.001069,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":851275,"event":"return","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parent_id":851272,"elapsed":0.001211,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":851276,"event":"return","defined_class":"User","method_id":"unread_private_messages","path":"app/models/user.rb","lineno":500,"static":false,"thread_id":70097708498960,"parent_id":851271,"elapsed":0.001322,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":851277,"event":"call","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851278,"event":"return","defined_class":"User","method_id":"unread_high_priority_notifications","path":"app/models/user.rb","lineno":504,"static":false,"thread_id":70097708498960,"parent_id":851277,"elapsed":1.0e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":851279,"event":"call","defined_class":"User","method_id":"read_first_notification?","path":"app/models/user.rb","lineno":561,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097827347040,"value":"#<User:0x00007f81d83274c0>"}},{"id":851280,"event":"return","defined_class":"User","method_id":"read_first_notification?","path":"app/models/user.rb","lineno":561,"static":false,"thread_id":70097708498960,"parent_id":851279,"elapsed":3.4e-05},{"id":851281,"event":"return","defined_class":"User","method_id":"publish_notifications_state","path":"app/models/user.rb","lineno":571,"static":false,"thread_id":70097708498960,"parent_id":851252,"elapsed":0.010893,"return_value":{"class":"Integer","value":"10775","object_id":21551}},{"id":851282,"event":"return","defined_class":"BadgeGranter","method_id":"grant","path":"app/services/badge_granter.rb","lineno":45,"static":false,"thread_id":70097708498960,"parent_id":851135,"elapsed":0.079898,"return_value":{"class":"UserBadge","value":"#<UserBadge:0x00007f81bb872730>","object_id":70097586852760}},{"id":851283,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851284,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851283,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851285,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851286,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851285,"elapsed":1.1e-05},{"id":851287,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/u/bruce1074/preferences/badge_title.json"},"message":[{"name":"user_badge_id","class":"String","value":"2","object_id":70097608111900},{"name":"controller","class":"String","value":"users","object_id":70097800762720},{"name":"action","class":"String","value":"badge_title","object_id":70097800762700},{"name":"username","class":"String","value":"bruce1074","object_id":70097608094860},{"name":"format","class":"String","value":"json","object_id":70097608094840}]},{"id":851288,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851289,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851290,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851291,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851292,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097827709460,"value":"4358e70e2455bfffe75183625016467d","kind":"req"},{"name":"opts","class":"Hash","object_id":70097827709000,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851293,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097827709460,"value":"4358e70e2455bfffe75183625016467d","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851294,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851295,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":851294,"elapsed":7.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":851296,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":851293,"elapsed":0.000122,"return_value":{"class":"String","value":"6MtSYN2A0eGB5GNjd8VYKLA7JdA=","object_id":70097827727720}},{"id":851297,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = '6MtSYN2A0eGB5GNjd8VYKLA7JdA=' OR\n                          prev_auth_token = '6MtSYN2A0eGB5GNjd8VYKLA7JdA=') AND rotated_at > '2020-03-29 18:59:32.943664') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851298,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851297,"elapsed":0.00117},{"id":851299,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:59:32.948954' WHERE \"user_auth_tokens\".\"id\" = 1003 AND \"user_auth_tokens\".\"auth_token\" = '6MtSYN2A0eGB5GNjd8VYKLA7JdA='","database_type":"postgres","server_version":110006}},{"id":851300,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851299,"elapsed":0.001239},{"id":851301,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097568134920,"value":"{:action=>\"seen token\", :user_auth_token_id=>1003, :user_id=>1161, :auth_token=>\"6MtSYN2A0eGB5GNjd8V","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851302,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851303,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851302,"elapsed":0.000869},{"id":851304,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 1003, 1161, '127.0.0.1/32', '6MtSYN2A0eGB5GNjd8VYKLA7JdA=', '2020-05-28 18:59:32.958250') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851305,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851304,"elapsed":0.001091},{"id":851306,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851307,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851306,"elapsed":0.000963},{"id":851308,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851301,"elapsed":0.014292,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81b94bdc40>","object_id":70097568132640}},{"id":851309,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":851292,"elapsed":0.02456,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81be111178>","object_id":70097608149180}},{"id":851310,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851311,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851310,"elapsed":0.001305},{"id":851312,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>"}},{"id":851313,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":851312,"elapsed":1.8e-05},{"id":851314,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851315,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":851314,"elapsed":0.000944,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851316,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>"}},{"id":851317,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":851316,"elapsed":0.000767},{"id":851318,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097588238840,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>"}},{"id":851319,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1161","database_type":"postgres","server_version":110006}},{"id":851320,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851319,"elapsed":0.001206},{"id":851321,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":851318,"elapsed":0.004398,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851322,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851291,"elapsed":0.036735,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851323,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851290,"elapsed":0.036921,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b957ff20>","object_id":70097568530320}},{"id":851324,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851325,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":851324,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851326,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":851289,"elapsed":0.037223},{"id":851327,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851328,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851327,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851329,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851330,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851329,"elapsed":0.001271},{"id":851331,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851332,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851331,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b957ff20>","object_id":70097568530320}},{"id":851333,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097800359480,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851334,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":851333,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851335,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":851288,"elapsed":0.04276,"return_value":{"class":"Array","value":"[2]","object_id":70097800359480}},{"id":851336,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851337,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851338,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851337,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851339,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851340,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851339,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851341,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851342,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851341,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851343,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":851336,"elapsed":0.000337,"return_value":{"class":"String","value":"users/badge_title","object_id":70097828808040}},{"id":851344,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851345,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851346,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851345,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851347,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":851344,"elapsed":0.000124},{"id":851348,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851349,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851350,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851349,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851351,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851352,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851351,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851353,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>"}},{"id":851354,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":851353,"elapsed":7.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":851355,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851356,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851355,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851357,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851358,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851357,"elapsed":1.1e-05},{"id":851359,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851360,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851359,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851361,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851362,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851361,"elapsed":8.0e-06},{"id":851363,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":851348,"elapsed":0.00078,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097608848900}},{"id":851364,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851365,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":851364,"elapsed":8.0e-06},{"id":851366,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851367,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851368,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851367,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851369,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851366,"elapsed":0.000109},{"id":851370,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851371,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851370,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851372,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851373,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851372,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851374,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851375,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851374,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851376,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097775906280,"value":"UsersController"}},{"id":851377,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":851376,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:username, :update, :user_preferences_redirect, :upload_user_image, :pick_avatar, :destroy_","object_id":70097777085280}},{"id":851378,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851379,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":851378,"elapsed":8.0e-06},{"id":851380,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851381,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851382,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851381,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851383,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851380,"elapsed":0.000104},{"id":851384,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851385,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851386,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851385,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851387,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":851384,"elapsed":0.000102},{"id":851388,"event":"call","defined_class":"UsersController","method_id":"badge_title","path":"app/controllers/users_controller.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851389,"event":"call","defined_class":"ApplicationController","method_id":"fetch_user_from_params","path":"app/controllers/application_controller.rb","lineno":475,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"eager_load","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851390,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851391,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851390,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851392,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>"}},{"id":851393,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":851392,"elapsed":1.5e-05},{"id":851394,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'bruce1074' AND \"users\".\"active\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851395,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851394,"elapsed":0.001336},{"id":851396,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851397,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851396,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b957ff20>","object_id":70097568530320}},{"id":851398,"event":"call","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851399,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851400,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":851399,"elapsed":2.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851401,"event":"return","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":851398,"elapsed":0.000115},{"id":851402,"event":"return","defined_class":"ApplicationController","method_id":"fetch_user_from_params","path":"app/controllers/application_controller.rb","lineno":475,"static":false,"thread_id":70097708498960,"parent_id":851389,"elapsed":0.005128,"return_value":{"class":"User","value":"#<User:0x00007f81d863c778>","object_id":70097828963260}},{"id":851403,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851404,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851403,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81b957ff20>","object_id":70097568530320}},{"id":851405,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"method","class":"Symbol","object_id":16855028,"value":"ensure_can_edit!","kind":"req"},{"name":"args","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"rest"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851406,"event":"call","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851407,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851408,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":851407,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851409,"event":"call","defined_class":"UserGuardian","method_id":"can_edit_user?","path":"lib/guardian/user_guardian.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851410,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097568530320,"value":"#<Guardian:0x00007f81b957ff20>"}},{"id":851411,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":851410,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851412,"event":"return","defined_class":"UserGuardian","method_id":"can_edit_user?","path":"lib/guardian/user_guardian.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":851409,"elapsed":0.00011,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851413,"event":"return","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":851406,"elapsed":0.00033,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851414,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":851405,"elapsed":0.000431},{"id":851415,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_badges\".* FROM \"user_badges\" WHERE \"user_badges\".\"id\" = 2 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851416,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851415,"elapsed":0.001154},{"id":851417,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851418,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851417,"elapsed":0.001321},{"id":851419,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"badges\".* FROM \"badges\" WHERE \"badges\".\"id\" = 100 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851420,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851419,"elapsed":0.000973},{"id":851421,"event":"call","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097589203140,"value":"#<Badge:0x00007f81bbcee188>"}},{"id":851422,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097589201680,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851423,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097589201680,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851424,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parent_id":851423,"elapsed":6.0e-06,"return_value":{"class":"String","value":"badge_0","object_id":70097589222260}},{"id":851425,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parent_id":851422,"elapsed":0.000118,"return_value":{"class":"String","value":"badges.badge_0.name","object_id":70097589220960}},{"id":851426,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851427,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851426,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851428,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851429,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851428,"elapsed":1.0e-05},{"id":851430,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851431,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851430,"elapsed":3.0e-06},{"id":851432,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851433,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851432,"elapsed":3.0e-06},{"id":851434,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851435,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851434,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851436,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851437,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851436,"elapsed":7.0e-06},{"id":851438,"event":"return","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parent_id":851421,"elapsed":0.000931,"return_value":{"class":"String","value":"Badge 0","object_id":70097589254700}},{"id":851439,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851440,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851439,"elapsed":0.00104},{"id":851441,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1161 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851442,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851441,"elapsed":0.001698},{"id":851443,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851444,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":851443,"elapsed":2.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851445,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851446,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097609128820,"value":"#<PasswordValidator:0x00007f81be2ef6e8>"}},{"id":851447,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851448,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851449,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":851448,"elapsed":3.0e-06},{"id":851450,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":851447,"elapsed":9.8e-05},{"id":851451,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":851446,"elapsed":0.00019},{"id":851452,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":851445,"elapsed":0.000312},{"id":851453,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 1162 AND \"user_emails\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851454,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851453,"elapsed":0.001122},{"id":851455,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_profiles\".* FROM \"user_profiles\" WHERE \"user_profiles\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851456,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851455,"elapsed":0.001733},{"id":851457,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"badges\".* FROM \"badges\" INNER JOIN \"user_badges\" ON \"badges\".\"id\" = \"user_badges\".\"badge_id\" WHERE \"user_badges\".\"user_id\" = 1161 AND (user_badges.badge_id IN (SELECT id FROM badges WHERE enabled))","database_type":"postgres","server_version":110006}},{"id":851458,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851457,"elapsed":0.001633},{"id":851459,"event":"call","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097621216720,"value":"#<Badge:0x00007f81bf9fdba0>"}},{"id":851460,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097621237540,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851461,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097621237540,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851462,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parent_id":851461,"elapsed":6.0e-06,"return_value":{"class":"String","value":"badge_0","object_id":70097621234140}},{"id":851463,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parent_id":851460,"elapsed":0.000123,"return_value":{"class":"String","value":"badges.badge_0.name","object_id":70097621233380}},{"id":851464,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851465,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851464,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851466,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851467,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851466,"elapsed":1.2e-05},{"id":851468,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851469,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851468,"elapsed":3.0e-06},{"id":851470,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851471,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851470,"elapsed":4.0e-06},{"id":851472,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851473,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851472,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851474,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851475,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851474,"elapsed":8.0e-06},{"id":851476,"event":"return","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parent_id":851459,"elapsed":0.000968,"return_value":{"class":"String","value":"Badge 0","object_id":70097621266280}},{"id":851477,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_profiles\" SET \"badge_granted_title\" = TRUE, \"granted_title_badge_id\" = 100 WHERE \"user_profiles\".\"user_id\" = 1161","database_type":"postgres","server_version":110006}},{"id":851478,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851477,"elapsed":0.001265},{"id":851479,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097781181160,"value":"{:user=>#<UserProfile user_id: 1161, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":851480,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851479,"elapsed":1.1e-05},{"id":851481,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"title\" = 'Badge 0', \"updated_at\" = '2020-05-28 18:59:33.087549' WHERE \"users\".\"id\" = 1161","database_type":"postgres","server_version":110006}},{"id":851482,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851481,"elapsed":0.00264},{"id":851483,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851484,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":2323,"value":"1161","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":851485,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":851484,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851486,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":851483,"elapsed":0.000127,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851487,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851488,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851489,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":851488,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851490,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":851487,"elapsed":0.000127},{"id":851491,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>"}},{"id":851492,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851493,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851492,"elapsed":0.001722},{"id":851494,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":851491,"elapsed":0.006833},{"id":851495,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097757516820,"value":"{:user=>#<User id: 1161, username: \"bruce1074\", created_at: \"2020-05-28 18:59:31\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":851496,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851495,"elapsed":8.0e-06},{"id":851497,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097828963260,"value":"#<User:0x00007f81d863c778>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":851498,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851497,"elapsed":6.0e-06},{"id":851499,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851500,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851499,"elapsed":0.001211},{"id":851501,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851502,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851501,"elapsed":7.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851503,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>"}},{"id":851504,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":851503,"elapsed":1.1e-05},{"id":851505,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":851506,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":851505,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":851507,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851508,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851507,"elapsed":0.000996},{"id":851509,"event":"call","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserHistory","object_id":70097803576760,"value":"#<UserHistory:0x00007f81d55d0b70>"}},{"id":851510,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":851511,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":851510,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[3]","object_id":70097608682780}},{"id":851512,"event":"return","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":851509,"elapsed":0.000155,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d55d0b70>","object_id":70097803576760}},{"id":851513,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_histories\" (\"action\", \"target_user_id\", \"details\", \"created_at\", \"updated_at\", \"new_value\") VALUES (84, 1161, 'title matching badge id 100', '2020-05-28 18:59:33.114244', '2020-05-28 18:59:33.114244', 'Badge 0') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851514,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851513,"elapsed":0.001495},{"id":851515,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851516,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851515,"elapsed":0.00097},{"id":851517,"event":"return","defined_class":"UsersController","method_id":"badge_title","path":"app/controllers/users_controller.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":851388,"elapsed":0.135838,"return_value":{"class":"String","value":"","object_id":70097796028200}},{"id":851518,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851519,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":851518,"elapsed":1.0e-05},{"id":851520,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851521,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":851520,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097796023080}},{"id":851522,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097608093880,"value":"#<UsersController:0x00007f81be0f6170>"}},{"id":851523,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851524,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851523,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851525,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097588220480,"value":"#<User:0x00007f81bbb0e480>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097608009800,"value":"#<ActionDispatch::Request::Session:0x00007f81be0cd090>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097800359660,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d4faddd8>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851526,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851527,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851528,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851527,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851529,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851526,"elapsed":0.000107},{"id":851530,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851531,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097827713620,"value":"#<TestCurrentUserProvider:0x00007f81d83da4a8>"}},{"id":851532,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851531,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bbb0e480>","object_id":70097588220480}},{"id":851533,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":851530,"elapsed":0.000109},{"id":851534,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":851525,"elapsed":0.000507},{"id":851535,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":851522,"elapsed":0.000757},{"id":851536,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":851287,"elapsed":0.184082,"http_server_response":{"status":200}},{"id":851537,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097796073920,"value":"#<TestCurrentUserProvider:0x00007f81d4781380>"}},{"id":851538,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":851537,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851539,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":851540,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851539,"elapsed":6.0e-06},{"id":851541,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":851542,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851541,"elapsed":4.0e-06},{"id":851543,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851544,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851543,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851545,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851546,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851545,"elapsed":1.1e-05},{"id":851547,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"PUT","path_info":"/u/bruce1074/preferences/badge_title.json"},"message":[{"name":"user_badge_id","class":"String","value":"0","object_id":70097732321880},{"name":"controller","class":"String","value":"users","object_id":70097800762720},{"name":"action","class":"String","value":"badge_title","object_id":70097800762700},{"name":"username","class":"String","value":"bruce1074","object_id":70097731964740},{"name":"format","class":"String","value":"json","object_id":70097731964720}]},{"id":851548,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851549,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851550,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851551,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851552,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097731304320,"value":"4358e70e2455bfffe75183625016467d","kind":"req"},{"name":"opts","class":"Hash","object_id":70097731303320,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851553,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097731304320,"value":"4358e70e2455bfffe75183625016467d","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":851554,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851555,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":851554,"elapsed":1.0e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":851556,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":851553,"elapsed":0.000135,"return_value":{"class":"String","value":"6MtSYN2A0eGB5GNjd8VYKLA7JdA=","object_id":70097731321640}},{"id":851557,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = '6MtSYN2A0eGB5GNjd8VYKLA7JdA=' OR\n                          prev_auth_token = '6MtSYN2A0eGB5GNjd8VYKLA7JdA=') AND rotated_at > '2020-03-29 18:59:33.132065') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851558,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851557,"elapsed":0.0014},{"id":851559,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":851552,"elapsed":0.005756,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bb85a4c8>","object_id":70097586803300}},{"id":851560,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851561,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851560,"elapsed":0.001387},{"id":851562,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>"}},{"id":851563,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":851562,"elapsed":2.1e-05},{"id":851564,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851565,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":851564,"elapsed":0.000842,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851566,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>"}},{"id":851567,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":851566,"elapsed":0.000736},{"id":851568,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097814438060,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>"}},{"id":851569,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":851568,"elapsed":3.8e-05},{"id":851570,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851551,"elapsed":0.013896,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851571,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851550,"elapsed":0.014034,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6a90420>","object_id":70097814454800}},{"id":851572,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851573,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":851572,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851574,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":851549,"elapsed":0.014309},{"id":851575,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851576,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851575,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851577,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851578,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851577,"elapsed":0.001268},{"id":851579,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851580,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851579,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6a90420>","object_id":70097814454800}},{"id":851581,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097815984260,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851582,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":851581,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851583,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":851548,"elapsed":0.020356,"return_value":{"class":"Array","value":"[2]","object_id":70097815984260}},{"id":851584,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851585,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851586,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851585,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851587,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851588,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851587,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851589,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851590,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851589,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851591,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":851584,"elapsed":0.000381,"return_value":{"class":"String","value":"users/badge_title","object_id":70097816027640}},{"id":851592,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851593,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851594,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851593,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851595,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":851592,"elapsed":0.000122},{"id":851596,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851597,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851598,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851597,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851599,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851600,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851599,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851601,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>"}},{"id":851602,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":851601,"elapsed":7.0e-06,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":851603,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851604,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851603,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851605,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851606,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851605,"elapsed":2.6e-05},{"id":851607,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851608,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851607,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851609,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851610,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851609,"elapsed":7.0e-06},{"id":851611,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":851596,"elapsed":0.000798,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097816130560}},{"id":851612,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851613,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":851612,"elapsed":8.0e-06},{"id":851614,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851615,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851616,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851615,"elapsed":1.8e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851617,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851614,"elapsed":0.000117},{"id":851618,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851619,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851618,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851620,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851621,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851620,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851622,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851623,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851622,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851624,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097775906280,"value":"UsersController"}},{"id":851625,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":851624,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:username, :update, :user_preferences_redirect, :upload_user_image, :pick_avatar, :destroy_","object_id":70097777085280}},{"id":851626,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851627,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":851626,"elapsed":7.0e-06},{"id":851628,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851629,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851630,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851629,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851631,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851628,"elapsed":0.000107},{"id":851632,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851633,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851634,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851633,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851635,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":851632,"elapsed":0.000105},{"id":851636,"event":"call","defined_class":"UsersController","method_id":"badge_title","path":"app/controllers/users_controller.rb","lineno":222,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851637,"event":"call","defined_class":"ApplicationController","method_id":"fetch_user_from_params","path":"app/controllers/application_controller.rb","lineno":475,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"},{"name":"eager_load","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851638,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851639,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851638,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851640,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>"}},{"id":851641,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":851640,"elapsed":1.6e-05},{"id":851642,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'bruce1074' AND \"users\".\"active\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851643,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851642,"elapsed":0.001336},{"id":851644,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851645,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851644,"elapsed":6.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6a90420>","object_id":70097814454800}},{"id":851646,"event":"call","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851647,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851648,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":851647,"elapsed":2.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851649,"event":"return","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":851646,"elapsed":0.000142},{"id":851650,"event":"return","defined_class":"ApplicationController","method_id":"fetch_user_from_params","path":"app/controllers/application_controller.rb","lineno":475,"static":false,"thread_id":70097708498960,"parent_id":851637,"elapsed":0.005678,"return_value":{"class":"User","value":"#<User:0x00007f81bc098b80>","object_id":70097591125440}},{"id":851651,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851652,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":851651,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d6a90420>","object_id":70097814454800}},{"id":851653,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"method","class":"Symbol","object_id":16855028,"value":"ensure_can_edit!","kind":"req"},{"name":"args","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"rest"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851654,"event":"call","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851655,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851656,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":851655,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851657,"event":"call","defined_class":"UserGuardian","method_id":"can_edit_user?","path":"lib/guardian/user_guardian.rb","lineno":21,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851658,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097814454800,"value":"#<Guardian:0x00007f81d6a90420>"}},{"id":851659,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":851658,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851660,"event":"return","defined_class":"UserGuardian","method_id":"can_edit_user?","path":"lib/guardian/user_guardian.rb","lineno":21,"static":false,"thread_id":70097708498960,"parent_id":851657,"elapsed":0.00012,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851661,"event":"return","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":851654,"elapsed":0.000369,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851662,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":851653,"elapsed":0.000487},{"id":851663,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_badges\".* FROM \"user_badges\" WHERE \"user_badges\".\"id\" = 0 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851664,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851663,"elapsed":0.001144},{"id":851665,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851666,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851665,"elapsed":0.001057},{"id":851667,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_emails\".\"id\", \"user_emails\".\"user_id\", \"user_emails\".\"email\", \"user_emails\".\"primary\", \"user_emails\".\"created_at\", \"user_emails\".\"updated_at\" FROM \"user_emails\" WHERE \"user_emails\".\"user_id\" = 1161 AND \"user_emails\".\"primary\" = TRUE LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851668,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851667,"elapsed":0.001158},{"id":851669,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851670,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":851669,"elapsed":2.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851671,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851672,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097565930460,"value":"#<PasswordValidator:0x00007f81b908a7b8>"}},{"id":851673,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851674,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851675,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":851674,"elapsed":4.0e-06},{"id":851676,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":851673,"elapsed":0.000108},{"id":851677,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":851672,"elapsed":0.00024},{"id":851678,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":851671,"elapsed":0.000361},{"id":851679,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"id\" != 1162 AND \"user_emails\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851680,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851679,"elapsed":0.001278},{"id":851681,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_profiles\".* FROM \"user_profiles\" WHERE \"user_profiles\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851682,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851681,"elapsed":0.001368},{"id":851683,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"badges\".* FROM \"badges\" INNER JOIN \"user_badges\" ON \"badges\".\"id\" = \"user_badges\".\"badge_id\" WHERE \"user_badges\".\"user_id\" = 1161 AND (user_badges.badge_id IN (SELECT id FROM badges WHERE enabled))","database_type":"postgres","server_version":110006}},{"id":851684,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851683,"elapsed":0.001419},{"id":851685,"event":"call","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Badge","object_id":70097612040460,"value":"#<Badge:0x00007f81be87d218>"}},{"id":851686,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097612038620,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851687,"event":"call","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097612038620,"value":"Badge 0","kind":"req"}],"receiver":{"class":"Class","object_id":70097755632700,"value":"Badge"}},{"id":851688,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_name","path":"app/models/badge.rb","lineno":207,"static":true,"thread_id":70097708498960,"parent_id":851687,"elapsed":6.0e-06,"return_value":{"class":"String","value":"badge_0","object_id":70097612084080}},{"id":851689,"event":"return","defined_class":"Badge(id: integer, name: string, description: text, badge_type_id: integer, grant_count: integer, created_at: datetime, updated_at: datetime, allow_title: boolean, multiple_grant: boolean, icon: string, listable: boolean, target_posts: boolean, query: text, enabled: boolean, auto_revoke: boolean, badge_grouping_id: integer, trigger: integer, show_posts: boolean, system: boolean, image: string, long_description: text)","method_id":"i18n_key","path":"app/models/badge.rb","lineno":215,"static":true,"thread_id":70097708498960,"parent_id":851686,"elapsed":0.000123,"return_value":{"class":"String","value":"badges.badge_0.name","object_id":70097612083200}},{"id":851690,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851691,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851690,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851692,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851693,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851692,"elapsed":1.1e-05},{"id":851694,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851695,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851694,"elapsed":4.0e-06},{"id":851696,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":851697,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":851696,"elapsed":3.0e-06},{"id":851698,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851699,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851698,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":851700,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":851701,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":851700,"elapsed":7.0e-06},{"id":851702,"event":"return","defined_class":"Badge","method_id":"display_name","path":"app/models/badge.rb","lineno":256,"static":false,"thread_id":70097708498960,"parent_id":851685,"elapsed":0.000973,"return_value":{"class":"String","value":"Badge 0","object_id":70097612101740}},{"id":851703,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_profiles\" SET \"badge_granted_title\" = FALSE, \"granted_title_badge_id\" = NULL WHERE \"user_profiles\".\"user_id\" = 1161","database_type":"postgres","server_version":110006}},{"id":851704,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851703,"elapsed":0.001146},{"id":851705,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097827181180,"value":"{:user=>#<UserProfile user_id: 1161, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":851706,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851705,"elapsed":1.0e-05},{"id":851707,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"title\" = '', \"updated_at\" = '2020-05-28 18:59:33.203076' WHERE \"users\".\"id\" = 1161","database_type":"postgres","server_version":110006}},{"id":851708,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851707,"elapsed":0.001429},{"id":851709,"event":"call","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851710,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":2323,"value":"1161","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":851711,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"human_user_id?","path":"app/models/user.rb","lineno":309,"static":true,"thread_id":70097708498960,"parent_id":851710,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851712,"event":"return","defined_class":"User","method_id":"human?","path":"app/models/user.rb","lineno":313,"static":false,"thread_id":70097708498960,"parent_id":851709,"elapsed":0.000133,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851713,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851714,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851715,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":851714,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851716,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":851713,"elapsed":0.000106},{"id":851717,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>"}},{"id":851718,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1161 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":851719,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851718,"elapsed":0.001118},{"id":851720,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":851717,"elapsed":0.005177},{"id":851721,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097828156060,"value":"{:user=>#<User id: 1161, username: \"bruce1074\", created_at: \"2020-05-28 18:59:31\", updated_at: \"2020","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":851722,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851721,"elapsed":8.0e-06},{"id":851723,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097591125440,"value":"#<User:0x00007f81bc098b80>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":851724,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":851723,"elapsed":4.0e-06},{"id":851725,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851726,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851725,"elapsed":0.001033},{"id":851727,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851728,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851727,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851729,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>"}},{"id":851730,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":851729,"elapsed":8.0e-06},{"id":851731,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":851732,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"actions","path":"app/models/user_history.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":851731,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:delete_user=>1, :change_trust_level=>2, :change_site_setting=>3, :change_theme=>4, :delete_theme=>","object_id":70097826343960}},{"id":851733,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851734,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851733,"elapsed":0.000934},{"id":851735,"event":"call","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserHistory","object_id":70097828172840,"value":"#<UserHistory:0x00007f81d84ba850>"}},{"id":851736,"event":"call","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097565682280,"value":"UserHistory"}},{"id":851737,"event":"return","defined_class":"UserHistory(id: integer, action: integer, acting_user_id: integer, target_user_id: integer, details: text, created_at: datetime, updated_at: datetime, context: string, ip_address: string, email: string, subject: text, previous_value: text, new_value: text, topic_id: integer, admin_only: boolean, post_id: integer, custom_type: string, category_id: integer)","method_id":"admin_only_action_ids","path":"app/models/user_history.rb","lineno":198,"static":true,"thread_id":70097708498960,"parent_id":851736,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[3]","object_id":70097608682780}},{"id":851738,"event":"return","defined_class":"UserHistory","method_id":"set_admin_only","path":"app/models/user_history.rb","lineno":250,"static":false,"thread_id":70097708498960,"parent_id":851735,"elapsed":0.000127,"return_value":{"class":"UserHistory","value":"#<UserHistory:0x00007f81d84ba850>","object_id":70097828172840}},{"id":851739,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_histories\" (\"action\", \"target_user_id\", \"created_at\", \"updated_at\", \"previous_value\") VALUES (83, 1161, '2020-05-28 18:59:33.223726', '2020-05-28 18:59:33.223726', 'Badge 0') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":851740,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851739,"elapsed":0.001081},{"id":851741,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":851742,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":851741,"elapsed":0.000904},{"id":851743,"event":"return","defined_class":"UsersController","method_id":"badge_title","path":"app/controllers/users_controller.rb","lineno":222,"static":false,"thread_id":70097708498960,"parent_id":851636,"elapsed":0.077473,"return_value":{"class":"String","value":"","object_id":70097613427280}},{"id":851744,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851745,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":851744,"elapsed":8.0e-06},{"id":851746,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851747,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":851746,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097613423040}},{"id":851748,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097731962900,"value":"#<UsersController:0x00007f81ccd39028>"}},{"id":851749,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851750,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851749,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851751,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097814444860,"value":"#<User:0x00007f81d6a8b678>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097796140380,"value":"#<ActionDispatch::Request::Session:0x00007f81d47a1ab8>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097815984680,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d6d7b450>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851752,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851753,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851754,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851753,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851755,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":851752,"elapsed":0.000104},{"id":851756,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851757,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097730438880,"value":"#<TestCurrentUserProvider:0x00007f81cca50dc0>"}},{"id":851758,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":851757,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81d6a8b678>","object_id":70097814444860}},{"id":851759,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":851756,"elapsed":9.7e-05},{"id":851760,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":851751,"elapsed":0.000446},{"id":851761,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":851748,"elapsed":0.000662},{"id":851762,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":851547,"elapsed":0.103298,"http_server_response":{"status":200}},{"id":851763,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097613457760,"value":"#<TestCurrentUserProvider:0x00007f81beb312c0>"}},{"id":851764,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":851763,"elapsed":3.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":851765,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":851766,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851765,"elapsed":5.0e-06},{"id":851767,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":851768,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":851767,"elapsed":4.0e-06}]}