{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","D spec/requests/posts_controller_spec.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"UsersController #invited filters by email if staff","app":"Discourse","feature":"UsersController #invited","feature_group":"Users","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"unstage!","type":"function","location":"app/models/user.rb:341","static":false},{"name":"logged_in","type":"function","location":"app/models/user.rb:1170","static":false},{"name":"seen_before?","type":"function","location":"app/models/user.rb:667","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"update_last_seen!","type":"function","location":"app/models/user.rb:721","static":false},{"name":"update_visit_record!","type":"function","location":"app/models/user.rb:680","static":false},{"name":"visit_record_for","type":"function","location":"app/models/user.rb:676","static":false},{"name":"create_visit_record!","type":"function","location":"app/models/user.rb:671","static":false},{"name":"update_ip_address!","type":"function","location":"app/models/user.rb:715","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false},{"name":"has_trust_level?","type":"function","location":"app/models/user.rb:907","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:916","static":false},{"name":"avatar_template","type":"function","location":"app/models/user.rb:810","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true},{"name":"find_by_username","type":"function","location":"app/models/user.rb:371","static":true},{"name":"default_template","type":"function","location":"app/models/user.rb:758","static":true},{"name":"system_avatar_template","type":"function","location":"app/models/user.rb:774","static":true},{"name":"letter_avatar_color","type":"function","location":"app/models/user.rb:791","static":true},{"name":"color_index","type":"function","location":"app/models/user.rb:806","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true},{"name":"values","type":"function","location":"app/models/locale_site_setting.rb:9","static":true}]},{"name":"Site","type":"class","children":[{"name":"json_for","type":"function","location":"app/models/site.rb:85","static":true},{"name":"notification_types","type":"function","location":"app/models/site.rb:19","static":false},{"name":"categories","type":"function","location":"app/models/site.rb:31","static":false},{"name":"trust_levels","type":"function","location":"app/models/site.rb:23","static":false},{"name":"archetypes","type":"function","location":"app/models/site.rb:77","static":false},{"name":"user_fields","type":"function","location":"app/models/site.rb:27","static":false},{"name":"auth_providers","type":"function","location":"app/models/site.rb:81","static":false}]},{"name":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","type":"class","children":[{"name":"types","type":"function","location":"app/models/notification.rb:89","static":true}]},{"name":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","type":"class","children":[{"name":"types","type":"function","location":"app/models/post.rb:139","static":true}]},{"name":"TopTopic (call 'TopTopic.connection' to establish a connection)","type":"class","children":[{"name":"periods","type":"function","location":"app/models/top_topic.rb:35","static":true}]},{"name":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","type":"class","children":[{"name":"max_length","type":"function","location":"app/models/user_field.rb:12","static":true}]},{"name":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","type":"class","children":[{"name":"include_tags?","type":"function","location":"app/models/tag.rb:144","static":true}]},{"name":"Trashable","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"with_deleted_scope_sql","type":"function","location":"app/models/concerns/trashable.rb:27","static":false}]}]},{"name":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","type":"class","children":[{"name":"notification_levels_for","type":"function","location":"app/models/category_user.rb:204","static":true},{"name":"default_notification_level","type":"function","location":"app/models/category_user.rb:200","static":true},{"name":"notification_levels","type":"function","location":"app/models/category_user.rb:11","static":true}]},{"name":"Category","type":"class","children":[{"name":"uncategorized?","type":"function","location":"app/models/category.rb:699","static":false},{"name":"topic_url","type":"function","location":"app/models/category.rb:297","static":false}]},{"name":"GlobalSetting","type":"class","children":[{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true},{"name":"safe_secret_key_base","type":"function","location":"app/models/global_setting.rb:25","static":true}]},{"name":"Upload","type":"class","children":[{"name":"to_s","type":"function","location":"app/models/upload.rb:50","static":false}]},{"name":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","type":"class","children":[{"name":"available_locales","type":"function","location":"app/models/site_setting.rb:32","static":true},{"name":"require_invite_code","type":"function","location":"app/models/site_setting.rb:176","static":true},{"name":"site_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"Upload","type":"function","location":"app/models/site_setting.rb:172","static":true},{"name":"site_logo_small_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_mobile_logo_url","type":"function","location":"app/models/site_setting.rb:201","static":true},{"name":"site_favicon_url","type":"function","location":"app/models/site_setting.rb:201","static":true}]},{"name":"SiteSetting","type":"class","children":[{"name":"Upload","type":"class","children":[{"name":"s3_cdn_url","type":"function","location":"app/models/site_setting.rb:130","static":true}]}]},{"name":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","type":"class","children":[{"name":"lookup_field","type":"function","location":"app/models/theme.rb:246","static":true},{"name":"transform_ids","type":"function","location":"app/models/theme.rb:162","static":true},{"name":"get_set_cache","type":"function","location":"app/models/theme.rb:125","static":true}]},{"name":"Emoji","type":"class","children":[{"name":"custom","type":"function","location":"app/models/emoji.rb:35","static":true},{"name":"cache_key","type":"function","location":"app/models/emoji.rb:79","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","type":"class","children":[{"name":"generate!","type":"function","location":"app/models/user_auth_token.rb:68","static":true},{"name":"hash_token","type":"function","location":"app/models/user_auth_token.rb:164","static":true},{"name":"log","type":"function","location":"app/models/user_auth_token.rb:26","static":true},{"name":"enforce_session_count_limit!","type":"function","location":"app/models/user_auth_token.rb:226","static":true},{"name":"lookup","type":"function","location":"app/models/user_auth_token.rb:99","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]},{"name":"Invite","type":"class","children":[{"name":"user_doesnt_already_exist","type":"function","location":"app/models/invite.rb:38","static":false},{"name":"limit_invites_per_day","type":"function","location":"app/models/invite.rb:249","static":false},{"name":"redeemed?","type":"function","location":"app/models/invite.rb:49","static":false},{"name":"expired?","type":"function","location":"app/models/invite.rb:53","static":false}]},{"name":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","type":"class","children":[{"name":"find_user_by_email","type":"function","location":"app/models/invite.rb:163","static":true},{"name":"find_redeemed_invites_from","type":"function","location":"app/models/invite.rb:193","static":true},{"name":"find_all_invites_from","type":"function","location":"app/models/invite.rb:179","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true},{"name":"email_regex","type":"function","location":"lib/validators/email_validator.rb:43","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]},{"name":"WordWatcher","type":"class","children":[{"name":"word_matcher_regexp","type":"function","location":"app/services/word_watcher.rb:26","static":true},{"name":"get_cached_words","type":"function","location":"app/services/word_watcher.rb:17","static":true},{"name":"word_matcher_regexp_key","type":"function","location":"app/services/word_watcher.rb:55","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"store_preloaded","type":"function","location":"app/controllers/application_controller.rb:343","static":false},{"name":"banner_json_cache","type":"function","location":"app/controllers/application_controller.rb:575","static":true},{"name":"conditionally_allow_site_embedding","type":"function","location":"app/controllers/application_controller.rb:92","static":false},{"name":"dont_cache_page","type":"function","location":"app/controllers/application_controller.rb:85","static":false},{"name":"perform_refresh_session","type":"function","location":"app/controllers/application_controller.rb:75","static":false},{"name":"fetch_user_from_params","type":"function","location":"app/controllers/application_controller.rb:475","static":false}]},{"name":"SessionController","type":"class","children":[{"name":"become","type":"function","location":"app/controllers/session_controller.rb:117","static":false}]},{"name":"UsersController","type":"class","children":[{"name":"invited","type":"function","location":"app/controllers/users_controller.rb:301","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"log_on_user","type":"function","location":"lib/auth/default_current_user_provider.rb:198","static":false},{"name":"cookie_hash","type":"function","location":"lib/auth/default_current_user_provider.rb:217","static":false},{"name":"make_developer_admin","type":"function","location":"lib/auth/default_current_user_provider.rb:232","static":false},{"name":"enable_bootstrap_mode","type":"function","location":"lib/auth/default_current_user_provider.rb:242","static":false},{"name":"refresh_session","type":"function","location":"lib/auth/default_current_user_provider.rb:173","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"is_user_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:276","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false}]},{"name":"FacebookAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/facebook_authenticator.rb:11","static":false}]},{"name":"GoogleOAuth2Authenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/google_oauth2_authenticator.rb:8","static":false}]},{"name":"GithubAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/github_authenticator.rb:11","static":false}]},{"name":"TwitterAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/twitter_authenticator.rb:8","static":false}]},{"name":"InstagramAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/instagram_authenticator.rb:8","static":false}]},{"name":"DiscordAuthenticator","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/auth/discord_authenticator.rb:45","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"anonymous?","type":"function","location":"lib/guardian.rb:76","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"AnonymousUser","type":"class","children":[{"name":"blank?","type":"function","location":"lib/guardian.rb:26","static":false},{"name":"staff?","type":"function","location":"lib/guardian.rb:32","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian.rb:50","static":false},{"name":"admin?","type":"function","location":"lib/guardian.rb:29","static":false}]},{"name":"user","type":"function","location":"lib/guardian.rb:71","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false},{"name":"is_admin?","type":"function","location":"lib/guardian.rb:84","static":false},{"name":"can_edit?","type":"function","location":"lib/guardian.rb:154","static":false},{"name":"can_invite_to_forum?","type":"function","location":"lib/guardian.rb:338","static":false},{"name":"can_see?","type":"function","location":"lib/guardian.rb:122","static":false},{"name":"can_see_invite_details?","type":"function","location":"lib/guardian.rb:330","static":false},{"name":"can_see_invite_emails?","type":"function","location":"lib/guardian.rb:334","static":false}]},{"name":"TagGuardian","type":"class","children":[{"name":"can_create_tag?","type":"function","location":"lib/guardian/tag_guardian.rb:5","static":false},{"name":"can_tag_topics?","type":"function","location":"lib/guardian/tag_guardian.rb:11","static":false},{"name":"can_tag_pms?","type":"function","location":"lib/guardian/tag_guardian.rb:17","static":false}]},{"name":"CategoryGuardian","type":"class","children":[{"name":"topic_featured_link_allowed_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:74","static":false},{"name":"secure_category_ids","type":"function","location":"lib/guardian/category_guardian.rb:57","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_create_shared_draft?","type":"function","location":"lib/guardian/topic_guardian.rb:25","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false},{"name":"ensure_can_see!","type":"function","location":"lib/guardian/ensure_magic.rb:20","static":false}]}]},{"name":"app/serializers","type":"package","children":[{"name":"SiteSerializer","type":"class","children":[{"name":"default_archetype","type":"function","location":"app/serializers/site_serializer.rb:70","static":false},{"name":"post_types","type":"function","location":"app/serializers/site_serializer.rb:74","static":false},{"name":"groups","type":"function","location":"app/serializers/site_serializer.rb:50","static":false},{"name":"filters","type":"function","location":"app/serializers/site_serializer.rb:78","static":false},{"name":"periods","type":"function","location":"app/serializers/site_serializer.rb:82","static":false},{"name":"top_menu_items","type":"function","location":"app/serializers/site_serializer.rb:86","static":false},{"name":"anonymous_top_menu_items","type":"function","location":"app/serializers/site_serializer.rb:90","static":false},{"name":"uncategorized_category_id","type":"function","location":"app/serializers/site_serializer.rb:94","static":false},{"name":"is_readonly","type":"function","location":"app/serializers/site_serializer.rb:98","static":false},{"name":"disabled_plugins","type":"function","location":"app/serializers/site_serializer.rb:102","static":false},{"name":"user_field_max_length","type":"function","location":"app/serializers/site_serializer.rb:106","static":false},{"name":"post_action_types","type":"function","location":"app/serializers/site_serializer.rb:56","static":false},{"name":"topic_flag_types","type":"function","location":"app/serializers/site_serializer.rb:63","static":false},{"name":"can_create_tag","type":"function","location":"app/serializers/site_serializer.rb:110","static":false},{"name":"can_tag_topics","type":"function","location":"app/serializers/site_serializer.rb:114","static":false},{"name":"can_tag_pms","type":"function","location":"app/serializers/site_serializer.rb:118","static":false},{"name":"include_tags_filter_regexp?","type":"function","location":"app/serializers/site_serializer.rb:122","static":false},{"name":"include_top_tags?","type":"function","location":"app/serializers/site_serializer.rb:130","static":false},{"name":"include_wizard_required?","type":"function","location":"app/serializers/site_serializer.rb:142","static":false},{"name":"include_topic_featured_link_allowed_category_ids?","type":"function","location":"app/serializers/site_serializer.rb:146","static":false},{"name":"topic_featured_link_allowed_category_ids","type":"function","location":"app/serializers/site_serializer.rb:150","static":false},{"name":"user_themes","type":"function","location":"app/serializers/site_serializer.rb:39","static":false},{"name":"censored_regexp","type":"function","location":"app/serializers/site_serializer.rb:154","static":false},{"name":"include_shared_drafts_category_id?","type":"function","location":"app/serializers/site_serializer.rb:166","static":false},{"name":"custom_emoji_translation","type":"function","location":"app/serializers/site_serializer.rb:158","static":false}]},{"name":"ApplicationSerializer","type":"class","children":[{"name":"fragment_cache","type":"function","location":"app/serializers/application_serializer.rb:21","static":true}]},{"name":"BasicCategorySerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/basic_category_serializer.rb:42","static":false},{"name":"description","type":"function","location":"app/serializers/basic_category_serializer.rb:50","static":false},{"name":"description_text","type":"function","location":"app/serializers/basic_category_serializer.rb:46","static":false},{"name":"description_excerpt","type":"function","location":"app/serializers/basic_category_serializer.rb:54","static":false},{"name":"include_parent_category_id?","type":"function","location":"app/serializers/basic_category_serializer.rb:38","static":false},{"name":"notification_level","type":"function","location":"app/serializers/basic_category_serializer.rb:66","static":false},{"name":"include_can_edit?","type":"function","location":"app/serializers/basic_category_serializer.rb:62","static":false},{"name":"include_custom_fields?","type":"function","location":"app/serializers/basic_category_serializer.rb:74","static":false},{"name":"custom_fields","type":"function","location":"app/serializers/basic_category_serializer.rb:70","static":false}]},{"name":"SiteCategorySerializer","type":"class","children":[{"name":"include_allowed_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:12","static":false},{"name":"include_allowed_tag_groups?","type":"function","location":"app/serializers/site_category_serializer.rb:20","static":false},{"name":"include_allow_global_tags?","type":"function","location":"app/serializers/site_category_serializer.rb:28","static":false},{"name":"required_tag_group_name","type":"function","location":"app/serializers/site_category_serializer.rb:32","static":false}]},{"name":"ArchetypeSerializer","type":"class","children":[{"name":"name","type":"function","location":"app/serializers/archetype_serializer.rb:18","static":false},{"name":"options","type":"function","location":"app/serializers/archetype_serializer.rb:7","static":false}]},{"name":"InvitedSerializer","type":"class","children":[{"name":"read_attribute_for_serialization","type":"function","location":"app/serializers/invited_serializer.rb:19","static":false},{"name":"invites","type":"function","location":"app/serializers/invited_serializer.rb:6","static":false},{"name":"can_see_invite_details","type":"function","location":"app/serializers/invited_serializer.rb:15","static":false}]},{"name":"InviteSerializer","type":"class","children":[{"name":"include_email?","type":"function","location":"app/serializers/invite_serializer.rb:7","static":false},{"name":"expired","type":"function","location":"app/serializers/invite_serializer.rb:11","static":false},{"name":"user","type":"function","location":"app/serializers/invite_serializer.rb:15","static":false}]},{"name":"BasicUserSerializer","type":"class","children":[{"name":"include_name?","type":"function","location":"app/serializers/basic_user_serializer.rb:10","static":false},{"name":"name","type":"function","location":"app/serializers/basic_user_serializer.rb:6","static":false},{"name":"user","type":"function","location":"app/serializers/basic_user_serializer.rb:22","static":false},{"name":"avatar_template","type":"function","location":"app/serializers/basic_user_serializer.rb:14","static":false}]},{"name":"InvitedUserSerializer","type":"class","children":[{"name":"include_topics_entered?","type":"function","location":"app/serializers/invited_user_serializer.rb:34","static":false},{"name":"include_posts_read_count?","type":"function","location":"app/serializers/invited_user_serializer.rb:42","static":false},{"name":"include_time_read?","type":"function","location":"app/serializers/invited_user_serializer.rb:18","static":false},{"name":"include_days_visited?","type":"function","location":"app/serializers/invited_user_serializer.rb:26","static":false},{"name":"days_since_created","type":"function","location":"app/serializers/invited_user_serializer.rb:46","static":false}]}]},{"name":"app/helpers","type":"package","children":[{"name":"ApplicationHelper","type":"class","children":[{"name":"mobile_view?","type":"function","location":"app/helpers/application_helper.rb:306","static":false}]}]},{"name":"app/jobs","type":"package","children":[{"name":"Jobs","type":"class","children":[{"name":"enqueue","type":"function","location":"app/jobs/base.rb:284","static":true},{"name":"run_later?","type":"function","location":"app/jobs/base.rb:9","static":true}]}]},{"name":"lib/email","type":"package","children":[{"name":"Email","type":"class","children":[{"name":"downcase","type":"function","location":"lib/email.rb:12","static":true},{"name":"is_valid?","type":"function","location":"lib/email.rb:7","static":true}]}]}],"events":[{"id":757225,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757226,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":757225,"elapsed":8.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":757227,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097797805920,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757228,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":757227,"elapsed":0.000201,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81d4ad7cf0>","object_id":70097797824120}},{"id":757229,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757230,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":757229,"elapsed":1.6e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757231,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757232,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":757233,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097797876480,"value":"#<UsernameValidator:0x00007f81d4af1600>"}},{"id":757234,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757235,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":757234,"elapsed":1.3e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097566091200}},{"id":757236,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757237,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":757236,"elapsed":7.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097565890600}},{"id":757238,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":757239,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":757238,"elapsed":6.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":757240,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":757241,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":757240,"elapsed":1.3e-05},{"id":757242,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":757233,"elapsed":0.000589,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757243,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":757232,"elapsed":0.000742},{"id":757244,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":757231,"elapsed":0.000881},{"id":757245,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097797869380,"value":"bruce910","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757246,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":757245,"elapsed":1.5e-05,"return_value":{"class":"String","value":"bruce910","object_id":70097804655960}},{"id":757247,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":757248,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757247,"elapsed":0.000928},{"id":757249,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097797869380,"value":"bruce910","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757250,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757249,"elapsed":1.2e-05},{"id":757251,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097567024720,"value":"bruce910","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757252,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757251,"elapsed":7.0e-06},{"id":757253,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757254,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097567043800,"value":"#<PasswordValidator:0x00007f81b92aa1b0>"}},{"id":757255,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757256,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757257,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":757256,"elapsed":4.0e-06},{"id":757258,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":757255,"elapsed":0.000114,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757259,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757260,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":757259,"elapsed":1.6e-05,"return_value":{"class":"String","value":"bruce926@wayne.com","object_id":70097567080360}},{"id":757261,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757262,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":757261,"elapsed":7.0e-06,"return_value":{"class":"String","value":"bruce926@wayne.com","object_id":70097567080360}},{"id":757263,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757264,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757263,"elapsed":8.0e-06},{"id":757265,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757254,"elapsed":0.002517},{"id":757266,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":757253,"elapsed":0.002717},{"id":757267,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757268,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":757267,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":757269,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097567111060,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757270,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757269,"elapsed":9.0e-06},{"id":757271,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097567107140,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757272,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757271,"elapsed":7.0e-06},{"id":757273,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097567057280,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":757274,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757273,"elapsed":8.0e-06},{"id":757275,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097567145060,"value":"99.232.23.233","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":757276,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097567145060,"value":"99.232.23.233","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":757277,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097567145060,"value":"99.232.23.233","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":757278,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097567145060,"value":"99.232.23.233","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":757279,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.233' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757280,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757279,"elapsed":0.001485},{"id":757281,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":757278,"elapsed":0.005258},{"id":757282,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":757277,"elapsed":0.005451},{"id":757283,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":757276,"elapsed":0.005664},{"id":757284,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757275,"elapsed":0.005825},{"id":757285,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097797824120,"value":"#<UserEmail:0x00007f81d4ad7cf0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097797602780,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":757286,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097797602780,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757287,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097797602780,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757288,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":757287,"elapsed":3.8e-05},{"id":757289,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":757286,"elapsed":0.000173,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757290,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097797602780,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757291,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097797602780,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757292,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757291,"elapsed":2.1e-05,"return_value":{"class":"String","value":"bruce926@wayne.com","object_id":70097797884100}},{"id":757293,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":757294,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757293,"elapsed":0.001865},{"id":757295,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":757290,"elapsed":0.007985},{"id":757296,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757285,"elapsed":0.008541},{"id":757297,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce926@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757298,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757297,"elapsed":0.001469},{"id":757299,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757300,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":757299,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":757301,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce910', '2020-05-28 18:58:12.556481', '2020-05-28 18:58:12.556481', 'Bruce Wayne', 'b96bf74bcba2836de8f60f4652240b2479eb469ed8a7f6103a60200050801d38', '2644bb1b7f80eade6957b171e015336d', TRUE, 'bruce910', 2, '99.232.23.233/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757302,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757301,"elapsed":0.002066},{"id":757303,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097797824120,"value":"#<UserEmail:0x00007f81d4ad7cf0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097799013500,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":757304,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097799013500,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757305,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097799013500,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757306,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":757305,"elapsed":3.6e-05},{"id":757307,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":757304,"elapsed":0.00017,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757308,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097799013500,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757309,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097799013500,"value":"bruce926@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757310,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757309,"elapsed":1.2e-05,"return_value":{"class":"String","value":"bruce926@wayne.com","object_id":70097799029140}},{"id":757311,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":757312,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757311,"elapsed":0.001558},{"id":757313,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":757308,"elapsed":0.005848},{"id":757314,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757303,"elapsed":0.006338},{"id":757315,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1000 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757316,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757315,"elapsed":0.001423},{"id":757317,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce926@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757318,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757317,"elapsed":0.001208},{"id":757319,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1000, 'bruce926@wayne.com', TRUE, '2020-05-28 18:58:12.579021', '2020-05-28 18:58:12.579021') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757320,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757319,"elapsed":0.001352},{"id":757321,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757322,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":757321,"elapsed":2.4e-05,"return_value":{"class":"String","value":"bruce926@wayne.com","object_id":70097568144640}},{"id":757323,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":757324,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":757325,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":757324,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":757326,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":757323,"elapsed":0.000179,"return_value":{"class":"String","value":"96e028fdcf9ea3a23ec3583612ffc936","object_id":70097828172380}},{"id":757327,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1000, 'bruce926@wayne.com', '96e028fdcf9ea3a23ec3583612ffc936', '2020-05-28 18:58:12.585801', '2020-05-28 18:58:12.585801') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757328,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757327,"elapsed":0.001419},{"id":757329,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1000 AND (id != 1196)","database_type":"postgres","server_version":110006}},{"id":757330,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757329,"elapsed":0.001494},{"id":757331,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1000, '2020-05-28 18:58:12.596744') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":757332,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757331,"elapsed":0.001485},{"id":757333,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1000 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757334,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757333,"elapsed":0.001586},{"id":757335,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097613636120,"value":"{:user=>#<User id: 1000, username: \"bruce910\", created_at: \"2020-05-28 18:58:12\", updated_at: \"2020-","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":757336,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757335,"elapsed":1.3e-05},{"id":757337,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097613653200,"value":"#<UserOption:0x00007f81beb909a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":757338,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":757337,"elapsed":5.0e-06},{"id":757339,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097613653200,"value":"#<UserOption:0x00007f81beb909a0>"}},{"id":757340,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097613653200,"value":"#<UserOption:0x00007f81beb909a0>"}},{"id":757341,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":757342,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":757341,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":757343,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":757340,"elapsed":0.000145,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":757344,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097613653200,"value":"#<UserOption:0x00007f81beb909a0>"}},{"id":757345,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":757346,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":757345,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":757347,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":757344,"elapsed":0.000137,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":757348,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":757339,"elapsed":0.000609,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757349,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1000, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":757350,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757349,"elapsed":0.001378},{"id":757351,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097588284120,"value":"#<TrackedTopicsUpdater:0x00007f81bbb2d5b0>"}},{"id":757352,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":757353,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":757352,"elapsed":8.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":757354,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":757355,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":757354,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":757356,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1000","database_type":"postgres","server_version":110006}},{"id":757357,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757356,"elapsed":0.002609},{"id":757358,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":757351,"elapsed":0.006355,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":757359,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757360,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1000 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757361,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757360,"elapsed":0.001509},{"id":757362,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1000) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":757363,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757362,"elapsed":0.001446},{"id":757364,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097568933460,"value":"{:user=>#<UserProfile user_id: 1000, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":757365,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757364,"elapsed":1.2e-05},{"id":757366,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":757359,"elapsed":0.011023,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81b95567d8>","object_id":70097568445420}},{"id":757367,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757368,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":757367,"elapsed":1.2e-05},{"id":757369,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757370,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757369,"elapsed":0.00163},{"id":757371,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757372,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757371,"elapsed":0.001391},{"id":757373,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757374,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757373,"elapsed":0.001209},{"id":757375,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757376,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757375,"elapsed":0.001407},{"id":757377,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757378,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757379,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":757378,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757380,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":757377,"elapsed":0.00023},{"id":757381,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1000","database_type":"postgres","server_version":110006}},{"id":757382,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757381,"elapsed":0.001443},{"id":757383,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>"}},{"id":757384,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1000 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757385,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757384,"elapsed":0.001554},{"id":757386,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1000, '2020-05-28 18:58:12.660080', '2020-05-28 18:58:12.660080') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757387,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757386,"elapsed":0.001509},{"id":757388,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":757383,"elapsed":0.010217},{"id":757389,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097797511980,"value":"{:user=>#<User id: 1000, username: \"bruce910\", created_at: \"2020-05-28 18:58:12\", updated_at: \"2020-","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":757390,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757389,"elapsed":1.1e-05},{"id":757391,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":757392,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757391,"elapsed":5.0e-06},{"id":757393,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":757394,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757393,"elapsed":0.001522},{"id":757395,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097797804080,"value":"#<User:0x00007f81d4ace060>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":757396,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":757397,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":757396,"elapsed":0.000291,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81be33ec20>","object_id":70097609291280}},{"id":757398,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757399,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757398,"elapsed":0.001617},{"id":757400,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":757395,"elapsed":0.005454},{"id":757401,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757402,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":757401,"elapsed":8.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":757403,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097615580740,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757404,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":757403,"elapsed":0.000191,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81bef47418>","object_id":70097615600140}},{"id":757405,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":757406,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757405,"elapsed":0.001183},{"id":757407,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757408,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":757407,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757409,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757410,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":757411,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097624462480,"value":"#<UsernameValidator:0x00007f81c002e920>"}},{"id":757412,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757413,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":757412,"elapsed":1.0e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097624459960}},{"id":757414,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757415,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":757414,"elapsed":7.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097624457520}},{"id":757416,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":757417,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":757416,"elapsed":6.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":757418,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":757419,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":757418,"elapsed":5.0e-06},{"id":757420,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":757411,"elapsed":0.000503,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757421,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":757410,"elapsed":0.000635},{"id":757422,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":757409,"elapsed":0.000761},{"id":757423,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097624441440,"value":"moderator911","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757424,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":757423,"elapsed":1.1e-05,"return_value":{"class":"String","value":"moderator911","object_id":70097624496200}},{"id":757425,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097624441440,"value":"moderator911","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757426,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757425,"elapsed":1.0e-05},{"id":757427,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097624492960,"value":"moderator911","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757428,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757427,"elapsed":6.0e-06},{"id":757429,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757430,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097624513860,"value":"#<PasswordValidator:0x00007f81c0047a88>"}},{"id":757431,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757432,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757433,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":757432,"elapsed":4.0e-06},{"id":757434,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":757431,"elapsed":0.000113,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757435,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757436,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":757435,"elapsed":1.5e-05,"return_value":{"class":"String","value":"moderator927@discourse.org","object_id":70097624528820}},{"id":757437,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757438,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":757437,"elapsed":8.0e-06,"return_value":{"class":"String","value":"moderator927@discourse.org","object_id":70097624528820}},{"id":757439,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757440,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757439,"elapsed":7.0e-06},{"id":757441,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757430,"elapsed":0.002986},{"id":757442,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":757429,"elapsed":0.00317},{"id":757443,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757444,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":757443,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":757445,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097624540780,"value":"A24 Moderator","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757446,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757445,"elapsed":7.0e-06},{"id":757447,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097624563400,"value":"a24 moderator","kind":"req"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757448,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":757447,"elapsed":5.0e-06},{"id":757449,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097624530680,"value":"A24 Moderator","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":757450,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757449,"elapsed":8.0e-06},{"id":757451,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097624558320,"value":"99.232.23.234","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":757452,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097624558320,"value":"99.232.23.234","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":757453,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097624558320,"value":"99.232.23.234","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":757454,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097624558320,"value":"99.232.23.234","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":757455,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.234' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757456,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757455,"elapsed":0.001415},{"id":757457,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":757454,"elapsed":0.004773},{"id":757458,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":757453,"elapsed":0.004946},{"id":757459,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":757452,"elapsed":0.005082},{"id":757460,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757451,"elapsed":0.005227},{"id":757461,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097615600140,"value":"#<UserEmail:0x00007f81bef47418>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097829693400,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":757462,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829693400,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757463,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097829693400,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757464,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":757463,"elapsed":3.3e-05},{"id":757465,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":757462,"elapsed":0.000161,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757466,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829693400,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757467,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097829693400,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757468,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757467,"elapsed":1.6e-05,"return_value":{"class":"String","value":"moderator927@discourse.org","object_id":70097829709600}},{"id":757469,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":757470,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757469,"elapsed":0.001538},{"id":757471,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":757466,"elapsed":0.005586},{"id":757472,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757461,"elapsed":0.006069},{"id":757473,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'moderator927@discourse.org') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757474,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757473,"elapsed":0.001529},{"id":757475,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":757476,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":757475,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":757477,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\", \"moderator\") VALUES ('moderator911', '2020-05-28 18:58:12.751562', '2020-05-28 18:58:12.751562', 'A24 Moderator', '47f40e1dac6b11a562533c650ca4a4a5f529f8e5ee626db1eabe7142526a045b', 'e87ea3eaaf7e3e618ff351df5bea34ab', TRUE, 'moderator911', 1, '99.232.23.234/32', TRUE) RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757478,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757477,"elapsed":0.00144},{"id":757479,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097615600140,"value":"#<UserEmail:0x00007f81bef47418>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097755185200,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":757480,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097755185200,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757481,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097755185200,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":757482,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":757481,"elapsed":3.6e-05},{"id":757483,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":757480,"elapsed":0.00018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757484,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097755185200,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757485,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097755185200,"value":"moderator927@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":757486,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757485,"elapsed":1.2e-05,"return_value":{"class":"String","value":"moderator927@discourse.org","object_id":70097792523160}},{"id":757487,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":757488,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757487,"elapsed":0.001463},{"id":757489,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":757484,"elapsed":0.006246},{"id":757490,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757479,"elapsed":0.006763},{"id":757491,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757492,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757491,"elapsed":0.001309},{"id":757493,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'moderator927@discourse.org') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757494,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757493,"elapsed":0.001209},{"id":757495,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1001, 'moderator927@discourse.org', TRUE, '2020-05-28 18:58:12.775721', '2020-05-28 18:58:12.775721') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757496,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757495,"elapsed":0.001417},{"id":757497,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757498,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":757497,"elapsed":2.4e-05,"return_value":{"class":"String","value":"moderator927@discourse.org","object_id":70097732300520}},{"id":757499,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":757500,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":757501,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":757500,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":757502,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":757499,"elapsed":0.000164,"return_value":{"class":"String","value":"3830d0b025df26109938999fce26d7fa","object_id":70097732128300}},{"id":757503,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1001, 'moderator927@discourse.org', '3830d0b025df26109938999fce26d7fa', '2020-05-28 18:58:12.782215', '2020-05-28 18:58:12.782215') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757504,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757503,"elapsed":0.001383},{"id":757505,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1001 AND (id != 1197)","database_type":"postgres","server_version":110006}},{"id":757506,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757505,"elapsed":0.001225},{"id":757507,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1001, '2020-05-28 18:58:12.792597') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":757508,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757507,"elapsed":0.001434},{"id":757509,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757510,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757509,"elapsed":0.001835},{"id":757511,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097826211580,"value":"{:user=>#<User id: 1001, username: \"moderator911\", created_at: \"2020-05-28 18:58:12\", updated_at: \"2","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":757512,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757511,"elapsed":1.4e-05},{"id":757513,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097826220120,"value":"#<UserOption:0x00007f81d81010b0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":757514,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":757513,"elapsed":6.0e-06},{"id":757515,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097826220120,"value":"#<UserOption:0x00007f81d81010b0>"}},{"id":757516,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097826220120,"value":"#<UserOption:0x00007f81d81010b0>"}},{"id":757517,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":757518,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":757517,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":757519,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":757516,"elapsed":0.00012,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":757520,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097826220120,"value":"#<UserOption:0x00007f81d81010b0>"}},{"id":757521,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":757522,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":757521,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":757523,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":757520,"elapsed":0.000102,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":757524,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":757515,"elapsed":0.000482,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757525,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1001, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":757526,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757525,"elapsed":0.001366},{"id":757527,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097814692400,"value":"#<TrackedTopicsUpdater:0x00007f81d6b04460>"}},{"id":757528,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":757529,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":757528,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":757530,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":757531,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":757530,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":757532,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1001","database_type":"postgres","server_version":110006}},{"id":757533,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757532,"elapsed":0.001252},{"id":757534,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":757527,"elapsed":0.004918,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":757535,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757536,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757537,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757536,"elapsed":0.001509},{"id":757538,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1001) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":757539,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757538,"elapsed":0.001289},{"id":757540,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097592436000,"value":"{:user=>#<UserProfile user_id: 1001, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":757541,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757540,"elapsed":1.2e-05},{"id":757542,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":757535,"elapsed":0.01146,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81d6d92010>","object_id":70097816031240}},{"id":757543,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757544,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":757543,"elapsed":9.0e-06},{"id":757545,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757546,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757545,"elapsed":0.001204},{"id":757547,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757548,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757547,"elapsed":0.001469},{"id":757549,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757550,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757549,"elapsed":0.001243},{"id":757551,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":757552,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757551,"elapsed":0.001153},{"id":757553,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757554,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757555,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":757554,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757556,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":757553,"elapsed":0.000164},{"id":757557,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1001","database_type":"postgres","server_version":110006}},{"id":757558,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757557,"elapsed":0.001356},{"id":757559,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>"}},{"id":757560,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757561,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757560,"elapsed":0.001252},{"id":757562,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1001, '2020-05-28 18:58:12.855099', '2020-05-28 18:58:12.855099') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":757563,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757562,"elapsed":0.001198},{"id":757564,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":757559,"elapsed":0.009898},{"id":757565,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097733362440,"value":"{:user=>#<User id: 1001, username: \"moderator911\", created_at: \"2020-05-28 18:58:12\", updated_at: \"2","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":757566,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757565,"elapsed":1.1e-05},{"id":757567,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":757568,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":757567,"elapsed":5.0e-06},{"id":757569,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":757570,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757569,"elapsed":0.001115},{"id":757571,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097615580120,"value":"#<User:0x00007f81bef3d7b0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":757572,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":757573,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":757572,"elapsed":0.000259,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81be89b560>","object_id":70097612102320}},{"id":757574,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757575,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757574,"elapsed":0.001754},{"id":757576,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":757571,"elapsed":0.005771},{"id":757577,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757578,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757577,"elapsed":8.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757579,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757580,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757579,"elapsed":1.3e-05},{"id":757581,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/session/moderator911/become"},"message":[{"name":"controller","class":"String","value":"session","object_id":70097701487520},{"name":"action","class":"String","value":"become","object_id":70097783503120},{"name":"session_id","class":"String","value":"moderator911","object_id":70097799228160}]},{"id":757582,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757583,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757584,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757585,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":757586,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":757585,"elapsed":4.2e-05},{"id":757587,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":757584,"elapsed":0.000188,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4d95fc8>","object_id":70097799262180}},{"id":757588,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757589,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":757588,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757590,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":757583,"elapsed":0.000468},{"id":757591,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":757592,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":757591,"elapsed":5.0e-06},{"id":757593,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757594,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":757593,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4d95fc8>","object_id":70097799262180}},{"id":757595,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097799278760,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757596,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":757595,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757597,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":757582,"elapsed":0.001017,"return_value":{"class":"Array","value":"[2]","object_id":70097799278760}},{"id":757598,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757599,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":757600,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":757599,"elapsed":3.0e-06},{"id":757601,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":757598,"elapsed":0.000134,"return_value":{"class":"String","value":"session/become","object_id":70097799291180}},{"id":757602,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757603,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":757604,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":757603,"elapsed":3.0e-06},{"id":757605,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":757602,"elapsed":0.000113},{"id":757606,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757607,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":757608,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":757607,"elapsed":4.0e-06},{"id":757609,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757610,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757609,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757611,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757612,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757611,"elapsed":2.9e-05},{"id":757613,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757614,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757613,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757615,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757616,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757615,"elapsed":1.0e-05},{"id":757617,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":757606,"elapsed":0.000679,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097799325760}},{"id":757618,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757619,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":757618,"elapsed":9.0e-06},{"id":757620,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097756351680,"value":"SessionController"}},{"id":757621,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":757620,"elapsed":3.0e-06},{"id":757622,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757623,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757624,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":757623,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d4d95fc8>","object_id":70097799262180}},{"id":757625,"event":"call","defined_class":"Site","method_id":"json_for","path":"app/models/site.rb","lineno":85,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097723455600,"value":"Site"}},{"id":757626,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757627,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757628,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757629,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757628,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757630,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757627,"elapsed":0.000118},{"id":757631,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":757626,"elapsed":0.000222,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757632,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757633,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757634,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757635,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757634,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757636,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757633,"elapsed":0.000115},{"id":757637,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":757632,"elapsed":0.000218,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757638,"event":"call","defined_class":"SiteSerializer","method_id":"default_archetype","path":"app/serializers/site_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757639,"event":"return","defined_class":"SiteSerializer","method_id":"default_archetype","path":"app/serializers/site_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":757638,"elapsed":8.0e-06,"return_value":{"class":"String","value":"regular","object_id":70097714186300}},{"id":757640,"event":"call","defined_class":"Site","method_id":"notification_types","path":"app/models/site.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097827095960,"value":"#<Site:0x00007f81d82acb30>"}},{"id":757641,"event":"call","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755059700,"value":"Notification"}},{"id":757642,"event":"return","defined_class":"Notification(id: integer, notification_type: integer, user_id: integer, data: string, read: boolean, created_at: datetime, updated_at: datetime, topic_id: integer, post_number: integer, post_action_id: integer, high_priority: boolean)","method_id":"types","path":"app/models/notification.rb","lineno":89,"static":true,"thread_id":70097708498960,"parent_id":757641,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":757643,"event":"return","defined_class":"Site","method_id":"notification_types","path":"app/models/site.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":757640,"elapsed":0.000164,"return_value":{"class":"Enum","value":"{:mentioned=>1, :replied=>2, :quoted=>3, :edited=>4, :liked=>5, :private_message=>6, :invited_to_pri","object_id":70097799895020}},{"id":757644,"event":"call","defined_class":"SiteSerializer","method_id":"post_types","path":"app/serializers/site_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757645,"event":"call","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097792338860,"value":"Post"}},{"id":757646,"event":"return","defined_class":"Post(id: integer, user_id: integer, topic_id: integer, post_number: integer, raw: text, cooked: text, created_at: datetime, updated_at: datetime, reply_to_post_number: integer, reply_count: integer, quote_count: integer, deleted_at: datetime, off_topic_count: integer, like_count: integer, incoming_link_count: integer, bookmark_count: integer, score: float, reads: integer, post_type: integer, sort_order: integer, last_editor_id: integer, hidden: boolean, hidden_reason_id: integer, notify_moderators_count: integer, spam_count: integer, illegal_count: integer, inappropriate_count: integer, last_version_at: datetime, user_deleted: boolean, reply_to_user_id: integer, percent_rank: float, notify_user_count: integer, like_score: integer, deleted_by_id: integer, edit_reason: string, word_count: integer, version: integer, cook_method: integer, wiki: boolean, baked_at: datetime, baked_version: integer, hidden_at: datetime, self_edits: integer, reply_quoted: boolean, via_email: boolean, raw_email: text, public_version: integer, action_code: string, image_url: string, locked_by_id: integer, image_upload_id: integer)","method_id":"types","path":"app/models/post.rb","lineno":139,"static":true,"thread_id":70097708498960,"parent_id":757645,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":757647,"event":"return","defined_class":"SiteSerializer","method_id":"post_types","path":"app/serializers/site_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":757644,"elapsed":0.000133,"return_value":{"class":"Enum","value":"{:regular=>1, :moderator_action=>2, :small_action=>3, :whisper=>4}","object_id":70097781988260}},{"id":757648,"event":"call","defined_class":"SiteSerializer","method_id":"groups","path":"app/serializers/site_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757649,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757650,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757651,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757652,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757651,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757653,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757650,"elapsed":0.000116},{"id":757654,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":757649,"elapsed":0.00022,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757655,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":757656,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757655,"elapsed":4.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":757657,"event":"return","defined_class":"SiteSerializer","method_id":"groups","path":"app/serializers/site_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":757648,"elapsed":0.000457,"return_value":{"class":"Array","value":"[{\"id\"=>158, \"name\"=>\"aaa1\"}]","object_id":70097593800900}},{"id":757658,"event":"call","defined_class":"SiteSerializer","method_id":"filters","path":"app/serializers/site_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757659,"event":"return","defined_class":"SiteSerializer","method_id":"filters","path":"app/serializers/site_serializer.rb","lineno":78,"static":false,"thread_id":70097708498960,"parent_id":757658,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"unread\", \"new\", \"read\", \"posted\", \"bookmarks\"]","object_id":70097827168040}},{"id":757660,"event":"call","defined_class":"SiteSerializer","method_id":"periods","path":"app/serializers/site_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757661,"event":"call","defined_class":"TopTopic (call 'TopTopic.connection' to establish a connection)","method_id":"periods","path":"app/models/top_topic.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803577220,"value":"TopTopic"}},{"id":757662,"event":"return","defined_class":"TopTopic (call 'TopTopic.connection' to establish a connection)","method_id":"periods","path":"app/models/top_topic.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":757661,"elapsed":1.3e-05,"return_value":{"class":"Array","value":"[:all, :yearly, :quarterly, :monthly, :weekly, :daily]","object_id":70097803693980}},{"id":757663,"event":"return","defined_class":"SiteSerializer","method_id":"periods","path":"app/serializers/site_serializer.rb","lineno":82,"static":false,"thread_id":70097708498960,"parent_id":757660,"elapsed":0.000141,"return_value":{"class":"Array","value":"[\"all\", \"yearly\", \"quarterly\", \"monthly\", \"weekly\", \"daily\"]","object_id":70097827162980}},{"id":757664,"event":"call","defined_class":"SiteSerializer","method_id":"top_menu_items","path":"app/serializers/site_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757665,"event":"return","defined_class":"SiteSerializer","method_id":"top_menu_items","path":"app/serializers/site_serializer.rb","lineno":86,"static":false,"thread_id":70097708498960,"parent_id":757664,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"unread\", \"new\", \"read\", \"posted\", \"bookmarks\", \"categories\", \"top\"]","object_id":70097827160800}},{"id":757666,"event":"call","defined_class":"SiteSerializer","method_id":"anonymous_top_menu_items","path":"app/serializers/site_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757667,"event":"return","defined_class":"SiteSerializer","method_id":"anonymous_top_menu_items","path":"app/serializers/site_serializer.rb","lineno":90,"static":false,"thread_id":70097708498960,"parent_id":757666,"elapsed":6.0e-06,"return_value":{"class":"Array","value":"[\"latest\", \"top\", \"categories\", \"categories\", \"top\"]","object_id":70097827182680}},{"id":757668,"event":"call","defined_class":"SiteSerializer","method_id":"uncategorized_category_id","path":"app/serializers/site_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757669,"event":"return","defined_class":"SiteSerializer","method_id":"uncategorized_category_id","path":"app/serializers/site_serializer.rb","lineno":94,"static":false,"thread_id":70097708498960,"parent_id":757668,"elapsed":9.0e-06,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":757670,"event":"call","defined_class":"SiteSerializer","method_id":"is_readonly","path":"app/serializers/site_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757671,"event":"return","defined_class":"SiteSerializer","method_id":"is_readonly","path":"app/serializers/site_serializer.rb","lineno":98,"static":false,"thread_id":70097708498960,"parent_id":757670,"elapsed":0.000884},{"id":757672,"event":"call","defined_class":"SiteSerializer","method_id":"disabled_plugins","path":"app/serializers/site_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757673,"event":"return","defined_class":"SiteSerializer","method_id":"disabled_plugins","path":"app/serializers/site_serializer.rb","lineno":102,"static":false,"thread_id":70097708498960,"parent_id":757672,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097827199380}},{"id":757674,"event":"call","defined_class":"SiteSerializer","method_id":"user_field_max_length","path":"app/serializers/site_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757675,"event":"call","defined_class":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","method_id":"max_length","path":"app/models/user_field.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097712077300,"value":"UserField"}},{"id":757676,"event":"return","defined_class":"UserField(id: integer, name: string, field_type: string, created_at: datetime, updated_at: datetime, editable: boolean, description: string, required: boolean, show_on_profile: boolean, position: integer, show_on_user_card: boolean, external_name: string, external_type: string)","method_id":"max_length","path":"app/models/user_field.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":757675,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"2048","object_id":4097}},{"id":757677,"event":"return","defined_class":"SiteSerializer","method_id":"user_field_max_length","path":"app/serializers/site_serializer.rb","lineno":106,"static":false,"thread_id":70097708498960,"parent_id":757674,"elapsed":0.000135,"return_value":{"class":"Integer","value":"2048","object_id":4097}},{"id":757678,"event":"call","defined_class":"SiteSerializer","method_id":"post_action_types","path":"app/serializers/site_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757679,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":757680,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757679,"elapsed":4.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":757681,"event":"return","defined_class":"SiteSerializer","method_id":"post_action_types","path":"app/serializers/site_serializer.rb","lineno":56,"static":false,"thread_id":70097708498960,"parent_id":757678,"elapsed":0.000136,"return_value":{"class":"Array","value":"[{:id=>1, :name_key=>:bookmark, :name=>\"Bookmark\", :description=>\"Bookmark this post\", :short_descri","object_id":70097799746720}},{"id":757682,"event":"call","defined_class":"SiteSerializer","method_id":"topic_flag_types","path":"app/serializers/site_serializer.rb","lineno":63,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757683,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":757684,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757683,"elapsed":4.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":757685,"event":"return","defined_class":"SiteSerializer","method_id":"topic_flag_types","path":"app/serializers/site_serializer.rb","lineno":63,"static":false,"thread_id":70097708498960,"parent_id":757682,"elapsed":0.000133,"return_value":{"class":"Array","value":"[{:id=>4, :name_key=>:inappropriate, :name=>\"Inappropriate\", :description=>\"This topic contains cont","object_id":70097800178900}},{"id":757686,"event":"call","defined_class":"SiteSerializer","method_id":"can_create_tag","path":"app/serializers/site_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757687,"event":"call","defined_class":"TagGuardian","method_id":"can_create_tag?","path":"lib/guardian/tag_guardian.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757688,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757689,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757690,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757689,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757691,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":757688,"elapsed":0.000121},{"id":757692,"event":"return","defined_class":"TagGuardian","method_id":"can_create_tag?","path":"lib/guardian/tag_guardian.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":757687,"elapsed":0.000237},{"id":757693,"event":"return","defined_class":"SiteSerializer","method_id":"can_create_tag","path":"app/serializers/site_serializer.rb","lineno":110,"static":false,"thread_id":70097708498960,"parent_id":757686,"elapsed":0.000371},{"id":757694,"event":"call","defined_class":"SiteSerializer","method_id":"can_tag_topics","path":"app/serializers/site_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757695,"event":"call","defined_class":"TagGuardian","method_id":"can_tag_topics?","path":"lib/guardian/tag_guardian.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757696,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757697,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757698,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757697,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757699,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":757696,"elapsed":0.000178},{"id":757700,"event":"return","defined_class":"TagGuardian","method_id":"can_tag_topics?","path":"lib/guardian/tag_guardian.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":757695,"elapsed":0.000276},{"id":757701,"event":"return","defined_class":"SiteSerializer","method_id":"can_tag_topics","path":"app/serializers/site_serializer.rb","lineno":114,"static":false,"thread_id":70097708498960,"parent_id":757694,"elapsed":0.000394},{"id":757702,"event":"call","defined_class":"SiteSerializer","method_id":"can_tag_pms","path":"app/serializers/site_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757703,"event":"call","defined_class":"TagGuardian","method_id":"can_tag_pms?","path":"lib/guardian/tag_guardian.rb","lineno":17,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757704,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757705,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757706,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":757705,"elapsed":3.0e-06},{"id":757707,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":757704,"elapsed":0.000113},{"id":757708,"event":"return","defined_class":"TagGuardian","method_id":"can_tag_pms?","path":"lib/guardian/tag_guardian.rb","lineno":17,"static":false,"thread_id":70097708498960,"parent_id":757703,"elapsed":0.000219},{"id":757709,"event":"return","defined_class":"SiteSerializer","method_id":"can_tag_pms","path":"app/serializers/site_serializer.rb","lineno":118,"static":false,"thread_id":70097708498960,"parent_id":757702,"elapsed":0.000328},{"id":757710,"event":"call","defined_class":"SiteSerializer","method_id":"include_tags_filter_regexp?","path":"app/serializers/site_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757711,"event":"return","defined_class":"SiteSerializer","method_id":"include_tags_filter_regexp?","path":"app/serializers/site_serializer.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":757710,"elapsed":8.0e-06},{"id":757712,"event":"call","defined_class":"SiteSerializer","method_id":"include_top_tags?","path":"app/serializers/site_serializer.rb","lineno":130,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757713,"event":"call","defined_class":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","method_id":"include_tags?","path":"app/models/tag.rb","lineno":144,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755158320,"value":"Tag"}},{"id":757714,"event":"return","defined_class":"Tag(id: integer, name: string, topic_count: integer, created_at: datetime, updated_at: datetime, pm_topic_count: integer, target_tag_id: integer)","method_id":"include_tags?","path":"app/models/tag.rb","lineno":144,"static":true,"thread_id":70097708498960,"parent_id":757713,"elapsed":1.4e-05},{"id":757715,"event":"return","defined_class":"SiteSerializer","method_id":"include_top_tags?","path":"app/serializers/site_serializer.rb","lineno":130,"static":false,"thread_id":70097708498960,"parent_id":757712,"elapsed":0.000138},{"id":757716,"event":"call","defined_class":"SiteSerializer","method_id":"include_wizard_required?","path":"app/serializers/site_serializer.rb","lineno":142,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757717,"event":"call","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757718,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757719,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757718,"elapsed":2.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757720,"event":"return","defined_class":"Guardian","method_id":"user","path":"lib/guardian.rb","lineno":71,"static":false,"thread_id":70097708498960,"parent_id":757717,"elapsed":0.000152},{"id":757721,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097777826960,"value":"Topic"}},{"id":757722,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":757721,"elapsed":6.6e-05,"return_value":{"class":"String","value":"\"topics\".\"deleted_at\" IS NULL","object_id":70097827363560}},{"id":757723,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"topics\" WHERE (\"topics\".\"deleted_at\" IS NULL) LIMIT 16) subquery_for_count","database_type":"postgres","server_version":110006}},{"id":757724,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757723,"elapsed":0.001553},{"id":757725,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".\"id\" FROM \"users\" INNER JOIN \"user_auth_tokens\" ON \"user_auth_tokens\".\"user_id\" = \"users\".\"id\" WHERE \"users\".\"admin\" = TRUE AND (users.id > 0) ORDER BY user_auth_tokens.created_at LIMIT 1","database_type":"postgres","server_version":110006}},{"id":757726,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757725,"elapsed":0.001595},{"id":757727,"event":"return","defined_class":"SiteSerializer","method_id":"include_wizard_required?","path":"app/serializers/site_serializer.rb","lineno":142,"static":false,"thread_id":70097708498960,"parent_id":757716,"elapsed":0.011578},{"id":757728,"event":"call","defined_class":"SiteSerializer","method_id":"include_topic_featured_link_allowed_category_ids?","path":"app/serializers/site_serializer.rb","lineno":146,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757729,"event":"return","defined_class":"SiteSerializer","method_id":"include_topic_featured_link_allowed_category_ids?","path":"app/serializers/site_serializer.rb","lineno":146,"static":false,"thread_id":70097708498960,"parent_id":757728,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757730,"event":"call","defined_class":"SiteSerializer","method_id":"topic_featured_link_allowed_category_ids","path":"app/serializers/site_serializer.rb","lineno":150,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757731,"event":"call","defined_class":"CategoryGuardian","method_id":"topic_featured_link_allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757732,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"categories\".\"id\" FROM \"categories\" WHERE \"categories\".\"topic_featured_link_allowed\" = TRUE","database_type":"postgres","server_version":110006}},{"id":757733,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757732,"elapsed":0.001326},{"id":757734,"event":"return","defined_class":"CategoryGuardian","method_id":"topic_featured_link_allowed_category_ids","path":"lib/guardian/category_guardian.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":757731,"elapsed":0.00544,"return_value":{"class":"Array","value":"[1]","object_id":70097587815940}},{"id":757735,"event":"return","defined_class":"SiteSerializer","method_id":"topic_featured_link_allowed_category_ids","path":"app/serializers/site_serializer.rb","lineno":150,"static":false,"thread_id":70097708498960,"parent_id":757730,"elapsed":0.005639,"return_value":{"class":"Array","value":"[1]","object_id":70097587815940}},{"id":757736,"event":"call","defined_class":"SiteSerializer","method_id":"user_themes","path":"app/serializers/site_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757737,"event":"call","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097797245280,"value":"ApplicationSerializer"}},{"id":757738,"event":"return","defined_class":"ApplicationSerializer","method_id":"fragment_cache","path":"app/serializers/application_serializer.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":757737,"elapsed":3.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81d42a6310>","object_id":70097793528200}},{"id":757739,"event":"return","defined_class":"SiteSerializer","method_id":"user_themes","path":"app/serializers/site_serializer.rb","lineno":39,"static":false,"thread_id":70097708498960,"parent_id":757736,"elapsed":0.000135,"return_value":{"class":"Array","value":"[{\"theme_id\"=>1, \"name\"=>\"Dark\", \"default\"=>false}, {\"theme_id\"=>2, \"name\"=>\"Light\", \"default\"=>true","object_id":70097799743440}},{"id":757740,"event":"call","defined_class":"SiteSerializer","method_id":"censored_regexp","path":"app/serializers/site_serializer.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757741,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"},{"name":"raise_errors","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":757742,"event":"call","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":757743,"event":"call","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parameters":[{"name":"action","class":"Symbol","object_id":13721628,"value":"censor","kind":"req"}],"receiver":{"class":"Class","object_id":70097568127420,"value":"WordWatcher"}},{"id":757744,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp_key","path":"app/services/word_watcher.rb","lineno":55,"static":true,"thread_id":70097708498960,"parent_id":757743,"elapsed":5.0e-06,"return_value":{"class":"String","value":"watched-words-list:censor","object_id":70097799397260}},{"id":757745,"event":"return","defined_class":"WordWatcher","method_id":"get_cached_words","path":"app/services/word_watcher.rb","lineno":17,"static":true,"thread_id":70097708498960,"parent_id":757742,"elapsed":0.001468},{"id":757746,"event":"return","defined_class":"WordWatcher","method_id":"word_matcher_regexp","path":"app/services/word_watcher.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":757741,"elapsed":0.00164},{"id":757747,"event":"return","defined_class":"SiteSerializer","method_id":"censored_regexp","path":"app/serializers/site_serializer.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":757740,"elapsed":0.001767},{"id":757748,"event":"call","defined_class":"SiteSerializer","method_id":"include_shared_drafts_category_id?","path":"app/serializers/site_serializer.rb","lineno":166,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757749,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_shared_draft?","path":"lib/guardian/topic_guardian.rb","lineno":25,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757750,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757751,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757752,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"staff?","path":"lib/guardian.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":757751,"elapsed":6.0e-06},{"id":757753,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":757750,"elapsed":0.000198},{"id":757754,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_shared_draft?","path":"lib/guardian/topic_guardian.rb","lineno":25,"static":false,"thread_id":70097708498960,"parent_id":757749,"elapsed":0.000315},{"id":757755,"event":"return","defined_class":"SiteSerializer","method_id":"include_shared_drafts_category_id?","path":"app/serializers/site_serializer.rb","lineno":166,"static":false,"thread_id":70097708498960,"parent_id":757748,"elapsed":0.000434},{"id":757756,"event":"call","defined_class":"SiteSerializer","method_id":"custom_emoji_translation","path":"app/serializers/site_serializer.rb","lineno":158,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteSerializer","object_id":70097827095880,"value":"#<SiteSerializer:0x00007f81d82aca90>"}},{"id":757757,"event":"return","defined_class":"SiteSerializer","method_id":"custom_emoji_translation","path":"app/serializers/site_serializer.rb","lineno":158,"static":false,"thread_id":70097708498960,"parent_id":757756,"elapsed":8.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70097827197780}},{"id":757758,"event":"call","defined_class":"Site","method_id":"categories","path":"app/models/site.rb","lineno":31,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097827095960,"value":"#<Site:0x00007f81d82acb30>"}},{"id":757759,"event":"call","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757760,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"secure_category_ids","path":"lib/guardian.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757761,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"secure_category_ids","path":"lib/guardian.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":757760,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097799425480}},{"id":757762,"event":"return","defined_class":"CategoryGuardian","method_id":"secure_category_ids","path":"lib/guardian/category_guardian.rb","lineno":57,"static":false,"thread_id":70097708498960,"parent_id":757759,"elapsed":0.000126,"return_value":{"class":"Array","value":"[]","object_id":70097799425480}},{"id":757763,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT categories.*, t.slug topic_slug FROM \"categories\" LEFT JOIN topics t on t.id = categories.topic_id WHERE (NOT categories.read_restricted) ORDER BY \"categories\".\"position\" ASC","database_type":"postgres","server_version":110006}},{"id":757764,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757763,"elapsed":0.001632},{"id":757765,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_tags\".* FROM \"category_tags\" WHERE \"category_tags\".\"category_id\" = 1","database_type":"postgres","server_version":110006}},{"id":757766,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757765,"elapsed":0.001414},{"id":757767,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"category_tag_groups\".* FROM \"category_tag_groups\" WHERE \"category_tag_groups\".\"category_id\" = 1","database_type":"postgres","server_version":110006}},{"id":757768,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757767,"elapsed":0.001328},{"id":757769,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757770,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757771,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parent_id":757770,"elapsed":5.0e-06},{"id":757772,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":757769,"elapsed":0.000132},{"id":757773,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757774,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757775,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757776,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757775,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757777,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757774,"elapsed":0.000122},{"id":757778,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":757773,"elapsed":0.000232,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757779,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels_for","path":"app/models/category_user.rb","lineno":204,"static":true,"thread_id":70097708498960,"parameters":[{"name":"guardian","class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>","kind":"req"}],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":757780,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757781,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757782,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757783,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757782,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757784,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757781,"elapsed":0.000115},{"id":757785,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":757780,"elapsed":0.000219,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757786,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels_for","path":"app/models/category_user.rb","lineno":204,"static":true,"thread_id":70097708498960,"parent_id":757779,"elapsed":0.000354,"return_value":{"class":"Hash","value":"{}","object_id":70097613931100}},{"id":757787,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":757788,"event":"call","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097732501180,"value":"CategoryUser"}},{"id":757789,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"notification_levels","path":"app/models/category_user.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":757788,"elapsed":8.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3, :watching_first_post=>4}","object_id":70097731573720}},{"id":757790,"event":"return","defined_class":"CategoryUser(id: integer, category_id: integer, user_id: integer, notification_level: integer, last_seen_at: datetime)","method_id":"default_notification_level","path":"app/models/category_user.rb","lineno":200,"static":true,"thread_id":70097708498960,"parent_id":757787,"elapsed":0.000138,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":757791,"event":"call","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757792,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757793,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"admin?","path":"lib/guardian.rb","lineno":29,"static":false,"thread_id":70097708498960,"parent_id":757792,"elapsed":3.0e-06},{"id":757794,"event":"return","defined_class":"Guardian","method_id":"is_admin?","path":"lib/guardian.rb","lineno":84,"static":false,"thread_id":70097708498960,"parent_id":757791,"elapsed":0.000111},{"id":757795,"event":"return","defined_class":"Site","method_id":"categories","path":"app/models/site.rb","lineno":31,"static":false,"thread_id":70097708498960,"parent_id":757758,"elapsed":0.022208,"return_value":{"class":"Array","value":"[#<Category id: 1, name: \"Uncategorized\", color: \"0088CC\", topic_id: nil, topic_count: 0, created_at","object_id":70097613919940}},{"id":757796,"event":"call","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757797,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097799524140,"value":"#<Category:0x00007f81d4e15e58>"}},{"id":757798,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":757797,"elapsed":1.3e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757799,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757800,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757799,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757801,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757802,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757801,"elapsed":1.2e-05},{"id":757803,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757804,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757803,"elapsed":4.0e-06},{"id":757805,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757806,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757805,"elapsed":3.0e-06},{"id":757807,"event":"return","defined_class":"BasicCategorySerializer","method_id":"name","path":"app/serializers/basic_category_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":757796,"elapsed":0.000672,"return_value":{"class":"String","value":"Uncategorized","object_id":70097800435840}},{"id":757808,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757809,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097799524140,"value":"#<Category:0x00007f81d4e15e58>"}},{"id":757810,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":757809,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757811,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757812,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757811,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757813,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757814,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757813,"elapsed":1.0e-05},{"id":757815,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757816,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757815,"elapsed":3.0e-06},{"id":757817,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757818,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757817,"elapsed":4.0e-06},{"id":757819,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description","path":"app/serializers/basic_category_serializer.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":757808,"elapsed":0.000634,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097800433420}},{"id":757820,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757821,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097799524140,"value":"#<Category:0x00007f81d4e15e58>"}},{"id":757822,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":757821,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757823,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757824,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757823,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757825,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757826,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757825,"elapsed":8.0e-06},{"id":757827,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757828,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757827,"elapsed":4.0e-06},{"id":757829,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757830,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757829,"elapsed":4.0e-06},{"id":757831,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_text","path":"app/serializers/basic_category_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":757820,"elapsed":0.000598,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097800433420}},{"id":757832,"event":"call","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757833,"event":"call","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097799524140,"value":"#<Category:0x00007f81d4e15e58>"}},{"id":757834,"event":"return","defined_class":"Category","method_id":"uncategorized?","path":"app/models/category.rb","lineno":699,"static":false,"thread_id":70097708498960,"parent_id":757833,"elapsed":9.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757835,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757836,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757835,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757837,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757838,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757837,"elapsed":8.0e-06},{"id":757839,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757840,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757839,"elapsed":4.0e-06},{"id":757841,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757842,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757841,"elapsed":4.0e-06},{"id":757843,"event":"return","defined_class":"BasicCategorySerializer","method_id":"description_excerpt","path":"app/serializers/basic_category_serializer.rb","lineno":54,"static":false,"thread_id":70097708498960,"parent_id":757832,"elapsed":0.000594,"return_value":{"class":"String","value":"Topics that don't need a category, or don't fit into any other existing category.","object_id":70097800433420}},{"id":757844,"event":"call","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Category","object_id":70097799524140,"value":"#<Category:0x00007f81d4e15e58>"}},{"id":757845,"event":"return","defined_class":"Category","method_id":"topic_url","path":"app/models/category.rb","lineno":297,"static":false,"thread_id":70097708498960,"parent_id":757844,"elapsed":5.1e-05,"return_value":{"class":"String","value":"/t/","object_id":70097614084800}},{"id":757846,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757847,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_parent_category_id?","path":"app/serializers/basic_category_serializer.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":757846,"elapsed":9.0e-06},{"id":757848,"event":"call","defined_class":"BasicCategorySerializer","method_id":"notification_level","path":"app/serializers/basic_category_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757849,"event":"return","defined_class":"BasicCategorySerializer","method_id":"notification_level","path":"app/serializers/basic_category_serializer.rb","lineno":66,"static":false,"thread_id":70097708498960,"parent_id":757848,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":757850,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757851,"event":"call","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"Category","object_id":70097799524140,"value":"#<Category:0x00007f81d4e15e58>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757852,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757853,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757854,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757853,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757855,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757852,"elapsed":0.000134},{"id":757856,"event":"return","defined_class":"Guardian","method_id":"can_edit?","path":"lib/guardian.rb","lineno":154,"static":false,"thread_id":70097708498960,"parent_id":757851,"elapsed":0.000252},{"id":757857,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_can_edit?","path":"app/serializers/basic_category_serializer.rb","lineno":62,"static":false,"thread_id":70097708498960,"parent_id":757850,"elapsed":0.000376},{"id":757858,"event":"call","defined_class":"BasicCategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/basic_category_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757859,"event":"call","defined_class":"BasicCategorySerializer","method_id":"custom_fields","path":"app/serializers/basic_category_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757860,"event":"return","defined_class":"BasicCategorySerializer","method_id":"custom_fields","path":"app/serializers/basic_category_serializer.rb","lineno":70,"static":false,"thread_id":70097708498960,"parent_id":757859,"elapsed":5.0e-06},{"id":757861,"event":"return","defined_class":"BasicCategorySerializer","method_id":"include_custom_fields?","path":"app/serializers/basic_category_serializer.rb","lineno":74,"static":false,"thread_id":70097708498960,"parent_id":757858,"elapsed":0.000121},{"id":757862,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757863,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tags?","path":"app/serializers/site_category_serializer.rb","lineno":12,"static":false,"thread_id":70097708498960,"parent_id":757862,"elapsed":1.2e-05},{"id":757864,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757865,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allowed_tag_groups?","path":"app/serializers/site_category_serializer.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":757864,"elapsed":7.0e-06},{"id":757866,"event":"call","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757867,"event":"return","defined_class":"SiteCategorySerializer","method_id":"include_allow_global_tags?","path":"app/serializers/site_category_serializer.rb","lineno":28,"static":false,"thread_id":70097708498960,"parent_id":757866,"elapsed":5.0e-06},{"id":757868,"event":"call","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SiteCategorySerializer","object_id":70097613963620,"value":"#<SiteCategorySerializer:0x00007f81bec282c8>"}},{"id":757869,"event":"return","defined_class":"SiteCategorySerializer","method_id":"required_tag_group_name","path":"app/serializers/site_category_serializer.rb","lineno":32,"static":false,"thread_id":70097708498960,"parent_id":757868,"elapsed":4.5e-05},{"id":757870,"event":"call","defined_class":"Site","method_id":"trust_levels","path":"app/models/site.rb","lineno":23,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097827095960,"value":"#<Site:0x00007f81d82acb30>"}},{"id":757871,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757872,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757871,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757873,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757874,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757873,"elapsed":1.4e-05},{"id":757875,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757876,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757875,"elapsed":4.0e-06},{"id":757877,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757878,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757877,"elapsed":4.0e-06},{"id":757879,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757880,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757879,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757881,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757882,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757881,"elapsed":9.0e-06},{"id":757883,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757884,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757883,"elapsed":4.0e-06},{"id":757885,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757886,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757885,"elapsed":3.0e-06},{"id":757887,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757888,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757887,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757889,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757890,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757889,"elapsed":1.1e-05},{"id":757891,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757892,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757891,"elapsed":4.0e-06},{"id":757893,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757894,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757893,"elapsed":3.0e-06},{"id":757895,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757896,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757895,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757897,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757898,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757897,"elapsed":9.0e-06},{"id":757899,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757900,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757899,"elapsed":2.0e-06},{"id":757901,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757902,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757901,"elapsed":2.0e-06},{"id":757903,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757904,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757903,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757905,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757906,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757905,"elapsed":7.0e-06},{"id":757907,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757908,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757907,"elapsed":3.0e-06},{"id":757909,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757910,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757909,"elapsed":3.0e-06},{"id":757911,"event":"return","defined_class":"Site","method_id":"trust_levels","path":"app/models/site.rb","lineno":23,"static":false,"thread_id":70097708498960,"parent_id":757870,"elapsed":0.002365,"return_value":{"class":"Array","value":"[#<TrustLevel:0x00007f81bbaf70c8 @name=\"new user\", @id=0>, #<TrustLevel:0x00007f81bbafefa8 @name=\"ba","object_id":70097588172940}},{"id":757912,"event":"call","defined_class":"Site","method_id":"archetypes","path":"app/models/site.rb","lineno":77,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097827095960,"value":"#<Site:0x00007f81d82acb30>"}},{"id":757913,"event":"return","defined_class":"Site","method_id":"archetypes","path":"app/models/site.rb","lineno":77,"static":false,"thread_id":70097708498960,"parent_id":757912,"elapsed":7.0e-06,"return_value":{"class":"Array","value":"[#<Archetype:0x00007f81d4062e78 @id=\"regular\", @options={}>, #<Archetype:0x00007f81d4062dd8 @id=\"ban","object_id":70097588267960}},{"id":757914,"event":"call","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097588266600,"value":"#<ArchetypeSerializer:0x00007f81bbb24cd0>"}},{"id":757915,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757916,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757915,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757917,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757918,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757917,"elapsed":7.0e-06},{"id":757919,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757920,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757919,"elapsed":2.0e-06},{"id":757921,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757922,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757921,"elapsed":2.0e-06},{"id":757923,"event":"return","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":757914,"elapsed":0.000369,"return_value":{"class":"String","value":"Regular Topic","object_id":70097800462820}},{"id":757924,"event":"call","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097588266600,"value":"#<ArchetypeSerializer:0x00007f81bbb24cd0>"}},{"id":757925,"event":"return","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":757924,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097588300680}},{"id":757926,"event":"call","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097588299520,"value":"#<ArchetypeSerializer:0x00007f81bbb34e00>"}},{"id":757927,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757928,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757927,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":757929,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757930,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":757929,"elapsed":8.0e-06},{"id":757931,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757932,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757931,"elapsed":4.0e-06},{"id":757933,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":757934,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70097708498960,"parent_id":757933,"elapsed":3.0e-06},{"id":757935,"event":"return","defined_class":"ArchetypeSerializer","method_id":"name","path":"app/serializers/archetype_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":757926,"elapsed":0.000451,"return_value":{"class":"String","value":"Banner Topic","object_id":70097800484900}},{"id":757936,"event":"call","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"ArchetypeSerializer","object_id":70097588299520,"value":"#<ArchetypeSerializer:0x00007f81bbb34e00>"}},{"id":757937,"event":"return","defined_class":"ArchetypeSerializer","method_id":"options","path":"app/serializers/archetype_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":757936,"elapsed":4.0e-06,"return_value":{"class":"Array","value":"[]","object_id":70097588335600}},{"id":757938,"event":"call","defined_class":"Site","method_id":"user_fields","path":"app/models/site.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097827095960,"value":"#<Site:0x00007f81d82acb30>"}},{"id":757939,"event":"return","defined_class":"Site","method_id":"user_fields","path":"app/models/site.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":757938,"elapsed":0.000146,"return_value":{"class":"ActiveRecord::Relation","value":"#<UserField::ActiveRecord_Relation:0x00007f81bbb44c10>","object_id":70097588332040}},{"id":757940,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_fields\".* FROM \"user_fields\" ORDER BY \"user_fields\".\"position\" ASC","database_type":"postgres","server_version":110006}},{"id":757941,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":757940,"elapsed":0.001372},{"id":757942,"event":"call","defined_class":"Site","method_id":"auth_providers","path":"app/models/site.rb","lineno":81,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Site","object_id":70097827095960,"value":"#<Site:0x00007f81d82acb30>"}},{"id":757943,"event":"call","defined_class":"Auth::FacebookAuthenticator","method_id":"enabled?","path":"lib/auth/facebook_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::FacebookAuthenticator","object_id":70097718125600,"value":"#<Auth::FacebookAuthenticator:0x00007f81cb2d4840>"}},{"id":757944,"event":"return","defined_class":"Auth::FacebookAuthenticator","method_id":"enabled?","path":"lib/auth/facebook_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":757943,"elapsed":9.0e-06},{"id":757945,"event":"call","defined_class":"Auth::GoogleOAuth2Authenticator","method_id":"enabled?","path":"lib/auth/google_oauth2_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::GoogleOAuth2Authenticator","object_id":70097718147680,"value":"#<Auth::GoogleOAuth2Authenticator:0x00007f81cb2df4c0>"}},{"id":757946,"event":"return","defined_class":"Auth::GoogleOAuth2Authenticator","method_id":"enabled?","path":"lib/auth/google_oauth2_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":757945,"elapsed":6.0e-06},{"id":757947,"event":"call","defined_class":"Auth::GithubAuthenticator","method_id":"enabled?","path":"lib/auth/github_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::GithubAuthenticator","object_id":70097718147360,"value":"#<Auth::GithubAuthenticator:0x00007f81cb2df240>"}},{"id":757948,"event":"return","defined_class":"Auth::GithubAuthenticator","method_id":"enabled?","path":"lib/auth/github_authenticator.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":757947,"elapsed":6.0e-06},{"id":757949,"event":"call","defined_class":"Auth::TwitterAuthenticator","method_id":"enabled?","path":"lib/auth/twitter_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::TwitterAuthenticator","object_id":70097718147040,"value":"#<Auth::TwitterAuthenticator:0x00007f81cb2defc0>"}},{"id":757950,"event":"return","defined_class":"Auth::TwitterAuthenticator","method_id":"enabled?","path":"lib/auth/twitter_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":757949,"elapsed":4.0e-06},{"id":757951,"event":"call","defined_class":"Auth::InstagramAuthenticator","method_id":"enabled?","path":"lib/auth/instagram_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::InstagramAuthenticator","object_id":70097718146640,"value":"#<Auth::InstagramAuthenticator:0x00007f81cb2deca0>"}},{"id":757952,"event":"return","defined_class":"Auth::InstagramAuthenticator","method_id":"enabled?","path":"lib/auth/instagram_authenticator.rb","lineno":8,"static":false,"thread_id":70097708498960,"parent_id":757951,"elapsed":4.0e-06},{"id":757953,"event":"call","defined_class":"Auth::DiscordAuthenticator","method_id":"enabled?","path":"lib/auth/discord_authenticator.rb","lineno":45,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Auth::DiscordAuthenticator","object_id":70097718146280,"value":"#<Auth::DiscordAuthenticator:0x00007f81cb2de9d0>"}},{"id":757954,"event":"return","defined_class":"Auth::DiscordAuthenticator","method_id":"enabled?","path":"lib/auth/discord_authenticator.rb","lineno":45,"static":false,"thread_id":70097708498960,"parent_id":757953,"elapsed":8.0e-06},{"id":757955,"event":"return","defined_class":"Site","method_id":"auth_providers","path":"app/models/site.rb","lineno":81,"static":false,"thread_id":70097708498960,"parent_id":757942,"elapsed":0.000724,"return_value":{"class":"Array","value":"[]","object_id":70097568677560}},{"id":757956,"event":"call","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757957,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097799262180,"value":"#<Guardian:0x00007f81d4d95fc8>"}},{"id":757958,"event":"call","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian::AnonymousUser","object_id":70097799262160,"value":"#<Guardian::AnonymousUser:0x00007f81d4d95fa0>"}},{"id":757959,"event":"return","defined_class":"Guardian::AnonymousUser","method_id":"blank?","path":"lib/guardian.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":757958,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757960,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":757957,"elapsed":0.000121},{"id":757961,"event":"return","defined_class":"Guardian","method_id":"anonymous?","path":"lib/guardian.rb","lineno":76,"static":false,"thread_id":70097708498960,"parent_id":757956,"elapsed":0.000227,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":757962,"event":"return","defined_class":"Site","method_id":"json_for","path":"app/models/site.rb","lineno":85,"static":true,"thread_id":70097708498960,"parent_id":757625,"elapsed":0.068556,"return_value":{"class":"String","value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","object_id":70097568719800}},{"id":757963,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097783548500,"value":"site","kind":"req"},{"name":"json","class":"String","object_id":70097568719800,"value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757964,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":757963,"elapsed":1.0e-05,"return_value":{"class":"String","value":"{\"default_archetype\":\"regular\",\"notification_types\":{\"mentioned\":1,\"replied\":2,\"quoted\":3,\"edited\":4","object_id":70097568772700}},{"id":757965,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097826900480,"value":"/images/discourse-logo-sketch.png"}},{"id":757966,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":757965,"elapsed":8.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch.png","object_id":70097826900180}},{"id":757967,"event":"call","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Upload","object_id":70097826919500,"value":"/images/discourse-logo-sketch-small.png"}},{"id":757968,"event":"return","defined_class":"Upload","method_id":"to_s","path":"app/models/upload.rb","lineno":50,"static":false,"thread_id":70097708498960,"parent_id":757967,"elapsed":6.0e-06,"return_value":{"class":"String","value":"/images/discourse-logo-sketch-small.png","object_id":70097826919140}},{"id":757969,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757970,"event":"call","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":757971,"event":"return","defined_class":"LocaleSiteSetting","method_id":"values","path":"app/models/locale_site_setting.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":757970,"elapsed":3.0e-06,"return_value":{"class":"Array","value":"[{:name=>\" \", :value=>\"ar\"}, {:name=>\" \", :value=>\"be\"}, {:name=>\"","object_id":70097567928580}},{"id":757972,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"available_locales","path":"app/models/site_setting.rb","lineno":32,"static":true,"thread_id":70097708498960,"parent_id":757969,"elapsed":0.000384,"return_value":{"class":"String","value":"[{\"name\":\" \",\"value\":\"ar\"},{\"name\":\" \",\"value\":\"be\"},{\"name\":\" ","object_id":70097799873480}},{"id":757973,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757974,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"require_invite_code","path":"app/models/site_setting.rb","lineno":176,"static":true,"thread_id":70097708498960,"parent_id":757973,"elapsed":8.0e-06},{"id":757975,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757976,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757977,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":757976,"elapsed":1.2e-05,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":757978,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":757979,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":757978,"elapsed":9.0e-06},{"id":757980,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":757975,"elapsed":0.000364,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097799889140}},{"id":757981,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757982,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757983,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"Upload","path":"app/models/site_setting.rb","lineno":172,"static":true,"thread_id":70097708498960,"parent_id":757982,"elapsed":3.0e-06,"return_value":{"class":"Class","value":"SiteSetting::Upload","object_id":70097718794280}},{"id":757984,"event":"call","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097718794280,"value":"SiteSetting::Upload"}},{"id":757985,"event":"return","defined_class":"SiteSetting::Upload","method_id":"s3_cdn_url","path":"app/models/site_setting.rb","lineno":130,"static":true,"thread_id":70097708498960,"parent_id":757984,"elapsed":7.0e-06},{"id":757986,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_logo_small_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":757981,"elapsed":0.000285,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch-small.png","object_id":70097799726640}},{"id":757987,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757988,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_mobile_logo_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":757987,"elapsed":1.9e-05,"return_value":{"class":"String","value":"http://test.localhost/images/discourse-logo-sketch.png","object_id":70097800175960}},{"id":757989,"event":"call","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723125960,"value":"SiteSetting"}},{"id":757990,"event":"return","defined_class":"SiteSetting (call 'SiteSetting.connection' to establish a connection)","method_id":"site_favicon_url","path":"app/models/site_setting.rb","lineno":201,"static":true,"thread_id":70097708498960,"parent_id":757989,"elapsed":1.0e-05,"return_value":{"class":"String","value":"http://test.localhost/uploads/default/test_0/optimized/1X/_129430568242d1b7f853bb13ebea28b3f6af4e7_2","object_id":70097800212220}},{"id":757991,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993520,"value":"siteSettings","kind":"req"},{"name":"json","class":"String","object_id":70097799900000,"value":"{\"default_locale\":\"en_US\",\"title\":\"Discourse\",\"short_site_description\":\"\",\"contact_email\":\"\",\"contac","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":757992,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":757991,"elapsed":2.0e-05,"return_value":{"class":"String","value":"{\"default_locale\":\"en_US\",\"title\":\"Discourse\",\"short_site_description\":\"\",\"contact_email\":\"\",\"contac","object_id":70097799953940}},{"id":757993,"event":"call","defined_class":"ApplicationHelper","method_id":"mobile_view?","path":"app/helpers/application_helper.rb","lineno":306,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":null,"object_id":70097799952560,"value":"#<#<Class:0x00007f81bc721da8>:0x00007f81d4ee7160>"}},{"id":757994,"event":"return","defined_class":"ApplicationHelper","method_id":"mobile_view?","path":"app/helpers/application_helper.rb","lineno":306,"static":false,"thread_id":70097708498960,"parent_id":757993,"elapsed":0.00012},{"id":757995,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097799278760,"value":"[2]","kind":"req"},{"name":"target","class":"Symbol","object_id":7052508,"value":"desktop","kind":"req"},{"name":"field","class":"String","object_id":70097804033100,"value":"after_header","kind":"req"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":757996,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097799278760,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":757997,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097799969380,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":757998,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":757997,"elapsed":1.6e-05,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":757999,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":757996,"elapsed":0.000217,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":758000,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parent_id":757995,"elapsed":0.000437,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097799965700}},{"id":758001,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097799278760,"value":"[2]","kind":"req"},{"name":"target","class":"Symbol","object_id":7052508,"value":"desktop","kind":"req"},{"name":"field","class":"String","object_id":70097722574760,"value":"footer","kind":"req"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":758002,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097799278760,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":758003,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097799984780,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":758004,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":758003,"elapsed":1.0e-05,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":758005,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":758002,"elapsed":0.000141,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":758006,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"lookup_field","path":"app/models/theme.rb","lineno":246,"static":true,"thread_id":70097708498960,"parent_id":758001,"elapsed":0.00028,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"","object_id":70097799981040}},{"id":758007,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993480,"value":"customHTML","kind":"req"},{"name":"json","class":"String","object_id":70097800003520,"value":"{\"top\":\"\",\"footer\":\"\"}","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758008,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":758007,"elapsed":8.0e-06,"return_value":{"class":"String","value":"{\"top\":\"\",\"footer\":\"\"}","object_id":70097800000960}},{"id":758009,"event":"call","defined_class":"ApplicationController","method_id":"banner_json_cache","path":"app/controllers/application_controller.rb","lineno":575,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097804066120,"value":"ApplicationController"}},{"id":758010,"event":"return","defined_class":"ApplicationController","method_id":"banner_json_cache","path":"app/controllers/application_controller.rb","lineno":575,"static":true,"thread_id":70097708498960,"parent_id":758009,"elapsed":7.0e-06,"return_value":{"class":"DistributedCache","value":"#<DistributedCache:0x00007f81bbbdc1a0>","object_id":70097588642000}},{"id":758011,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097792342680,"value":"banner","kind":"req"},{"name":"json","class":"String","object_id":70097624514480,"value":"{}","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758012,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":758011,"elapsed":1.0e-05,"return_value":{"class":"String","value":"{}","object_id":70097800019760}},{"id":758013,"event":"call","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":758014,"event":"call","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parameters":[{"name":"name","class":"String","object_id":70097715190900,"value":"custom_emojis","kind":"req"}],"receiver":{"class":"Class","object_id":70097587929440,"value":"Emoji"}},{"id":758015,"event":"return","defined_class":"Emoji","method_id":"cache_key","path":"app/models/emoji.rb","lineno":79,"static":true,"thread_id":70097708498960,"parent_id":758014,"elapsed":9.0e-06,"return_value":{"class":"String","value":"custom_emojis:v9:plugin-emoji","object_id":70097800015000}},{"id":758016,"event":"return","defined_class":"Emoji","method_id":"custom","path":"app/models/emoji.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":758013,"elapsed":0.001264,"return_value":{"class":"Array","value":"[]","object_id":70097800012680}},{"id":758017,"event":"call","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097803993400,"value":"customEmoji","kind":"req"},{"name":"json","class":"String","object_id":70097800035660,"value":"[]","kind":"req"}],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758018,"event":"return","defined_class":"ApplicationController","method_id":"store_preloaded","path":"app/controllers/application_controller.rb","lineno":343,"static":false,"thread_id":70097708498960,"parent_id":758017,"elapsed":1.0e-05,"return_value":{"class":"String","value":"[]","object_id":70097800033420}},{"id":758019,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758020,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758019,"elapsed":6.0e-06},{"id":758021,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":757622,"elapsed":0.090207},{"id":758022,"event":"call","defined_class":"SessionController","method_id":"become","path":"app/controllers/session_controller.rb","lineno":117,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758023,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_username","path":"app/models/user.rb","lineno":371,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097799228160,"value":"moderator911","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758024,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097799228160,"value":"moderator911","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758025,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":758024,"elapsed":1.5e-05,"return_value":{"class":"String","value":"moderator911","object_id":70097800046240}},{"id":758026,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'moderator911' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758027,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758026,"elapsed":0.002517},{"id":758028,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"find_by_username","path":"app/models/user.rb","lineno":371,"static":true,"thread_id":70097708498960,"parent_id":758023,"elapsed":0.006579,"return_value":{"class":"User","value":"#<User:0x00007f81bc717150>","object_id":70097594529960}},{"id":758029,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097799166000,"value":"#<ActionDispatch::Request::Session:0x00007f81d4d67060>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097799279000,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d4d9e330>","kind":"req"},{"name":"opts","class":"Hash","object_id":70097594528960,"value":"{}","kind":"opt"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758030,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>"}},{"id":758031,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":758030,"elapsed":2.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758032,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Hash","object_id":70097594524540,"value":"{:user_id=>1001, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\", :staff=>true, :impersonate=>","kind":"keyreq"},{"name":"user_agent","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"client_ip","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"path","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"staff","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"impersonate","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758033,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097594547080,"value":"e11703828e9f406088fb7bef73cd7b91","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758034,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":758035,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":758034,"elapsed":1.2e-05,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":758036,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":758033,"elapsed":0.000148,"return_value":{"class":"String","value":"DN3OZ4bHIsjHUdvDlKW3u67LTmE=","object_id":70097594541400}},{"id":758037,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758038,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758037,"elapsed":0.001268},{"id":758039,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_tokens\" (\"user_id\", \"auth_token\", \"prev_auth_token\", \"client_ip\", \"rotated_at\", \"created_at\", \"updated_at\") VALUES (1001, 'DN3OZ4bHIsjHUdvDlKW3u67LTmE=', 'DN3OZ4bHIsjHUdvDlKW3u67LTmE=', '127.0.0.1/32', '2020-05-28 18:58:12.975192', '2020-05-28 18:58:12.980340', '2020-05-28 18:58:12.980340') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758040,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758039,"elapsed":0.001299},{"id":758041,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758042,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758041,"elapsed":0.001112},{"id":758043,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097588956640,"value":"{:action=>\"generate\", :user_auth_token_id=>907, :user_id=>1001, :user_agent=>nil, :client_ip=>\"127.0","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758044,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758045,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758044,"elapsed":0.001409},{"id":758046,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('generate', 907, 1001, '127.0.0.1/32', 'DN3OZ4bHIsjHUdvDlKW3u67LTmE=', '2020-05-28 18:58:12.997201') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758047,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758046,"elapsed":0.001437},{"id":758048,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758049,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758048,"elapsed":0.001542},{"id":758050,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":758043,"elapsed":0.016888,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81bbc7fdc8>","object_id":70097588977380}},{"id":758051,"event":"call","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parameters":[{"name":"job","class":"Symbol","object_id":16019548,"value":"suspicious_login","kind":"req"},{"name":"opts","class":"Hash","object_id":70097589971040,"value":"{:user_id=>1001, :client_ip=>\"127.0.0.1\", :user_agent=>nil}","kind":"opt"}],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":758052,"event":"call","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Module","object_id":70097757303740,"value":"Jobs"}},{"id":758053,"event":"return","defined_class":"Jobs","method_id":"run_later?","path":"app/jobs/base.rb","lineno":9,"static":true,"thread_id":70097708498960,"parent_id":758052,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758054,"event":"return","defined_class":"Jobs","method_id":"enqueue","path":"app/jobs/base.rb","lineno":284,"static":true,"thread_id":70097708498960,"parent_id":758051,"elapsed":0.000326,"return_value":{"class":"String","value":"721d114d42dc034114f560cd","object_id":70097609325380}},{"id":758055,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"generate!","path":"app/models/user_auth_token.rb","lineno":68,"static":true,"thread_id":70097708498960,"parent_id":758032,"elapsed":0.034314,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81bc71c0d8>","object_id":70097594540140}},{"id":758056,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parameters":[{"name":"unhashed_auth_token","class":"String","object_id":70097594547080,"value":"e11703828e9f406088fb7bef73cd7b91","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758057,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"cookie_hash","path":"lib/auth/default_current_user_provider.rb","lineno":217,"static":false,"thread_id":70097708498960,"parent_id":758056,"elapsed":4.7e-05,"return_value":{"class":"Hash","value":"{:value=>\"e11703828e9f406088fb7bef73cd7b91\", :httponly=>true, :expires=>Mon, 27 Jul 2020 18:58:13 UT","object_id":70097609322120}},{"id":758058,"event":"call","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>"}},{"id":758059,"event":"return","defined_class":"User","method_id":"unstage!","path":"app/models/user.rb","lineno":341,"static":false,"thread_id":70097708498960,"parent_id":758058,"elapsed":2.1e-05},{"id":758060,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758061,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"make_developer_admin","path":"lib/auth/default_current_user_provider.rb","lineno":232,"static":false,"thread_id":70097708498960,"parent_id":758060,"elapsed":3.1e-05},{"id":758062,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758063,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"enable_bootstrap_mode","path":"lib/auth/default_current_user_provider.rb","lineno":242,"static":false,"thread_id":70097708498960,"parent_id":758062,"elapsed":9.0e-06},{"id":758064,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parameters":[{"name":"user_id","class":"Integer","object_id":2003,"value":"1001","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758065,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"DELETE FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"id\" IN (SELECT \"user_auth_tokens\".\"id\" FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1001 AND (rotated_at > '2020-03-29 18:58:13.010108') ORDER BY rotated_at DESC OFFSET 60)","database_type":"postgres","server_version":110006}},{"id":758066,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758065,"elapsed":0.001363},{"id":758067,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"enforce_session_count_limit!","path":"app/models/user_auth_token.rb","lineno":226,"static":true,"thread_id":70097708498960,"parent_id":758064,"elapsed":0.005058,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":758068,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"log_on_user","path":"lib/auth/default_current_user_provider.rb","lineno":198,"static":false,"thread_id":70097708498960,"parent_id":758029,"elapsed":0.040529,"return_value":{"class":"User","value":"#<User:0x00007f81bc717150>","object_id":70097594529960}},{"id":758069,"event":"call","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>"}},{"id":758070,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>","kind":"req"},{"name":"event","class":"Symbol","object_id":12243868,"value":"user_logged_in","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":758071,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":758072,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":758071,"elapsed":0.000283,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81bee768e0>","object_id":70097615172720}},{"id":758073,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758074,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758073,"elapsed":0.001563},{"id":758075,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":758070,"elapsed":0.006304},{"id":758076,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>"}},{"id":758077,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":758076,"elapsed":2.8e-05},{"id":758078,"event":"return","defined_class":"User","method_id":"logged_in","path":"app/models/user.rb","lineno":1170,"static":false,"thread_id":70097708498960,"parent_id":758069,"elapsed":0.006753},{"id":758079,"event":"return","defined_class":"SessionController","method_id":"become","path":"app/controllers/session_controller.rb","lineno":117,"static":false,"thread_id":70097708498960,"parent_id":758022,"elapsed":0.05472,"return_value":{"class":"String","value":"<html><body>You are being <a href=\"http://test.localhost/\">redirected</a>.</body></html>","object_id":70097590152480}},{"id":758080,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758081,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":758080,"elapsed":1.3e-05},{"id":758082,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758083,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":758082,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097590149140}},{"id":758084,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"SessionController","object_id":70097799227400,"value":"#<SessionController:0x00007f81d4d85010>"}},{"id":758085,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758086,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758085,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc717150>","object_id":70097594529960}},{"id":758087,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097594529960,"value":"#<User:0x00007f81bc717150>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097799166000,"value":"#<ActionDispatch::Request::Session:0x00007f81d4d67060>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097799279000,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81d4d9e330>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758088,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758089,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758090,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758089,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc717150>","object_id":70097594529960}},{"id":758091,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":758088,"elapsed":0.000117},{"id":758092,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758093,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097799263620,"value":"#<TestCurrentUserProvider:0x00007f81d4d96b08>"}},{"id":758094,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758093,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81bc717150>","object_id":70097594529960}},{"id":758095,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":758092,"elapsed":0.000115},{"id":758096,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758097,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758096,"elapsed":0.001493},{"id":758098,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":758087,"elapsed":0.0062},{"id":758099,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":758084,"elapsed":0.006582},{"id":758100,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":757581,"elapsed":0.156332,"http_server_response":{"status":302}},{"id":758101,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ids","class":"Array","object_id":70097799278760,"value":"[2]","kind":"req"},{"name":"extend","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":758102,"event":"call","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parameters":[{"name":"key","class":"String","object_id":70097621139820,"value":"extended_transformed_ids_2","kind":"req"},{"name":"blk","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":70097801647920,"value":"Theme"}},{"id":758103,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"get_set_cache","path":"app/models/theme.rb","lineno":125,"static":true,"thread_id":70097708498960,"parent_id":758102,"elapsed":1.4e-05,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":758104,"event":"return","defined_class":"Theme(id: integer, name: string, user_id: integer, created_at: datetime, updated_at: datetime, compiler_version: integer, user_selectable: boolean, hidden: boolean, color_scheme_id: integer, remote_theme_id: integer, component: boolean, enabled: boolean)","method_id":"transform_ids","path":"app/models/theme.rb","lineno":162,"static":true,"thread_id":70097708498960,"parent_id":758101,"elapsed":0.000162,"return_value":{"class":"Array","value":"[2]","object_id":70097612817640}},{"id":758105,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097621150560,"value":"#<TestCurrentUserProvider:0x00007f81bf9dd6c0>"}},{"id":758106,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":758105,"elapsed":1.0e-05},{"id":758107,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":758108,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":758107,"elapsed":7.0e-06},{"id":758109,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041628,"value":"http_3xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":758110,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":758109,"elapsed":6.0e-06},{"id":758111,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758112,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70097708498960,"parent_id":758111,"elapsed":7.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70097783082600}},{"id":758113,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_email","class":"String","object_id":70097621183880,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758114,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70097708498960,"parent_id":758113,"elapsed":0.000194,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f81bf9f60f8>","object_id":70097621201020}},{"id":758115,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758116,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758115,"elapsed":0.001309},{"id":758117,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758118,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70097708498960,"parent_id":758117,"elapsed":2.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758119,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758120,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parameters":[{"name":"object","class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>","kind":"req"},{"name":"field_name","class":"String","object_id":70097713120640,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":758121,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70097714268260,"value":"#<UsernameValidator:0x00007f81cab790c8>"}},{"id":758122,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758123,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":758122,"elapsed":1.0e-05,"return_value":{"class":"Range","value":"3..20","object_id":70097714395380}},{"id":758124,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758125,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70097708498960,"parent_id":758124,"elapsed":7.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70097714488140}},{"id":758126,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":758127,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70097708498960,"parent_id":758126,"elapsed":8.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70097569557580}},{"id":758128,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097569555240,"value":"UsernameValidator"}},{"id":758129,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70097708498960,"parent_id":758128,"elapsed":6.0e-06},{"id":758130,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70097708498960,"parent_id":758121,"elapsed":0.000601,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758131,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70097708498960,"parent_id":758120,"elapsed":0.000724},{"id":758132,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70097708498960,"parent_id":758119,"elapsed":0.000844},{"id":758133,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097714127300,"value":"bruce912","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758134,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":758133,"elapsed":2.0e-05,"return_value":{"class":"String","value":"bruce912","object_id":70097714890320}},{"id":758135,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097714127300,"value":"bruce912","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758136,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":758135,"elapsed":1.4e-05},{"id":758137,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097715009140,"value":"bruce912","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758138,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":758137,"elapsed":6.0e-06},{"id":758139,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758140,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70097715028460,"value":"#<PasswordValidator:0x00007f81cacec3d8>"}},{"id":758141,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758142,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758143,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70097708498960,"parent_id":758142,"elapsed":4.0e-06},{"id":758144,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70097708498960,"parent_id":758141,"elapsed":0.000139,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758145,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758146,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":758145,"elapsed":1.6e-05,"return_value":{"class":"String","value":"bruce928@wayne.com","object_id":70097715206020}},{"id":758147,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758148,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":758147,"elapsed":7.0e-06,"return_value":{"class":"String","value":"bruce928@wayne.com","object_id":70097715206020}},{"id":758149,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097783082600,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758150,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":758149,"elapsed":6.0e-06},{"id":758151,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758140,"elapsed":0.002712},{"id":758152,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70097708498960,"parent_id":758139,"elapsed":0.002909},{"id":758153,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758154,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":758153,"elapsed":5.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":758155,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097715469600,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758156,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":758155,"elapsed":7.0e-06},{"id":758157,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parameters":[{"name":"password","class":"String","object_id":70097715500480,"value":"bruce wayne","kind":"req"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758158,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70097708498960,"parent_id":758157,"elapsed":6.0e-06},{"id":758159,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70097715189780,"value":"Bruce Wayne","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70097719440680,"value":"#<UserFullNameValidator:0x00007f81cb556a50>"}},{"id":758160,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758159,"elapsed":8.0e-06},{"id":758161,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3062748,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70097715632740,"value":"99.232.23.235","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70097719544680,"value":"#<AllowedIpAddressValidator:0x00007f81cb5896d0>"}},{"id":758162,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097715632740,"value":"99.232.23.235","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":758163,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097715632740,"value":"99.232.23.235","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":758164,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70097715632740,"value":"99.232.23.235","kind":"req"}],"receiver":{"class":"Class","object_id":70097793955040,"value":"ScreenedIpAddress"}},{"id":758165,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.235' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758166,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758165,"elapsed":0.001319},{"id":758167,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70097708498960,"parent_id":758164,"elapsed":0.00573},{"id":758168,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70097708498960,"parent_id":758163,"elapsed":0.005917},{"id":758169,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70097708498960,"parent_id":758162,"elapsed":0.006059},{"id":758170,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758161,"elapsed":0.006208},{"id":758171,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097621201020,"value":"#<UserEmail:0x00007f81bf9f60f8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097754607100,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":758172,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097754607100,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758173,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097754607100,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758174,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":758173,"elapsed":3.8e-05},{"id":758175,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":758172,"elapsed":0.000169,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758176,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097754607100,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758177,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097754607100,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758178,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":758177,"elapsed":1.1e-05,"return_value":{"class":"String","value":"bruce928@wayne.com","object_id":70097754743560}},{"id":758179,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":758180,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758179,"elapsed":0.002928},{"id":758181,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":758176,"elapsed":0.00813},{"id":758182,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758171,"elapsed":0.008613},{"id":758183,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce928@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758184,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758183,"elapsed":0.001678},{"id":758185,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758186,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70097708498960,"parent_id":758185,"elapsed":6.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":758187,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"trust_level\", \"ip_address\") VALUES ('bruce912', '2020-05-28 18:58:13.112900', '2020-05-28 18:58:13.112900', 'Bruce Wayne', 'e841235d2bf9219533d62fda0e7c6dbcb424a6f2eed7e80a48ee1cb1c81de1df', '1c2bd4dfc5c070d66b1c5d20f5ac6cc1', TRUE, 'bruce912', 1, '99.232.23.235/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758188,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758187,"elapsed":0.001517},{"id":758189,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserEmail","object_id":70097621201020,"value":"#<UserEmail:0x00007f81bf9f60f8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097803417840,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097803750180,"value":"#<EmailValidator:0x00007f81d5625648>"}},{"id":758190,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803417840,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758191,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097803417840,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758192,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":758191,"elapsed":3.6e-05},{"id":758193,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":758190,"elapsed":0.000175,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758194,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803417840,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758195,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097803417840,"value":"bruce928@wayne.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758196,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":758195,"elapsed":1.3e-05,"return_value":{"class":"String","value":"bruce928@wayne.com","object_id":70097803498100}},{"id":758197,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":758198,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758197,"elapsed":0.001577},{"id":758199,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":758194,"elapsed":0.005583},{"id":758200,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758189,"elapsed":0.006081},{"id":758201,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 1002 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758202,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758201,"elapsed":0.001502},{"id":758203,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'bruce928@wayne.com') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758204,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758203,"elapsed":0.001548},{"id":758205,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (1002, 'bruce928@wayne.com', TRUE, '2020-05-28 18:58:13.136175', '2020-05-28 18:58:13.136175') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758206,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758205,"elapsed":0.001438},{"id":758207,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758208,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70097708498960,"parent_id":758207,"elapsed":2.4e-05,"return_value":{"class":"String","value":"bruce928@wayne.com","object_id":70097732785400}},{"id":758209,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":758210,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097794362480,"value":"EmailToken"}},{"id":758211,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70097708498960,"parent_id":758210,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":758212,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70097708498960,"parent_id":758209,"elapsed":0.000162,"return_value":{"class":"String","value":"180ceaab3eee458848820f7544897ad9","object_id":70097732796840}},{"id":758213,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (1002, 'bruce928@wayne.com', '180ceaab3eee458848820f7544897ad9', '2020-05-28 18:58:13.142669', '2020-05-28 18:58:13.142669') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758214,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758213,"elapsed":0.00125},{"id":758215,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 1002 AND (id != 1198)","database_type":"postgres","server_version":110006}},{"id":758216,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758215,"elapsed":0.001327},{"id":758217,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (1002, '2020-05-28 18:58:13.153235') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":758218,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758217,"elapsed":0.001358},{"id":758219,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1002 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758220,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758219,"elapsed":0.001502},{"id":758221,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097590814600,"value":"{:user=>#<User id: 1002, username: \"bruce912\", created_at: \"2020-05-28 18:58:13\", updated_at: \"2020-","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":758222,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":758221,"elapsed":1.7e-05},{"id":758223,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"UserOption","object_id":70097590868000,"value":"#<UserOption:0x00007f81bc01b040>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5058588,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70097795312080,"value":"#<TimezoneValidator:0x00007f81d460d3a0>"}},{"id":758224,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":758223,"elapsed":6.0e-06},{"id":758225,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UserOption","object_id":70097590868000,"value":"#<UserOption:0x00007f81bc01b040>"}},{"id":758226,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723783240,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097590868000,"value":"#<UserOption:0x00007f81bc01b040>"}},{"id":758227,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":758228,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70097708498960,"parent_id":758227,"elapsed":4.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70097795246760}},{"id":758229,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70097708498960,"parent_id":758226,"elapsed":0.000116,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":758230,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parameters":[{"name":"value","class":"String","object_id":70097723782760,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70097590868000,"value":"#<UserOption:0x00007f81bc01b040>"}},{"id":758231,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097795215760,"value":"UserOption"}},{"id":758232,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70097708498960,"parent_id":758231,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70097816997920}},{"id":758233,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70097708498960,"parent_id":758230,"elapsed":0.000101,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":758234,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70097708498960,"parent_id":758225,"elapsed":0.000475,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758235,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (1002, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":758236,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758235,"elapsed":0.001607},{"id":758237,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70097592227540,"value":"#<TrackedTopicsUpdater:0x00007f81bc2b2da8>"}},{"id":758238,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":758239,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":758238,"elapsed":6.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":758240,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097755252000,"value":"TopicUser"}},{"id":758241,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70097708498960,"parent_id":758240,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70097795217940}},{"id":758242,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 1002","database_type":"postgres","server_version":110006}},{"id":758243,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758242,"elapsed":0.001477},{"id":758244,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":758237,"elapsed":0.00511,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":758245,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758246,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1002 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758247,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758246,"elapsed":0.001373},{"id":758248,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (1002) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":758249,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758248,"elapsed":0.001512},{"id":758250,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097566828000,"value":"{:user=>#<UserProfile user_id: 1002, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dis","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":758251,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":758250,"elapsed":1.2e-05},{"id":758252,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70097708498960,"parent_id":758245,"elapsed":0.011727,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f81bc5c0310>","object_id":70097593827720}},{"id":758253,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758254,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70097708498960,"parent_id":758253,"elapsed":7.0e-06},{"id":758255,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":758256,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758255,"elapsed":0.001267},{"id":758257,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":758258,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758257,"elapsed":0.001392},{"id":758259,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":758260,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758259,"elapsed":0.001323},{"id":758261,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":758262,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758261,"elapsed":0.001378},{"id":758263,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758264,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758265,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70097708498960,"parent_id":758264,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758266,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70097708498960,"parent_id":758263,"elapsed":0.000138},{"id":758267,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 1002","database_type":"postgres","server_version":110006}},{"id":758268,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758267,"elapsed":0.001251},{"id":758269,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>"}},{"id":758270,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 1002 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758271,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758270,"elapsed":0.001179},{"id":758272,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (1002, '2020-05-28 18:58:13.215197', '2020-05-28 18:58:13.215197') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758273,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758272,"elapsed":0.001465},{"id":758274,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70097708498960,"parent_id":758269,"elapsed":0.009945},{"id":758275,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70097607849960,"value":"{:user=>#<User id: 1002, username: \"bruce912\", created_at: \"2020-05-28 18:58:13\", updated_at: \"2020-","kind":"req"}],"receiver":{"class":"Class","object_id":70097792834840,"value":"BadgeGranter"}},{"id":758276,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":758275,"elapsed":1.0e-05},{"id":758277,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70097794687700,"value":"SearchIndexer"}},{"id":758278,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70097708498960,"parent_id":758277,"elapsed":4.0e-06},{"id":758279,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758280,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758279,"elapsed":0.001001},{"id":758281,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70097621182900,"value":"#<User:0x00007f81bf9ed368>","kind":"req"},{"name":"event","class":"Symbol","object_id":12268508,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":758282,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70097719799600,"value":"WebHook"}},{"id":758283,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70097708498960,"parent_id":758282,"elapsed":0.000231,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f81be963880>","object_id":70097612512320}},{"id":758284,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758285,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758284,"elapsed":0.001465},{"id":758286,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70097708498960,"parent_id":758281,"elapsed":0.005324},{"id":758287,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758288,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":758287,"elapsed":7.4e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097608298740}},{"id":758289,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758290,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758289,"elapsed":0.001254},{"id":758291,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587099880,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758292,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587099880,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758293,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758294,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":758293,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":758295,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":758292,"elapsed":0.00016,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758296,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":758291,"elapsed":0.000281,"return_value":{"class":"String","value":"billybob@example.com","object_id":70097587095420}},{"id":758297,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Invite","object_id":70097608301400,"value":"#<Invite:0x00007f81be15b6b0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097588920700,"value":"#<EmailValidator:0x00007f81bbc642f8>"}},{"id":758298,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758299,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758300,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":758299,"elapsed":4.0e-05},{"id":758301,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":758298,"elapsed":0.000172,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758302,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758303,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758304,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":758303,"elapsed":1.3e-05,"return_value":{"class":"String","value":"billybob@example.com","object_id":70097587683700}},{"id":758305,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":758306,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758305,"elapsed":0.001381},{"id":758307,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":758302,"elapsed":0.005001},{"id":758308,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758297,"elapsed":0.005479},{"id":758309,"event":"call","defined_class":"Invite","method_id":"user_doesnt_already_exist","path":"app/models/invite.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097608301400,"value":"#<Invite:0x00007f81be15b6b0>"}},{"id":758310,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758311,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758312,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097587093980,"value":"billybob@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758313,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758314,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":758313,"elapsed":3.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":758315,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":758312,"elapsed":0.000133,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758316,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":758311,"elapsed":0.000251,"return_value":{"class":"String","value":"billybob@example.com","object_id":70097612703280}},{"id":758317,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE (lower(user_emails.email) IN ('billybob@example.com')) AND \"users\".\"staged\" = FALSE ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758318,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758317,"elapsed":0.001595},{"id":758319,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parent_id":758310,"elapsed":0.005813},{"id":758320,"event":"return","defined_class":"Invite","method_id":"user_doesnt_already_exist","path":"app/models/invite.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":758309,"elapsed":0.006002},{"id":758321,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"invites\" (\"invite_key\", \"email\", \"invited_by_id\", \"user_id\", \"created_at\", \"updated_at\") VALUES ('07c5c51208196513bab08b5abc2ffd62', 'billybob@example.com', 1000, 1002, '2020-05-28 18:58:13.246902', '2020-05-28 18:58:13.246902') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758322,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758321,"elapsed":0.001402},{"id":758323,"event":"call","defined_class":"Invite","method_id":"limit_invites_per_day","path":"app/models/invite.rb","lineno":249,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097608301400,"value":"#<Invite:0x00007f81be15b6b0>"}},{"id":758324,"event":"return","defined_class":"Invite","method_id":"limit_invites_per_day","path":"app/models/invite.rb","lineno":249,"static":false,"thread_id":70097708498960,"parent_id":758323,"elapsed":5.4e-05,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81d85eb2b0>","object_id":70097828796760}},{"id":758325,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758326,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758325,"elapsed":0.001042},{"id":758327,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758328,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":758327,"elapsed":6.1e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097613114640}},{"id":758329,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758330,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758329,"elapsed":0.001132},{"id":758331,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613506760,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758332,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613506760,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758333,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758334,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":758333,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":758335,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":758332,"elapsed":0.000147,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758336,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":758331,"elapsed":0.000282,"return_value":{"class":"String","value":"jimtom@example.com","object_id":70097613525140}},{"id":758337,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parameters":[{"name":"record","class":"Invite","object_id":70097613117220,"value":"#<Invite:0x00007f81bea8ae48>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70097588920700,"value":"#<EmailValidator:0x00007f81bbc642f8>"}},{"id":758338,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758339,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parameters":[{"name":"setting","class":"String","object_id":70097723515680,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758340,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70097708498960,"parent_id":758339,"elapsed":3.4e-05},{"id":758341,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70097708498960,"parent_id":758338,"elapsed":0.000163,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758342,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758343,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097589134720,"value":"ScreenedEmail"}},{"id":758344,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70097708498960,"parent_id":758343,"elapsed":1.2e-05,"return_value":{"class":"String","value":"jimtom@example.com","object_id":70097613558700}},{"id":758345,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":758346,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758345,"elapsed":0.001406},{"id":758347,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70097708498960,"parent_id":758342,"elapsed":0.004983},{"id":758348,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70097708498960,"parent_id":758337,"elapsed":0.005519},{"id":758349,"event":"call","defined_class":"Invite","method_id":"user_doesnt_already_exist","path":"app/models/invite.rb","lineno":38,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097613117220,"value":"#<Invite:0x00007f81bea8ae48>"}},{"id":758350,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758351,"event":"call","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758352,"event":"call","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parameters":[{"name":"email","class":"String","object_id":70097613521880,"value":"jimtom@example.com","kind":"req"}],"receiver":{"class":"Module","object_id":70097614623220,"value":"Email"}},{"id":758353,"event":"call","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097803665260,"value":"EmailValidator"}},{"id":758354,"event":"return","defined_class":"EmailValidator","method_id":"email_regex","path":"lib/validators/email_validator.rb","lineno":43,"static":true,"thread_id":70097708498960,"parent_id":758353,"elapsed":4.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:\\A[a-zA-Z0-9!#\\$%&'*+\\/=?\\^_`{|}~\\-]+(?:\\.[a-zA-Z0-9!#\\$%&'\\*+\\/=?\\^_`{|}~\\-]+)*@(?:[a-zA-Z0-","object_id":70097803665340}},{"id":758355,"event":"return","defined_class":"Email","method_id":"is_valid?","path":"lib/email.rb","lineno":7,"static":true,"thread_id":70097708498960,"parent_id":758352,"elapsed":0.000132,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758356,"event":"return","defined_class":"Email","method_id":"downcase","path":"lib/email.rb","lineno":12,"static":true,"thread_id":70097708498960,"parent_id":758351,"elapsed":0.00025,"return_value":{"class":"String","value":"jimtom@example.com","object_id":70097614098420}},{"id":758357,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" INNER JOIN \"user_emails\" ON \"user_emails\".\"user_id\" = \"users\".\"id\" WHERE (lower(user_emails.email) IN ('jimtom@example.com')) AND \"users\".\"staged\" = FALSE ORDER BY \"users\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758358,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758357,"elapsed":0.001929},{"id":758359,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_user_by_email","path":"app/models/invite.rb","lineno":163,"static":true,"thread_id":70097708498960,"parent_id":758350,"elapsed":0.00655},{"id":758360,"event":"return","defined_class":"Invite","method_id":"user_doesnt_already_exist","path":"app/models/invite.rb","lineno":38,"static":false,"thread_id":70097708498960,"parent_id":758349,"elapsed":0.006795},{"id":758361,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"invites\" (\"invite_key\", \"email\", \"invited_by_id\", \"user_id\", \"created_at\", \"updated_at\") VALUES ('a8b849743b8aaa0876a250bc06fe5d80', 'jimtom@example.com', 1000, 1002, '2020-05-28 18:58:13.272544', '2020-05-28 18:58:13.272544') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758362,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758361,"elapsed":0.001341},{"id":758363,"event":"call","defined_class":"Invite","method_id":"limit_invites_per_day","path":"app/models/invite.rb","lineno":249,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097613117220,"value":"#<Invite:0x00007f81bea8ae48>"}},{"id":758364,"event":"return","defined_class":"Invite","method_id":"limit_invites_per_day","path":"app/models/invite.rb","lineno":249,"static":false,"thread_id":70097708498960,"parent_id":758363,"elapsed":4.8e-05,"return_value":{"class":"RateLimiter","value":"#<RateLimiter:0x00007f81d4ef76a0>","object_id":70097799986000}},{"id":758365,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758366,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758365,"elapsed":0.001158},{"id":758367,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":758368,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":758367,"elapsed":7.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":758369,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":758370,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":758369,"elapsed":1.4e-05},{"id":758371,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70097708498960,"http_server_request":{"request_method":"GET","path_info":"/u/bruce910/invited.json?search=billybob"},"message":[{"name":"search","class":"String","value":"billybob","object_id":70097800375960},{"name":"controller","class":"String","value":"users","object_id":70097800891820},{"name":"action","class":"String","value":"invited","object_id":70097800891800},{"name":"username","class":"String","value":"bruce910","object_id":70097800366400},{"name":"format","class":"String","value":"json","object_id":70097800366380}]},{"id":758372,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758373,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758374,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758375,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758376,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parameters":[{"name":"unhashed_token","class":"String","object_id":70097800414660,"value":"e11703828e9f406088fb7bef73cd7b91","kind":"req"},{"name":"opts","class":"Hash","object_id":70097800414120,"value":"{:seen=>true, :user_agent=>nil, :path=>nil, :client_ip=>\"127.0.0.1\"}","kind":"opt"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758377,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parameters":[{"name":"token","class":"String","object_id":70097800414660,"value":"e11703828e9f406088fb7bef73cd7b91","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758378,"event":"call","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097703221560,"value":"GlobalSetting"}},{"id":758379,"event":"return","defined_class":"GlobalSetting","method_id":"safe_secret_key_base","path":"app/models/global_setting.rb","lineno":25,"static":true,"thread_id":70097708498960,"parent_id":758378,"elapsed":9.0e-06,"return_value":{"class":"String","value":"9a861fe75a448752d4997880bb647b45e1a210a880a56024d1dc12cdd3fa29354dc83c1a5e3ff086d25ac9454040e6f43418","object_id":70097709303360}},{"id":758380,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"hash_token","path":"app/models/user_auth_token.rb","lineno":164,"static":true,"thread_id":70097708498960,"parent_id":758377,"elapsed":0.000117,"return_value":{"class":"String","value":"DN3OZ4bHIsjHUdvDlKW3u67LTmE=","object_id":70097800433480}},{"id":758381,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE ((auth_token = 'DN3OZ4bHIsjHUdvDlKW3u67LTmE=' OR\n                          prev_auth_token = 'DN3OZ4bHIsjHUdvDlKW3u67LTmE=') AND rotated_at > '2020-03-29 18:58:13.285847') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758382,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758381,"elapsed":0.001329},{"id":758383,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_auth_tokens\" SET \"auth_token_seen\" = TRUE, \"seen_at\" = '2020-05-28 18:58:13.291600' WHERE \"user_auth_tokens\".\"id\" = 907 AND \"user_auth_tokens\".\"auth_token\" = 'DN3OZ4bHIsjHUdvDlKW3u67LTmE='","database_type":"postgres","server_version":110006}},{"id":758384,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758383,"elapsed":0.002643},{"id":758385,"event":"call","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"info","class":"Hash","object_id":70097569408960,"value":"{:action=>\"seen token\", :user_auth_token_id=>907, :user_id=>1001, :auth_token=>\"DN3OZ4bHIsjHUdvDlKW3","kind":"req"}],"receiver":{"class":"Class","object_id":70097712007000,"value":"UserAuthToken"}},{"id":758386,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758387,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758386,"elapsed":0.00109},{"id":758388,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_auth_token_logs\" (\"action\", \"user_auth_token_id\", \"user_id\", \"client_ip\", \"auth_token\", \"created_at\") VALUES ('seen token', 907, 1001, '127.0.0.1/32', 'DN3OZ4bHIsjHUdvDlKW3u67LTmE=', '2020-05-28 18:58:13.304176') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758389,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758388,"elapsed":0.001342},{"id":758390,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758391,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758390,"elapsed":0.000974},{"id":758392,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"log","path":"app/models/user_auth_token.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":758385,"elapsed":0.016385,"return_value":{"class":"UserAuthTokenLog","value":"#<UserAuthTokenLog:0x00007f81b9737e30>","object_id":70097569431320}},{"id":758393,"event":"return","defined_class":"UserAuthToken(id: integer, user_id: integer, auth_token: string, prev_auth_token: string, user_agent: string, auth_token_seen: boolean, client_ip: inet, rotated_at: datetime, created_at: datetime, updated_at: datetime, seen_at: datetime)","method_id":"lookup","path":"app/models/user_auth_token.rb","lineno":99,"static":true,"thread_id":70097708498960,"parent_id":758376,"elapsed":0.029349,"return_value":{"class":"UserAuthToken","value":"#<UserAuthToken:0x00007f81d8694310>","object_id":70097829142920}},{"id":758394,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758395,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758394,"elapsed":0.001476},{"id":758396,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758397,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70097708498960,"parent_id":758396,"elapsed":2.1e-05},{"id":758398,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758399,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70097708498960,"parent_id":758398,"elapsed":0.000943,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758400,"event":"call","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parameters":[{"name":"now","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758401,"event":"call","defined_class":"User","method_id":"update_visit_record!","path":"app/models/user.rb","lineno":680,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097609275440,"value":"2020-05-28","kind":"req"}],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758402,"event":"call","defined_class":"User","method_id":"visit_record_for","path":"app/models/user.rb","lineno":676,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097609275440,"value":"2020-05-28","kind":"req"}],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758403,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_visits\".* FROM \"user_visits\" WHERE \"user_visits\".\"user_id\" = 1001 AND \"user_visits\".\"visited_at\" = '2020-05-28' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758404,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758403,"elapsed":0.001181},{"id":758405,"event":"return","defined_class":"User","method_id":"visit_record_for","path":"app/models/user.rb","lineno":676,"static":false,"thread_id":70097708498960,"parent_id":758402,"elapsed":0.005661},{"id":758406,"event":"call","defined_class":"User","method_id":"create_visit_record!","path":"app/models/user.rb","lineno":671,"static":false,"thread_id":70097708498960,"parameters":[{"name":"date","class":"Date","object_id":70097609275440,"value":"2020-05-28","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758407,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_stats\".\"user_id\", \"user_stats\".\"topics_entered\", \"user_stats\".\"time_read\", \"user_stats\".\"days_visited\", \"user_stats\".\"posts_read_count\", \"user_stats\".\"likes_given\", \"user_stats\".\"likes_received\", \"user_stats\".\"new_since\", \"user_stats\".\"read_faq\", \"user_stats\".\"first_post_created_at\", \"user_stats\".\"post_count\", \"user_stats\".\"topic_count\", \"user_stats\".\"bounce_score\", \"user_stats\".\"reset_bounce_score_after\", \"user_stats\".\"flags_agreed\", \"user_stats\".\"flags_disagreed\", \"user_stats\".\"flags_ignored\", \"user_stats\".\"first_unread_at\", \"user_stats\".\"distinct_badge_count\" FROM \"user_stats\" WHERE \"user_stats\".\"user_id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758408,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758407,"elapsed":0.001334},{"id":758409,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"user_stats\" SET \"days_visited\" = 1 WHERE \"user_stats\".\"user_id\" = 1001","database_type":"postgres","server_version":110006}},{"id":758410,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758409,"elapsed":0.00142},{"id":758411,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758412,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758411,"elapsed":0.00094},{"id":758413,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"INSERT INTO \"user_visits\" (\"user_id\", \"visited_at\") VALUES (1001, '2020-05-28') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":758414,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758413,"elapsed":0.001536},{"id":758415,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres","server_version":110006}},{"id":758416,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758415,"elapsed":0.001561},{"id":758417,"event":"return","defined_class":"User","method_id":"create_visit_record!","path":"app/models/user.rb","lineno":671,"static":false,"thread_id":70097708498960,"parent_id":758406,"elapsed":0.075716,"return_value":{"class":"UserVisit","value":"#<UserVisit:0x00007f81bf9d3d00>","object_id":70097621130880}},{"id":758418,"event":"return","defined_class":"User","method_id":"update_visit_record!","path":"app/models/user.rb","lineno":680,"static":false,"thread_id":70097708498960,"parent_id":758401,"elapsed":0.081801,"return_value":{"class":"UserVisit","value":"#<UserVisit:0x00007f81bf9d3d00>","object_id":70097621130880}},{"id":758419,"event":"call","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758420,"event":"return","defined_class":"User","method_id":"seen_before?","path":"app/models/user.rb","lineno":667,"static":false,"thread_id":70097708498960,"parent_id":758419,"elapsed":2.8e-05},{"id":758421,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"last_seen_at\" = '2020-05-28 18:58:13.322472' WHERE \"users\".\"id\" = 1001","database_type":"postgres","server_version":110006}},{"id":758422,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758421,"elapsed":0.00273},{"id":758423,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"first_seen_at\" = '2020-05-28 18:58:13.322472' WHERE \"users\".\"id\" = 1001","database_type":"postgres","server_version":110006}},{"id":758424,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758423,"elapsed":0.001348},{"id":758425,"event":"return","defined_class":"User","method_id":"update_last_seen!","path":"app/models/user.rb","lineno":721,"static":false,"thread_id":70097708498960,"parent_id":758400,"elapsed":0.095786},{"id":758426,"event":"call","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parameters":[{"name":"new_ip_address","class":"String","object_id":70097609254540,"value":"127.0.0.1","kind":"req"}],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758427,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"UPDATE \"users\" SET \"ip_address\" = '127.0.0.1' WHERE \"users\".\"id\" = 1001","database_type":"postgres","server_version":110006}},{"id":758428,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758427,"elapsed":0.001565},{"id":758429,"event":"return","defined_class":"User","method_id":"update_ip_address!","path":"app/models/user.rb","lineno":715,"static":false,"thread_id":70097708498960,"parent_id":758426,"elapsed":0.00536,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758430,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758375,"elapsed":0.138478,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758431,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758374,"elapsed":0.138649,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758432,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758433,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70097708498960,"parent_id":758432,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758434,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70097708498960,"parent_id":758373,"elapsed":0.138912},{"id":758435,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758436,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758435,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758437,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 1001 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758438,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758437,"elapsed":0.001354},{"id":758439,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758440,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758439,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758441,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parameters":[{"name":"theme_ids","class":"Array","object_id":70097566288100,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758442,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70097708498960,"parent_id":758441,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758443,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70097708498960,"parent_id":758372,"elapsed":0.145483,"return_value":{"class":"Array","value":"[2]","object_id":70097566288100}},{"id":758444,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758445,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758446,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758445,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758447,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758448,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758447,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758449,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758450,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758449,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758451,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70097708498960,"parent_id":758444,"elapsed":0.000456,"return_value":{"class":"String","value":"users/invited","object_id":70097566355100}},{"id":758452,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758453,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758454,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758453,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758455,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70097708498960,"parent_id":758452,"elapsed":0.00014},{"id":758456,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758457,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758458,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758457,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758459,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758460,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758459,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758461,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758462,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70097708498960,"parent_id":758461,"elapsed":1.6e-05,"return_value":{"class":"String","value":"en_US","object_id":70097724286060}},{"id":758463,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":758464,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":758463,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":758465,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":758466,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":758465,"elapsed":1.2e-05},{"id":758467,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":70097724306540,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":758468,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":758467,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3894428}},{"id":758469,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parameters":[{"name":"locale","class":"Symbol","object_id":3894428,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70097569845280,"value":"LocaleSiteSetting"}},{"id":758470,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70097708498960,"parent_id":758469,"elapsed":8.0e-06},{"id":758471,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70097708498960,"parent_id":758456,"elapsed":0.000898,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70097795404780}},{"id":758472,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758473,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70097708498960,"parent_id":758472,"elapsed":9.0e-06},{"id":758474,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758475,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758476,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758475,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758477,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":758474,"elapsed":0.000127},{"id":758478,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758479,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758478,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758480,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758481,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758480,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758482,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758483,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758482,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758484,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097775906280,"value":"UsersController"}},{"id":758485,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70097708498960,"parent_id":758484,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:only=>[:username, :update, :user_preferences_redirect, :upload_user_image, :pick_avatar, :destroy_","object_id":70097777085280}},{"id":758486,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758487,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70097708498960,"parent_id":758486,"elapsed":1.0e-05},{"id":758488,"event":"call","defined_class":"UsersController","method_id":"invited","path":"app/controllers/users_controller.rb","lineno":301,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758489,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758490,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758489,"elapsed":3.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758491,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[{"name":"method","class":"Symbol","object_id":16962548,"value":"ensure_can_invite_to_forum!","kind":"req"},{"name":"args","class":"NilClass","object_id":8,"value":null,"kind":"rest"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758492,"event":"call","defined_class":"Guardian","method_id":"can_invite_to_forum?","path":"lib/guardian.rb","lineno":338,"static":false,"thread_id":70097708498960,"parameters":[{"name":"groups","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758493,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758494,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758493,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758495,"event":"call","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parameters":[{"name":"level","class":"Integer","object_id":5,"value":"2","kind":"req"}],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758496,"event":"call","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758497,"event":"return","defined_class":"User","method_id":"admin?","path":"app/models/user.rb","lineno":916,"static":false,"thread_id":70097708498960,"parent_id":758496,"elapsed":2.2e-05},{"id":758498,"event":"return","defined_class":"User","method_id":"has_trust_level?","path":"app/models/user.rb","lineno":907,"static":false,"thread_id":70097708498960,"parent_id":758495,"elapsed":0.000133,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758499,"event":"return","defined_class":"Guardian","method_id":"can_invite_to_forum?","path":"lib/guardian.rb","lineno":338,"static":false,"thread_id":70097708498960,"parent_id":758492,"elapsed":0.000347,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758500,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":758491,"elapsed":0.000451},{"id":758501,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758502,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758501,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758503,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758504,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":758503,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758505,"event":"call","defined_class":"ApplicationController","method_id":"fetch_user_from_params","path":"app/controllers/application_controller.rb","lineno":475,"static":false,"thread_id":70097708498960,"parameters":[{"name":"opts","class":"Hash","object_id":70097795867720,"value":"{:include_inactive=>true}","kind":"opt"},{"name":"eager_load","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758506,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'bruce910' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758507,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758506,"elapsed":0.001625},{"id":758508,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758509,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758508,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758510,"event":"call","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758511,"event":"call","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parameters":[{"name":"obj","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758512,"event":"return","defined_class":"Guardian","method_id":"can_see?","path":"lib/guardian.rb","lineno":122,"static":false,"thread_id":70097708498960,"parent_id":758511,"elapsed":2.5e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758513,"event":"return","defined_class":"EnsureMagic","method_id":"ensure_can_see!","path":"lib/guardian/ensure_magic.rb","lineno":20,"static":false,"thread_id":70097708498960,"parent_id":758510,"elapsed":0.000149},{"id":758514,"event":"return","defined_class":"ApplicationController","method_id":"fetch_user_from_params","path":"app/controllers/application_controller.rb","lineno":475,"static":false,"thread_id":70097708498960,"parent_id":758505,"elapsed":0.006035,"return_value":{"class":"User","value":"#<User:0x00007f81cccda528>","object_id":70097731768980}},{"id":758515,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758516,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758515,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758517,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758518,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758519,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758518,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758520,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parent_id":758517,"elapsed":0.000138},{"id":758521,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_redeemed_invites_from","path":"app/models/invite.rb","lineno":193,"static":true,"thread_id":70097708498960,"parameters":[{"name":"inviter","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"},{"name":"offset","class":"Integer","object_id":1,"value":"0","kind":"opt"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758522,"event":"call","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_all_invites_from","path":"app/models/invite.rb","lineno":179,"static":true,"thread_id":70097708498960,"parameters":[{"name":"inviter","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"},{"name":"offset","class":"Integer","object_id":1,"value":"0","kind":"opt"},{"name":"limit","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758523,"event":"call","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Class","object_id":70097588759140,"value":"Invite"}},{"id":758524,"event":"return","defined_class":"Trashable::ClassMethods","method_id":"with_deleted_scope_sql","path":"app/models/concerns/trashable.rb","lineno":27,"static":false,"thread_id":70097708498960,"parent_id":758523,"elapsed":6.1e-05,"return_value":{"class":"String","value":"\"invites\".\"deleted_at\" IS NULL","object_id":70097732874280}},{"id":758525,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_all_invites_from","path":"app/models/invite.rb","lineno":179,"static":true,"thread_id":70097708498960,"parent_id":758522,"elapsed":0.000443,"return_value":{"class":"ActiveRecord::Relation","value":"#<Invite::ActiveRecord_Relation:0x00007f81cceebce0>","object_id":70097732853360}},{"id":758526,"event":"return","defined_class":"Invite(id: integer, invite_key: string, email: string, invited_by_id: integer, user_id: integer, redeemed_at: datetime, created_at: datetime, updated_at: datetime, deleted_at: datetime, deleted_by_id: integer, invalidated_at: datetime, moderator: boolean, custom_message: text, emailed_status: integer)","method_id":"find_redeemed_invites_from","path":"app/models/invite.rb","lineno":193,"static":true,"thread_id":70097708498960,"parent_id":758521,"elapsed":0.000629,"return_value":{"class":"ActiveRecord::Relation","value":"#<Invite::ActiveRecord_Relation:0x00007f81ccee9f08>","object_id":70097732849540}},{"id":758527,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758528,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758527,"elapsed":5.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758529,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_emails?","path":"lib/guardian.rb","lineno":334,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758530,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758531,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>"}},{"id":758532,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70097708498960,"parent_id":758531,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758533,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70097708498960,"parent_id":758530,"elapsed":0.000124,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758534,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_emails?","path":"lib/guardian.rb","lineno":334,"static":false,"thread_id":70097708498960,"parent_id":758529,"elapsed":0.000235,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758535,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"invites\".\"id\" AS t0_r0, \"invites\".\"invite_key\" AS t0_r1, \"invites\".\"email\" AS t0_r2, \"invites\".\"invited_by_id\" AS t0_r3, \"invites\".\"user_id\" AS t0_r4, \"invites\".\"redeemed_at\" AS t0_r5, \"invites\".\"created_at\" AS t0_r6, \"invites\".\"updated_at\" AS t0_r7, \"invites\".\"deleted_at\" AS t0_r8, \"invites\".\"deleted_by_id\" AS t0_r9, \"invites\".\"invalidated_at\" AS t0_r10, \"invites\".\"moderator\" AS t0_r11, \"invites\".\"custom_message\" AS t0_r12, \"invites\".\"emailed_status\" AS t0_r13, \"users\".\"id\" AS t1_r0, \"users\".\"username\" AS t1_r1, \"users\".\"created_at\" AS t1_r2, \"users\".\"updated_at\" AS t1_r3, \"users\".\"name\" AS t1_r4, \"users\".\"seen_notification_id\" AS t1_r5, \"users\".\"last_posted_at\" AS t1_r6, \"users\".\"password_hash\" AS t1_r7, \"users\".\"salt\" AS t1_r8, \"users\".\"active\" AS t1_r9, \"users\".\"username_lower\" AS t1_r10, \"users\".\"last_seen_at\" AS t1_r11, \"users\".\"admin\" AS t1_r12, \"users\".\"last_emailed_at\" AS t1_r13, \"users\".\"trust_level\" AS t1_r14, \"users\".\"approved\" AS t1_r15, \"users\".\"approved_by_id\" AS t1_r16, \"users\".\"approved_at\" AS t1_r17, \"users\".\"previous_visit_at\" AS t1_r18, \"users\".\"suspended_at\" AS t1_r19, \"users\".\"suspended_till\" AS t1_r20, \"users\".\"date_of_birth\" AS t1_r21, \"users\".\"views\" AS t1_r22, \"users\".\"flag_level\" AS t1_r23, \"users\".\"ip_address\" AS t1_r24, \"users\".\"moderator\" AS t1_r25, \"users\".\"title\" AS t1_r26, \"users\".\"uploaded_avatar_id\" AS t1_r27, \"users\".\"locale\" AS t1_r28, \"users\".\"primary_group_id\" AS t1_r29, \"users\".\"registration_ip_address\" AS t1_r30, \"users\".\"staged\" AS t1_r31, \"users\".\"first_seen_at\" AS t1_r32, \"users\".\"silenced_till\" AS t1_r33, \"users\".\"group_locked_trust_level\" AS t1_r34, \"users\".\"manual_locked_trust_level\" AS t1_r35, \"users\".\"secure_identifier\" AS t1_r36, \"user_stats\".\"user_id\" AS t2_r0, \"user_stats\".\"topics_entered\" AS t2_r1, \"user_stats\".\"time_read\" AS t2_r2, \"user_stats\".\"days_visited\" AS t2_r3, \"user_stats\".\"posts_read_count\" AS t2_r4, \"user_stats\".\"likes_given\" AS t2_r5, \"user_stats\".\"likes_received\" AS t2_r6, \"user_stats\".\"new_since\" AS t2_r7, \"user_stats\".\"read_faq\" AS t2_r8, \"user_stats\".\"first_post_created_at\" AS t2_r9, \"user_stats\".\"post_count\" AS t2_r10, \"user_stats\".\"topic_count\" AS t2_r11, \"user_stats\".\"bounce_score\" AS t2_r12, \"user_stats\".\"reset_bounce_score_after\" AS t2_r13, \"user_stats\".\"flags_agreed\" AS t2_r14, \"user_stats\".\"flags_disagreed\" AS t2_r15, \"user_stats\".\"flags_ignored\" AS t2_r16, \"user_stats\".\"first_unread_at\" AS t2_r17, \"user_stats\".\"distinct_badge_count\" AS t2_r18 FROM \"invites\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"invites\".\"user_id\" LEFT OUTER JOIN \"user_stats\" ON \"user_stats\".\"user_id\" = \"users\".\"id\" WHERE (\"invites\".\"deleted_at\" IS NULL) AND \"invites\".\"invited_by_id\" = 1000 AND (invites.email IS NOT NULL) AND (invites.user_id IS NOT NULL) AND ((LOWER(invites.email) LIKE '%billybob%') or (LOWER(users.username) LIKE '%billybob%')) ORDER BY CASE WHEN invites.user_id IS NOT NULL THEN 0 ELSE 1 END, user_stats.time_read DESC, invites.redeemed_at DESC, invites.redeemed_at DESC LIMIT 40 OFFSET 0","database_type":"postgres","server_version":110006}},{"id":758536,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758535,"elapsed":0.002106},{"id":758537,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758538,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70097708498960,"parent_id":758537,"elapsed":7.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f81d8126fb8>","object_id":70097826297820}},{"id":758539,"event":"call","defined_class":"InvitedSerializer","method_id":"read_attribute_for_serialization","path":"app/serializers/invited_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[{"name":"attr","class":"Symbol","object_id":12136668,"value":"invites","kind":"req"}],"receiver":{"class":"InvitedSerializer","object_id":70097826985480,"value":"#<InvitedSerializer:0x00007f81d8276c10>"}},{"id":758540,"event":"call","defined_class":"InvitedSerializer","method_id":"invites","path":"app/serializers/invited_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedSerializer","object_id":70097826985480,"value":"#<InvitedSerializer:0x00007f81d8276c10>"}},{"id":758541,"event":"call","defined_class":"InviteSerializer","method_id":"include_email?","path":"app/serializers/invite_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InviteSerializer","object_id":70097827022460,"value":"#<InviteSerializer:0x00007f81d8288cf8>"}},{"id":758542,"event":"call","defined_class":"Invite","method_id":"redeemed?","path":"app/models/invite.rb","lineno":49,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097826966540,"value":"#<Invite:0x00007f81d826d818>"}},{"id":758543,"event":"return","defined_class":"Invite","method_id":"redeemed?","path":"app/models/invite.rb","lineno":49,"static":false,"thread_id":70097708498960,"parent_id":758542,"elapsed":2.4e-05},{"id":758544,"event":"return","defined_class":"InviteSerializer","method_id":"include_email?","path":"app/serializers/invite_serializer.rb","lineno":7,"static":false,"thread_id":70097708498960,"parent_id":758541,"elapsed":0.000149,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758545,"event":"call","defined_class":"InviteSerializer","method_id":"expired","path":"app/serializers/invite_serializer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InviteSerializer","object_id":70097827022460,"value":"#<InviteSerializer:0x00007f81d8288cf8>"}},{"id":758546,"event":"call","defined_class":"Invite","method_id":"expired?","path":"app/models/invite.rb","lineno":53,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Invite","object_id":70097826966540,"value":"#<Invite:0x00007f81d826d818>"}},{"id":758547,"event":"return","defined_class":"Invite","method_id":"expired?","path":"app/models/invite.rb","lineno":53,"static":false,"thread_id":70097708498960,"parent_id":758546,"elapsed":0.000113},{"id":758548,"event":"return","defined_class":"InviteSerializer","method_id":"expired","path":"app/serializers/invite_serializer.rb","lineno":11,"static":false,"thread_id":70097708498960,"parent_id":758545,"elapsed":0.000233},{"id":758549,"event":"call","defined_class":"InviteSerializer","method_id":"user","path":"app/serializers/invite_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InviteSerializer","object_id":70097827022460,"value":"#<InviteSerializer:0x00007f81d8288cf8>"}},{"id":758550,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70097708498960,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 1000 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":758551,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70097708498960,"parent_id":758550,"elapsed":0.001431},{"id":758552,"event":"call","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758553,"event":"return","defined_class":"BasicUserSerializer","method_id":"include_name?","path":"app/serializers/basic_user_serializer.rb","lineno":10,"static":false,"thread_id":70097708498960,"parent_id":758552,"elapsed":1.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758554,"event":"call","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758555,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758556,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":758555,"elapsed":4.1e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d826d3e0>","object_id":70097826966000}},{"id":758557,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758558,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":758557,"elapsed":1.8e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d826d3e0>","object_id":70097826966000}},{"id":758559,"event":"return","defined_class":"BasicUserSerializer","method_id":"name","path":"app/serializers/basic_user_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":758554,"elapsed":0.000317,"return_value":{"class":"String","value":"Bruce Wayne","object_id":70097815005120}},{"id":758560,"event":"call","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758561,"event":"call","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758562,"event":"return","defined_class":"BasicUserSerializer","method_id":"user","path":"app/serializers/basic_user_serializer.rb","lineno":22,"static":false,"thread_id":70097708498960,"parent_id":758561,"elapsed":1.7e-05,"return_value":{"class":"User","value":"#<User:0x00007f81d826d3e0>","object_id":70097826966000}},{"id":758563,"event":"call","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"User","object_id":70097826966000,"value":"#<User:0x00007f81d826d3e0>"}},{"id":758564,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097815438660,"value":"bruce912","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758565,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097815438660,"value":"bruce912","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758566,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097815438660,"value":"bruce912","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758567,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70097708498960,"parent_id":758566,"elapsed":1.4e-05,"return_value":{"class":"String","value":"bruce912","object_id":70097815471340}},{"id":758568,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097815471340,"value":"bruce912","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758569,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parameters":[{"name":"username","class":"String","object_id":70097815471340,"value":"bruce912","kind":"req"},{"name":"length","class":"Integer","object_id":433,"value":"216","kind":"req"}],"receiver":{"class":"Class","object_id":70097723992360,"value":"User"}},{"id":758570,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"color_index","path":"app/models/user.rb","lineno":806,"static":true,"thread_id":70097708498960,"parent_id":758569,"elapsed":1.5e-05,"return_value":{"class":"Integer","value":"43","object_id":87}},{"id":758571,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"letter_avatar_color","path":"app/models/user.rb","lineno":791,"static":true,"thread_id":70097708498960,"parent_id":758568,"elapsed":0.000155,"return_value":{"class":"String","value":"85f322","object_id":70097815508800}},{"id":758572,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"system_avatar_template","path":"app/models/user.rb","lineno":774,"static":true,"thread_id":70097708498960,"parent_id":758565,"elapsed":0.000482,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097815494340}},{"id":758573,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"default_template","path":"app/models/user.rb","lineno":758,"static":true,"thread_id":70097708498960,"parent_id":758564,"elapsed":0.000615,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097815494340}},{"id":758574,"event":"return","defined_class":"User","method_id":"avatar_template","path":"app/models/user.rb","lineno":810,"static":false,"thread_id":70097708498960,"parent_id":758563,"elapsed":0.000748,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097815494340}},{"id":758575,"event":"return","defined_class":"BasicUserSerializer","method_id":"avatar_template","path":"app/serializers/basic_user_serializer.rb","lineno":14,"static":false,"thread_id":70097708498960,"parent_id":758560,"elapsed":0.000996,"return_value":{"class":"String","value":"/letter_avatar_proxy/v4/letter/b/85f322/{size}.png","object_id":70097815494340}},{"id":758576,"event":"call","defined_class":"InvitedUserSerializer","method_id":"include_topics_entered?","path":"app/serializers/invited_user_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758577,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097815443180,"value":"#<User:0x00007f81d6c72dd8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758578,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758579,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758578,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758580,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parent_id":758577,"elapsed":0.000161},{"id":758581,"event":"return","defined_class":"InvitedUserSerializer","method_id":"include_topics_entered?","path":"app/serializers/invited_user_serializer.rb","lineno":34,"static":false,"thread_id":70097708498960,"parent_id":758576,"elapsed":0.000309},{"id":758582,"event":"call","defined_class":"InvitedUserSerializer","method_id":"include_posts_read_count?","path":"app/serializers/invited_user_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758583,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097815443180,"value":"#<User:0x00007f81d6c72dd8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758584,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758585,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758584,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758586,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parent_id":758583,"elapsed":0.000102},{"id":758587,"event":"return","defined_class":"InvitedUserSerializer","method_id":"include_posts_read_count?","path":"app/serializers/invited_user_serializer.rb","lineno":42,"static":false,"thread_id":70097708498960,"parent_id":758582,"elapsed":0.000231},{"id":758588,"event":"call","defined_class":"InvitedUserSerializer","method_id":"include_time_read?","path":"app/serializers/invited_user_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758589,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097815443180,"value":"#<User:0x00007f81d6c72dd8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758590,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758591,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758590,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758592,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parent_id":758589,"elapsed":0.000122},{"id":758593,"event":"return","defined_class":"InvitedUserSerializer","method_id":"include_time_read?","path":"app/serializers/invited_user_serializer.rb","lineno":18,"static":false,"thread_id":70097708498960,"parent_id":758588,"elapsed":0.000237},{"id":758594,"event":"call","defined_class":"InvitedUserSerializer","method_id":"include_days_visited?","path":"app/serializers/invited_user_serializer.rb","lineno":26,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758595,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097815443180,"value":"#<User:0x00007f81d6c72dd8>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758596,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758597,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758596,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758598,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parent_id":758595,"elapsed":0.000118},{"id":758599,"event":"return","defined_class":"InvitedUserSerializer","method_id":"include_days_visited?","path":"app/serializers/invited_user_serializer.rb","lineno":26,"static":false,"thread_id":70097708498960,"parent_id":758594,"elapsed":0.000229},{"id":758600,"event":"call","defined_class":"InvitedUserSerializer","method_id":"days_since_created","path":"app/serializers/invited_user_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedUserSerializer","object_id":70097827009940,"value":"#<InvitedUserSerializer:0x00007f81d8282b28>"}},{"id":758601,"event":"return","defined_class":"InvitedUserSerializer","method_id":"days_since_created","path":"app/serializers/invited_user_serializer.rb","lineno":46,"static":false,"thread_id":70097708498960,"parent_id":758600,"elapsed":3.6e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":758602,"event":"return","defined_class":"InviteSerializer","method_id":"user","path":"app/serializers/invite_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":758549,"elapsed":0.009725,"return_value":{"class":"Hash","value":"{:id=>1002, :username=>\"bruce912\", :name=>\"Bruce Wayne\", :avatar_template=>\"/letter_avatar_proxy/v4/","object_id":70097815439980}},{"id":758603,"event":"return","defined_class":"InvitedSerializer","method_id":"invites","path":"app/serializers/invited_serializer.rb","lineno":6,"static":false,"thread_id":70097708498960,"parent_id":758540,"elapsed":0.010593,"return_value":{"class":"Array","value":"[{:email=>\"billybob@example.com\", :updated_at=>Thu, 28 May 2020 18:58:13 UTC +00:00, :redeemed_at=>n","object_id":70097827022780}},{"id":758604,"event":"return","defined_class":"InvitedSerializer","method_id":"read_attribute_for_serialization","path":"app/serializers/invited_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":758539,"elapsed":0.01078,"return_value":{"class":"Array","value":"[{:email=>\"billybob@example.com\", :updated_at=>Thu, 28 May 2020 18:58:13 UTC +00:00, :redeemed_at=>n","object_id":70097827022780}},{"id":758605,"event":"call","defined_class":"InvitedSerializer","method_id":"read_attribute_for_serialization","path":"app/serializers/invited_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parameters":[{"name":"attr","class":"Symbol","object_id":22475548,"value":"can_see_invite_details","kind":"req"}],"receiver":{"class":"InvitedSerializer","object_id":70097826985480,"value":"#<InvitedSerializer:0x00007f81d8276c10>"}},{"id":758606,"event":"call","defined_class":"InvitedSerializer","method_id":"can_see_invite_details","path":"app/serializers/invited_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"InvitedSerializer","object_id":70097826985480,"value":"#<InvitedSerializer:0x00007f81d8276c10>"}},{"id":758607,"event":"call","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097731768980,"value":"#<User:0x00007f81cccda528>","kind":"req"}],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758608,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"Guardian","object_id":70097826297820,"value":"#<Guardian:0x00007f81d8126fb8>"}},{"id":758609,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70097708498960,"parent_id":758608,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758610,"event":"return","defined_class":"Guardian","method_id":"can_see_invite_details?","path":"lib/guardian.rb","lineno":330,"static":false,"thread_id":70097708498960,"parent_id":758607,"elapsed":0.000123},{"id":758611,"event":"return","defined_class":"InvitedSerializer","method_id":"can_see_invite_details","path":"app/serializers/invited_serializer.rb","lineno":15,"static":false,"thread_id":70097708498960,"parent_id":758606,"elapsed":0.000254},{"id":758612,"event":"return","defined_class":"InvitedSerializer","method_id":"read_attribute_for_serialization","path":"app/serializers/invited_serializer.rb","lineno":19,"static":false,"thread_id":70097708498960,"parent_id":758605,"elapsed":0.000368},{"id":758613,"event":"return","defined_class":"UsersController","method_id":"invited","path":"app/controllers/users_controller.rb","lineno":301,"static":false,"thread_id":70097708498960,"parent_id":758488,"elapsed":0.027865,"return_value":{"class":"String","value":"{\"invites\":[{\"email\":\"billybob@example.com\",\"updated_at\":\"2020-05-28T18:58:13.246Z\",\"redeemed_at\":nu","object_id":70097815772100}},{"id":758614,"event":"call","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758615,"event":"return","defined_class":"ApplicationController","method_id":"conditionally_allow_site_embedding","path":"app/controllers/application_controller.rb","lineno":92,"static":false,"thread_id":70097708498960,"parent_id":758614,"elapsed":8.0e-06},{"id":758616,"event":"call","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758617,"event":"return","defined_class":"ApplicationController","method_id":"dont_cache_page","path":"app/controllers/application_controller.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":758616,"elapsed":8.0e-06,"return_value":{"class":"Array","value":"[\"no-store\"]","object_id":70097815781420}},{"id":758618,"event":"call","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"UsersController","object_id":70097800365640,"value":"#<UsersController:0x00007f81d4fb0c90>"}},{"id":758619,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758620,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758619,"elapsed":5.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758621,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parameters":[{"name":"user","class":"User","object_id":70097609258520,"value":"#<User:0x00007f81be32ec30>","kind":"req"},{"name":"session","class":"ActionDispatch::Request::Session","object_id":70097828827880,"value":"#<ActionDispatch::Request::Session:0x00007f81d85fa5d0>","kind":"req"},{"name":"cookies","class":"ActionDispatch::Cookies::CookieJar","object_id":70097566288420,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007f81b9139448>","kind":"req"}],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758622,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758623,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758624,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758623,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758625,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70097708498960,"parent_id":758622,"elapsed":0.00012},{"id":758626,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758627,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097800416600,"value":"#<TestCurrentUserProvider:0x00007f81d4fc9ab0>"}},{"id":758628,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70097708498960,"parent_id":758627,"elapsed":4.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f81be32ec30>","object_id":70097609258520}},{"id":758629,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_user_api?","path":"lib/auth/default_current_user_provider.rb","lineno":276,"static":false,"thread_id":70097708498960,"parent_id":758626,"elapsed":0.000118},{"id":758630,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"refresh_session","path":"lib/auth/default_current_user_provider.rb","lineno":173,"static":false,"thread_id":70097708498960,"parent_id":758621,"elapsed":0.000525},{"id":758631,"event":"return","defined_class":"ApplicationController","method_id":"perform_refresh_session","path":"app/controllers/application_controller.rb","lineno":75,"static":false,"thread_id":70097708498960,"parent_id":758618,"elapsed":0.000789},{"id":758632,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70097708498960,"parent_id":758371,"elapsed":0.179439,"http_server_response":{"status":200}},{"id":758633,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70097815863880,"value":"#<TestCurrentUserProvider:0x00007f81d6d40490>"}},{"id":758634,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70097708498960,"parent_id":758633,"elapsed":1.1e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":758635,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13040028,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":758636,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":758635,"elapsed":7.0e-06},{"id":758637,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parameters":[{"name":"type","class":"Symbol","object_id":13041948,"value":"http_2xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70097802320860,"value":"ApplicationRequest"}},{"id":758638,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70097708498960,"parent_id":758637,"elapsed":4.0e-06}]}