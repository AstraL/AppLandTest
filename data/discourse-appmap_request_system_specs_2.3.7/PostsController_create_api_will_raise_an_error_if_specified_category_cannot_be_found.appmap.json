{"version":"1.2","metadata":{"language":{"name":"ruby","engine":"ruby","version":"2.6.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.26.1"},"frameworks":[{"name":"rails","version":"6.0.3.1"},{"name":"rspec","version":"3.9.2"}],"git":{"repository":"git@github.com:applandinc/discourse.git","branch":"master","commit":"32fd4b3aab495794a8b45d85fb5cca2201161e3c","status":["M Gemfile.lock","M config/initializers/150-appmap.rb","M spec/requests/user_actions_controller_spec.rb","M spec/requests/users_controller_spec.rb"],"git_last_annotated_tag":"v2.5.0.beta5","git_last_tag":"v2.5.0.beta5","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"PostsController #create api will raise an error if specified category cannot be found","app":"Discourse","feature":"PostsController #create","feature_group":"Posts","recorder":{"name":"rspec"}},"classMap":[{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"password=","type":"function","location":"app/models/user.rb:618","static":false},{"name":"email=","type":"function","location":"app/models/user.rb:1198","static":false},{"name":"should_validate_email_address?","type":"function","location":"app/models/user.rb:432","static":false},{"name":"username_format_validator","type":"function","location":"app/models/user.rb:924","static":false},{"name":"confirm_password?","type":"function","location":"app/models/user.rb:650","static":false},{"name":"password_validator","type":"function","location":"app/models/user.rb:646","static":false},{"name":"password_validation_required?","type":"function","location":"app/models/user.rb:638","static":false},{"name":"password_required?","type":"function","location":"app/models/user.rb:634","static":false},{"name":"email","type":"function","location":"app/models/user.rb:1194","static":false},{"name":"create_user_profile","type":"function","location":"app/models/user.rb:1139","static":false},{"name":"set_random_avatar","type":"function","location":"app/models/user.rb:1143","static":false},{"name":"refresh_avatar","type":"function","location":"app/models/user.rb:1053","static":false},{"name":"suspended?","type":"function","location":"app/models/user.rb:869","static":false},{"name":"effective_locale","type":"function","location":"app/models/user.rb:321","static":false}]},{"name":"UsernameValidator","type":"class","children":[{"name":"perform_validation","type":"function","location":"app/models/username_validator.rb:11","static":true},{"name":"valid_format?","type":"function","location":"app/models/username_validator.rb:30","static":false},{"name":"invalid_char_pattern","type":"function","location":"app/models/username_validator.rb:132","static":true},{"name":"char_whitelist_exists?","type":"function","location":"app/models/username_validator.rb:136","static":true}]},{"name":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","type":"class","children":[{"name":"username_length","type":"function","location":"app/models/user.rb:241","static":true},{"name":"normalize_username","type":"function","location":"app/models/user.rb:245","static":true},{"name":"max_password_length","type":"function","location":"app/models/user.rb:237","static":true}]},{"name":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_ip_address.rb:74","static":true},{"name":"exists_for_ip_address_and_action?","type":"function","location":"app/models/screened_ip_address.rb:82","static":true},{"name":"match_for_ip_address","type":"function","location":"app/models/screened_ip_address.rb:64","static":true}]},{"name":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","type":"class","children":[{"name":"should_block?","type":"function","location":"app/models/screened_email.rb:35","static":true},{"name":"canonical","type":"function","location":"app/models/screened_email.rb:21","static":true}]},{"name":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"generate_token","type":"function","location":"app/models/email_token.rb:36","static":true},{"name":"token_length","type":"function","location":"app/models/email_token.rb:20","static":true}]},{"name":"UserOption","type":"class","children":[{"name":"set_defaults","type":"function","location":"app/models/user_option.rb:47","static":false},{"name":"text_size=","type":"function","location":"app/models/user_option.rb:172","static":false},{"name":"title_count_mode=","type":"function","location":"app/models/user_option.rb:180","static":false}]},{"name":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","type":"class","children":[{"name":"text_sizes","type":"function","location":"app/models/user_option.rb:30","static":true},{"name":"title_count_modes","type":"function","location":"app/models/user_option.rb:34","static":true}]},{"name":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","type":"class","children":[{"name":"notification_levels","type":"function","location":"app/models/topic_user.rb:29","static":true}]},{"name":"HasCustomFields","type":"class","children":[{"name":"save_custom_fields","type":"function","location":"app/models/concerns/has_custom_fields.rb:204","static":false},{"name":"custom_fields_clean?","type":"function","location":"app/models/concerns/has_custom_fields.rb:185","static":false}]},{"name":"Site","type":"class","children":[{"name":"clear_anon_cache!","type":"function","location":"app/models/site.rb:129","static":true}]},{"name":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","type":"class","children":[{"name":"enqueue_object_hooks","type":"function","location":"app/models/web_hook.rb:60","static":true},{"name":"active_web_hooks","type":"function","location":"app/models/web_hook.rb:45","static":true}]},{"name":"ApiKey","type":"class","children":[{"name":"generate_key","type":"function","location":"app/models/api_key.rb:19","static":false},{"name":"key","type":"function","location":"app/models/api_key.rb:27","static":false},{"name":"key_available?","type":"function","location":"app/models/api_key.rb:32","static":false}]},{"name":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","type":"class","children":[{"name":"hash_key","type":"function","location":"app/models/api_key.rb:60","static":true}]},{"name":"LocaleSiteSetting","type":"class","children":[{"name":"fallback_locale","type":"function","location":"app/models/locale_site_setting.rb:62","static":true}]},{"name":"Roleable","type":"class","children":[{"name":"staff?","type":"function","location":"app/models/concerns/roleable.rb:13","static":false}]},{"name":"GlobalSetting","type":"class","children":[{"name":"skip_db?","type":"function","location":"app/models/global_setting.rb:84","static":true}]},{"name":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","type":"class","children":[{"name":"increment!","type":"function","location":"app/models/application_request.rb:26","static":true}]}]},{"name":"lib/validators","type":"package","children":[{"name":"PasswordValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/password_validator.rb:5","static":false}]},{"name":"UserFullNameValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/user_full_name_validator.rb:5","static":false}]},{"name":"AllowedIpAddressValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/allowed_ip_address_validator.rb:5","static":false}]},{"name":"EmailValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/email_validator.rb:5","static":false},{"name":"allowed?","type":"function","location":"lib/validators/email_validator.rb:15","static":true},{"name":"email_in_restriction_setting?","type":"function","location":"lib/validators/email_validator.rb:33","static":true}]},{"name":"TimezoneValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"lib/validators/timezone_validator.rb:14","static":false}]},{"name":"RegexSettingValidation","type":"class","children":[{"name":"initialize_regex_opts","type":"function","location":"lib/validators/regex_setting_validation.rb:5","static":false}]},{"name":"StringSettingValidator","type":"class","children":[{"name":"valid_value?","type":"function","location":"lib/validators/string_setting_validator.rb:12","static":false}]}]},{"name":"app/services","type":"package","children":[{"name":"BadgeGranter","type":"class","children":[{"name":"queue_badge_grant","type":"function","location":"app/services/badge_granter.rb:126","static":true}]},{"name":"TrackedTopicsUpdater","type":"class","children":[{"name":"call","type":"function","location":"app/services/tracked_topics_updater.rb:10","static":false}]},{"name":"SearchIndexer","type":"class","children":[{"name":"index","type":"function","location":"app/services/search_indexer.rb:126","static":true}]}]},{"name":"app/controllers","type":"package","children":[{"name":"ApplicationController","type":"class","children":[{"name":"handle_theme","type":"function","location":"app/controllers/application_controller.rb:388","static":false},{"name":"resolve_safe_mode","type":"function","location":"app/controllers/application_controller.rb:377","static":false},{"name":"guardian","type":"function","location":"app/controllers/application_controller.rb:423","static":false},{"name":"set_current_user_for_logs","type":"function","location":"app/controllers/application_controller.rb:294","static":false},{"name":"clear_notifications","type":"function","location":"app/controllers/application_controller.rb:302","static":false},{"name":"set_locale","type":"function","location":"app/controllers/application_controller.rb:328","static":false},{"name":"set_mobile_view","type":"function","location":"app/controllers/application_controller.rb:368","static":false},{"name":"requires_login_arg","type":"function","location":"app/controllers/application_controller.rb:669","static":true},{"name":"preload_json","type":"function","location":"app/controllers/application_controller.rb:352","static":false},{"name":"rescue_discourse_actions","type":"function","location":"app/controllers/application_controller.rb:229","static":false}]},{"name":"PostsController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/posts_controller.rb:164","static":false}]}]},{"name":"lib/auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"DefaultCurrentUserProvider","type":"class","children":[{"name":"current_user","type":"function","location":"lib/auth/default_current_user_provider.rb:61","static":false},{"name":"should_update_last_seen?","type":"function","location":"lib/auth/default_current_user_provider.rb:286","static":false},{"name":"is_api?","type":"function","location":"lib/auth/default_current_user_provider.rb:271","static":false},{"name":"has_auth_cookie?","type":"function","location":"lib/auth/default_current_user_provider.rb:281","static":false}]}]}]},{"name":"lib/guardian","type":"package","children":[{"name":"Guardian","type":"class","children":[{"name":"can_enable_safe_mode?","type":"function","location":"lib/guardian.rb:149","static":false},{"name":"allow_themes?","type":"function","location":"lib/guardian.rb:474","static":false},{"name":"can_create?","type":"function","location":"lib/guardian.rb:129","static":false},{"name":"authenticated?","type":"function","location":"lib/guardian.rb:80","static":false},{"name":"is_staff?","type":"function","location":"lib/guardian.rb:88","static":false}]},{"name":"EnsureMagic","type":"class","children":[{"name":"method_missing","type":"function","location":"lib/guardian/ensure_magic.rb:6","static":false}]},{"name":"TopicGuardian","type":"class","children":[{"name":"can_create_topic?","type":"function","location":"lib/guardian/topic_guardian.rb:38","static":false}]}]}],"events":[{"id":21883,"event":"call","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70159167627220,"parameters":[{"name":"password","class":"String","object_id":70159261942160,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21884,"event":"return","defined_class":"User","method_id":"password=","path":"app/models/user.rb","lineno":618,"static":false,"thread_id":70159167627220,"parent_id":21883,"elapsed":7.0e-06,"return_value":{"class":"String","value":"myawesomepassword","object_id":70159261942160}},{"id":21885,"event":"call","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70159167627220,"parameters":[{"name":"new_email","class":"String","object_id":70159286556420,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21886,"event":"return","defined_class":"User","method_id":"email=","path":"app/models/user.rb","lineno":1198,"static":false,"thread_id":70159167627220,"parent_id":21885,"elapsed":0.000151,"return_value":{"class":"UserEmail","value":"#<UserEmail:0x00007f9e76b48928>","object_id":70159286551700}},{"id":21887,"event":"call","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21888,"event":"return","defined_class":"User","method_id":"should_validate_email_address?","path":"app/models/user.rb","lineno":432,"static":false,"thread_id":70159167627220,"parent_id":21887,"elapsed":1.8e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":21889,"event":"call","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21890,"event":"call","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70159167627220,"parameters":[{"name":"object","class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>","kind":"req"},{"name":"field_name","class":"String","object_id":70159173330880,"value":"username","kind":"req"}],"receiver":{"class":"Class","object_id":70159186945780,"value":"UsernameValidator"}},{"id":21891,"event":"call","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"UsernameValidator","object_id":70159286563380,"value":"#<UsernameValidator:0x00007f9e76b4e468>"}},{"id":21892,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243824300,"value":"User"}},{"id":21893,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70159167627220,"parent_id":21892,"elapsed":1.3e-05,"return_value":{"class":"Range","value":"3..20","object_id":70159286561500}},{"id":21894,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243824300,"value":"User"}},{"id":21895,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"username_length","path":"app/models/user.rb","lineno":241,"static":true,"thread_id":70159167627220,"parent_id":21894,"elapsed":8.0e-06,"return_value":{"class":"Range","value":"3..20","object_id":70159286560080}},{"id":21896,"event":"call","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159186945780,"value":"UsernameValidator"}},{"id":21897,"event":"return","defined_class":"UsernameValidator","method_id":"invalid_char_pattern","path":"app/models/username_validator.rb","lineno":132,"static":true,"thread_id":70159167627220,"parent_id":21896,"elapsed":5.0e-06,"return_value":{"class":"Regexp","value":"(?-mix:[^\\w.-])","object_id":70159186888500}},{"id":21898,"event":"call","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159186945780,"value":"UsernameValidator"}},{"id":21899,"event":"return","defined_class":"UsernameValidator","method_id":"char_whitelist_exists?","path":"app/models/username_validator.rb","lineno":136,"static":true,"thread_id":70159167627220,"parent_id":21898,"elapsed":4.0e-06},{"id":21900,"event":"return","defined_class":"UsernameValidator","method_id":"valid_format?","path":"app/models/username_validator.rb","lineno":30,"static":false,"thread_id":70159167627220,"parent_id":21891,"elapsed":0.000398,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":21901,"event":"return","defined_class":"UsernameValidator","method_id":"perform_validation","path":"app/models/username_validator.rb","lineno":11,"static":true,"thread_id":70159167627220,"parent_id":21890,"elapsed":0.000497},{"id":21902,"event":"return","defined_class":"User","method_id":"username_format_validator","path":"app/models/user.rb","lineno":924,"static":false,"thread_id":70159167627220,"parent_id":21889,"elapsed":0.000594},{"id":21903,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70159167627220,"parameters":[{"name":"username","class":"String","object_id":70159286565840,"value":"anne16","kind":"req"}],"receiver":{"class":"Class","object_id":70159243824300,"value":"User"}},{"id":21904,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"normalize_username","path":"app/models/user.rb","lineno":245,"static":true,"thread_id":70159167627220,"parent_id":21903,"elapsed":1.4e-05,"return_value":{"class":"String","value":"anne16","object_id":70159286620120}},{"id":21905,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":21906,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21905,"elapsed":0.001113},{"id":21907,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parameters":[{"name":"password","class":"String","object_id":70159286565840,"value":"anne16","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21908,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parent_id":21907,"elapsed":2.1e-05},{"id":21909,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parameters":[{"name":"password","class":"String","object_id":70159039942540,"value":"anne16","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21910,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parent_id":21909,"elapsed":6.0e-06},{"id":21911,"event":"call","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21912,"event":"call","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parameters":[{"name":"record","class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":727708,"value":"password","kind":"req"},{"name":"value","class":"String","object_id":70159261942160,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"PasswordValidator","object_id":70159039939760,"value":"#<PasswordValidator:0x00007f9e594e8960>"}},{"id":21913,"event":"call","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21914,"event":"call","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21915,"event":"return","defined_class":"User","method_id":"password_required?","path":"app/models/user.rb","lineno":634,"static":false,"thread_id":70159167627220,"parent_id":21914,"elapsed":3.0e-06},{"id":21916,"event":"return","defined_class":"User","method_id":"password_validation_required?","path":"app/models/user.rb","lineno":638,"static":false,"thread_id":70159167627220,"parent_id":21913,"elapsed":0.000108,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":21917,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21918,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70159167627220,"parent_id":21917,"elapsed":1.2e-05,"return_value":{"class":"String","value":"anne16@discourse.org","object_id":70159039958020}},{"id":21919,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21920,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70159167627220,"parent_id":21919,"elapsed":6.0e-06,"return_value":{"class":"String","value":"anne16@discourse.org","object_id":70159039958020}},{"id":21921,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parameters":[{"name":"password","class":"String","object_id":70159261942160,"value":"myawesomepassword","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21922,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parent_id":21921,"elapsed":6.0e-06},{"id":21923,"event":"return","defined_class":"PasswordValidator","method_id":"validate_each","path":"lib/validators/password_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parent_id":21912,"elapsed":0.002233},{"id":21924,"event":"return","defined_class":"User","method_id":"password_validator","path":"app/models/user.rb","lineno":646,"static":false,"thread_id":70159167627220,"parent_id":21911,"elapsed":0.002401},{"id":21925,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243824300,"value":"User"}},{"id":21926,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70159167627220,"parent_id":21925,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":21927,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parameters":[{"name":"password","class":"String","object_id":70159069915600,"value":"Anne Admin","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21928,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parent_id":21927,"elapsed":6.0e-06},{"id":21929,"event":"call","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parameters":[{"name":"password","class":"String","object_id":70159069913920,"value":"anne admin","kind":"req"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21930,"event":"return","defined_class":"User","method_id":"confirm_password?","path":"app/models/user.rb","lineno":650,"static":false,"thread_id":70159167627220,"parent_id":21929,"elapsed":5.0e-06},{"id":21931,"event":"call","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parameters":[{"name":"record","class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":88028,"value":"name","kind":"req"},{"name":"value","class":"String","object_id":70159039959140,"value":"Anne Admin","kind":"req"}],"receiver":{"class":"UserFullNameValidator","object_id":70159164701540,"value":"#<UserFullNameValidator:0x00007f9e682df6c8>"}},{"id":21932,"event":"return","defined_class":"UserFullNameValidator","method_id":"validate_each","path":"lib/validators/user_full_name_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parent_id":21931,"elapsed":7.0e-06},{"id":21933,"event":"call","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parameters":[{"name":"record","class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":3139228,"value":"ip_address","kind":"req"},{"name":"value","class":"IPAddr","object_id":70159069933700,"value":"99.232.23.16","kind":"req"}],"receiver":{"class":"AllowedIpAddressValidator","object_id":70159164707200,"value":"#<AllowedIpAddressValidator:0x00007f9e682e2300>"}},{"id":21934,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70159167627220,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70159069933700,"value":"99.232.23.16","kind":"req"}],"receiver":{"class":"Class","object_id":70159243480660,"value":"ScreenedIpAddress"}},{"id":21935,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70159167627220,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70159069933700,"value":"99.232.23.16","kind":"req"},{"name":"action_type","class":"Integer","object_id":3,"value":"1","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159243480660,"value":"ScreenedIpAddress"}},{"id":21936,"event":"call","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70159167627220,"parameters":[{"name":"ip_address","class":"IPAddr","object_id":70159069933700,"value":"99.232.23.16","kind":"req"}],"receiver":{"class":"Class","object_id":70159243480660,"value":"ScreenedIpAddress"}},{"id":21937,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"screened_ip_addresses\".* FROM \"screened_ip_addresses\" WHERE ('99.232.23.16' <<= ip_address) LIMIT 1","database_type":"postgres","server_version":110006}},{"id":21938,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21937,"elapsed":0.00093},{"id":21939,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"match_for_ip_address","path":"app/models/screened_ip_address.rb","lineno":64,"static":true,"thread_id":70159167627220,"parent_id":21936,"elapsed":0.003685},{"id":21940,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"exists_for_ip_address_and_action?","path":"app/models/screened_ip_address.rb","lineno":82,"static":true,"thread_id":70159167627220,"parent_id":21935,"elapsed":0.003801},{"id":21941,"event":"return","defined_class":"ScreenedIpAddress(id: integer, ip_address: inet, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime)","method_id":"should_block?","path":"app/models/screened_ip_address.rb","lineno":74,"static":true,"thread_id":70159167627220,"parent_id":21934,"elapsed":0.003901},{"id":21942,"event":"return","defined_class":"AllowedIpAddressValidator","method_id":"validate_each","path":"lib/validators/allowed_ip_address_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parent_id":21933,"elapsed":0.004016},{"id":21943,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parameters":[{"name":"record","class":"UserEmail","object_id":70159286551700,"value":"#<UserEmail:0x00007f9e76b48928>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70159055041100,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70159257864340,"value":"#<EmailValidator:0x00007f9e73491128>"}},{"id":21944,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70159167627220,"parameters":[{"name":"email","class":"String","object_id":70159055041100,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159257815300,"value":"EmailValidator"}},{"id":21945,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70159167627220,"parameters":[{"name":"setting","class":"String","object_id":70159243217980,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70159055041100,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159257815300,"value":"EmailValidator"}},{"id":21946,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70159167627220,"parent_id":21945,"elapsed":2.5e-05},{"id":21947,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70159167627220,"parent_id":21944,"elapsed":0.000117,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":21948,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70159167627220,"parameters":[{"name":"email","class":"String","object_id":70159055041100,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159262240980,"value":"ScreenedEmail"}},{"id":21949,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70159167627220,"parameters":[{"name":"email","class":"String","object_id":70159055041100,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159262240980,"value":"ScreenedEmail"}},{"id":21950,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70159167627220,"parent_id":21949,"elapsed":7.0e-06,"return_value":{"class":"String","value":"anne16@discourse.org","object_id":70159055056460}},{"id":21951,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":21952,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21951,"elapsed":0.001004},{"id":21953,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70159167627220,"parent_id":21948,"elapsed":0.004051},{"id":21954,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parent_id":21943,"elapsed":0.004372},{"id":21955,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'anne16@discourse.org') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":21956,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21955,"elapsed":0.001061},{"id":21957,"event":"call","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243824300,"value":"User"}},{"id":21958,"event":"return","defined_class":"User(id: integer, username: string, created_at: datetime, updated_at: datetime, name: string, seen_notification_id: integer, last_posted_at: datetime, password_hash: string, salt: string, active: boolean, username_lower: string, last_seen_at: datetime, admin: boolean, last_emailed_at: datetime, trust_level: integer, approved: boolean, approved_by_id: integer, approved_at: datetime, previous_visit_at: datetime, suspended_at: datetime, suspended_till: datetime, date_of_birth: date, views: integer, flag_level: integer, ip_address: inet, moderator: boolean, title: string, uploaded_avatar_id: integer, locale: string, primary_group_id: integer, registration_ip_address: inet, staged: boolean, first_seen_at: datetime, silenced_till: datetime, group_locked_trust_level: integer, manual_locked_trust_level: integer, secure_identifier: string)","method_id":"max_password_length","path":"app/models/user.rb","lineno":237,"static":true,"thread_id":70159167627220,"parent_id":21957,"elapsed":4.0e-06,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":21959,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"users\" (\"username\", \"created_at\", \"updated_at\", \"name\", \"password_hash\", \"salt\", \"active\", \"username_lower\", \"admin\", \"trust_level\", \"ip_address\") VALUES ('anne16', '2020-05-28 18:45:38.061067', '2020-05-28 18:45:38.061067', 'Anne Admin', '0b7c08df311577e4aa3cf087ff1a1bb9711cd5db009ba226eec60fc94f82e87d', 'c1a688b53288367fd77f97380815c1d6', TRUE, 'anne16', TRUE, 1, '99.232.23.16/32') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":21960,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21959,"elapsed":0.001245},{"id":21961,"event":"call","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parameters":[{"name":"record","class":"UserEmail","object_id":70159286551700,"value":"#<UserEmail:0x00007f9e76b48928>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":735708,"value":"email","kind":"req"},{"name":"value","class":"String","object_id":70159242072880,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"EmailValidator","object_id":70159257864340,"value":"#<EmailValidator:0x00007f9e73491128>"}},{"id":21962,"event":"call","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70159167627220,"parameters":[{"name":"email","class":"String","object_id":70159242072880,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159257815300,"value":"EmailValidator"}},{"id":21963,"event":"call","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70159167627220,"parameters":[{"name":"setting","class":"String","object_id":70159243217980,"value":"mailinator.com","kind":"req"},{"name":"value","class":"String","object_id":70159242072880,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159257815300,"value":"EmailValidator"}},{"id":21964,"event":"return","defined_class":"EmailValidator","method_id":"email_in_restriction_setting?","path":"lib/validators/email_validator.rb","lineno":33,"static":true,"thread_id":70159167627220,"parent_id":21963,"elapsed":2.5e-05},{"id":21965,"event":"return","defined_class":"EmailValidator","method_id":"allowed?","path":"lib/validators/email_validator.rb","lineno":15,"static":true,"thread_id":70159167627220,"parent_id":21962,"elapsed":0.000123,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":21966,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70159167627220,"parameters":[{"name":"email","class":"String","object_id":70159242072880,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159262240980,"value":"ScreenedEmail"}},{"id":21967,"event":"call","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70159167627220,"parameters":[{"name":"email","class":"String","object_id":70159242072880,"value":"anne16@discourse.org","kind":"req"}],"receiver":{"class":"Class","object_id":70159262240980,"value":"ScreenedEmail"}},{"id":21968,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"canonical","path":"app/models/screened_email.rb","lineno":21,"static":true,"thread_id":70159167627220,"parent_id":21967,"elapsed":9.0e-06,"return_value":{"class":"String","value":"anne16@discourse.org","object_id":70159242089960}},{"id":21969,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"screened_emails\".* FROM \"screened_emails\" ORDER BY \"screened_emails\".\"created_at\" DESC LIMIT 100","database_type":"postgres","server_version":110006}},{"id":21970,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21969,"elapsed":0.001023},{"id":21971,"event":"return","defined_class":"ScreenedEmail(id: integer, email: string, action_type: integer, match_count: integer, last_match_at: datetime, created_at: datetime, updated_at: datetime, ip_address: inet)","method_id":"should_block?","path":"app/models/screened_email.rb","lineno":35,"static":true,"thread_id":70159167627220,"parent_id":21966,"elapsed":0.003978},{"id":21972,"event":"return","defined_class":"EmailValidator","method_id":"validate_each","path":"lib/validators/email_validator.rb","lineno":5,"static":false,"thread_id":70159167627220,"parent_id":21961,"elapsed":0.004299},{"id":21973,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE \"user_emails\".\"primary\" = TRUE AND \"user_emails\".\"user_id\" = 17 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":21974,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21973,"elapsed":0.001026},{"id":21975,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT 1 AS one FROM \"user_emails\" WHERE (lower(email) = 'anne16@discourse.org') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":21976,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21975,"elapsed":0.00096},{"id":21977,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"user_emails\" (\"user_id\", \"email\", \"primary\", \"created_at\", \"updated_at\") VALUES (17, 'anne16@discourse.org', TRUE, '2020-05-28 18:45:38.076662', '2020-05-28 18:45:38.076662') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":21978,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21977,"elapsed":0.001007},{"id":21979,"event":"call","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":21980,"event":"return","defined_class":"User","method_id":"email","path":"app/models/user.rb","lineno":1194,"static":false,"thread_id":70159167627220,"parent_id":21979,"elapsed":1.3e-05,"return_value":{"class":"String","value":"anne16@discourse.org","object_id":70159242597420}},{"id":21981,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159272972440,"value":"EmailToken"}},{"id":21982,"event":"call","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159272972440,"value":"EmailToken"}},{"id":21983,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"token_length","path":"app/models/email_token.rb","lineno":20,"static":true,"thread_id":70159167627220,"parent_id":21982,"elapsed":3.0e-06,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":21984,"event":"return","defined_class":"EmailToken(id: integer, user_id: integer, email: string, token: string, confirmed: boolean, expired: boolean, created_at: datetime, updated_at: datetime)","method_id":"generate_token","path":"app/models/email_token.rb","lineno":36,"static":true,"thread_id":70159167627220,"parent_id":21981,"elapsed":0.000126,"return_value":{"class":"String","value":"34420de58b9ea8af2855c7527ea51f44","object_id":70159242614600}},{"id":21985,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"email_tokens\" (\"user_id\", \"email\", \"token\", \"created_at\", \"updated_at\") VALUES (17, 'anne16@discourse.org', '34420de58b9ea8af2855c7527ea51f44', '2020-05-28 18:45:38.081219', '2020-05-28 18:45:38.081219') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":21986,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21985,"elapsed":0.000914},{"id":21987,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"UPDATE \"email_tokens\" SET \"expired\" = TRUE WHERE \"email_tokens\".\"user_id\" = 17 AND (id != 115)","database_type":"postgres","server_version":110006}},{"id":21988,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21987,"elapsed":0.001015},{"id":21989,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"user_stats\" (\"user_id\", \"new_since\") VALUES (17, '2020-05-28 18:45:38.126449') RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":21990,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21989,"elapsed":0.001318},{"id":21991,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 17 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":21992,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":21991,"elapsed":0.000965},{"id":21993,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70159256965860,"value":"{:user=>#<User id: 17, username: \"anne16\", created_at: \"2020-05-28 18:45:38\", updated_at: \"2020-05-2","kind":"req"}],"receiver":{"class":"Class","object_id":70159272496120,"value":"BadgeGranter"}},{"id":21994,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70159167627220,"parent_id":21993,"elapsed":1.1e-05},{"id":21995,"event":"call","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70159167627220,"parameters":[{"name":"record","class":"UserOption","object_id":70159257030920,"value":"#<UserOption:0x00007f9e732fa210>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":5128348,"value":"timezone","kind":"req"},{"name":"value","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"TimezoneValidator","object_id":70159273500360,"value":"#<TimezoneValidator:0x00007f9e75263d90>"}},{"id":21996,"event":"return","defined_class":"TimezoneValidator","method_id":"validate_each","path":"lib/validators/timezone_validator.rb","lineno":14,"static":false,"thread_id":70159167627220,"parent_id":21995,"elapsed":4.0e-06},{"id":21997,"event":"call","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"UserOption","object_id":70159257030920,"value":"#<UserOption:0x00007f9e732fa210>"}},{"id":21998,"event":"call","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70159167627220,"parameters":[{"name":"value","class":"String","object_id":70159243461020,"value":"normal","kind":"req"}],"receiver":{"class":"UserOption","object_id":70159257030920,"value":"#<UserOption:0x00007f9e732fa210>"}},{"id":21999,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159273432440,"value":"UserOption"}},{"id":22000,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"text_sizes","path":"app/models/user_option.rb","lineno":30,"static":true,"thread_id":70159167627220,"parent_id":21999,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:normal=>0, :larger=>1, :largest=>2, :smaller=>3}","object_id":70159273445340}},{"id":22001,"event":"return","defined_class":"UserOption","method_id":"text_size=","path":"app/models/user_option.rb","lineno":172,"static":false,"thread_id":70159167627220,"parent_id":21998,"elapsed":0.000123,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":22002,"event":"call","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70159167627220,"parameters":[{"name":"value","class":"String","object_id":70159243485080,"value":"notifications","kind":"req"}],"receiver":{"class":"UserOption","object_id":70159257030920,"value":"#<UserOption:0x00007f9e732fa210>"}},{"id":22003,"event":"call","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159273432440,"value":"UserOption"}},{"id":22004,"event":"return","defined_class":"UserOption(user_id: integer, mailing_list_mode: boolean, email_digests: boolean, external_links_in_new_tab: boolean, enable_quoting: boolean, dynamic_favicon: boolean, disable_jump_reply: boolean, automatically_unpin_topics: boolean, digest_after_minutes: integer, auto_track_topics_after_msecs: integer, new_topic_duration_minutes: integer, last_redirected_to_top_at: datetime, email_previous_replies: integer, email_in_reply_to: boolean, like_notification_frequency: integer, mailing_list_mode_frequency: integer, include_tl0_in_digests: boolean, notification_level_when_replying: integer, theme_key_seq: integer, allow_private_messages: boolean, homepage_id: integer, theme_ids: integer, hide_profile_and_presence: boolean, text_size_key: integer, text_size_seq: integer, email_level: integer, email_messages_level: integer, title_count_mode_key: integer, enable_defer: boolean, timezone: string)","method_id":"title_count_modes","path":"app/models/user_option.rb","lineno":34,"static":true,"thread_id":70159167627220,"parent_id":22003,"elapsed":3.0e-06,"return_value":{"class":"Enum","value":"{:notifications=>0, :contextual=>1}","object_id":70159275136340}},{"id":22005,"event":"return","defined_class":"UserOption","method_id":"title_count_mode=","path":"app/models/user_option.rb","lineno":180,"static":false,"thread_id":70159167627220,"parent_id":22002,"elapsed":0.000111,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":22006,"event":"return","defined_class":"UserOption","method_id":"set_defaults","path":"app/models/user_option.rb","lineno":47,"static":false,"thread_id":70159167627220,"parent_id":21997,"elapsed":0.000511,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22007,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"user_options\" (\"user_id\", \"email_digests\", \"digest_after_minutes\", \"auto_track_topics_after_msecs\", \"new_topic_duration_minutes\", \"notification_level_when_replying\") VALUES (17, TRUE, 10080, 240000, 2880, 2) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":22008,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22007,"elapsed":0.000822},{"id":22009,"event":"call","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TrackedTopicsUpdater","object_id":70159186419100,"value":"#<TrackedTopicsUpdater:0x00007f9e6ac4bb38>"}},{"id":22010,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159258459000,"value":"TopicUser"}},{"id":22011,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70159167627220,"parent_id":22010,"elapsed":7.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70159275460680}},{"id":22012,"event":"call","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159258459000,"value":"TopicUser"}},{"id":22013,"event":"return","defined_class":"TopicUser(user_id: integer, topic_id: integer, posted: boolean, last_read_post_number: integer, highest_seen_post_number: integer, last_visited_at: datetime, first_visited_at: datetime, notification_level: integer, notifications_changed_at: datetime, notifications_reason_id: integer, total_msecs_viewed: integer, cleared_pinned_at: datetime, id: integer, last_emailed_post_number: integer, liked: boolean, bookmarked: boolean)","method_id":"notification_levels","path":"app/models/topic_user.rb","lineno":29,"static":true,"thread_id":70159167627220,"parent_id":22012,"elapsed":5.0e-06,"return_value":{"class":"Enum","value":"{:muted=>0, :regular=>1, :tracking=>2, :watching=>3}","object_id":70159275460680}},{"id":22014,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"UPDATE \"topic_users\" SET notification_level = CASE WHEN total_msecs_viewed < 240000 THEN 1 ELSE 2 END WHERE \"topic_users\".\"notifications_reason_id\" IS NULL AND \"topic_users\".\"user_id\" = 17","database_type":"postgres","server_version":110006}},{"id":22015,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22014,"elapsed":0.000967},{"id":22016,"event":"return","defined_class":"TrackedTopicsUpdater","method_id":"call","path":"app/services/tracked_topics_updater.rb","lineno":10,"static":false,"thread_id":70159167627220,"parent_id":22009,"elapsed":0.004292,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":22017,"event":"call","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":22018,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 17 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":22019,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22018,"elapsed":0.001008},{"id":22020,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"user_profiles\" (\"user_id\") VALUES (17) RETURNING \"user_id\"","database_type":"postgres","server_version":110006}},{"id":22021,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22020,"elapsed":0.000878},{"id":22022,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70159274716340,"value":"{:user=>#<UserProfile user_id: 17, location: nil, website: nil, bio_raw: nil, bio_cooked: nil, dismi","kind":"req"}],"receiver":{"class":"Class","object_id":70159272496120,"value":"BadgeGranter"}},{"id":22023,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70159167627220,"parent_id":22022,"elapsed":1.0e-05},{"id":22024,"event":"return","defined_class":"User","method_id":"create_user_profile","path":"app/models/user.rb","lineno":1139,"static":false,"thread_id":70159167627220,"parent_id":22017,"elapsed":0.008471,"return_value":{"class":"UserProfile","value":"#<UserProfile:0x00007f9e750cb550>","object_id":70159272663720}},{"id":22025,"event":"call","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":22026,"event":"return","defined_class":"User","method_id":"set_random_avatar","path":"app/models/user.rb","lineno":1143,"static":false,"thread_id":70159167627220,"parent_id":22025,"elapsed":1.0e-05},{"id":22027,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":22028,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22027,"elapsed":0.00111},{"id":22029,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":22030,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22029,"elapsed":0.000843},{"id":22031,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":22032,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22031,"elapsed":0.000801},{"id":22033,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"tags\".\"id\" FROM \"tags\" WHERE 1=0","database_type":"postgres","server_version":110006}},{"id":22034,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22033,"elapsed":0.000838},{"id":22035,"event":"call","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70159167627220,"parameters":[{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":22036,"event":"call","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":22037,"event":"return","defined_class":"HasCustomFields","method_id":"custom_fields_clean?","path":"app/models/concerns/has_custom_fields.rb","lineno":185,"static":false,"thread_id":70159167627220,"parent_id":22036,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22038,"event":"return","defined_class":"HasCustomFields","method_id":"save_custom_fields","path":"app/models/concerns/has_custom_fields.rb","lineno":204,"static":false,"thread_id":70159167627220,"parent_id":22035,"elapsed":0.000101},{"id":22039,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"user_auth_tokens\".* FROM \"user_auth_tokens\" WHERE \"user_auth_tokens\".\"user_id\" = 17","database_type":"postgres","server_version":110006}},{"id":22040,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22039,"elapsed":0.000877},{"id":22041,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243560180,"value":"Site"}},{"id":22042,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70159167627220,"parent_id":22041,"elapsed":6.2e-05,"return_value":{"class":"Integer","value":"280","object_id":561}},{"id":22043,"event":"call","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70159167627220,"parameters":[{"name":"opts","class":"Hash","object_id":70159183139280,"value":"{:name=>:global_notice}","kind":"opt"}],"receiver":{"class":"StringSettingValidator","object_id":70159258860500,"value":"#<StringSettingValidator:0x00007f9e736777a8>"}},{"id":22044,"event":"return","defined_class":"RegexSettingValidation","method_id":"initialize_regex_opts","path":"lib/validators/regex_setting_validation.rb","lineno":5,"static":false,"thread_id":70159167627220,"parent_id":22043,"elapsed":3.0e-06,"return_value":{"class":"String","value":"site_settings.errors.regex_mismatch","object_id":70159244016500}},{"id":22045,"event":"call","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70159167627220,"parameters":[{"name":"val","class":"String","object_id":70159167458160,"value":"","kind":"req"}],"receiver":{"class":"StringSettingValidator","object_id":70159258860500,"value":"#<StringSettingValidator:0x00007f9e736777a8>"}},{"id":22046,"event":"return","defined_class":"StringSettingValidator","method_id":"valid_value?","path":"lib/validators/string_setting_validator.rb","lineno":12,"static":false,"thread_id":70159167627220,"parent_id":22045,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22047,"event":"call","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159243560180,"value":"Site"}},{"id":22048,"event":"return","defined_class":"Site","method_id":"clear_anon_cache!","path":"app/models/site.rb","lineno":129,"static":true,"thread_id":70159167627220,"parent_id":22047,"elapsed":3.9e-05,"return_value":{"class":"Integer","value":"282","object_id":565}},{"id":22049,"event":"call","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>"}},{"id":22050,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"user_avatars\".* FROM \"user_avatars\" WHERE \"user_avatars\".\"user_id\" = 17 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":22051,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22050,"elapsed":0.000796},{"id":22052,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"user_avatars\" (\"user_id\", \"created_at\", \"updated_at\") VALUES (17, '2020-05-28 18:45:38.175813', '2020-05-28 18:45:38.175813') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":22053,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22052,"elapsed":0.000837},{"id":22054,"event":"return","defined_class":"User","method_id":"refresh_avatar","path":"app/models/user.rb","lineno":1053,"static":false,"thread_id":70159167627220,"parent_id":22049,"elapsed":0.007088},{"id":22055,"event":"call","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Integer","object_id":17,"value":"8","kind":"req"},{"name":"opt","class":"Hash","object_id":70159031414660,"value":"{:user=>#<User id: 17, username: \"anne16\", created_at: \"2020-05-28 18:45:38\", updated_at: \"2020-05-2","kind":"req"}],"receiver":{"class":"Class","object_id":70159272496120,"value":"BadgeGranter"}},{"id":22056,"event":"return","defined_class":"BadgeGranter","method_id":"queue_badge_grant","path":"app/services/badge_granter.rb","lineno":126,"static":true,"thread_id":70159167627220,"parent_id":22055,"elapsed":7.0e-06},{"id":22057,"event":"call","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70159167627220,"parameters":[{"name":"obj","class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>","kind":"req"},{"name":"force","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70159273152320,"value":"SearchIndexer"}},{"id":22058,"event":"return","defined_class":"SearchIndexer","method_id":"index","path":"app/services/search_indexer.rb","lineno":126,"static":true,"thread_id":70159167627220,"parent_id":22057,"elapsed":4.0e-06},{"id":22059,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":22060,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22059,"elapsed":0.00086},{"id":22061,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"},{"name":"object","class":"User","object_id":70159286555880,"value":"#<User:0x00007f9e76b4a9d0>","kind":"req"},{"name":"event","class":"Symbol","object_id":12312348,"value":"user_created","kind":"req"},{"name":"serializer","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159187618820,"value":"WebHook"}},{"id":22062,"event":"call","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":945948,"value":"user","kind":"req"}],"receiver":{"class":"Class","object_id":70159187618820,"value":"WebHook"}},{"id":22063,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"active_web_hooks","path":"app/models/web_hook.rb","lineno":45,"static":true,"thread_id":70159167627220,"parent_id":22062,"elapsed":0.000216,"return_value":{"class":"ActiveRecord::Relation","value":"#<WebHook::ActiveRecord_Relation:0x00007f9e7564e090>","object_id":70159275552840}},{"id":22064,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT 1 AS one FROM \"web_hooks\" INNER JOIN \"web_hook_event_types_hooks\" ON \"web_hook_event_types_hooks\".\"web_hook_id\" = \"web_hooks\".\"id\" INNER JOIN \"web_hook_event_types\" ON \"web_hook_event_types\".\"id\" = \"web_hook_event_types_hooks\".\"web_hook_event_type_id\" WHERE \"web_hooks\".\"active\" = TRUE AND (web_hooks.wildcard_web_hook = TRUE OR web_hook_event_types.name = 'user') LIMIT 1","database_type":"postgres","server_version":110006}},{"id":22065,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22064,"elapsed":0.001168},{"id":22066,"event":"return","defined_class":"WebHook(id: integer, payload_url: string, content_type: integer, last_delivery_status: integer, status: integer, secret: string, wildcard_web_hook: boolean, verify_certificate: boolean, active: boolean, created_at: datetime, updated_at: datetime)","method_id":"enqueue_object_hooks","path":"app/models/web_hook.rb","lineno":60,"static":true,"thread_id":70159167627220,"parent_id":22061,"elapsed":0.004},{"id":22067,"event":"call","defined_class":"ApiKey","method_id":"generate_key","path":"app/models/api_key.rb","lineno":19,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22068,"event":"call","defined_class":"ApiKey","method_id":"key","path":"app/models/api_key.rb","lineno":27,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22069,"event":"call","defined_class":"ApiKey","method_id":"key_available?","path":"app/models/api_key.rb","lineno":32,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22070,"event":"return","defined_class":"ApiKey","method_id":"key_available?","path":"app/models/api_key.rb","lineno":32,"static":false,"thread_id":70159167627220,"parent_id":22069,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22071,"event":"return","defined_class":"ApiKey","method_id":"key","path":"app/models/api_key.rb","lineno":27,"static":false,"thread_id":70159167627220,"parent_id":22068,"elapsed":9.5e-05,"return_value":{"class":"String","value":"3356484b284f852ce96bca354e2ff8f1e739dd05d9c25f4a291558c6f7d23413","object_id":70159030919260}},{"id":22072,"event":"call","defined_class":"ApiKey","method_id":"key","path":"app/models/api_key.rb","lineno":27,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22073,"event":"call","defined_class":"ApiKey","method_id":"key_available?","path":"app/models/api_key.rb","lineno":32,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22074,"event":"return","defined_class":"ApiKey","method_id":"key_available?","path":"app/models/api_key.rb","lineno":32,"static":false,"thread_id":70159167627220,"parent_id":22073,"elapsed":3.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22075,"event":"return","defined_class":"ApiKey","method_id":"key","path":"app/models/api_key.rb","lineno":27,"static":false,"thread_id":70159167627220,"parent_id":22072,"elapsed":8.5e-05,"return_value":{"class":"String","value":"3356484b284f852ce96bca354e2ff8f1e739dd05d9c25f4a291558c6f7d23413","object_id":70159030919260}},{"id":22076,"event":"call","defined_class":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","method_id":"hash_key","path":"app/models/api_key.rb","lineno":60,"static":true,"thread_id":70159167627220,"parameters":[{"name":"key","class":"String","object_id":70159030919260,"value":"3356484b284f852ce96bca354e2ff8f1e739dd05d9c25f4a291558c6f7d23413","kind":"req"}],"receiver":{"class":"Class","object_id":70159191840300,"value":"ApiKey"}},{"id":22077,"event":"return","defined_class":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","method_id":"hash_key","path":"app/models/api_key.rb","lineno":60,"static":true,"thread_id":70159167627220,"parent_id":22076,"elapsed":1.3e-05,"return_value":{"class":"String","value":"5688571876382eb6abc59148d471999f265da7bb310fad3fd47de7acdd57d8f8","object_id":70159030961240}},{"id":22078,"event":"return","defined_class":"ApiKey","method_id":"generate_key","path":"app/models/api_key.rb","lineno":19,"static":false,"thread_id":70159167627220,"parent_id":22067,"elapsed":0.000506,"return_value":{"class":"String","value":"5688571876382eb6abc59148d471999f265da7bb310fad3fd47de7acdd57d8f8","object_id":70159030961240}},{"id":22079,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":22080,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22079,"elapsed":0.000655},{"id":22081,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"INSERT INTO \"api_keys\" (\"created_at\", \"updated_at\", \"key_hash\", \"truncated_key\") VALUES ('2020-05-28 18:45:38.190137', '2020-05-28 18:45:38.190137', '5688571876382eb6abc59148d471999f265da7bb310fad3fd47de7acdd57d8f8', '3356') RETURNING \"id\"","database_type":"postgres","server_version":110006}},{"id":22082,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22081,"elapsed":0.000873},{"id":22083,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_2","database_type":"postgres","server_version":110006}},{"id":22084,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22083,"elapsed":0.000832},{"id":22085,"event":"call","defined_class":"ApiKey","method_id":"key","path":"app/models/api_key.rb","lineno":27,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22086,"event":"call","defined_class":"ApiKey","method_id":"key_available?","path":"app/models/api_key.rb","lineno":32,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159030920820,"value":"#<ApiKey:0x00007f9e583b4ce8>"}},{"id":22087,"event":"return","defined_class":"ApiKey","method_id":"key_available?","path":"app/models/api_key.rb","lineno":32,"static":false,"thread_id":70159167627220,"parent_id":22086,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22088,"event":"return","defined_class":"ApiKey","method_id":"key","path":"app/models/api_key.rb","lineno":27,"static":false,"thread_id":70159167627220,"parent_id":22085,"elapsed":0.000104,"return_value":{"class":"String","value":"3356484b284f852ce96bca354e2ff8f1e739dd05d9c25f4a291558c6f7d23413","object_id":70159030919260}},{"id":22089,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22090,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22089,"elapsed":5.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22091,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22092,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22091,"elapsed":1.1e-05},{"id":22093,"event":"call","defined_class":"AppMap::Rails::ActionHandler::HTTPServerRequest","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":50,"static":false,"thread_id":70159167627220,"http_server_request":{"request_method":"POST","path_info":"/posts.json"},"message":[{"name":"title","class":"String","value":"this is a test title","object_id":70159037575360},{"name":"raw","class":"String","value":"this is test body","object_id":70159037574780},{"name":"category","class":"String","value":"invalid","object_id":70159037574200},{"name":"controller","class":"String","value":"posts","object_id":70159173182140},{"name":"action","class":"String","value":"create","object_id":70159167473840},{"name":"format","class":"String","value":"json","object_id":70159037710160}]},{"id":22094,"event":"call","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22095,"event":"call","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22096,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22097,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22098,"event":"call","defined_class":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","method_id":"hash_key","path":"app/models/api_key.rb","lineno":60,"static":true,"thread_id":70159167627220,"parameters":[{"name":"key","class":"String","object_id":70159030919260,"value":"3356484b284f852ce96bca354e2ff8f1e739dd05d9c25f4a291558c6f7d23413","kind":"req"}],"receiver":{"class":"Class","object_id":70159191840300,"value":"ApiKey"}},{"id":22099,"event":"return","defined_class":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","method_id":"hash_key","path":"app/models/api_key.rb","lineno":60,"static":true,"thread_id":70159167627220,"parent_id":22098,"elapsed":1.0e-05,"return_value":{"class":"String","value":"5688571876382eb6abc59148d471999f265da7bb310fad3fd47de7acdd57d8f8","object_id":70159037718800}},{"id":22100,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"api_keys\".* FROM \"api_keys\" WHERE (revoked_at IS NULL) AND \"api_keys\".\"key_hash\" = '5688571876382eb6abc59148d471999f265da7bb310fad3fd47de7acdd57d8f8' ORDER BY \"api_keys\".\"id\" ASC LIMIT 1","database_type":"postgres","server_version":110006}},{"id":22101,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22100,"elapsed":0.001064},{"id":22102,"event":"call","defined_class":"ApiKey","method_id":"generate_key","path":"app/models/api_key.rb","lineno":19,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"ApiKey","object_id":70159275909680,"value":"#<ApiKey:0x00007f9e756fc460>"}},{"id":22103,"event":"return","defined_class":"ApiKey","method_id":"generate_key","path":"app/models/api_key.rb","lineno":19,"static":false,"thread_id":70159167627220,"parent_id":22102,"elapsed":1.6e-05},{"id":22104,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"username_lower\" = 'anne16' LIMIT 1","database_type":"postgres","server_version":110006}},{"id":22105,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22104,"elapsed":0.000988},{"id":22106,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"UPDATE \"api_keys\" SET \"last_used_at\" = '2020-05-28 18:45:38.208566' WHERE \"api_keys\".\"id\" = 7","database_type":"postgres","server_version":110006}},{"id":22107,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22106,"elapsed":0.000914},{"id":22108,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22109,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parent_id":22108,"elapsed":1.7e-05},{"id":22110,"event":"call","defined_class":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","method_id":"hash_key","path":"app/models/api_key.rb","lineno":60,"static":true,"thread_id":70159167627220,"parameters":[{"name":"key","class":"String","object_id":70159030919260,"value":"3356484b284f852ce96bca354e2ff8f1e739dd05d9c25f4a291558c6f7d23413","kind":"req"}],"receiver":{"class":"Class","object_id":70159191840300,"value":"ApiKey"}},{"id":22111,"event":"return","defined_class":"ApiKey(id: integer, user_id: integer, created_by_id: integer, created_at: datetime, updated_at: datetime, allowed_ips: inet, hidden: boolean, last_used_at: datetime, revoked_at: datetime, description: text, key_hash: string, truncated_key: string)","method_id":"hash_key","path":"app/models/api_key.rb","lineno":60,"static":true,"thread_id":70159167627220,"parent_id":22110,"elapsed":9.0e-06,"return_value":{"class":"String","value":"5688571876382eb6abc59148d471999f265da7bb310fad3fd47de7acdd57d8f8","object_id":70159291813080}},{"id":22112,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22113,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parent_id":22112,"elapsed":5.0e-06},{"id":22114,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22115,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"should_update_last_seen?","path":"lib/auth/default_current_user_provider.rb","lineno":286,"static":false,"thread_id":70159167627220,"parent_id":22114,"elapsed":0.000811},{"id":22116,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22097,"elapsed":0.013733,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22117,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parent_id":22096,"elapsed":0.013849,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f9e7755b618>","object_id":70159291833100}},{"id":22118,"event":"call","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159291833100,"value":"#<Guardian:0x00007f9e7755b618>"}},{"id":22119,"event":"return","defined_class":"Guardian","method_id":"can_enable_safe_mode?","path":"lib/guardian.rb","lineno":149,"static":false,"thread_id":70159167627220,"parent_id":22118,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22120,"event":"return","defined_class":"ApplicationController","method_id":"resolve_safe_mode","path":"app/controllers/application_controller.rb","lineno":377,"static":false,"thread_id":70159167627220,"parent_id":22095,"elapsed":0.014069},{"id":22121,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22122,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22121,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22123,"event":"call","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":136,"static":false,"thread_id":70159167627220,"sql_query":{"sql":"SELECT \"user_options\".* FROM \"user_options\" WHERE \"user_options\".\"user_id\" = 17 LIMIT 1","database_type":"postgres","server_version":110006}},{"id":22124,"event":"return","defined_class":"AppMap::Rails::SQLHandler","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/sql_handler.rb","lineno":138,"static":false,"thread_id":70159167627220,"parent_id":22123,"elapsed":0.000887},{"id":22125,"event":"call","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22126,"event":"return","defined_class":"ApplicationController","method_id":"guardian","path":"app/controllers/application_controller.rb","lineno":423,"static":false,"thread_id":70159167627220,"parent_id":22125,"elapsed":4.0e-06,"return_value":{"class":"Guardian","value":"#<Guardian:0x00007f9e7755b618>","object_id":70159291833100}},{"id":22127,"event":"call","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70159167627220,"parameters":[{"name":"theme_ids","class":"Array","object_id":70159292283660,"value":"[]","kind":"req"},{"name":"include_preview","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Guardian","object_id":70159291833100,"value":"#<Guardian:0x00007f9e7755b618>"}},{"id":22128,"event":"return","defined_class":"Guardian","method_id":"allow_themes?","path":"lib/guardian.rb","lineno":474,"static":false,"thread_id":70159167627220,"parent_id":22127,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22129,"event":"return","defined_class":"ApplicationController","method_id":"handle_theme","path":"app/controllers/application_controller.rb","lineno":388,"static":false,"thread_id":70159167627220,"parent_id":22094,"elapsed":0.0184,"return_value":{"class":"Array","value":"[2]","object_id":70159292283660}},{"id":22130,"event":"call","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22131,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22132,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22131,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22133,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22134,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22133,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22135,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22136,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22135,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22137,"event":"return","defined_class":"ApplicationController","method_id":"set_current_user_for_logs","path":"app/controllers/application_controller.rb","lineno":294,"static":false,"thread_id":70159167627220,"parent_id":22130,"elapsed":0.0003,"return_value":{"class":"String","value":"posts/create","object_id":70159292296920}},{"id":22138,"event":"call","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22139,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22140,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22139,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22141,"event":"return","defined_class":"ApplicationController","method_id":"clear_notifications","path":"app/controllers/application_controller.rb","lineno":302,"static":false,"thread_id":70159167627220,"parent_id":22138,"elapsed":9.6e-05},{"id":22142,"event":"call","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22143,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22144,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22143,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22145,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22146,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22145,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22147,"event":"call","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22148,"event":"return","defined_class":"User","method_id":"effective_locale","path":"app/models/user.rb","lineno":321,"static":false,"thread_id":70159167627220,"parent_id":22147,"elapsed":1.0e-05,"return_value":{"class":"String","value":"en_US","object_id":70159243988380}},{"id":22149,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22150,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22149,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22151,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22152,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22151,"elapsed":8.0e-06},{"id":22153,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22154,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22153,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22155,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22156,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22155,"elapsed":6.0e-06},{"id":22157,"event":"return","defined_class":"ApplicationController","method_id":"set_locale","path":"app/controllers/application_controller.rb","lineno":328,"static":false,"thread_id":70159167627220,"parent_id":22142,"elapsed":0.000618,"return_value":{"class":"Array","value":"[:en_US, :en]","object_id":70159292331080}},{"id":22158,"event":"call","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22159,"event":"return","defined_class":"ApplicationController","method_id":"set_mobile_view","path":"app/controllers/application_controller.rb","lineno":368,"static":false,"thread_id":70159167627220,"parent_id":22158,"elapsed":6.0e-06},{"id":22160,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22161,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22162,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22161,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22163,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":22160,"elapsed":8.7e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22164,"event":"call","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159275280740,"value":"PostsController"}},{"id":22165,"event":"return","defined_class":"ApplicationController","method_id":"requires_login_arg","path":"app/controllers/application_controller.rb","lineno":669,"static":true,"thread_id":70159167627220,"parent_id":22164,"elapsed":3.0e-06,"return_value":{"class":"Hash","value":"{:except=>[:show, :replies, :by_number, :by_date, :short_link, :reply_history, :replyIids, :revision","object_id":70159262607200}},{"id":22166,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22167,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22166,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22168,"event":"call","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22169,"event":"return","defined_class":"ApplicationController","method_id":"preload_json","path":"app/controllers/application_controller.rb","lineno":352,"static":false,"thread_id":70159167627220,"parent_id":22168,"elapsed":7.0e-06},{"id":22170,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22171,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22172,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22171,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22173,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":22170,"elapsed":8.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22174,"event":"call","defined_class":"PostsController","method_id":"create","path":"app/controllers/posts_controller.rb","lineno":164,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22175,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22176,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22177,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22176,"elapsed":2.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22178,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":22175,"elapsed":8.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22179,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22180,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22179,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22181,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22182,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":22181,"elapsed":1.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22183,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22184,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22185,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22184,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22186,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":22183,"elapsed":9.0e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22187,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22188,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22187,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22189,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22190,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22191,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22190,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22192,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"is_api?","path":"lib/auth/default_current_user_provider.rb","lineno":271,"static":false,"thread_id":70159167627220,"parent_id":22189,"elapsed":8.4e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22193,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159037722400,"value":"#<TestCurrentUserProvider:0x00007f9e590ade40>"}},{"id":22194,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"current_user","path":"lib/auth/default_current_user_provider.rb","lineno":61,"static":false,"thread_id":70159167627220,"parent_id":22193,"elapsed":3.0e-06,"return_value":{"class":"User","value":"#<User:0x00007f9e77486e18>","object_id":70159291397900}},{"id":22195,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22196,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":22195,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22197,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22198,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":22197,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22199,"event":"call","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22200,"event":"return","defined_class":"User","method_id":"suspended?","path":"app/models/user.rb","lineno":869,"static":false,"thread_id":70159167627220,"parent_id":22199,"elapsed":5.0e-06},{"id":22201,"event":"call","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70159167627220,"parameters":[{"name":"method","class":"Symbol","object_id":16482548,"value":"ensure_can_create!","kind":"req"},{"name":"args","class":"Class","object_id":70159256704680,"value":"Topic","kind":"rest"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Guardian","object_id":70159292424220,"value":"#<Guardian:0x00007f9e7767c038>"}},{"id":22202,"event":"call","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70159167627220,"parameters":[{"name":"klass","class":"Class","object_id":70159256704680,"value":"Topic","kind":"req"},{"name":"parent","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Guardian","object_id":70159292424220,"value":"#<Guardian:0x00007f9e7767c038>"}},{"id":22203,"event":"call","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159292424220,"value":"#<Guardian:0x00007f9e7767c038>"}},{"id":22204,"event":"return","defined_class":"Guardian","method_id":"authenticated?","path":"lib/guardian.rb","lineno":80,"static":false,"thread_id":70159167627220,"parent_id":22203,"elapsed":4.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22205,"event":"call","defined_class":"TopicGuardian","method_id":"can_create_topic?","path":"lib/guardian/topic_guardian.rb","lineno":38,"static":false,"thread_id":70159167627220,"parameters":[{"name":"parent","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Guardian","object_id":70159292424220,"value":"#<Guardian:0x00007f9e7767c038>"}},{"id":22206,"event":"call","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Guardian","object_id":70159292424220,"value":"#<Guardian:0x00007f9e7767c038>"}},{"id":22207,"event":"call","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"User","object_id":70159291397900,"value":"#<User:0x00007f9e77486e18>"}},{"id":22208,"event":"return","defined_class":"Roleable","method_id":"staff?","path":"app/models/concerns/roleable.rb","lineno":13,"static":false,"thread_id":70159167627220,"parent_id":22207,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22209,"event":"return","defined_class":"Guardian","method_id":"is_staff?","path":"lib/guardian.rb","lineno":88,"static":false,"thread_id":70159167627220,"parent_id":22206,"elapsed":9.2e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22210,"event":"return","defined_class":"TopicGuardian","method_id":"can_create_topic?","path":"lib/guardian/topic_guardian.rb","lineno":38,"static":false,"thread_id":70159167627220,"parent_id":22205,"elapsed":0.000178,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22211,"event":"return","defined_class":"Guardian","method_id":"can_create?","path":"lib/guardian.rb","lineno":129,"static":false,"thread_id":70159167627220,"parent_id":22202,"elapsed":0.00037,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":22212,"event":"return","defined_class":"EnsureMagic","method_id":"method_missing","path":"lib/guardian/ensure_magic.rb","lineno":6,"static":false,"thread_id":70159167627220,"parent_id":22201,"elapsed":0.000469},{"id":22213,"event":"return","defined_class":"PostsController","method_id":"create","path":"app/controllers/posts_controller.rb","lineno":164,"static":false,"thread_id":70159167627220,"parent_id":22174,"elapsed":0.008885,"exceptions":[{"class":"Discourse::InvalidParameters","message":"category","object_id":70159292460780,"path":"/Users/kgilpin/source/appland/discourse/lib/topic_creator.rb","lineno":116}]},{"id":22214,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22215,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22214,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22216,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22217,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22216,"elapsed":8.0e-06},{"id":22218,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":22219,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":22218,"elapsed":3.0e-06},{"id":22220,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":22221,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":22220,"elapsed":3.0e-06},{"id":22222,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22223,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22222,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22224,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22225,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22224,"elapsed":7.0e-06},{"id":22226,"event":"call","defined_class":"ApplicationController","method_id":"rescue_discourse_actions","path":"app/controllers/application_controller.rb","lineno":229,"static":false,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":16414748,"value":"invalid_parameters","kind":"req"},{"name":"status_code","class":"Integer","object_id":801,"value":"400","kind":"req"},{"name":"opts","class":"Hash","object_id":70159240834820,"value":"{:include_ember=>true, :custom_message_translated=>\"You supplied invalid parameters to the request: ","kind":"opt"}],"receiver":{"class":"PostsController","object_id":70159037709360,"value":"#<PostsController:0x00007f9e590a7860>"}},{"id":22227,"event":"return","defined_class":"ApplicationController","method_id":"rescue_discourse_actions","path":"app/controllers/application_controller.rb","lineno":229,"static":false,"thread_id":70159167627220,"parent_id":22226,"elapsed":0.000128,"return_value":{"class":"String","value":"{\"errors\":[\"You supplied invalid parameters to the request: category\"],\"error_type\":\"invalid_paramet","object_id":70159240832760}},{"id":22228,"event":"return","defined_class":"AppMap::Rails::ActionHandler::HTTPServerResponse","method_id":"call","path":"/Users/kgilpin/source/appland/appmap-ruby/lib/appmap/rails/action_handler.rb","lineno":85,"static":false,"thread_id":70159167627220,"parent_id":22093,"elapsed":0.031462,"http_server_response":{"status":400}},{"id":22229,"event":"call","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"TestCurrentUserProvider","object_id":70159240854680,"value":"#<TestCurrentUserProvider:0x00007f9e7141f930>"}},{"id":22230,"event":"return","defined_class":"Auth::DefaultCurrentUserProvider","method_id":"has_auth_cookie?","path":"lib/auth/default_current_user_provider.rb","lineno":281,"static":false,"thread_id":70159167627220,"parent_id":22229,"elapsed":7.0e-06},{"id":22231,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":13079068,"value":"http_total","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159174700360,"value":"ApplicationRequest"}},{"id":22232,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":22231,"elapsed":5.0e-06},{"id":22233,"event":"call","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parameters":[{"name":"type","class":"Symbol","object_id":13080348,"value":"http_4xx","kind":"req"},{"name":"opts","class":"NilClass","object_id":8,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":70159174700360,"value":"ApplicationRequest"}},{"id":22234,"event":"return","defined_class":"ApplicationRequest(id: integer, date: date, req_type: integer, count: integer)","method_id":"increment!","path":"app/models/application_request.rb","lineno":26,"static":true,"thread_id":70159167627220,"parent_id":22233,"elapsed":3.0e-06},{"id":22235,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22236,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22235,"elapsed":4.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22237,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22238,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22237,"elapsed":8.0e-06},{"id":22239,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":22240,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":22239,"elapsed":3.0e-06},{"id":22241,"event":"call","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parameters":[],"receiver":{"class":"Class","object_id":70159181208360,"value":"GlobalSetting"}},{"id":22242,"event":"return","defined_class":"GlobalSetting","method_id":"skip_db?","path":"app/models/global_setting.rb","lineno":84,"static":true,"thread_id":70159167627220,"parent_id":22241,"elapsed":2.0e-06},{"id":22243,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":70159244008860,"value":"en_US","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22244,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22243,"elapsed":3.0e-06,"return_value":{"class":"Symbol","value":"en","object_id":3969628}},{"id":22245,"event":"call","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parameters":[{"name":"locale","class":"Symbol","object_id":3969628,"value":"en","kind":"req"}],"receiver":{"class":"Class","object_id":70159240171780,"value":"LocaleSiteSetting"}},{"id":22246,"event":"return","defined_class":"LocaleSiteSetting","method_id":"fallback_locale","path":"app/models/locale_site_setting.rb","lineno":62,"static":true,"thread_id":70159167627220,"parent_id":22245,"elapsed":6.0e-06}]}